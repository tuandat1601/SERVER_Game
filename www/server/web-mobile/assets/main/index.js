System.register("chunks:///_virtual/AbyssDemonRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameConfig.ts","./SingletonModuleComp.ts","./ItemsGroup.ts"],(function(e){"use strict";var t,n,i,r,l,o,a,s,b,u,c,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,s=e.ProgressBar,b=e.Node,u=e.Component},function(e){c=e.TableGameConfig},function(e){p=e.smc},function(e){d=e.ItemsGroup}],execute:function(){var m,h,v,f,g,y,_,w,B,R,D,z,A,G,I,N,C;l._RF.push({},"4ee01NlDslOSJEBT0Hz+rhw","AbyssDemonRewardItem",void 0);var L=o.ccclass,P=o.property;e("AbyssDemonRewardItem",(m=L("AbyssDemonRewardItem"),h=P(a),v=P(s),f=P(a),g=P(b),y=P(b),_=P(a),w=P(a),m((D=t((R=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"lbldesc",D,r(t)),i(t,"progBar",z,r(t)),i(t,"lblProg",A,r(t)),i(t,"nodeReward",G,r(t)),i(t,"btnGet",I,r(t)),i(t,"lblBtn",N,r(t)),i(t,"lblBtn1",C,r(t)),t._onRecv=null,t.level=void 0,t}n(t,e);var l=t.prototype;return l.initView=function(e,t){this.level=Number(e),this.lbldesc.string="通过第"+(e-c.demon_abyss_init_levels+1)+"层魔渊";var n=p.accountData.subinfo.demonAbyss.da_levels,i=this.proBarLength(Number(e)),r=0==n?0:n-c.demon_abyss_init_levels+1;return this.lblProg.string=r+"/"+i,this.progBar.progress=Math.min(1,r/i),this.nodeReward.addComponent(d).init(t.drop1),this.refresh(),this},l.refresh=function(){var e=p.accountData.subinfo.demonAbyss.da_levels;Number(e)<Number(this.level)?(this.btnGet.active=!1,this.lblBtn1.node.active=!0,this.lblBtn1.string="未完成"):(this.btnGet.active=!0,this.lblBtn1.node.active=!1,p.accountData.subinfo.demonAbyss.da_awards_tag>=this.level?(this.btnGet.active=!1,this.lblBtn1.node.active=!0,this.lblBtn1.string="已领取"):this.btnGet.active=!0)},l.proBarLength=function(e){return e-c.demon_abyss_init_levels+1},l.getFirstBarLength=function(){var e=p.demon.demonAbyssAwardTable;for(var t in e)return Number(t)},l.onRecv=function(e){this._onRecv=e},l.onClickRev=function(){this._onRecv()},t}(u)).prototype,"lbldesc",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(R.prototype,"progBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(R.prototype,"lblProg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(R.prototype,"nodeReward",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(R.prototype,"btnGet",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(R.prototype,"lblBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(R.prototype,"lblBtn1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=R))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameLevels.ts","./TableGameMonster.ts","./TableModelConfig.ts","./TableUtil.ts","./Level.ts","./RoleLoader.ts","./AbyssDragonDamageItem.ts"],(function(e){"use strict";var n,t,a,r,o,i,s,l,c,u,f,g,d,m,b,p,h,D,v,y,C,w,A,I,M,T,R,_,L;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Label,u=e.Node,f=e.Prefab,g=e.instantiate,d=e.Component},function(e){m=e.oops},function(e){b=e.GameEvent},function(e){p=e.UIID,h=e.DialogAnimation},function(e){D=e.tips},function(e){v=e.httpChannel},function(e){y=e.MsgID},function(e){C=e.smc},function(e){w=e.TableGameConfig},function(e){A=e.TableGameLevels},function(e){I=e.TableGameMonster},function(e){M=e.TableModelConfig},function(e){T=e.TableUtil},function(e){R=e.LevelAbyssDragon},function(e){_=e.RoleLoader},function(e){L=e.AbyssDragonDamageItem}],execute:function(){var k,G,x,E,z,B,P,F,S,j,N;s._RF.push({},"06c48nlkYlMvKjwhRo8rXYj","AbyssDragon",void 0);var U=l.ccclass,q=l.property;e("AbyssDragon",(k=U("AbyssDragon"),G=q(c),x=q(u),E=q(f),z=q(_),k((F=n((P=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,a(n,"lblDamage",F,r(n)),a(n,"damageContent",S,r(n)),a(n,"pfbDamage",j,r(n)),a(n,"nodeMonster",N,r(n)),n}t(n,e);var s=n.prototype;return s.start=function(){this.initView(),this.refreshDamage();var e=T.get(A,w.abyss_dragon_levels),n=T.get(I,Number(e.monster[0][0])),t=T.get(M,n.model_id);this.nodeMonster.load(t),this.nodeMonster.setScale(t.model_scale*T.BPS)},s.initView=function(){var e=this;this.damageContent.removeAllChildren(),Object.keys(C.dragon.tableDamage).forEach((function(n){g(e.pfbDamage).parent=e.damageContent})),this.damageContent.getComponentsInChildren(L).forEach((function(n,t){n.initView(C.dragon.tableDamage[t]).onRecv(e.reqRev.bind(e))}))},s.refreshDamage=function(){var e;this.lblDamage.string=""+(null==(e=C.fuben.reDayInfo)?void 0:e.ad_damage)||"今日暂未攻击",this.refreshList()},s.refreshList=function(){this.damageContent.getComponentsInChildren(L).forEach((function(e){return e.refresh()}))},s.reqRev=function(){var e=o(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.reqAsync(y.FightADAward,{});case 2:if(null!=(n=e.sent)&&n.ok){e.next=5;break}return e.abrupt("return");case 5:C.fuben.reDayInfo.ad_awardTag=n.ad_awardTag,C.account.doResChange(n),D.reward(n),this.refreshList(),m.message.dispatchEvent(b.FubenAbyssDragonRed);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickBattle=function(){var e=o(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new R,e.next=3,C.battle.createAndPlay(n);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return C.account.doResChange(C.battle.fightInfo),(t=C.battle.fightInfo).damage>C.fuben.reDayInfo.ad_damage&&(C.fuben.reDayInfo.ad_damage=t.damage),e.next=10,m.gui.openModal(p.ADSettlement,{damage:t.damage},h);case 10:C.battle.clear(),m.gui.remove(p.Battle,!0),this.refreshDamage(),m.message.dispatchEvent(b.FubenAbyssDragonRed);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickBack=function(){m.gui.removeByNode(this.node,!0)},n}(d)).prototype,"lblDamage",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(P.prototype,"damageContent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(P.prototype,"pfbDamage",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(P.prototype,"nodeMonster",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=P))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssDragonDamageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemsGroup.ts","./SingletonModuleComp.ts","./Fuben.ts","./Util.ts"],(function(t){"use strict";var e,n,i,s,a,o,r,l,u,c,b,p,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,r=t.Label,l=t.Node,u=t.Button,c=t.Component},function(t){b=t.ItemsGroup},function(t){p=t.smc},function(t){d=t.RecvStatus},function(t){f=t.Util}],execute:function(){var h,m,g,D,v,y,I,R,_,G,L;a._RF.push({},"bfee1oLYrtHX6qpp6FF7LG3","AbyssDragonDamageItem",void 0);var w=o.ccclass,z=o.property;t("AbyssDragonDamageItem",(h=w("AbyssDragonDamageItem"),m=z(r),g=z(l),D=z(u),v=z(r),h((R=e((I=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"lblDesp",R,s(e)),i(e,"nodeItemsList",_,s(e)),i(e,"btnGet",G,s(e)),i(e,"lblbtnDesp",L,s(e)),e.damageInfo=void 0,e.status=void 0,e._onRecv=null,e}n(e,t);var a=e.prototype;return a.start=function(){},a.initView=function(t){return this.damageInfo=t,this.lblDesp.string="伤害达到 "+t.id+" ",this.nodeItemsList.addComponent(b).init(t.drop1),this.refresh(),this},a.refresh=function(){this.btnGet.node.active=!1,this.lblbtnDesp.node.active=!1,p.fuben.reDayInfo.ad_damage>=Number(this.damageInfo.id)&&p.fuben.reDayInfo.ad_awardTag<Number(this.damageInfo.id)?(this.btnGet.node.active=!0,this.status=d.CanRecv,f.setRedot(this.btnGet,!0)):(f.setRedot(this.btnGet,!1),this.lblbtnDesp.node.active=!0,p.fuben.reDayInfo.ad_damage<Number(this.damageInfo.id)?(this.lblbtnDesp.string="未达成",this.status=d.Lock):(this.status=d.Recvd,this.lblbtnDesp.string="已领取"))},a.onRecv=function(t){this._onRecv=t},a.onClickRev=function(){switch(this.status){case d.CanRecv:this._onRecv()}},e}(c)).prototype,"lblDesp",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(I.prototype,"nodeItemsList",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(I.prototype,"btnGet",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(I.prototype,"lblbtnDesp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=I))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssDragonRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./HttpChannelManager.ts","./NetProtocol.ts","./RankPlayInfoItem.ts","./SingletonModuleComp.ts"],(function(n){"use strict";var t,e,a,i,r,o,c,s,l,u,f,p,h,m,g,k;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){c=n.cclegacy,s=n._decorator,l=n.Node,u=n.instantiate,f=n.Component},function(n){p=n.oops},function(n){h=n.httpChannel},function(n){m=n.MsgID},function(n){g=n.RankPlayInfoItem},function(n){k=n.smc}],execute:function(){var b,y,d,v,I,C,R,D,w;c._RF.push({},"58c6cHCQN1CLJZ9gt94CS1h","AbyssDragonRank",void 0);var A=s.ccclass,S=s.property;n("AbyssDragonRank",(b=A("AbyssDragonRank"),y=S(l),d=S(l),v=S(l),b((R=t((C=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r))||this,a(t,"rankContent",R,i(t)),a(t,"pfbRankItem",D,i(t)),a(t,"pfbRankSelfItem",w,i(t)),t}e(t,n);var c=t.prototype;return c.start=function(){this.getUIData()},c.initView=function(n){for(var t in this.rankContent.removeAllChildren(),n){var e=u(this.pfbRankItem);e.setPosition(0,0),e.parent=this.rankContent,e.getComponent(g).initView(n[t])}},c.initSelfItem=function(n){var t=this.pfbRankSelfItem.getComponent(g);if(t){var e,a=k.accountData.id,i=null;if(Object.entries(n).forEach((function(n,t){a==n[0]&&(i=n[1])})),!i)i={info:{r:0,n:k.accountData.name,f:k.accdata.getZhanli()},val:null==(e=k.fuben.reDayInfo)?void 0:e.ad_damage,roleid:k.accountData.id};t.getComponent(g).initView(i)}},c.getUIData=function(){var n=r(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.reqAsync(m.FightADRank,{});case 2:if(null!=(t=n.sent)&&t.ok){n.next=5;break}return n.abrupt("return");case 5:this.initView(t.rank),this.initSelfItem(t.rank);case 7:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.onClickBack=function(){p.gui.removeByNode(this.node,!0)},t}(f)).prototype,"rankContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(C.prototype,"pfbRankItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(C.prototype,"pfbRankSelfItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=C))||I));c._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssDragonReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./RankRewardItem.ts","./Oops.ts","./TableAbyssDragonRankAward.ts"],(function(e){"use strict";var t,n,r,o,a,i,s,l,c,u,d,p,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,s=e.Node,l=e.Prefab,c=e.instantiate,u=e.Component},function(e){d=e.JsonUtil},function(e){p=e.RankRewardItem},function(e){f=e.oops},function(e){b=e.TableAbyssDragonRankAward}],execute:function(){var y,R,g,w,h,m,v;a._RF.push({},"64fe0Qcx+NNYIDrz9HTS5RJ","AbyssDragonReward",void 0);var A=i.ccclass,D=i.property;e("AbyssDragonReward",(y=A("AbyssDragonReward"),R=D(s),g=D(l),y((m=t((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"nodeContentList",m,o(t)),r(t,"prefabRewardItem",v,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.nodeContentList.removeAllChildren();var e=d.get(b.TableName);for(var t in e){var n=c(this.prefabRewardItem);if(!n)return;this.nodeContentList.addChild(n),n.getComponent(p).initView(e[t])}},a.onClickBack=function(){f.gui.removeByNode(this.node,!0)},t}(u)).prototype,"nodeContentList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(h.prototype,"prefabRewardItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=h))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssFightBuy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./HttpChannelManager.ts","./TipsManager.ts","./lodash.ts"],(function(e){"use strict";var t,n,r,o,s,i,a,l,u,c,b,p,y,f,h,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,u=e.Label,c=e.Component},function(e){b=e.oops},function(e){p=e.MsgID},function(e){y=e.smc},function(e){f=e.TableGameConfig},function(e){h=e.httpChannel},function(e){d=e.tips},function(e){m=e.lodash}],execute:function(){var g,_,v,D,B,C,I,w,k;a._RF.push({},"cbbb3B4ihdPW5Uikl1H69Cl","AbyssFightBuy",void 0);var A=l.ccclass,F=l.property;e("AbyssFightBuy",(g=A("AbyssFightBuy"),_=F(u),v=F(u),D=F(u),g((I=t((C=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t=e.call.apply(e,[this].concat(s))||this,r(t,"lblDesc",I,o(t)),r(t,"lblleft",w,o(t)),r(t,"lblNum",k,o(t)),t.dropID=1034,t.itemId=f.moneyId_diamond,t}n(t,e);var a=t.prototype;return a.start=function(){this.refresh()},a.refresh=function(){var e=y.fuben.reDayInfo.da_buytag||0;e=e>=f.demon_abyss_shop.length?f.demon_abyss_shop.length-1:e;var t=f.demon_abyss_shop[e],n=m.cloneDeep(f.demon_abyss_daiy_awards),r=f.demon_abyss_daiy_addnum,o=y.demon.demonAbyssLevel-f.demon_abyss_init_levels+1,s=Math.floor(o/r.levels);if(s>=1)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(n[i]+=r.add*s);var a=n[this.dropID]||0;this.lblDesc.string="征收立即获得"+a+"光环收益",this.lblleft.string="今日剩余："+y.demon.haloLeftTimes+"/"+f.demon_abyss_shop.length,this.lblNum.string="x"+t[this.itemId]},a.onClickBuy=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,h.reqAsync(p.DemonAbyssDailyBuyItem,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:y.fuben.reDayInfo.da_buytag=n.da_buytag,y.account.doResChange(n),d.reward(n),this.refresh(),b.gui.toast(n.msg);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClickBack=function(){b.gui.removeByNode(this.node,!0)},t}(c)).prototype,"lblDesc",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(C.prototype,"lblleft",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"lblNum",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=C))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssFightMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./GameEvent.ts","./GameEnum.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,n,i,a,o,r,s,l,c,d,u,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Node,l=e.Toggle,c=e.Component},function(e){d=e.oops},function(e){u=e.smc},function(e){p=e.GameEvent},function(e){f=e.EGameRankType},function(e){h=e.UIID}],execute:function(){var g,b,m,R,y,v,w,C,I,k,T,x,z,G,B;o._RF.push({},"46b5fnuCYRGNr/CC+GLpttG","AbyssFightMain",void 0);var F=r.ccclass,M=r.property;e("AbyssFightMain",(g=F("AbyssFightMain"),b=M(s),m=M(s),R=M(s),y=M(s),v=M(s),w=M(l),g((k=t((I=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"pfbTaofa",k,a(t)),i(t,"pfbReward",T,a(t)),i(t,"pfRankReward",x,a(t)),i(t,"spRedTaofa",z,a(t)),i(t,"spRedReward",G,a(t)),i(t,"tglContent",B,a(t)),t.selectedIndex=0,t}n(t,e);var o=t.prototype;return o.start=function(){this.freshRed(),d.message.on(p.ItemBagUpdated,this._eventHandler,this)},o.onDestroy=function(){d.message.off(p.ItemBagUpdated,this._eventHandler,this)},o.freshRed=function(){this.spRedTaofa.active=u.demon.redTaofa,this.spRedReward.active=u.demon.redReward},o.onClickToggle=function(e,t){this.selectedIndex=t,this.setPageView()},o.setPageView=function(){for(var e in this.pfbTaofa.active=0==Number(this.selectedIndex),this.pfbReward.active=2==Number(this.selectedIndex),this.tglContent)this.tglContent[e].isChecked=this.selectedIndex==Number(e)},o.onClickRank=function(e,t){var n={type:f.DEMONABYSS};d.gui.open(h.FightRank,n)},o._eventHandler=function(e,t){this.node.active&&e==p.ItemBagUpdated&&this.freshRed()},o.onClickBack=function(){2==this.selectedIndex?(this.selectedIndex=0,this.setPageView()):d.gui.removeByNode(this.node,!0)},t}(c)).prototype,"pfbTaofa",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"pfbReward",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(I.prototype,"pfRankReward",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(I.prototype,"spRedTaofa",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(I.prototype,"spRedReward",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(I.prototype,"tglContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=I))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssFightRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameConst.ts","./GameEnum.ts"],(function(t){"use strict";var e,i,r,n,o,a,s,l,c,u,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.Label,c=t.Component},function(t){u=t.oops},function(t){p=t.EGameRankTypeName},function(t){h=t.EGameRankType}],execute:function(){var b,f,y,m,v,d,g,R,w;o._RF.push({},"ac12bqvVA9PrrQKJ719K9YM","AbyssFightRank",void 0);var k=a.ccclass,L=a.property;t("AbyssFightRank",(b=k("AbyssFightRank"),f=L(s),y=L(s),m=L(l),b((g=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"rootLevel",g,n(e)),r(e,"rootReward",R,n(e)),r(e,"lbl_title",w,n(e)),e.params=null,e}i(e,t);var o=e.prototype;return o.onAdded=function(t){this.params=t},o.start=function(){var t=p[this.params.type]?p[this.params.type]:p[h.LEVEL];this.lbl_title.string=t,this.initView()},o.initView=function(){this.rootLevel.active=!0,this.rootReward.active=!1},o.getParam=function(){return this.params},o.onClickTab=function(t,e){this.rootLevel.active=0==parseInt(e),this.rootReward.active=1==parseInt(e)},o.onClickClose=function(){u.gui.removeByNode(this.node,!0)},e}(c)).prototype,"rootLevel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(d.prototype,"rootReward",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(d.prototype,"lbl_title",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=d))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssFightRankLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./RankPlayInfoItem.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,l,u,c,p,f,h,y,b,g,m,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Prefab,p=e.Label,f=e.instantiate,h=e.Component},function(e){y=e.EGameRankType},function(e){b=e.httpChannel},function(e){g=e.MsgID},function(e){m=e.smc},function(e){k=e.RankPlayInfoItem}],execute:function(){var d,R,v,I,L,T,C,w,F,P,A,D,z;s._RF.push({},"93b8bTpkQBAO5kj3+t0wBSU","AbyssFightRankLevel",void 0);var S=l.ccclass,E=l.property;e("AbyssFightRankLevel",(d=S("AbyssFightRankLevel"),R=E(u),v=E(u),I=E(u),L=E(c),T=E(p),d((F=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"playerInfoList",F,r(t)),i(t,"nodeContentList",P,r(t)),i(t,"nodeSelfInfo",A,r(t)),i(t,"prefabPlayerInfoItem",D,r(t)),i(t,"lblTime",z,r(t)),t.abyssFightRank=null,t}n(t,e);var s=t.prototype;return s.start=function(){this.abyssFightRank=this.node.parent.getComponent("AbyssFightRank"),this.getUIData()},s.getRankType=function(){return this.abyssFightRank?this.abyssFightRank.getParam().type:y.LEVEL},s.getUIData=function(){var e=a(o().mark((function e(){var t,n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:this.getRankType()},e.next=3,b.reqAsync(g.FightRank,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:i=Object.values(n.ranklist).sort((function(e,t){return e.info.r-t.info.r})),r={info:{r:n.rank||0,n:m.accountData.name},val:n.val||0,roleid:m.accountData.id},this.initView(i,r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initView=function(e,t){for(var n in this.nodeContentList.removeAllChildren(),e)if(Number(e[n].info.r)<=this.playerInfoList.length)this.playerInfoList[n].getComponent(k).initView(e[n],this.getRankType());else{var i=f(this.prefabPlayerInfoItem);if(!i)return;this.nodeContentList.addChild(i),i.getComponent(k).initView(e[n],this.getRankType())}var r=this.nodeSelfInfo.getComponent(k);r&&(r.getComponent(k).initView(t,this.getRankType()),this.lblTime&&this.lblTime.node&&(this.lblTime.node.active=this.getRankType()==y.WRESTLE))},t}(h)).prototype,"playerInfoList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(w.prototype,"nodeContentList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(w.prototype,"nodeSelfInfo",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(w.prototype,"prefabPlayerInfoItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"lblTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=w))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssFightReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./AbyssDemonRewardItem.ts","./HttpChannelManager.ts","./NetProtocol.ts","./TipsManager.ts","./GameEvent.ts","./Oops.ts"],(function(e){"use strict";var t,n,r,o,i,s,a,c,u,p,d,l,f,h,m,b,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,u=e.Node,p=e.instantiate,d=e.Component},function(e){l=e.smc},function(e){f=e.AbyssDemonRewardItem},function(e){h=e.httpChannel},function(e){m=e.MsgID},function(e){b=e.tips},function(e){y=e.GameEvent},function(e){w=e.oops}],execute:function(){var g,v,R,A,C,I,D;a._RF.push({},"817f5ifsb1HUpVyOmOWTpOA","AbyssFightReward",void 0);var _=c.ccclass,F=c.property;e("AbyssFightReward",(g=_("AbyssFightReward"),v=F(u),R=F(u),g((I=t((C=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"nodeContent",I,o(t)),r(t,"pfbRewardItem",D,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.initView()},a.initView=function(){var e=this,t=l.demon.demonAbyssAwardTable;this.nodeContent.removeAllChildren(),Object.keys(t).forEach((function(t){p(e.pfbRewardItem).parent=e.nodeContent}));var n=0;for(var r in t){this.nodeContent.children[n].getComponent(f).initView(r,t[r]).onRecv(this.reqRev.bind(this)),n++}},a.refreshList=function(){this.nodeContent.getComponentsInChildren(f).forEach((function(e){return e.refresh()}))},a.reqRev=function(){var e=i(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.reqAsync(m.DemonAbyssGetAwards,{});case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:l.demon.demonAbyssInfo.da_awards_tag=t.da_awards_tag,l.account.doResChange(t),b.reward(t),this.refreshList(),w.message.dispatchEvent(y.DemonAbyssRed);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(d)).prototype,"nodeContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(C.prototype,"pfbRewardItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=C))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/AbyssFightTaofa.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./ItemsGroup.ts","./TipsManager.ts","./lodash.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameLevels.ts","./TableGameMonster.ts","./TableModelConfig.ts","./TableUtil.ts","./Level.ts","./RoleLoader.ts","./Demon.ts"],(function(e){"use strict";var t,n,o,a,s,i,r,l,d,u,c,b,m,f,p,h,g,y,v,_,I,D,w,A,C,L,T,B,M,G,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,l=e._decorator,d=e.Label,u=e.Node,c=e.Button,b=e.Component},function(e){m=e.oops},function(e){f=e.ViewUtil},function(e){p=e.GameEvent},function(e){h=e.UIID,g=e.DialogAnimation},function(e){y=e.ItemsGroup},function(e){v=e.tips},function(e){_=e.lodash},function(e){I=e.httpChannel},function(e){D=e.MsgID},function(e){w=e.smc},function(e){A=e.TableGameConfig},function(e){C=e.TableGameLevels},function(e){L=e.TableGameMonster},function(e){T=e.TableModelConfig},function(e){B=e.TableUtil},function(e){M=e.LevelDemonAbyss},function(e){G=e.RoleLoader},function(e){N=e.DemonTicket}],execute:function(){var R,x,z,k,O,F,U,S,H,E,P,V,j,W,q,K,Z,J,Q,X,Y,$,ee,te,ne;r._RF.push({},"38595GdUD5Ek7ZPDaf3ViEK","AbyssFightTaofa",void 0);var oe=l.ccclass,ae=l.property;e("AbyssFightTaofa",(R=oe("AbyssFightTaofa"),x=ae(d),z=ae(d),k=ae(G),O=ae(u),F=ae(d),U=ae(d),S=ae(u),H=ae(d),E=ae(u),P=ae(u),V=ae(u),R((q=t((W=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t=e.call.apply(e,[this].concat(s))||this,o(t,"lblItemNum_csz",q,a(t)),o(t,"lblLevel",K,a(t)),o(t,"nodeMonster",Z,a(t)),o(t,"nodeRewardContent",J,a(t)),o(t,"lbldesc",Q,a(t)),o(t,"lblItemNum_sp",X,a(t)),o(t,"btnOp",Y,a(t)),o(t,"lblOp",$,a(t)),o(t,"nodeRed",ee,a(t)),o(t,"btnNodeFree",te,a(t)),o(t,"btnNodeCost",ne,a(t)),t.ID=1032,t.dropID=1034,t.cfg=new C,t}n(t,e);var r=t.prototype;return r.start=function(){this.refresh(),this.refreshBtn(),m.message.on(p.ItemBagUpdated,this._eventHandler,this)},r.onDestroy=function(){m.message.off(p.ItemBagUpdated,this._eventHandler,this)},r.refresh=function(){this.lblItemNum_csz.string=w.accountData.getItemCount(this.ID).toString(),this.lblLevel.string=0==w.demon.demonAbyssInfo.da_levels?"0":w.demon.demonAbyssInfo.da_levels-A.demon_abyss_init_levels+1+"",this.cfg.init(w.demon.demonAbyssLevel);var e=B.get(C,w.demon.demonAbyssLevel),t=B.get(L,Number(e.monster[Math.floor(e.monster.length/2)][0])),n=B.get(T,t.model_id);this.nodeMonster.load(n),this.nodeMonster.setScale(n.model_scale*B.BPS),this.nodeRewardContent.addComponent(y).init(this.cfg.drop),this.lbldesc.string=this.cfg.nextid>0?"通关"+10*Math.ceil((w.demon.demonAbyssLevel-A.demon_abyss_init_levels+10)/10)+"层后魔石碎片奖励提升":"";var o=w.accountData.subinfo.demonAbyss.da_fight_lost&&0==w.accountData.subinfo.demonAbyss.da_pos;this.btnNodeFree.active=!o,this.btnNodeCost.active=o},r.updateAwardItemNum=function(){var e=_.cloneDeep(A.demon_abyss_daiy_awards),t=A.demon_abyss_daiy_addnum,n=w.demon.demonAbyssLevel-A.demon_abyss_init_levels+1,o=Math.floor(n/t.levels);if(o>=1)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(e[a]+=t.add*o);var s=e[this.dropID]||0;this.lblItemNum_sp.string=s+"/天"},r.refreshBtn=function(){this.nodeRed.active=!1,this.initHaloNum(),this.updateAwardItemNum(),0==w.accountData.subinfo.demonAbyss.da_levels?(f.setGray(this.btnOp,!0),this.btnOp.getComponent(c).interactable=!1):(f.setGray(this.btnOp,!1),this.btnOp.getComponent(c).interactable=!0,0==w.fuben.reDayInfo.da_awards?(this.lblOp.string="领 取",this.nodeRed.active=!0):(this.lblOp.string="征 收",0==w.demon.haloLeftTimes&&(f.setGray(this.btnOp,!0),this.btnOp.getComponent(c).interactable=!1)))},r.initHaloNum=function(){if(0==w.fuben.reDayInfo.da_awards);else{var e=A.demon_store_halo[0];e=w.demon.haloLeftTimes>0?A.demon_store_halo[A.demon_store_halo.length-w.demon.haloLeftTimes]:A.demon_store_halo[A.demon_store_halo.length-1];var t=B.getGoodsByID(e);B.getDropItems(t.drop[0]),Math.floor((w.demon.demonAbyssLevel-A.demon_abyss_init_levels)/10)}},r.onClickBattle=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new M(w.demon.nextEliteLevel),e.next=3,w.battle.createAndPlay(t);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(w.account.doResChange(w.battle.fightInfo),!w.battle.isWin()){e.next=17;break}return n=w.battle.fightInfo,w.demon.demonAbyssInfo.da_levels=n.newlevels||w.demon.demonAbyssInfo.da_levels,w.accountData.subinfo.demonAbyss.da_levels=w.demon.demonAbyssInfo.da_levels,e.next=13,m.gui.openModal(h.Win,w.battle.fightInfo,g);case 13:w.demon.calRedot(),m.message.dispatchEvent(p.DemonAbyssRed),e.next=20;break;case 17:return e.next=19,m.gui.openModal(h.Lose,w.battle.level.ty,g);case 19:w.accountData.subinfo.demonAbyss.da_fight_lost=!0;case 20:w.battle.clear(),m.gui.remove(h.Battle,!0),this.refresh(),this.refreshBtn();case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onClickBuyHalo=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=w.fuben.reDayInfo.da_awards){e.next=14;break}return e.next=3,I.reqAsync(D.DemonAbyssDailyAwards,{});case 3:if(null!=(t=e.sent)&&t.ok){e.next=6;break}return e.abrupt("return");case 6:w.account.doResChange(t),v.reward(t),w.fuben.reDayInfo.da_awards=t.da_awards,m.gui.toast(t.msg),this.refreshBtn(),m.message.dispatchEvent(p.DemonAbyssRed),e.next=16;break;case 14:return e.next=16,m.gui.openModal(h.DemonBuy);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onClickBuyItem=function(){var e={ShopFreeAD:N.ShopIdFreeGoods,ShopBuy:N.ShopIdBuyGoods};m.gui.open(h.TipDuobaoBuyDice,e,g)},r._eventHandler=function(e,t){this.node.active&&e==p.ItemBagUpdated&&(this.refresh(),this.refreshBtn())},t}(b)).prototype,"lblItemNum_csz",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(W.prototype,"lblLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(W.prototype,"nodeMonster",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(W.prototype,"nodeRewardContent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(W.prototype,"lbldesc",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(W.prototype,"lblItemNum_sp",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(W.prototype,"btnOp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(W.prototype,"lblOp",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(W.prototype,"nodeRed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(W.prototype,"btnNodeFree",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(W.prototype,"btnNodeCost",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=W))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/Account.ts",["cc","./Oops.ts","./GameEvent.ts","./HttpChannelManager.ts","./NetProtocol.ts","./PlatformSDK.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./AccountData.ts"],(function(e){"use strict";var t,a,s,n,i,o,d,r,l,m,u;return{setters:[function(e){t=e.cclegacy},function(e){a=e.oops},function(e){s=e.GameEvent},function(e){n=e.httpChannel},function(e){i=e.MsgID},function(e){o=e.PlatformSDK,d=e.SubmitTypes},function(e){r=e.smc},function(e){l=e.GameSysKey,m=e.TableGameSys},function(e){u=e.AccountData}],execute:function(){t._RF.push({},"31a48mqWd5NBp2v4HUxvwxV","Account",void 0);var y=e("Account",function(){function e(){this.data=null,this.sltRole=null,this.sltSkillIdx=null,this.sltEquipPos=null}var t=e.prototype;return t.login=function(e){n.req(i.Login,e,this.onLoginHttpResp.bind(this),(function(e){a.message.dispatchEvent(s.LoginError)}))},t.loginAuth=function(e){n.req(i.LoginAuth,e,this.onLoginHttpResp.bind(this),(function(e){a.message.dispatchEvent(s.LoginError)}))},t.logout=function(){this.data=null,r.system.onLogout()},t.isLogin=function(){return null!=this.data},t.onLoginHttpResp=function(e){if(0===e.code){var t=e.data;null!=t&&t.ok?(this.data=new u(e.data),a.storage.setUser(this.data.id),n.setAuthorization(this.data.token),r.system.onLogin(),this.data.info.isCreateRole&&o.doSubmit(d.CreateRole),a.message.dispatchEvent(s.LoginSuccess)):a.message.dispatchEvent(s.LoginError,"登录失败("+t.msg+")")}else a.message.dispatchEvent(s.LoginError,"登录失败("+e.message+")")},t.doResChange=function(e){e&&(e.addEquip&&this.data.addEquipsInBag(e.addEquip),e.decEquip&&this.data.removeEquipInBag(e.decEquip),e.additem&&this.data.addItems(e.additem),e.decitem&&this.data.removeItems(e.decitem),e.newitem&&(this.data.bagItems=e.newitem),(e.addEquip||e.decEquip)&&a.message.dispatchEvent(s.EquipBagUpdated),(e.additem||e.decitem)&&a.message.dispatchEvent(s.ItemBagUpdated),e.attiveTitle&&this.data.addTitles(e.attiveTitle),e.expiredTitle&&this.data.deleteTitles(e.expiredTitle),e.attiveFashion&&this.data.addFashions(e.attiveFashion),e.expiredFashion&&this.data.deleteFashions(e.expiredFashion),e.openWelfareTPoint&&e.openWelfareTPoint>0&&(r.wos.wosInfo.totalPoint=e.openWelfareTPoint))},t.doHeroChange=function(e){var t=this;if(null!=e.newExp&&(this.data.heroExp=e.newExp,a.message.dispatchEvent(s.HeroExpUpdated)),e.newLevel&&(this.data.heroLevel=e.newLevel,a.message.dispatchEvent(s.HeroLevelUp)),e.newHero){var n=this.data.heroId;this.data.upgradeRoleInfo(e.newHero,n),o.doSubmit(d.LevelUp);var i={oldId:n,newId:e.newHero.id};a.message.dispatchEvent(s.RoleUpdated,i)}if(e.newActiveHeros&&(a.gui.toast("新英雄已解锁"),e.newActiveHeros.forEach((function(e){t.data.roles.push(e.id),t.data.setRoleInfo(e),Object.entries(e.skill).forEach((function(e){e[0];var a=e[1];a.sid&&t.data.addSkill(a.sid)}))})),a.message.dispatchEvent(s.RoleUnlocked,e.newActiveHeros[0].id)),e.newSystem){r.system.onNewSystem(e.newSystem),e.newSystem[l.timeaward]&&(r.guaji.info=e.newSystem[l.timeaward]),e.newSystem[l.task_daily]&&r.task.setDailyInfo(e.newSystem[l.task_daily]),e.newSystem[l.task_main]&&r.task.setMainInfo(e.newSystem[l.task_main]),e.newSystem[l.pirateShip]&&(r.duobao.info=e.newSystem[l.pirateShip]),e.newSystem[l.medal]&&(r.medal.medalInfo=e.newSystem[l.medal]),e.newSystem[l.arena]&&(r.arena.ArenaInfo=e.newSystem[l.arena]),e.newSystem[l.arenaKF]&&(r.arena.ArenaKFInfo=e.newSystem[l.arenaKF]),e.newSystem[l.upgrade]&&r.yongbing.setUpgradeInfo(e.newSystem[l.upgrade].task),e.newSystem[l.aureole]&&(r.halo.haloInfo=e.newSystem[l.aureole]),e.newSystem[l.demon_abyss]&&(r.demon.demonAbyssInfo=e.newSystem[l.demon_abyss]),e.newSystem[l.mercenary]&&(r.mercenary.mercenaryInfo=e.newSystem[l.mercenary]),e.newSystem[l.raremonster]&&(r.yishou.YishouInfo=e.newSystem[l.raremonster]),e.newSystem[l.wrestle]&&(r.wrestle.wrestleInfo=e.newSystem[l.wrestle]),e.newSystem[l.title]&&(r.title.titleInfo=e.newSystem[l.title]),e.newSystem[l.change]&&(r.title.fashionInfo=e.newSystem[l.change]),e.newSystem[l.open_server_welfare]&&(r.wos.wosInfo=e.newSystem[l.open_server_welfare]),e.newSystem[l.guild_task]&&(r.guild.guildTaskInfo=e.newSystem[l.guild_task]);var u=Object.keys(e.newSystem).filter((function(e){return null!=m[e]})).map((function(e){return m[e].name}));u.length>0&&(a.gui.toast("【"+u.join(",")+"】系统已开放"),a.message.dispatchEvent(s.NewSystem))}r.ebox.refreshTmp(e.newTmpEquips)},t.doTaskChange=function(e){e.newTaskDaily&&(r.task.setDailyInfo(e.newTaskDaily),a.message.dispatchEvent(s.TaskDailyUpdated)),e.newTaskMain&&(r.task.setMainInfo(e.newTaskMain),a.message.dispatchEvent(s.TaskMainUpdated)),e.newTaskUpgrade&&(r.yongbing.setUpgradeInfo(e.newTaskUpgrade),a.message.dispatchEvent(s.TaskUpgradeUpdated)),e.newTaskOpenWelfare&&(r.wos.setTaskData(e.newTaskOpenWelfare),a.message.dispatchEvent(s.TaskWOSUpadte)),e.newTaskGuild&&(r.guild.guildTaskInfo=e.newTaskGuild,a.message.dispatchEvent(s.GuildTaskUpdate))},t.doDailyReset=function(e){r.system.onDailyReset(e),null!=e.timeAward_dailyNum&&(r.guaji.info.dailyNum=e.timeAward_dailyNum),e.taskDaiy&&this.doTaskChange({newTaskDaily:e.taskDaiy}),e.reSetItem&&(this.data.resetItems(e.reSetItem),a.message.dispatchEvent(s.ItemBagUpdated)),e.welfareDaily&&r.welfare.setWelFareAward(e.welfareDaily),e.welfarePaidDays&&r.welfare.setWelFareAccu(e.welfarePaidDays),e.status&&(this.data.sysStatus=e.status),e.dailyTag&&(r.store.buyTagInfo.dailyTag=e.dailyTag),e.alwayTag&&(r.store.buyTagInfo.alwayTag=e.alwayTag),null!=e.monsthCard_daily&&(r.yueka.yuekaDaily=e.monsthCard_daily),e.pirateShip&&r.duobao.onNewSeason(e.pirateShip),null!=e.reDayInfo&&(r.fuben.reDayInfo=e.reDayInfo),null!=e.foreverCard_daily&&(r.yueka.yukaLifeTime=e.foreverCard_daily),null!=e.rechargeGift&&r.welfare.setRechargeGift(e.rechargeGift),a.message.dispatchEvent(s.DailyReset)},t.doRedot=function(e){for(var t in e)l[t]&&r.system.setRedot(Number(t),e[t]);a.message.dispatchEvent(s.EmailRed),a.message.dispatchEvent(s.GuildApplyRed)},e}());e("account",new y);t._RF.pop()}}}));

System.register("chunks:///_virtual/AccountData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Title.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableFashion.ts","./TableGameConfig.ts","./TableGameHero.ts","./TableGameLevels.ts","./TableGameSkill.ts","./TableTitle.ts","./TableUtil.ts","./Util.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,u,l,f,c,d,h,g,v,p;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass,n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){s=t.oops},function(t){a=t.ClosetType},function(t){r=t.GameEvent},function(t){u=t.smc},function(t){l=t.TableFashion},function(t){f=t.TableGameConfig},function(t){c=t.TableGameHero},function(t){d=t.TableGameLevels},function(t){h=t.TableGameSkill},function(t){g=t.TableTitle},function(t){v=t.TableUtil},function(t){p=t.Util}],execute:function(){var m;t("SkillState",void 0),o._RF.push({},"9c187n13g9HTK7inqaKnbUF","AccountData",void 0),function(t){t[t.NotActived=0]="NotActived",t[t.NotEquiped=1]="NotEquiped",t[t.Equiped=2]="Equiped"}(m||(m=t("SkillState",{})));var b=t("AccountData",function(){function t(t){this.data=null,this.data=t}var n=t.prototype;return n.getRole=function(t){return this.data.hero[t]},n.getSkillPoses=function(t){var e=this.data.hero[t];return Object.values(e.skill)},n.getSkillPos=function(t,e){var i=this.data.hero[t];return null!=i&&i.skill[e]?i.skill[e]:null},n.getSkillPosByGroup=function(t){var e=this,i=new h,n=null;return this.subinfo.fteam.find((function(o){for(var s=e.data.hero[o].skill,a=0;a<f.skill_maxnum;a++)if(s[a]&&i.init(s[a].sid).group==t)return n=s[a],!0;return!1})),n},n.getSkillPosById=function(t){var e=this,i=null;return this.subinfo.fteam.find((function(n){for(var o=e.data.hero[n].skill,s=0;s<f.skill_maxnum;s++)if(o[s]&&o[s].sid==t)return i=o[s],!0;return!1})),i},n.isSkillEquiped=function(t){var e=this.getSkillEquipedInfo(t),i=e[0];e[1];return!!i},n.getSkillEquipedInfo=function(t){var e=this,i=null;return[this.subinfo.fteam.find((function(n){for(var o=e.data.hero[n].skill,s=0;s<f.skill_maxnum;s++)if(o[s]&&o[s].sid==t)return i=s,!0;return!1})),i]},n.getSkillEquipedPos=function(t){var e=this.getSkillEquipedInfo(t);e[0];return e[1]},n.setSkillPos=function(t,e,i){this.data.hero[t].skill[e]=i},n.addSkill=function(t){this.skills[t]={}},n.updateSkill=function(t,e){var i=this.getSkillPosById(t);i&&(i.sid=e),delete this.skills[t],this.addSkill(e)},n.getSkillByGroup=function(t){var e=new h,i=this.skills||{},n=Object.keys(i).find((function(i){return e.init(parseInt(i)).group==t}));return n?parseInt(n):null},n.getSkillStatus=function(t){return this.isSkillEquiped(t)?m.Equiped:t in this.skills?m.NotEquiped:m.NotActived},n.getEquipsInBag=function(){return Object.keys(this.data.equipbag)},n.addEquipInBag=function(t){this.data.equipbag[t.eid]=t},n.addEquipsInBag=function(t){Object.assign(this.data.equipbag,t)},n.removeEquipInBag=function(t){"string"==typeof t?delete this.data.equipbag[t]:t.forEach(this.removeEquipInBag.bind(this))},n.getEquipByPos=function(t,e){var i,n=null==(i=this.data.hero[t])?void 0:i.equip;return n&&e in n?n[e]:null},n.setRoleInfo=function(t){this.data.hero[t.id]=t},n.upgradeRoleInfo=function(t,e){var i=this.roles.indexOf(e);this.roles[i]=t.id,delete this.data.hero[e],this.setRoleInfo(t)},n.getEquipInfoInBag=function(t){return this.data.equipbag[t]},n.getEquipPosLevel=function(t,e){var i,n=null==(i=this.data.hero[t])?void 0:i.poslv;return n&&n[e]||0},n.addItems=function(t){var e=this;Object.keys(t).forEach((function(i){var n=t[i];i in e.bagItems?e.bagItems[i]+=n:e.bagItems[i]=n}))},n.removeItems=function(t){var e=this;Object.entries(t).forEach((function(t){var i=t[0],n=t[1];i in e.bagItems?e.bagItems[i]-=n:console.error("removeItems id not exist: %d",i)}))},n.resetItems=function(t){var e=this;Object.entries(t).forEach((function(t){var i=t[0],n=t[1];e.bagItems[i]=n}))},n.getItemCount=function(t){return t==f.itemid_exp?this.heroExp:this.data.item[t]||0},n.getZhanli=function(){var t=this;return this.roles.reduce((function(e,i){return e+t.getRole(i).fight}),0)},n.addTitles=function(t){this.subinfo.title=t.title;for(var i,n=e(t.id);!(i=n()).done;){var o=i.value,l=new g;l.init(o),s.gui.toast("称号"+l.name+"已激活！"),u.title.addTimer(o,a.Title),u.title.Dress(o,null,a.Title)}var f=Object.values(t.hero);for(var c in f)if(Object.prototype.hasOwnProperty.call(f,c)){var d=f[c];this.setRoleInfo(d)}s.message.dispatchEvent(r.EquipPosUpdated)},n.deleteTitles=function(t){this.subinfo.title=t.title;for(var i,n=e(t.id);!(i=n()).done;){var o=i.value,a=new g;a.init(o),s.gui.toast("称号"+a.name+"已过期！")}var u=Object.values(t.hero);for(var l in u)if(Object.prototype.hasOwnProperty.call(u,l)){var f=u[l];this.setRoleInfo(f)}s.message.dispatchEvent(r.EquipPosUpdated),s.message.dispatchEvent(r.TitleExpired)},n.addFashions=function(t){this.subinfo.fashion=t.fashion;for(var i,n=e(t.id);!(i=n()).done;){var o=i.value,f=new l;f.init(o),s.gui.toast("时装"+f.name+"已激活！"),u.title.addTimer(o,a.Fashion);for(var d,h=e(u.accdata.roles);!(d=h()).done;){var g=d.value;if(v.get(c,g).group==f.group){u.title.Dress(o,null,a.Fashion,g);break}}}var p=Object.values(t.hero);for(var m in p)if(Object.prototype.hasOwnProperty.call(p,m)){var b=p[m];this.setRoleInfo(b)}s.message.dispatchEvent(r.EquipPosUpdated)},n.deleteFashions=function(t){this.subinfo.fashion=t.fashion;for(var i,n=e(t.id);!(i=n()).done;){var o=i.value,a=new l;a.init(o),s.gui.toast("时装"+a.name+"已过期！")}var u=Object.values(t.hero);for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var c=u[f];this.setRoleInfo(c)}s.message.dispatchEvent(r.EquipPosUpdated),s.message.dispatchEvent(r.FashionExpired)},n.getRechargeShop=function(){return this.subinfo.rechargeShop},n.getServerOpenDays=function(){var t=new Date(this.info.openServerTime),e=new Date(s.timer.getLocalTime());return p.getDaysDiff(t,e)+1},i(t,[{key:"info",get:function(){return this.data}},{key:"id",get:function(){return this.data.role.id}},{key:"name",get:function(){return this.data.role.name},set:function(t){this.data.role.name=t}},{key:"token",get:function(){return this.data.gt}},{key:"orders",get:function(){var t;return null!=(t=this.data.orderIds)?t:[]}},{key:"heroId",get:function(){return this.roles[0]}},{key:"heroLevel",get:function(){return this.data.info.rolelevel},set:function(t){this.data.info.rolelevel=t}},{key:"heroExp",get:function(){return this.data.info.exp},set:function(t){this.data.info.exp=t}},{key:"subinfo",get:function(){return this.data.info.info}},{key:"gameLevel",get:function(){return this.data.info.gamelevels},set:function(t){this.data.info.gamelevels=t}},{key:"roles",get:function(){return this.subinfo.fteam}},{key:"roleHead",get:function(){return this.subinfo.ico||"1"},set:function(t){this.subinfo.ico=t}},{key:"skills",get:function(){return this.subinfo.skill.list}},{key:"bagItems",get:function(){return this.data.item},set:function(t){this.data.item=t}},{key:"sbox",get:function(){return this.subinfo.sbox}},{key:"nextGameLevel",get:function(){var t=this.gameLevel;return 0==t?f.init_gamelevels:v.get(d,t).nextid}},{key:"sysStatus",get:function(){return this.subinfo.status},set:function(t){this.subinfo.status=t}},{key:"privilege",get:function(){return this.subinfo.privilege},set:function(t){this.subinfo.privilege=t}},{key:"haloId",get:function(){var t,e,i;return null!=(t=null==(e=this.subinfo)||null==(i=e.aureole)?void 0:i.id)?t:0}}]),t}());t("AccountRoleData",function(t){function e(e){return t.call(this,{ok:!0,hero:e.rh,gt:null,equipbag:null,info:{gamelevels:0,info:{fteam:[],skill:null,ebox:null,sbox:null,rechargeInfo:null,medalInfo:{exp:0,mid:e.m},reDayInfo:null,upgrade:e.lg,aureole:e.gh},rolelevel:e.lv},item:null,role:{name:e.n,userid:null,serverid:e.sid,id:null}})||this}return n(e,t),i(e,[{key:"roles",get:function(){return Object.keys(this.data.hero).map(Number)}}]),e}(b));o._RF.pop()}}}));

System.register("chunks:///_virtual/ADSettlement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var t,n,r,i,a,o,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,s=e.Component},function(e){c=e.oops}],execute:function(){var u,p,m,f,h;a._RF.push({},"b9f92hWnJlASbjyL5iqabnq","ADSettlement",void 0);var b=o.ccclass,d=o.property;e("ADSettlement",(u=b("ADSettlement"),p=d(l),u((h=t((f=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"lblDamage",h,i(t)),t.params=null,t}n(t,e);var a=t.prototype;return a.onAdded=function(e){this.params=e},a.start=function(){this.lblDamage.string=this.params.damage+""},a.onXClick=function(){c.gui.removeByNode(this.node,!0)},t}(s)).prototype,"lblDamage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Ambilight.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,a,n,o,s,c,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.CCInteger,p=t.Sprite,l=t.Component}],execute:function(){var u,h,m,_,f;o._RF.push({},"73c69GH9M9F2Ilsm0fvjTCX","Ambilight",void 0);var y=s.ccclass,g=s.property;t("Ambilight",(u=y("Ambilight"),h=g(c),u((f=e((_=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,i(e,"_max",f,a(e)),e._start=0,e}r(e,t);var o=e.prototype;return o.update=function(t){this._material=this.node.getComponent(p).getMaterial(0),this.node.active&&this._material&&this._setShaderTime(t)},o._setShaderTime=function(t){var e=this._start;e>this.max&&(e=0),e+=.015,this._material.setProperty("speed",e),this._start=e},n(e,[{key:"max",get:function(){return this._max},set:function(t){this._max=t}}]),e}(l)).prototype,"_max",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(_.prototype,"max",[h],Object.getOwnPropertyDescriptor(_.prototype,"max"),_.prototype),m=_))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){"use strict";var i,n,a,s,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,s=t.Animation},function(t){e=t.default}],execute:function(){var o;n._RF.push({},"64571Qy/TlCEZI/28RxIG+E","AnimatorAnimation",void 0);var h=a.ccclass,r=(a.property,a.requireComponent),m=a.disallowMultiple,l=a.menu;t("default",h(o=m(o=r(s)(o=l("animator/AnimatorAnimation")(o=function(t){function n(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(i=t.call.apply(t,[this].concat(a))||this)._animation=null,i._animState=null,i._wrapModeMap=new Map,i}i(n,t);var a=n.prototype;return a.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(s),this._animation.on(s.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(s.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},a.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._animation=this.getComponent(s),this._animation.on(s.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(s.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},a.playAnimation=function(t,i){t&&(this._animation.play(t),this._animState=this._animation.getState(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=i?2:this._wrapModeMap.get(this._animState)))},a.scaleTime=function(t){this._animState&&(this._animState.speed=t)},n}(e))||o)||o)||o)||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorController.ts"],(function(t){"use strict";var a,e,n,i,o,r,s,c,u,l;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.JsonAsset,u=t.Component},function(t){l=t.default}],execute:function(){var p,h,m,f,g,_,y,d,A,b;r._RF.push({},"7ff14NOug1NAIB1XgQlC9Gc","AnimatorBase",void 0);var v=s.ccclass,S=s.property,C=s.executionOrder,M=s.menu;t("default",(p=C(-1e3),h=M("animator/AnimatorBase"),m=S({type:c,tooltip:"状态机json文件"}),f=S({tooltip:"是否在start中自动启动状态机"}),g=S({tooltip:"是否在update中自动触发状态机逻辑更新"}),v(_=p(_=h((d=a((y=function(t){function a(){for(var a,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return a=t.call.apply(t,[this].concat(o))||this,n(a,"AssetRawUrl",d,i(a)),n(a,"PlayOnStart",A,i(a)),n(a,"AutoUpdate",b,i(a)),a._hasInit=!1,a._ac=null,a._stateLogicMap=null,a._onStateChangeCall=null,a._animationPlayer=null,a}e(a,t);var r=a.prototype;return r.onFrameEvent=function(t){var a;null==(a=this._animationPlayer)||a.onFrameEventCallback(t,this)},r.getState=function(t){return this._ac.states.get(t)},r.onInit=function(){},r.initArgs=function(){for(var t=this,a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];e.forEach((function(a){a&&("function"==typeof a?t._onStateChangeCall=a:"object"==typeof a&&(a instanceof Map?t._stateLogicMap=a:t._animationPlayer=a))}))},r.updateAnimator=function(){var t=this._ac.curState.speed;if(this._ac.curState.multi&&(t*=this._ac.params.getNumber(this._ac.curState.multi)||1),this.scaleTime(t),this._stateLogicMap){var a=this._stateLogicMap.get(this._ac.curState.name);a&&a.onUpdate()}this._ac.updateAnimator()},r.update=function(){this._hasInit&&this.AutoUpdate&&this.updateAnimator()},r.manualUpdate=function(){this._hasInit&&!this.AutoUpdate&&this.updateAnimator()},r.initJson=function(t){this._ac=new l(this,t)},r.onAnimFinished=function(){var t;this._ac.onAnimationComplete(),null==(t=this._animationPlayer)||t.onFinishedCallback(this)},r.playAnimation=function(t,a){},r.scaleTime=function(t){},r.onStateChange=function(t,a){this.playAnimation(a.motion,a.loop);var e=t?t.name:"";if(this._stateLogicMap){var n=this._stateLogicMap.get(e);n&&n.onExit();var i=this._stateLogicMap.get(a.name);i&&i.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(e,a.name)},r.setBool=function(t,a){this._ac.params.setBool(t,a)},r.getBool=function(t){return 0!==this._ac.params.getBool(t)},r.setNumber=function(t,a){this._ac.params.setNumber(t,a)},r.getNumber=function(t){return this._ac.params.getNumber(t)},r.setTrigger=function(t){this._ac.params.setTrigger(t)},r.resetTrigger=function(t){this._ac.params.resetTrigger(t)},r.autoTrigger=function(t){this._ac.params.autoTrigger(t)},r.play=function(t){this._hasInit&&this._ac.play(t)},o(a,[{key:"curStateName",get:function(){return this._ac.curState.name}},{key:"curStateMotion",get:function(){return this._ac.curState.motion}}]),a}(u)).prototype,"AssetRawUrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=a(y.prototype,"PlayOnStart",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=a(y.prototype,"AutoUpdate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=y))||_)||_)||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorCondition.ts",["cc"],(function(t){"use strict";var a,r;return{setters:[function(t){a=t.cclegacy,r=t.error}],execute:function(){var e,i;t({LogicType:void 0,ParamType:void 0}),a._RF.push({},"8ade2h2C/ZA86thhI0NNuqu","AnimatorCondition",void 0),function(t){t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER"}(e||(e=t("ParamType",{}))),function(t){t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL"}(i||(i=t("LogicType",{})));t("default",function(){function t(t,a){this._ac=void 0,this._param="",this._value=0,this._logic=i.EQUAL,this._ac=a,this._param=t.param,this._value=t.value,this._logic=t.logic}var a=t.prototype;return a.getParamName=function(){return this._param},a.getParamType=function(){return this._ac.params.getParamType(this._param)},a.check=function(){var t=this.getParamType();if(t===e.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==e.NUMBER)return t===e.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===e.TRIGGER?0!==this._ac.params.getTrigger(this._param):(r("[AnimatorCondition.check] 错误的type: "+t),!1);var a=this._ac.params.getNumber(this._param);switch(this._logic){case i.EQUAL:return a===this._value;case i.NOTEQUAL:return a!==this._value;case i.GREATER:return a>this._value;case i.LESS:return a<this._value;case i.GREATER_EQUAL:return a>=this._value;case i.LESS_EQUAL:return a<=this._value;default:return!1}},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorParams.ts","./AnimatorState.ts"],(function(t){"use strict";var e,a,n,s,i;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy,n=t.error},function(t){s=t.default},function(t){i=t.default}],execute:function(){a._RF.push({},"01df9SMBjRCyYDE7SgbZxua","AnimatorController",void 0);t("default",function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new s(e.parameters),this.init(e)}var a=t.prototype;return a.init=function(t){if(t.states.length<=0)n("[AnimatorController.init] 状态机json错误");else{var e=t.defaultState;this._anyState=new i(t.anyState,this);for(var a=0;a<t.states.length;a++){var s=new i(t.states[a],this);this._states.set(s.name,s)}this.changeState(e)}},a.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},a.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},a.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},a.play=function(t){this._states.has(t)&&this._curState.name!==t&&(this.animComplete=!1,this.changeState(t))},a.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)n("[AnimatorController.changeState] error: 状态切换递归调用超过1000次，transition设置可能出错!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)n("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},e(t,[{key:"curState",get:function(){return this._curState}},{key:"params",get:function(){return this._params}},{key:"states",get:function(){return this._states}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorCustomization.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){"use strict";var i,n,a,e,r,o,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator},function(t){s=t.default}],execute:function(){var l,u,c,p,h;r._RF.push({},"fe7aemTdvFBeJlAmC+6XphU","AnimatorCustomization",void 0);var m=o.ccclass,y=o.property,f=o.menu,A=o.disallowMultiple;t("default",(l=f("animator/AnimatorCustomization"),u=y({override:!0,visible:!1}),m(c=A(c=l((h=i((p=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i=t.call.apply(t,[this].concat(r))||this,a(i,"PlayOnStart",h,e(i)),i}n(i,t);var r=i.prototype;return r.onInit=function(){this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},r.playAnimation=function(t,i){this._animationPlayer&&t&&this._animationPlayer.playAnimation(t,i)},r.scaleTime=function(t){this._animationPlayer&&this._animationPlayer.scaleTime(t)},i}(s)).prototype,"PlayOnStart",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=p))||c)||c)||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorDragonBones.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){"use strict";var n,s,i,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,e=t.dragonBones},function(t){o=t.default}],execute:function(){var a;s._RF.push({},"dc324J03ptB8b2JV9Ljduzh","AnimatorDragonBones",void 0);var r=i.ccclass,l=(i.property,i.requireComponent),h=i.disallowMultiple;t("default",r(a=h(a=l(e.ArmatureDisplay)(a=function(t){function s(){for(var n,s=arguments.length,i=new Array(s),e=0;e<s;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this)._dragonBones=null,n}n(s,t);var i=s.prototype;return i.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(e.ArmatureDisplay),this._dragonBones.addEventListener("complete",this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._dragonBones=this.getComponent(e.ArmatureDisplay),this._dragonBones.addEventListener("complete",this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.playAnimation=function(t,n){t&&this._dragonBones.playAnimation(t,n?0:-1)},i.scaleTime=function(t){t>0&&(this._dragonBones.timeScale=t)},s}(o))||a)||a)||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorParams.ts",["cc","./AnimatorCondition.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.ParamType}],execute:function(){a._RF.push({},"13926xryDRPXJ50lCnLvy4J","AnimatorParams",void 0);t("default",function(){function t(t){var a=this;this._paramMap=new Map,t.forEach((function(t){var e={type:t.type,value:t.init};a._paramMap.set(t.param,e)}))}var a=t.prototype;return a.getParamType=function(t){var a=this._paramMap.get(t);return a?a.type:null},a.setNumber=function(t,a){var r=this._paramMap.get(t);r&&r.type===e.NUMBER&&(r.value=a)},a.setBool=function(t,a){var r=this._paramMap.get(t);r&&r.type===e.BOOLEAN&&(r.value=a?1:0)},a.setTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.TRIGGER&&(a.value=1)},a.resetTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.TRIGGER&&(a.value=0)},a.autoTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.AUTO_TRIGGER&&(a.value=1)},a.resetAutoTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.AUTO_TRIGGER&&(a.value=0)},a.resetAllAutoTrigger=function(){this._paramMap.forEach((function(t,a){t.type===e.AUTO_TRIGGER&&(t.value=0)}))},a.getNumber=function(t){var a=this._paramMap.get(t);return a&&a.type===e.NUMBER?a.value:0},a.getBool=function(t){var a=this._paramMap.get(t);return a&&a.type===e.BOOLEAN?a.value:0},a.getTrigger=function(t){var a=this._paramMap.get(t);return a&&a.type===e.TRIGGER?a.value:0},a.getAutoTrigger=function(t){var a=this._paramMap.get(t);return a&&a.type===e.AUTO_TRIGGER?a.value:0},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSkeletal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorAnimation.ts"],(function(t){"use strict";var i,a,e,n,r,o,s,l,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.SkeletalAnimation,l=t.CCFloat,u=t.game},function(t){c=t.default}],execute:function(){var p,m,h,_,d,f;r._RF.push({},"8c545jBn4xF7LWXjl506avi","AnimatorSkeletal",void 0);var S=o.ccclass,y=o.property,A=o.requireComponent,v=o.disallowMultiple,M=o.menu;t("AnimatorSkeletal",(p=A(s),m=M("animator/AnimatorSkeletal"),h=y({type:l,tooltip:"动画切换过度时间"}),S(_=v(_=p(_=m((f=i((d=function(t){function i(){for(var i,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return i=t.call.apply(t,[this].concat(r))||this,e(i,"duration",f,n(i)),i.cross_duration=0,i.current_time=0,i}a(i,t);var r=i.prototype;return r.onLoad=function(){this.cross_duration=1e3*this.duration},r.playAnimation=function(t,i){t&&(u.totalTime-this.current_time>this.cross_duration?this._animation.crossFade(t,this.duration):this._animation.play(t),this.current_time=u.totalTime,this._animState=this._animation.getState(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=i?2:1))},i}(c)).prototype,"duration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),_=d))||_)||_)||_)||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){"use strict";var e,n,i,s,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.sp},function(t){o=t.default}],execute:function(){var a;n._RF.push({},"7fde8yJEfxMMqzjg+V4UVkT","AnimatorSpine",void 0);var r=i.ccclass,l=(i.property,i.requireComponent),p=i.disallowMultiple;t("default",r(a=p(a=l(s.Skeleton)(a=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._spine=null,e._completeListenerMap=new Map,e._secondaryListenerMap=new Map,e}e(n,t);var i=n.prototype;return i.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(s.Skeleton),this._spine.setEventListener(this.onSpineEvent.bind(this)),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._spine=this.getComponent(s.Skeleton),this._spine.setEventListener(this.onSpineEvent.bind(this)),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.getBone=function(t){return this._spine.findBone(t)},i.onSpineEvent=function(t,e){var n,i=t.animation?e.data.name:"";null==(n=this._animationPlayer)||n.onFrameEventCallback(i,this)},i.onSpineComplete=function(t){0===t.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach((function(e,n){e?n.call(e,t):n(t)})),this._secondaryListenerMap.forEach((function(e,n){t.trackIndex===e.TrackIndex&&n.call(e,t)}))},i.playAnimation=function(t,e){t?this._spine.setAnimation(0,t,e):this._spine.clearTrack(0)},i.scaleTime=function(t){t>0&&(this._spine.timeScale=t)},i.addSecondaryListener=function(t,e){this._secondaryListenerMap.set(t,e)},i.addCompleteListener=function(t,e){void 0===e&&(e=null),this._completeListenerMap.has(t)||this._completeListenerMap.set(t,e)},i.removeCompleteListener=function(t){this._completeListenerMap.delete(t)},i.clearCompleteListener=function(){this._completeListenerMap.clear},n}(o))||a)||a)||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSpineSecondary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorSpine.ts","./AnimatorBase.ts"],(function(t){"use strict";var i,n,e,s,r,a,o,h,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,o=t.sp},function(t){h=t.default},function(t){c=t.default}],execute:function(){var l,p,u,d,m;r._RF.push({},"e47112s9c9Kwo8XQQ4KSW0c","AnimatorSpineSecondary",void 0);var f=a.ccclass,_=a.property,y=a.requireComponent;t("default",(l=y(o.Skeleton),p=_({tooltip:"动画播放的trackIndex，必须大于0"}),f(u=l((m=i((d=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(i,"TrackIndex",m,s(i)),i._main=null,i._spine=null,i}n(i,t);var r=i.prototype;return r.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(o.Skeleton),this._main=this.getComponent(h),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},r.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._spine=this.getComponent(o.Skeleton),this._main=this.getComponent(h),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},r.playAnimation=function(t,i){t?this._spine.setAnimation(this.TrackIndex,t,i):this._spine.clearTrack(this.TrackIndex)},i}(c)).prototype,"TrackIndex",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=d))||u)||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorTransition.ts"],(function(t){"use strict";var i,n,e;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.default}],execute:function(){n._RF.push({},"bd2d1/E71JL1Jj3HzsYH82H","AnimatorState",void 0);t("default",function(){function t(t,i){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=i;for(var n=0;n<t.transitions.length;n++){var s=new e(t.transitions[n],i);s.isValid()&&this._transitions.push(s)}}return t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var i=this._transitions[t];if(i&&i.check())return void i.doTrans()}},i(t,[{key:"name",get:function(){return this._name}},{key:"motion",get:function(){return this._motion}},{key:"loop",get:function(){return this._loop}},{key:"multi",get:function(){return this._multi}},{key:"speed",get:function(){return this._speed},set:function(t){this._speed=t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorStateLogic.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"b06fbd3UdNKvooAUeDi9UTc","AnimatorStateLogic",void 0);t("AnimatorStateLogic",function(){function t(){}var n=t.prototype;return n.onEntry=function(){},n.onUpdate=function(){},n.onExit=function(){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorTransition.ts",["cc","./AnimatorCondition.ts"],(function(t){"use strict";var i,n,e;return{setters:[function(t){i=t.cclegacy},function(t){n=t.ParamType,e=t.default}],execute:function(){i._RF.push({},"39224xRIkpEG7hvPJlKoGDy","AnimatorTransition",void 0);t("default",function(){function t(t,i){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=i;for(var n=0;n<t.conditions.length;n++){var a=new e(t.conditions[n],i);this._conditions.push(a)}}var i=t.prototype;return i.isValid=function(){return this._hasExitTime||this._conditions.length>0},i.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},i.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var i=this._conditions[t].getParamType(),e=this._conditions[t].getParamName();i===n.TRIGGER?this._ac.params.resetTrigger(e):i===n.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(e)}this._ac.changeState(this._toStateName)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Arena.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableShop.ts","./TableUtil.ts"],(function(e){"use strict";var n,t,a,r,o,u,i,c,s,f,l,g,y,p,d,h;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){u=e.oops},function(e){i=e.GameEvent},function(e){c=e.UIID,s=e.DialogAnimation},function(e){f=e.httpChannel},function(e){l=e.smc},function(e){g=e.GameSys},function(e){y=e.TableGameConfig},function(e){p=e.GameSysKey},function(e){d=e.TableShop},function(e){h=e.TableUtil}],execute:function(){var I,m,b;e({CQType:void 0,FightTicket:void 0,RankType:void 0}),o._RF.push({},"016c93T5xJPT7efrezkeNRx","Arena",void 0),function(e){e.Daily="Daily",e.Season="Season"}(I||(I=e("RankType",{}))),function(e){e[e.ShopIdFreeGoods=19]="ShopIdFreeGoods",e[e.ShopIdBuyGoods=20]="ShopIdBuyGoods",e[e.ShopIdFreeGoodsKF=94]="ShopIdFreeGoodsKF",e[e.ShopIdBuyGoodsKF=95]="ShopIdBuyGoodsKF"}(m||(m=e("FightTicket",{}))),function(e){e[e.STONE=1]="STONE",e[e.FORFEX=2]="FORFEX",e[e.CLOTH=3]="CLOTH"}(b||(b=e("CQType",{})));var k=e("Arena",function(e){function o(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).cqType=void 0,n.cqBothShowInfo=void 0,n.redotWatchGameEvents=[],n}n(o,e);var g=o.prototype;return g.reqUIData=function(){var e=a(r().mark((function e(n,t,a){var o,u,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=1),void 0===a&&(a=0),h.get(d,n)){e.next=5;break}return e.abrupt("return",null);case 5:return o=t,u={type:n,flag:a},e.next=9,f.reqAsync(o,u);case 9:if(null!=(i=e.sent)&&i.ok){e.next=12;break}return e.abrupt("return",null);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),g.getLeftTimeByType=function(e,n){if(void 0===n&&(n=!1),e!=I.Daily){var t=new Date,a=new Date,r=0,o=n?y.arena_season_days_kf:y.arena_season_days;t.getDay()>o&&(r=Number(o)),a.setDate(t.getDate()+(Number(7)-t.getDay())+r),a.setHours(0,0,0,0);var u=a.getTime()-t.getTime();return Math.ceil(u/1e3)}},g.doFight=function(){var e=a(r().mark((function e(n){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.battle.createAndPlay(n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(l.account.doResChange(l.battle.fightInfo),!l.battle.isWin()){e.next=14;break}return a=l.battle.fightInfo,null!=(t=l.mercenary)&&t.mercenaryInfo&&(l.mercenary.mercenaryInfo.actinfo.an=a.arenainfo.wincount),e.next=11,u.gui.openModal(c.WinArena,{fightInfo:l.battle.fightInfo,level:l.battle.level},s);case 11:u.message.dispatchEvent(i.ArenaChallenge),e.next=19;break;case 14:return e.next=16,u.gui.openModal(c.LoseArena,{fightInfo:l.battle.fightInfo,level:l.battle.level},s);case 16:if(0!=l.recharge.isBuyFirstGift){e.next=19;break}return e.next=19,u.gui.openModal(c.FirstRecharge);case 19:l.battle.clear(),u.gui.remove(c.Battle,!0),u.message.dispatchEvent(i.AreneRank);case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g.getQuickInfo=function(){return{descStr:"挑战券："+l.accdata.getItemCount(this.arenaCostItemID)}},g.RedCostItem=function(){return this.ArenaInfo.challenge>0||l.accountData.getItemCount(this.arenaCostItemID)>=1},g.calRedot=function(){return this.RedCostItem()},t(o,[{key:"ArenaInfo",get:function(){return l.accountData.subinfo.arenaInfo},set:function(e){l.accountData.subinfo.arenaInfo=e}},{key:"ArenaKFInfo",get:function(){return l.accountData.subinfo.arenaInfoKf},set:function(e){l.accountData.subinfo.arenaInfoKf=e}},{key:"getArenaDailyAward",get:function(){return h.getRankAwardsByType(2)}},{key:"getArenaSeasonAward",get:function(){return h.getRankAwardsByType(1002)}},{key:"getArenaDailyAwardKF",get:function(){return h.getRankAwardsByType(6)}},{key:"getArenaSeasonAwardKF",get:function(){return h.getRankAwardsByType(1006)}},{key:"arenaCostItemID",get:function(){return Number(Object.keys(y.arena_challenge_cost)[0])}},{key:"arenaKFCostItemID",get:function(){return Number(Object.keys(y.arena_challenge_cost_kf)[0])}}]),o}(g)),v=e("arena",new k(p.arena)),T=e("ArenaKF",function(e){function t(){var n;return(n=e.call(this,p.arenaKF)||this).redotWatchGameEvents=[],n}return n(t,e),t.prototype.checkOpened=function(e){return null!=v.ArenaKFInfo},t}(g));e("arenakf",new T);o._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaChallenge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./Arena.ts","./ArenachallengeItem.ts"],(function(e){"use strict";var t,n,i,a,r,o,s,l,u,h,c,m,f,g,p,d,b,C,D,y,v,I,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Label,h=e.Node,c=e.Sprite,m=e.Button,f=e.Component},function(e){g=e.oops},function(e){p=e.ViewUtil},function(e){d=e.GameEvent},function(e){b=e.UIID,C=e.DialogAnimation},function(e){D=e.MsgID},function(e){y=e.smc},function(e){v=e.TableGameConfig},function(e){I=e.FightTicket},function(e){T=e.ArenachallengeItem}],execute:function(){var w,A,N,_,k,F,B,G,z,P,U,L,S,H,x;s._RF.push({},"6e66adQNX1I3oiAR001Z+iD","ArenaChallenge",void 0);var R=l.ccclass,V=l.property;e("ArenaChallenge",(w=R("ArenaChallenge"),A=V(u),N=V(h),_=V(u),k=V(h),F=V(c),B=V(u),w((P=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lblItemNum",P,a(t)),i(t,"nodePlayList",U,a(t)),i(t,"lblTime",L,a(t)),i(t,"btnFresh",S,a(t)),i(t,"spCostIcon",H,a(t)),i(t,"lblCostNum",x,a(t)),t.params=void 0,t.timeCD=60,t.CD=0,t.endTime=void 0,t.WinTag=!1,t}n(t,e);var s=t.prototype;return s.onAdded=function(e){this.params=e},s.start=function(){var e=this;Object.entries(v.arena_show_cost).forEach((function(t){t[0];var n=t[1];e.lblCostNum.string=n+""})),this.initView(),this.refresh(),g.message.on(d.ArenaChallenge,this._eventHandler,this),g.message.on(d.ItemBagUpdated,this._eventHandler,this)},s.onDestroy=function(){this.unschedule(this.limitTime),g.message.off(d.ArenaChallenge,this._eventHandler,this),g.message.off(d.ItemBagUpdated,this._eventHandler,this)},s.initView=function(){var e=this;this.nodePlayList.removeAllChildren(),Object.values(this.params).forEach((function(t){p.loadPrefabNode("gui/arena/arena_challengeItem",(function(n){n.parent=e.nodePlayList,n.getComponent(T).initItem(t)}))}))},s.refresh=function(){this.lblItemNum.string=y.accountData.getItemCount(Number(y.arena.arenaCostItemID))+""},s.onClickFresh=function(){var e=r(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==this.WinTag&&(this.endTime=(new Date).getTime()+1e3*this.timeCD,this.CD=this.endTime-(new Date).getTime()),!(this.CD>=0)){e.next=9;break}return this.schedule(this.limitTime,1),e.next=5,y.arena.reqUIData(2,D.ArenaChallenge);case 5:null!=(t=e.sent)&&t.ok&&(t.ok?(this.WinTag=!1,this.params=t.show,this.initView(),y.account.doResChange(t)):g.gui.toast(t.msg)),e.next=10;break;case 9:this.unschedule(this.limitTime);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.limitTime=function(){this.CD>0?(this.CD=this.endTime-(new Date).getTime(),this.lblTime.string=Math.ceil(this.CD/1e3)+"后刷新"):(this.CD=0,this.lblTime.string=""),p.setGray(this.btnFresh,this.CD>0),this.btnFresh.getComponent(m).interactable=this.CD<=0},s.onClickBuyItem=function(){var e={ShopFreeAD:I.ShopIdFreeGoods,ShopBuy:I.ShopIdBuyGoods};g.gui.open(b.TipDuobaoBuyDice,e,C)},s._eventHandler=function(e,t){e==d.ArenaChallenge?(this.refresh(),this.WinTag=!0,this.onClickFresh()):e==d.ItemBagUpdated&&this.refresh()},s.onClickClose=function(){g.gui.removeByNode(this.node,!0)},t}(f)).prototype,"lblItemNum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(z.prototype,"nodePlayList",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(z.prototype,"lblTime",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(z.prototype,"btnFresh",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(z.prototype,"spCostIcon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(z.prototype,"lblCostNum",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=z))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/ArenachallengeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./PlayerHead.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameItem.ts","./Level.ts"],(function(e){"use strict";var t,n,i,r,a,l,o,u,c,s,f,p,b,m,g,h,d,y,v,I,w,C,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.Node,s=e.Label,f=e.Sprite,p=e.Component},function(e){b=e.oops},function(e){m=e.ViewUtil},function(e){g=e.GameResPath},function(e){h=e.UIID},function(e){d=e.PlayerHead},function(e){y=e.httpChannel},function(e){v=e.MsgID},function(e){I=e.smc},function(e){w=e.TableGameConfig},function(e){C=e.TableGameItem},function(e){P=e.LevelArena}],execute:function(){var N,k,F,L,_,z,A,G,H,T,V,x,R,S,D;o._RF.push({},"9ffe1IkfodK9YTsUyHPOWqC","ArenachallengeItem",void 0);var U=u.ccclass,M=u.property;e("ArenachallengeItem",(N=U("ArenachallengeItem"),k=M(c),F=M(s),L=M(s),_=M(s),z=M(s),A=M(c),N((T=t((H=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"nodePlayerHead",T,r(t)),i(t,"lblPlayName",V,r(t)),i(t,"lblJifen",x,r(t)),i(t,"lblLv",R,r(t)),i(t,"lblFValue",S,r(t)),i(t,"NodeCost",D,r(t)),t.info=null,t._cfg=new C,t}n(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.initItem=function(e){var t,n=this;this.info=e,this.lblPlayName.string=e.n,this.lblFValue.string=(null==(t=e.f)?void 0:t.toString())||"0",this.lblJifen.string="积分:"+e.p,this.lblLv.string="LV:"+e.lv,this.nodePlayerHead.getComponent(d).initView(e.c);var i=w.arena_challenge_getitem;Object.entries(i).forEach((function(e,t){var i=n.NodeCost.children[Number(t)];if(i){i.active=!0,n._cfg.init(Number(e[0]));var r=g.getItemSpriteFrame(n._cfg);m.loadSpriteFrame(i.getComponent(f),r),i.getChildByName("num").getComponent(s).string=e[1]+""}}))},o.clickFight=function(){var e=a(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new P(this.info),I.arena.doFight(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onClickItem=function(){var e=a(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.info.id){e.next=9;break}return t={id:Number(this.info.id)},e.next=4,y.reqAsync(v.ArenaRoleInfo,t);case 4:if(null!=(n=e.sent)&&n.ok){e.next=7;break}return e.abrupt("return");case 7:i={roleinfo:n.roleinfo},b.gui.open(h.TipPlayerInfo,i);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"nodePlayerHead",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(H.prototype,"lblPlayName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(H.prototype,"lblJifen",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(H.prototype,"lblLv",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(H.prototype,"lblFValue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"NodeCost",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=H))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaKFChallenge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArenaChallenge.ts","./Arena.ts","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./TableGameConfig.ts","./GameEvent.ts","./ViewUtil.ts","./ArenaKFChallengeItem.ts","./GameResPath.ts"],(function(e){"use strict";var t,n,i,a,s,o,r,c,u,l,h,m,f,g,p,C,d;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){o=e.ArenaChallenge},function(e){r=e.FightTicket},function(e){c=e.oops},function(e){u=e.UIID,l=e.DialogAnimation},function(e){h=e.smc},function(e){m=e.MsgID},function(e){f=e.TableGameConfig},function(e){g=e.GameEvent},function(e){p=e.ViewUtil},function(e){C=e.ArenaKFChallengeItem},function(e){d=e.GameResPath}],execute:function(){var I;a._RF.push({},"69a29TjINdJJL5orirs5ekZ","ArenaKFChallenge",void 0);var v=s.ccclass;s.property,e("ArenaKFChallenge",v("ArenaKFChallenge")(I=function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var s=a.prototype;return s.start=function(){var e=this;Object.entries(f.arena_show_cost_kf).forEach((function(t){var n=t[0],i=t[1];p.loadSpriteFrame(e.spCostIcon,d.getItemSpriteFrame(Number(n))),e.lblCostNum.string=i+""})),this.initView(),this.refresh(),c.message.on(g.ArenaChallenge,this._eventHandler,this),c.message.on(g.ItemBagUpdated,this._eventHandler,this)},s.initView=function(){var e=this;this.nodePlayList.removeAllChildren(),Object.values(this.params).forEach((function(t){p.loadPrefabNode("gui/arenaKF/arenaKF_challengeItem",(function(n){n.parent=e.nodePlayList,n.getComponent(C).initItem(t)}))}))},s.refresh=function(){this.lblItemNum.string=h.accountData.getItemCount(Number(h.arena.arenaKFCostItemID))+""},s.onClickFresh=function(){var e=n(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==this.WinTag&&(this.endTime=(new Date).getTime()+1e3*this.timeCD,this.CD=this.endTime-(new Date).getTime()),!(this.CD>=0)){e.next=9;break}return this.schedule(this.limitTime,1),e.next=5,h.arena.reqUIData(2,m.ArenaChallenge,1);case 5:null!=(t=e.sent)&&t.ok&&(t.ok?(this.WinTag=!1,this.params=t.show,this.initView(),h.account.doResChange(t)):c.gui.toast(t.msg)),e.next=10;break;case 9:this.unschedule(this.limitTime);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickBuyItem=function(){var e={ShopFreeAD:r.ShopIdFreeGoodsKF,ShopBuy:r.ShopIdBuyGoodsKF};c.gui.open(u.TipDuobaoBuyDice,e,l)},a}(o))||I);a._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaKFChallengeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArenachallengeItem.ts","./NetProtocol.ts","./HttpChannelManager.ts","./Oops.ts","./GameUIConfig.ts","./Level.ts","./SingletonModuleComp.ts","./ViewUtil.ts","./GameResPath.ts","./PlayerHead.ts","./TableGameConfig.ts"],(function(e){"use strict";var n,t,i,r,o,a,s,l,c,u,f,h,p,g,m,d,v,C;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,a=e.Sprite,s=e.Label},function(e){l=e.ArenachallengeItem},function(e){c=e.MsgID},function(e){u=e.httpChannel},function(e){f=e.oops},function(e){h=e.UIID},function(e){p=e.LevelArenaKF},function(e){g=e.smc},function(e){m=e.ViewUtil},function(e){d=e.GameResPath},function(e){v=e.PlayerHead},function(e){C=e.TableGameConfig}],execute:function(){var b;r._RF.push({},"66ca6AlVCZFu6gfG8laqaVo","ArenaKFChallengeItem",void 0);var y=o.ccclass;o.property,e("ArenaKFChallengeItem",y("ArenaKFChallengeItem")(b=function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var o=r.prototype;return o.initItem=function(e){var n,t=this;this.info=e,this.lblPlayName.string=e.n,this.lblFValue.string=(null==(n=e.f)?void 0:n.toString())||"0",this.lblJifen.string="积分:"+e.p,this.lblLv.string="LV:"+e.lv,this.nodePlayerHead.getComponent(v).initView(e.c);var i=C.arena_challenge_getitem_kf;Object.entries(i).forEach((function(e,n){var i=t.NodeCost.children[Number(n)];if(i){i.active=!0,t._cfg.init(Number(e[0]));var r=d.getItemSpriteFrame(t._cfg);m.loadSpriteFrame(i.getComponent(a),r),i.getChildByName("num").getComponent(s).string=e[1]+""}}))},o.clickFight=function(){var e=t(i().mark((function e(){var n,t,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new p(this.info),!this.info.id){e.next=11;break}return t={serverid:this.info.sid,id:this.info.id},e.next=5,u.reqAsync(c.FightRoleInfo,t);case 5:if(null!=(r=e.sent)&&r.ok){e.next=9;break}return g.arena.doFight(n),e.abrupt("return");case 9:o={roleinfo:r.roleinfo,level:n},f.gui.open(h.TipPlayerInfoCQ,o);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onClickItem=function(){var e=t(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.info.id){e.next=9;break}return n={serverid:this.info.sid,id:this.info.id},e.next=4,u.reqAsync(c.FightRoleInfo,n);case 4:if(null!=(t=e.sent)&&t.ok){e.next=7;break}return e.abrupt("return");case 7:r={roleinfo:t.roleinfo},f.gui.open(h.TipPlayerInfo,r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r}(l))||b);r._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaKFLog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArenaLog.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./Oops.ts","./ViewUtil.ts","./ArenaLogItem.ts","./Arena.ts","./GameUIConfig.ts"],(function(t){"use strict";var n,e,o,r,i,a,u,s,c,l,f,g,p,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator},function(t){a=t.ArenaLog},function(t){u=t.smc},function(t){s=t.MsgID},function(t){c=t.oops},function(t){l=t.ViewUtil},function(t){f=t.ArenaLogItem},function(t){g=t.FightTicket},function(t){p=t.UIID,h=t.DialogAnimation}],execute:function(){var m;r._RF.push({},"f7b50Y6o2xF7ZMAiKiqRc7e","ArenaKFLog",void 0);var I=i.ccclass;i.property,t("ArenaKFLog",I("ArenaKFLog")(m=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var i=r.prototype;return i.initView=function(t){var n=this;t&&(this.nodePlayList.removeAllChildren(),Object.values(t).forEach((function(t){l.loadPrefabNode("gui/arenaKF/arenaKF_logItem",(function(e){e.parent=n.nodePlayList,e.getComponent(f).initItem(t)}))})))},i.getUIData=function(){var t=e(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.arena.reqUIData(1,s.ArenaLog,1);case 2:null!=(n=t.sent)&&n.ok&&(n.ok?this.initView(n.log):c.gui.toast(n.msg));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.refresh=function(){this.lblItemNum.string=u.accountData.getItemCount(Number(u.arena.arenaKFCostItemID))+""},i.onClickBuyItem=function(){var t={ShopFreeAD:g.ShopIdFreeGoodsKF,ShopBuy:g.ShopIdBuyGoodsKF};c.gui.open(p.TipDuobaoBuyDice,t,h)},r}(a))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaKFMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArenaMain.ts","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./Arena.ts","./ArenaPlayItem.ts","./TableGameConfig.ts","./Util.ts","./ViewUtil.ts","./ArenaKFPalyItem.ts"],(function(n){"use strict";var t,e,a,o,i,r,c,u,l,s,f,m,p,g,h,d,y,I,v;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){o=n.cclegacy,i=n._decorator,r=n.macro},function(n){c=n.ArenaMain},function(n){u=n.oops},function(n){l=n.UIID,s=n.DialogAnimation},function(n){f=n.smc},function(n){m=n.MsgID},function(n){p=n.RankType,g=n.FightTicket},function(n){h=n.ArenaPlayItem},function(n){d=n.TableGameConfig},function(n){y=n.Util},function(n){I=n.ViewUtil},function(n){v=n.ArenaKFPalyItem}],execute:function(){var k;o._RF.push({},"d246eZNBKtIr6n5o4bJxamo","ArenaKFMain",void 0);var A=i.ccclass;i.property,n("ArenaKFMain",A("ArenaKFMain")(k=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var i=o.prototype;return i.initView=function(n){var t=this;n&&(this.runClock(),this.nodePlayList.removeAllChildren(),Object.values(n).forEach((function(n){I.loadPrefabNode("gui/arenaKF/arenaKF_playItem",(function(e){e.parent=t.nodePlayList,e.getComponent(v).initItem(n)}))}))),this.initSelfItem()},i.runClock=function(){var n=this,t=f.arena.getLeftTimeByType(p.Season,!0);t<0?this.lblTime.string="<outline color=black width=3><color=#0fff00>当前赛季已结束</color></outline>":this.lblTime.schedule((function(){if((t=f.arena.getLeftTimeByType(p.Season,!0))>0){var e=y.fmtSecs(t);n.lblTime.string="<outline color=black width=3><color=#ffffff></color><color=#0fff00>"+e+"</color></outline>"}else n.runClock()}),1,r.REPEAT_FOREVER,.1)},i.initSelfItem=function(){var n=f.accountData.id,t=null;Object.entries(this.cfgData).forEach((function(e,a){n==e[0]&&(t=e[1])}));var e=this.nodeSelfItem.getComponent(h);if(t)e.initItem(t);else{var a,o={roleid:f.accountData.id,info:{n:f.accountData.name,f:f.accountData.getZhanli()||0,r:d.arena_rank_max_kf,lg:f.yongbing.level},val:(null==(a=f.arena.ArenaKFInfo)?void 0:a.point)||1e3};e.initItem(o)}},i.getPlayData=function(){var n=e(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.arena.reqUIData(1,m.ArenaRank,1);case 2:null!=(t=n.sent)&&t.ok&&(t.ok?(this.cfgData=t.rank,this.initView(t.rank)):u.gui.toast(t.msg));case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),i.onClickChallengeList=function(){var n=e(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.arena.reqUIData(1,m.ArenaChallenge,1);case 2:null!=(t=n.sent)&&t.ok&&(t.ok?u.gui.open(l.ArenaChallengeKF,t.show):u.gui.toast(t.msg));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),i.refresh=function(){this.lblItemNum.string=f.accountData.getItemCount(Number(f.arena.arenaKFCostItemID))+""},i.onClickBtnLog=function(){u.gui.open(l.ArenaLogKF)},i.onClickBtnReward=function(){u.gui.open(l.ArenaRewardKF)},i.onClickBuyItem=function(){var n={ShopFreeAD:g.ShopIdFreeGoodsKF,ShopBuy:g.ShopIdBuyGoodsKF};u.gui.open(l.TipDuobaoBuyDice,n,s)},o}(c))||k);o._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaKFPalyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArenaPlayItem.ts","./NetProtocol.ts","./HttpChannelManager.ts","./Oops.ts","./GameUIConfig.ts","./PlayerHead.ts","./YongbingTitleItem.ts","./ViewUtil.ts","./GameResPath.ts","./TableGameConfig.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,l,c,u,m,p,f,g,h,d,b,y,v,F,I,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Sprite,u=e.Label},function(e){m=e.ArenaPlayItem},function(e){p=e.MsgID},function(e){f=e.httpChannel},function(e){g=e.oops},function(e){h=e.UIID},function(e){d=e.PlayerHead},function(e){b=e.YongbingTitleItem},function(e){y=e.ViewUtil},function(e){v=e.GameResPath,F=e.RankIcon},function(e){I=e.TableGameConfig},function(e){P=e.smc}],execute:function(){var k,C,G,R,x;s._RF.push({},"5525a/AP/dDKKMKyUBU6CZN","ArenaKFPalyItem",void 0);var _=l.ccclass,A=l.property;e("ArenaKFPalyItem",(k=_("ArenaKFPalyItem"),C=A(c),k((x=t((R=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"imgBG",x,r(t)),t}n(t,e);var s=t.prototype;return s.setBGSpiteFrame=function(e){void 0===e&&(e=!1),e?y.loadSpriteFrame(this.imgBG,"gui/arenaKF/texture/img_xzzjbg/spriteFrame"):y.loadSpriteFrame(this.imgBG,"gui/arenaKF/texture/img_lbgg/spriteFrame")},s.initItem=function(e){this.setBGSpiteFrame((null==e?void 0:e.roleid)==P.accdata.id),this.param=e,this.lblPlayName.string=e.info.n,this.lblFValue.string=e.info.f||0,this.lblJifen.string=e.val,this.spRank.active=Number(e.info.r)<=3,this.lblRank.active=Number(e.info.r)>3,this.nodePlayerHead.getComponent(d).initView(e.info.c),this.nodeYBLevel.getComponent(b).initView(e.info.lg||1),Number(e.info.r)<=3?y.loadSpriteFrame(this.spRank.getComponent(c),v.getSpriteFrameCommon(F[Number(e.info.r)])):Number(e.info.r)<Number(I.arena_rank_max)?this.lblRank.getComponent(u).string=e.info.r:this.lblRank.getComponent(u).string=""+I.arena_rank_max},s.onClickItem=function(){var e=a(o().mark((function e(){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.param.roleid||this.param.roleid==P.accdata.id){e.next=9;break}return t={serverid:this.param.serverid,id:this.param.roleid},e.next=4,f.reqAsync(p.FightRoleInfo,t);case 4:if(null!=(n=e.sent)&&n.ok){e.next=7;break}return e.abrupt("return");case 7:i={roleinfo:n.roleinfo},g.gui.open(h.TipPlayerInfo,i);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(m)).prototype,"imgBG",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=R))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaKFReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArenaReward.ts","./SingletonModuleComp.ts","./ViewUtil.ts","./ArenaKFRewardItem.ts","./Arena.ts","./Util.ts"],(function(e){"use strict";var n,t,r,i,a,o,l,s,c,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,i=e.macro},function(e){a=e.ArenaReward},function(e){o=e.smc},function(e){l=e.ViewUtil},function(e){s=e.ArenaKFRewardItem},function(e){c=e.RankType},function(e){u=e.Util}],execute:function(){var f;t._RF.push({},"57c4f56LgBIxZh2Y9wzymFz","ArenaKFReward",void 0);var d=r.ccclass;r.property,e("ArenaKFReward",d("ArenaKFReward")(f=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.initView=function(){var e,n,t=this;this.lblRank.string="当前排名:"+((null==(e=o.arena)||null==(n=e.ArenaKFInfo)?void 0:n.rank)||"未上榜"),this.runClock();var r=0==Number(this.selectPages)?o.arena.getArenaDailyAwardKF:o.arena.getArenaSeasonAwardKF;if(r){this.nodePlayList.removeAllChildren();var i=Object.keys(r).length;Object.entries(r).forEach((function(e,n){l.loadPrefabNode("gui/arenaKF/arenaKF_rewardItem",(function(r){r.parent=t.nodePlayList,r.getComponent(s).initItem(e[1],i==Number(n)+1)}))}))}var a=0==this.selectPages?"每天0点通过邮件发放排名奖励":"赛季结束后通过邮件发放排名奖励";this.lblDesp.string=a},r.runClock=function(){var e=this,n=o.arena.getLeftTimeByType(c.Season,!0);n<0?this.lblTime.string="<outline color=black width=3><color=#0fff00>当前赛季已结束</color></outline>":this.lblTime.schedule((function(){if((n=o.arena.getLeftTimeByType(c.Season,!0))>0){var t=u.fmtSecs(n);e.lblTime.string="<outline color=black width=3><color=#ffffff></color><color=#0fff00>"+t+"</color></outline>"}else e.runClock()}),1,i.REPEAT_FOREVER,.1)},t}(a))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaKFRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArenaRewardItem.ts"],(function(e){"use strict";var r,t,n,a;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){a=e.ArenaRewardItem}],execute:function(){var c;t._RF.push({},"2ddfelzD3NFY70ko54MO4Y8","ArenaKFRewardItem",void 0);var o=n.ccclass;n.property,e("ArenaKFRewardItem",o("ArenaKFRewardItem")(c=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaLog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./Arena.ts","./NetProtocol.ts","./ArenaLogItem.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,u,c,l,f,p,g,m,h,d,I,y,v,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Label,l=e.Node,f=e.Component},function(e){p=e.smc},function(e){g=e.oops},function(e){m=e.ViewUtil},function(e){h=e.GameEvent},function(e){d=e.UIID,I=e.DialogAnimation},function(e){y=e.FightTicket},function(e){v=e.MsgID},function(e){b=e.ArenaLogItem}],execute:function(){var D,L,A,U,C,w,B;s._RF.push({},"8aedaA8vhZPVLqrOO9ZRtUE","ArenaLog",void 0);var P=u.ccclass,N=u.property;e("ArenaLog",(D=P("ArenaLog"),L=N(c),A=N(l),D((w=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"lblItemNum",w,i(t)),o(t,"nodePlayList",B,i(t)),t}n(t,e);var s=t.prototype;return s.start=function(){this.getUIData(),this.refresh(),g.message.on(h.ItemBagUpdated,this._eventHandler,this)},s.onDestroy=function(){g.message.off(h.ItemBagUpdated,this._eventHandler,this)},s.initView=function(e){var t=this;e&&(this.nodePlayList.removeAllChildren(),Object.values(e).forEach((function(e){m.loadPrefabNode("gui/arena/arena_logItem",(function(n){n.parent=t.nodePlayList,n.getComponent(b).initItem(e)}))})))},s.getUIData=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.arena.reqUIData(1,v.ArenaLog);case 2:null!=(t=e.sent)&&t.ok&&(t.ok?this.initView(t.log):g.gui.toast(t.msg));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.refresh=function(){this.lblItemNum.string=p.accountData.getItemCount(Number(p.arena.arenaCostItemID))+""},s._eventHandler=function(e,t){e==h.ItemBagUpdated&&this.refresh()},s.onClickBuyItem=function(){var e={ShopFreeAD:y.ShopIdFreeGoods,ShopBuy:y.ShopIdBuyGoods};g.gui.open(d.TipDuobaoBuyDice,e,I)},s.onClickClose=function(){g.gui.removeByNode(this.node,!0)},t}(f)).prototype,"lblItemNum",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(C.prototype,"nodePlayList",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=C))||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaLogItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./PlayerHead.ts","./SingletonModuleComp.ts","./Level.ts"],(function(e){"use strict";var t,n,i,r,l,o,a,c,s,u,p,f,b,g,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,s=e.Node,u=e.Label,p=e.color,f=e.Component},function(e){b=e.oops},function(e){g=e.PlayerHead},function(e){m=e.smc},function(e){y=e.LevelArena}],execute:function(){var h,d,v,L,w,P,z,D,A,H,I,J,N;a._RF.push({},"55c18JXNCtNW69dV0laJ6eR","ArenaLogItem",void 0);var C=c.ccclass,F=c.property;e("ArenaLogItem",(h=C("ArenaLogItem"),d=F(s),v=F(u),L=F(u),w=F(u),P=F(u),h((A=t((D=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"nodePlayerHead",A,r(t)),i(t,"lblPlayName",H,r(t)),i(t,"lblLv",I,r(t)),i(t,"lblJifen",J,r(t)),i(t,"lblDate",N,r(t)),t.info=null,t}n(t,e);var a=t.prototype;return a.start=function(){},a.initItem=function(e){this.info=e,this.lblPlayName.string=e.info.n,this.lblLv.string="LV:"+(e.info.lv||1);var t=e.point>=0?"成功:+":"失败:";this.lblJifen.string=""+t+e.point,this.lblJifen.color=e.point>=0?p(0,144,255):p(255,31,0),this.lblDate.string=b.timer.getTimeBefore(new Date(e.time)),this.nodePlayerHead.getComponent(g).initView(e.info.c)},a.clickFight=function(){var e=l(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new y(this.info),m.arena.doFight(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"nodePlayerHead",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(D.prototype,"lblPlayName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(D.prototype,"lblLv",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(D.prototype,"lblJifen",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"lblDate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=D))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./ViewUtil.ts","./GameUIConfig.ts","./ArenaPlayItem.ts","./Arena.ts","./GameEvent.ts","./TableGameConfig.ts","./Util.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,s,c,u,f,m,h,p,g,d,b,y,v,I,k,A,C,D,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Label,u=e.Node,f=e.RichText,m=e.macro,h=e.Component},function(e){p=e.oops},function(e){g=e.smc},function(e){d=e.MsgID},function(e){b=e.ViewUtil},function(e){y=e.UIID,v=e.DialogAnimation},function(e){I=e.ArenaPlayItem},function(e){k=e.RankType,A=e.FightTicket},function(e){C=e.GameEvent},function(e){D=e.TableGameConfig},function(e){w=e.Util}],execute:function(){var T,R,P,S,B,_,L,F,U,z,E,G,N;l._RF.push({},"960ec4AjApF2I0823zFQ+q2","ArenaMain",void 0);var x=s.ccclass,M=s.property;e("ArenaMain",(T=x("ArenaMain"),R=M(c),P=M(u),S=M(f),B=M(u),_=M(u),T((U=t((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblItemNum",U,a(t)),i(t,"nodePlayList",z,a(t)),i(t,"lblTime",E,a(t)),i(t,"nodeSelfItem",G,a(t)),i(t,"btnFight",N,a(t)),t.cfgData=void 0,t}n(t,e);var l=t.prototype;return l.start=function(){this.getPlayData(),this.refresh(),p.message.on(C.ItemBagUpdated,this._eventHandler,this),p.message.on(C.AreneRank,this._eventHandler,this)},l.onDestroy=function(){p.message.off(C.ItemBagUpdated,this._eventHandler,this),p.message.off(C.AreneRank,this._eventHandler,this)},l.initView=function(e){var t=this;e&&(this.runClock(),this.nodePlayList.removeAllChildren(),Object.values(e).forEach((function(e){b.loadPrefabNode("gui/arena/arena_playItem",(function(n){n.parent=t.nodePlayList,n.getComponent(I).initItem(e)}))}))),this.initSelfItem()},l.runClock=function(){var e=this,t=g.arena.getLeftTimeByType(k.Season);t<0?this.lblTime.string="<outline color=black width=3><color=#0fff00>当前赛季已结束</color></outline>":this.lblTime.schedule((function(){if((t=g.arena.getLeftTimeByType(k.Season))>0){var n=w.fmtSecs(t);e.lblTime.string="<outline color=black width=3><color=#ffffff></color><color=#0fff00>"+n+"</color></outline>"}else e.runClock()}),1,m.REPEAT_FOREVER,.1)},l.initSelfItem=function(){var e=g.accountData.id,t=null;Object.entries(this.cfgData).forEach((function(n,i){e==n[0]&&(t=n[1])}));var n=this.nodeSelfItem.getComponent(I);if(t)n.initItem(t);else{var i,a={n:g.accountData.name,f:g.accountData.getZhanli()||0,p:(null==(i=g.arena.ArenaInfo)?void 0:i.point)||1e3,r:D.arena_rank_max,lg:g.yongbing.level};n.initItem(a)}},l.getPlayData=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.arena.reqUIData(1,d.ArenaRank);case 2:null!=(t=e.sent)&&t.ok&&(t.ok?(this.cfgData=t.rank,this.initView(t.rank)):p.gui.toast(t.msg));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onClickChallengeList=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.arena.reqUIData(1,d.ArenaChallenge);case 2:null!=(t=e.sent)&&t.ok&&(t.ok?p.gui.open(y.ArenaChallenge,t.show):p.gui.toast(t.msg));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.refresh=function(){this.lblItemNum.string=g.accountData.getItemCount(Number(g.arena.arenaCostItemID))+"",w.setRedot(this.btnFight,g.arena.RedCostItem())},l._eventHandler=function(e,t){e==C.ItemBagUpdated?this.refresh():e==C.AreneRank&&this.getPlayData()},l.onClickBtnLog=function(){p.gui.open(y.ArenaLog)},l.onClickBtnReward=function(){p.gui.open(y.ArenaReward)},l.onClickBuyItem=function(){var e={ShopFreeAD:A.ShopIdFreeGoods,ShopBuy:A.ShopIdBuyGoods};p.gui.open(y.TipDuobaoBuyDice,e,v)},l.onClickClose=function(){p.gui.removeByNode(this.node,!0)},t}(h)).prototype,"lblItemNum",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(F.prototype,"nodePlayList",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(F.prototype,"lblTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(F.prototype,"nodeSelfItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(F.prototype,"btnFight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=F))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaPlayItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./NetProtocol.ts","./TableGameConfig.ts","./PlayerHead.ts","./YongbingTitleItem.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var n,t,i,r,a,l,o,u,s,c,p,m,b,f,g,y,h,d,P,k,R,v,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,s=e.Node,c=e.Label,p=e.Sprite,m=e.Component},function(e){b=e.oops},function(e){f=e.ViewUtil},function(e){g=e.GameResPath,y=e.RankIcon},function(e){h=e.UIID},function(e){d=e.httpChannel},function(e){P=e.MsgID},function(e){k=e.TableGameConfig},function(e){R=e.PlayerHead},function(e){v=e.YongbingTitleItem},function(e){I=e.smc}],execute:function(){var w,C,N,z,x,T,_,A,F,H,S,V,D,G,L,M,Y;o._RF.push({},"c4ae3jQP7RDSKn3MS5xhWTs","ArenaPlayItem",void 0);var B=u.ccclass,U=u.property;e("ArenaPlayItem",(w=B("ArenaPlayItem"),C=U(s),N=U(s),z=U(s),x=U(c),T=U(c),_=U(c),A=U(s),w((S=n((H=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,i(n,"nodePlayerHead",S,r(n)),i(n,"lblRank",V,r(n)),i(n,"spRank",D,r(n)),i(n,"lblPlayName",G,r(n)),i(n,"lblFValue",L,r(n)),i(n,"lblJifen",M,r(n)),i(n,"nodeYBLevel",Y,r(n)),n.param=void 0,n}t(n,e);var o=n.prototype;return o.start=function(){},o.initItem=function(e){this.param=e,this.lblPlayName.string=e.n,this.lblFValue.string=e.f||0,this.lblJifen.string=e.p,this.spRank.active=Number(e.r)<=3,this.lblRank.active=Number(e.r)>3,this.nodePlayerHead.getComponent(R).initView(e.c),this.nodeYBLevel.getComponent(v).initView(e.lg||1),Number(e.r)<=3?f.loadSpriteFrame(this.spRank.getComponent(p),g.getSpriteFrameCommon(y[Number(e.r)])):Number(e.r)<Number(k.arena_rank_max)?this.lblRank.getComponent(c).string=e.r:this.lblRank.getComponent(c).string=""+k.arena_rank_max},o.onClickItem=function(){var e=a(l().mark((function e(){var n,t,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.param.id||this.param.id==I.accdata.id){e.next=9;break}return n={id:Number(this.param.id)},e.next=4,d.reqAsync(P.ArenaRoleInfo,n);case 4:if(null!=(t=e.sent)&&t.ok){e.next=7;break}return e.abrupt("return");case 7:i={roleinfo:t.roleinfo},b.gui.open(h.TipPlayerInfo,i);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n}(m)).prototype,"nodePlayerHead",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(H.prototype,"lblRank",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(H.prototype,"spRank",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(H.prototype,"lblPlayName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(H.prototype,"lblFValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(H.prototype,"lblJifen",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(H.prototype,"nodeYBLevel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=H))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ArenaRewardItem.ts","./SingletonModuleComp.ts","./Oops.ts","./Arena.ts","./Util.ts"],(function(e){"use strict";var t,n,i,l,r,o,a,s,c,u,f,b,p,h,d,m,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.RichText,s=e.Node,c=e.Label,u=e.macro,f=e.color,b=e.Component},function(e){p=e.ViewUtil},function(e){h=e.ArenaRewardItem},function(e){d=e.smc},function(e){m=e.oops},function(e){g=e.RankType},function(e){y=e.Util}],execute:function(){var w,k,v,C,R,A,P,T,L,D,S,z,E,I,V;r._RF.push({},"f035eAGRLBCQL4HQEPbWkCt","ArenaReward",void 0);var _=o.ccclass,B=o.property;e("ArenaReward",(w=_("ArenaReward"),k=B(a),v=B(s),C=B(c),R=B(c),A=B(c),P=B(c),w((D=t((L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lblTime",D,l(t)),i(t,"nodePlayList",S,l(t)),i(t,"lblDaily",z,l(t)),i(t,"lblSeason",E,l(t)),i(t,"lblRank",I,l(t)),i(t,"lblDesp",V,l(t)),t.selectPages=0,t}n(t,e);var r=t.prototype;return r.start=function(){this.initView()},r.initView=function(){var e=this;this.lblRank.string="当前排名:"+(d.arena.ArenaInfo.rank||"未上榜"),this.runClock();var t=0==Number(this.selectPages)?d.arena.getArenaDailyAward:d.arena.getArenaSeasonAward;if(t){this.nodePlayList.removeAllChildren();var n=Object.keys(t).length;Object.entries(t).forEach((function(t,i){p.loadPrefabNode("gui/arena/arena_rewardItem",(function(l){l.parent=e.nodePlayList,l.getComponent(h).initItem(t[1],n==Number(i)+1)}))}))}var i=0==this.selectPages?"每天0点通过邮件发放排名奖励":"赛季结束后通过邮件发放排名奖励";this.lblDesp.string=i},r.runClock=function(){var e=this,t=d.arena.getLeftTimeByType(g.Season);t<0?this.lblTime.string="<outline color=black width=3><color=#0fff00>当前赛季已结束</color></outline>":this.lblTime.schedule((function(){if((t=d.arena.getLeftTimeByType(g.Season))>0){var n=y.fmtSecs(t);e.lblTime.string="<outline color=black width=3><color=#ffffff></color><color=#0fff00>"+n+"</color></outline>"}else e.runClock()}),1,u.REPEAT_FOREVER,.1)},r.onClickEvent=function(e,t){this.selectPages=t,this.initView()},r.onCheckEvent=function(e,t){0==parseInt(t)?this.lblDaily.getComponent(c).color=e.isChecked?f(255,255,255):f(232,177,125):1==parseInt(t)&&(this.lblSeason.getComponent(c).color=e.isChecked?f(255,255,255):f(232,177,125))},r.onClickClose=function(){m.gui.removeByNode(this.node,!0)},t}(b)).prototype,"lblTime",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(L.prototype,"nodePlayList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(L.prototype,"lblDaily",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(L.prototype,"lblSeason",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(L.prototype,"lblRank",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(L.prototype,"lblDesp",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=L))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemsGroup.ts","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var t,n,i,a,r,o,l,s,c,m,p,u,b,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,s=e.Sprite,c=e.Label,m=e.Component},function(e){p=e.ItemsGroup},function(e){u=e.ViewUtil},function(e){b=e.GameResPath,R=e.RankIcon}],execute:function(){var h,d,f,k,g,v,w,y,I;r._RF.push({},"3121bQRw8ZPp5nOeVHWPEMo","ArenaRewardItem",void 0);var N=o.ccclass,C=o.property;e("ArenaRewardItem",(h=N("ArenaRewardItem"),d=C(l),f=C(l),k=C(l),h((w=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lblRank",w,a(t)),i(t,"spRank",y,a(t)),i(t,"Nodeitems",I,a(t)),t}n(t,e);var r=t.prototype;return r.start=function(){},r.initItem=function(e,t){this.spRank.active=!1,this.lblRank.active=!1,Number(e.min)==Number(e.max)?Number(e.min)<=3?(u.loadSpriteFrame(this.spRank.getComponent(s),b.getSpriteFrameCommon(R[Number(e.min)])),this.spRank.active=!0):(this.lblRank.active=!0,this.lblRank.getComponent(c).string=e.min):(this.lblRank.active=!0,this.lblRank.getComponent(c).string=t?e.max+"名以后":e.min+"~"+e.max),this.Nodeitems.addComponent(p).init(e.award)},t}(m)).prototype,"lblRank",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(v.prototype,"spRank",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"Nodeitems",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(r){"use strict";var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"4613b2zY/dMSaGPBGo6eti3","ArrayUtil",void 0);r("ArrayUtil",function(){function r(){}return r.noRepeated=function(r){for(var n=[r[0]],t=1;t<r.length;t++){for(var e=!1,o=0;o<n.length;o++)if(r[t]==n[o]){e=!0;break}e||n.push(r[t])}return n},r.copy2DArray=function(r){for(var n=[],t=0;t<r.length;t++)n.push(r[t].concat());return n},r.fisherYatesShuffle=function(r){for(var n=r.length;n;){var t=Math.floor(Math.random()*n--),e=r[n];r[n]=r[t],r[t]=e}return r},r.confound=function(r){return r.slice().sort((function(){return Math.random()-.5}))},r.flattening=function(r){for(;r.some((function(r){return Array.isArray(r)}));)r=[].concat.apply([],r);return r},r.removeItem=function(r,n){for(var t=r.concat(),e=0;e<t.length;e++){if(n==t[e]){r.splice(e,1);break}}},r.combineArrays=function(r,n){return[].concat(r,n)},r.getRandomValueInArray=function(r){return r[Math.floor(Math.random()*r.length)]},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){"use strict";var n,i,e,u;return{setters:[function(s){n=s.createClass},function(s){i=s.cclegacy,e=s.warn,u=s.log}],execute:function(){i._RF.push({},"8c48bBN521JzIxhITJunFji","AsyncQueue",void 0),s("AsyncQueue",function(){function s(){this._runningAsyncTask=null,this._queues=[],this._isProcessingTaskUUID=0,this._enable=!0,this.complete=null}var i=s.prototype;return i.push=function(n,i){void 0===i&&(i=null);var e=s._$uuid_count++;return this._queues.push({uuid:e,callbacks:[n],params:i}),e},i.pushMulti=function(n){for(var i=s._$uuid_count++,e=arguments.length,u=new Array(e>1?e-1:0),t=1;t<e;t++)u[t-1]=arguments[t];return this._queues.push({uuid:i,callbacks:u,params:n}),i},i.remove=function(s){var n;if((null==(n=this._runningAsyncTask)?void 0:n.uuid)!==s){for(var i=0;i<this._queues.length;i++)if(this._queues[i].uuid===s){this._queues.splice(i,1);break}}else e("正在执行的任务不可以移除")},i.clear=function(){this._queues=[],this._isProcessingTaskUUID=0,this._runningAsyncTask=null},i.step=function(){this.isProcessing&&this.next(this._isProcessingTaskUUID)},i.play=function(s){var n=this;if(void 0===s&&(s=null),!this.isProcessing&&this._enable){var i=this._queues.shift();if(i){this._runningAsyncTask=i;var e=i.uuid;this._isProcessingTaskUUID=e;var u=i.callbacks;if(1==u.length){u[0]((function(s){void 0===s&&(s=null),n.next(e,s)}),i.params,s)}else for(var t=u.length,r=[],c=function(s){void 0===s&&(s=null),--t,r.push(s||null),0===t&&n.next(e,r)},l=t,a=0;a<l;a++)u[a](c,i.params,s)}else this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.complete&&this.complete(s)}},i.yieldTime=function(s,n){void 0===n&&(n=null);this.push((function(i,e,u){var t=setTimeout((function(){clearTimeout(t),n&&n(),i(u)}),s)}),{des:"AsyncQueue.yieldTime"})},i.next=function(s,n){void 0===n&&(n=null),this._isProcessingTaskUUID===s?(this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.play(n)):this._runningAsyncTask&&u(this._runningAsyncTask)},s.excuteTimes=function(s,n){void 0===n&&(n=null);var i=s;return function(){0===--i&&n&&n()}},n(s,[{key:"queues",get:function(){return this._queues}},{key:"enable",get:function(){return this._enable},set:function(s){this._enable!==s&&(this._enable=s,s&&this.size>0&&this.play())}},{key:"size",get:function(){return this._queues.length}},{key:"isProcessing",get:function(){return this._isProcessingTaskUUID>0}},{key:"isStop",get:function(){return!(this._queues.length>0)&&!this.isProcessing}},{key:"runningParams",get:function(){return this._runningAsyncTask?this._runningAsyncTask.params:null}}]),s}())._$uuid_count=1,i._RF.pop()}}}));

System.register("chunks:///_virtual/AttrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./TableGameAttr.ts"],(function(t){"use strict";var e,i,n,l,r,a,o,s,u,c,m,p,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,o=t.Sprite,s=t.Label,u=t.Color,c=t.Component},function(t){m=t.ViewUtil},function(t){p=t.AttrIcon,h=t.GameResPath},function(t){b=t.TableGameAttr}],execute:function(){var f,g,F,v,y,V,d,I,A,w,C;r._RF.push({},"5ed224W801CZrEP4FW0jTsP","AttrItem",void 0);var N=a.ccclass,S=a.property;t("AttrItem",(f=N("AttrItem"),g=S(o),F=S(s),v=S(s),y=S(o),f((I=e((d=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"spIcon",I,l(e)),n(e,"lblName",A,l(e)),n(e,"lblValue",w,l(e)),n(e,"spFlag",C,l(e)),e.useSemicolon=!1,e}i(e,t);var r=e.prototype;return r.init=function(t,i){void 0===i&&(i=!1),this.useSemicolon=i;var n=b[t[0]];return this.initCommon(t[0],n),this.lblValue.string=e.FmtAttrValue(t),this},r.initByKey=function(t,e){var i=b[t];return this.initCommon(t,i),this.lblValue.string=e,this},r.initTitle=function(t){return this.lblName.string=t+(this.useSemicolon?":":""),this.lblValue.string="",this},r.setColor=function(t){var e=new u(t);this.lblName.color=e,this.lblValue.color=e},r.setFlag=function(t){void 0===t&&(t=null),this.spFlag&&(this.spFlag.node.active=null!=t,t&&(this.spFlag.spriteFrame=t))},r.getFlag=function(){return this.spFlag},r.initCommon=function(t,e){if(this.lblName&&(this.lblName.string=e.name+(this.useSemicolon?":":"")),this.spIcon&&t in p){var i=h.getSpriteFrameCommon(p[t]);m.loadSpriteFrame(this.spIcon,i)}},r.getValueLabel=function(){return this.lblValue},r.getNameLabel=function(){return this.lblName},e.FmtAttrValue=function(t){var e=b[t[0]];return 1e4===parseInt(e.per_unit)?(t[1]/100).toFixed(1)+"%":t[1]+""},e}(c)).prototype,"spIcon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(d.prototype,"lblName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(d.prototype,"lblValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(d.prototype,"spFlag",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=d))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/AttrItemNew.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameAttr.ts","./AttrItemNewSub.ts"],(function(t){"use strict";var e,r,i,n,a,o,l,c,u,s,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Label,c=t.Prefab,u=t.instantiate,s=t.Component},function(t){p=t.TableGameAttr},function(t){b=t.AttrItemNewSub}],execute:function(){var f,m,w,A,h,v,y;a._RF.push({},"ca75ctUMipOBZZFcJn7ILra","AttrItemNew",void 0);var I=o.ccclass,N=o.property;t("AttrItemNew",(f=I("AttrItemNew"),m=N(l),w=N(c),f((v=e((h=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"lblTitle",v,n(e)),i(e,"itemAttrNewSub",y,n(e)),e}r(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){},a.init=function(t,e,r){var i=this;this.lblTitle.string=t,e.forEach((function(t,e){var n=p[t];if(n){var a=r[t]||0,o=1e4===parseInt(n.per_unit)?(a/100).toFixed(1)+"%":a+"",l=u(i.itemAttrNewSub);l.parent=i.node,l.getComponent(b).init(n.name,o)}}))},e}(s)).prototype,"lblTitle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(h.prototype,"itemAttrNewSub",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=h))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/AttrItemNewSub.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,o,n,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,u=t.RichText,l=t.Component}],execute:function(){var a,s,p,f,b;n._RF.push({},"8b2ed3uJjFGor8t3uH1FQuI","AttrItemNewSub",void 0);var h=c.ccclass,d=c.property;t("AttrItemNewSub",(a=h("AttrItemNewSub"),s=d(u),a((b=e((f=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,i(e,"rich",b,o(e)),e}r(e,t);var n=e.prototype;return n.start=function(){},n.update=function(t){},n.init=function(t,e){this.rich.string="<outline color=black width=3><b><color=#fbe58d>"+t+":</color><color=#00ff00>+"+e+"</color></b></outline>"},e}(l)).prototype,"rich",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var t,o,r,c,s,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,c=e.AudioClip,s=e.error,n=e.AudioSource},function(e){i=e.oops}],execute:function(){var u;o._RF.push({},"e52d2ysY1BEbpcT2Cz0Wwss","AudioEffect",void 0);var f=r.ccclass;r.menu,e("AudioEffect",f("AudioEffect")(u=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).effects=new Map,t}t(o,e);var r=o.prototype;return r.load=function(e,t){var o=this;i.res.load(e,c,(function(r,c){r&&s(r),o.effects.set(e,c),o.playOneShot(c,o.volume),t&&t()}))},r.release=function(){for(var e in this.effects)i.res.release(e);this.effects.clear()},o}(n))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AudioEffect.ts","./AudioMusic.ts"],(function(t){"use strict";var i,s,e,c,u,o,f;return{setters:[function(t){i=t.inheritsLoose,s=t.createClass},function(t){e=t.cclegacy,c=t.Component},function(t){u=t.oops},function(t){o=t.AudioEffect},function(t){f=t.AudioMusic}],execute:function(){e._RF.push({},"252f0z+vPNL8Y/jsLYmomtw","AudioManager",void 0);var h="game_audio";t("AudioManager",function(t){function e(){for(var i,s=arguments.length,e=new Array(s),c=0;c<s;c++)e[c]=arguments[c];return(i=t.call.apply(t,[this].concat(e))||this).local_data={},i._volume_music=1,i._volume_effect=1,i._switch_music=!0,i._switch_effect=!0,i}i(e,t);var c=e.prototype;return c.setMusicComplete=function(t){void 0===t&&(t=null),this.music.onComplete=t},c.playMusic=function(t,i){this._switch_music&&this.music.load(t,i)},c.playMusicLoop=function(t){this._switch_music&&(this.music.loop=!0,this.music.load(t))},c.isMusicPlaying=function(){var t;return null==(t=this.music)?void 0:t.playing},c.playEffect=function(t){this._switch_effect&&this.effect.load(t)},c.resumeAll=function(){var t,i;this._switch_music&&(null==(t=this.music)||t.play()),this._switch_effect&&(null==(i=this.effect)||i.play())},c.pauseAll=function(){this.music&&(this.music.pause(),this.effect.pause())},c.stopAll=function(){this.music&&(this.music.stop(),this.effect.stop())},c.save=function(){this.local_data.volume_music=this._volume_music,this.local_data.volume_effect=this._volume_effect,this.local_data.switch_music=this._switch_music,this.local_data.switch_effect=this._switch_effect;var t=JSON.stringify(this.local_data);u.storage.set(h,t,!0)},c.load=function(){this.music=this.getComponent(f)||this.addComponent(f),this.music.playOnAwake=!1,this.effect=this.getComponent(o)||this.addComponent(o),this.effect.playOnAwake=!1;var t=u.storage.get(h,null,!0);if(t){try{this.local_data=JSON.parse(t),this._volume_music=this.local_data.volume_music,this._volume_effect=this.local_data.volume_effect,this._switch_music=this.local_data.switch_music,this._switch_effect=this.local_data.switch_effect}catch(t){this.local_data={},this._volume_music=1,this._volume_effect=1,this._switch_music=!0,this._switch_effect=!0}this.music&&(this.music.volume=this._volume_music),this.effect&&(this.effect.volume=this._volume_effect)}},s(e,[{key:"progressMusic",get:function(){return this.music.progress},set:function(t){this.music.progress=t}},{key:"volumeMusic",get:function(){return this._volume_music},set:function(t){this._volume_music=t,this.music.volume=t}},{key:"switchMusic",get:function(){return this._switch_music},set:function(t){var i;(this._switch_music=t,0==t)&&(null==(i=this.music)||i.stop())}},{key:"volumeEffect",get:function(){return this._volume_effect},set:function(t){this._volume_effect=t,this.effect.volume=t}},{key:"switchEffect",get:function(){return this._switch_effect},set:function(t){this._switch_effect=t,0==t&&this.effect.stop()}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMusic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var r,i,s,o,e,u,n,c;return{setters:[function(t){r=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,o=t._decorator,e=t.AudioClip,u=t.error,n=t.AudioSource},function(t){c=t.oops}],execute:function(){var l;s._RF.push({},"5c1f3kqGetBiIv48/CvuaQv","AudioMusic",void 0);var a=o.ccclass;o.menu,t("AudioMusic",a("AudioMusic")(l=function(t){function s(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=t.call.apply(t,[this].concat(s))||this).onComplete=null,r._progress=0,r._url=null,r._isPlay=!1,r}return r(s,t),s.prototype.load=function(t,r){var i=this;c.res.load(t,e,(function(s,o){s&&u(s),i.playing&&(i._isPlay=!1,i.stop()),i.enabled=!0,i.clip=o,r&&r(),i.play(),i._url=t}))},i(s,[{key:"progress",get:function(){return this.duration>0&&(this._progress=this.currentTime/this.duration),this._progress},set:function(t){this._progress=t,this.currentTime=t*this.duration}}]),s}(n))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/Badge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoundRectMask.ts"],(function(t){"use strict";var e,i,o,n,r,a,l,s,d,h,u,c,g,p,b,f,N,y,m,C,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,s=t.Enum,d=t.SpriteFrame,h=t.CCInteger,u=t.color,c=t.UITransform,g=t.Vec3,p=t.Label,b=t.Node,f=t.Layers,N=t.Mask,y=t.Sprite,m=t.Overflow,C=t.Component},function(t){v=t.RoundRectMask}],execute:function(){var w,T,P,z,E,I,_,B,x,O,R,S,L,F,k,D;t("Position",void 0),a._RF.push({},"bac76ow94VI+IpAB1DQUKfq","Badge",void 0);var A,H=l.ccclass,M=l.property;!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT"}(A||(A=t("Position",{}))),s(A);t("Badge",(w=H("Badge"),T=M({type:d,tooltip:"背景"}),P=M({tooltip:"内容"}),z=M({type:h,tooltip:"宽"}),E=M({type:h,tooltip:"高"}),I=M({type:h,tooltip:"圆角"}),_=M({type:A,tooltip:"位置\n 0: 左上角 \n 1: 右上角"}),w(((D=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"bg",O,n(e)),o(e,"string",R,n(e)),o(e,"width",S,n(e)),o(e,"height",L,n(e)),o(e,"radius",F,n(e)),o(e,"position",k,n(e)),e.badgeNode=null,e.color=u(214,30,30,240),e.textColor=u(255,255,255,255),e.labelNode=null,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.initBadge()},a.initBadge=function(){var t=this.createBadge();this.node.addChild(t)},a.setPosition=function(t){var e,i,o=null==(e=this.node.getComponent(c))?void 0:e.contentSize;null==(i=this.badgeNode.getComponent(c))||i.contentSize;switch(t){case A.TOP_LEFT:var n=-o.width/2,r=o.height/2;this.badgeNode.setPosition(new g(n,r,0));break;case A.TOP_RIGHT:var a=o.width/2,l=o.height/2;this.badgeNode.setPosition(new g(a,l,0))}},a.setText=function(t){this.text=t;var e=this.labelNode.getComponent(p);return e&&(e.string=this.text,e.color=this.textColor),this},a.createBadge=function(){var t,e,i;this.badgeNode=new b("BadgeNode");var o=new b("backgroundNode");this.labelNode=new b("labelNode"),this.badgeNode.layer=f.Enum.UI_2D,o.layer=f.Enum.UI_2D,this.labelNode.layer=f.Enum.UI_2D,this.badgeNode.addComponent(N),this.badgeNode.addComponent(v).radius=this.radius,null==(t=this.badgeNode.getComponent(c))||t.setContentSize(this.width,this.height),this.badgeNode.active=!0;var n=o.addComponent(y);n.type=y.Type.SIMPLE,n.color=this.color,n.spriteFrame=this.bg,null==(e=o.getComponent(c))||e.setContentSize(this.width,this.height);var r=this.labelNode.addComponent(p);return null==(i=r.getComponent(c))||i.setContentSize(this.width,this.height),r.string=this.text,r.color=this.textColor,r.fontSize=18,r.isBold=!0,r.horizontalAlign=p.HorizontalAlign.CENTER,r.verticalAlign=p.VerticalAlign.CENTER,r.lineHeight=0,r.overflow=m.NONE,r.enableWrapText=!1,this.badgeNode.addChild(o),this.badgeNode.addChild(this.labelNode),this.setPosition(this.position),this.badgeNode},a.start=function(){},r(e,[{key:"text",get:function(){return this.string},set:function(t){this.string=t,this.setText(t)}}]),e}(C)).POSITION=void 0,O=e((x=D).prototype,"bg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(x.prototype,"string",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"6"}}),S=e(x.prototype,"width",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),L=e(x.prototype,"height",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 26}}),F=e(x.prototype,"radius",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),k=e(x.prototype,"position",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.TOP_LEFT}}),B=x))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/Bag.ts",["cc","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameItem.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,o,c,i,r,u;return{setters:[function(t){e=t.cclegacy},function(t){n=t.oops},function(t){o=t.UIID},function(t){c=t.smc},function(t){i=t.TableGameConfig},function(t){r=t.TableGameItem},function(t){u=t.TableUtil}],execute:function(){e._RF.push({},"d8b4c/gFWpHL4azq2Pcc1rs","Bag",void 0);var s=t("Bag",function(){function t(){}var e=t.prototype;return e.checkCost=function(t,e){var n=this;return void 0===e&&(e=!1),t&&!Object.entries(t).sort((function(t,e){return Number(e[0])-Number(t[0])})).some((function(t){var o=t[0],c=t[1];return!n.checkCostSingle(o,c,e)}))},e.checkCostByType=function(t,e,n){var o=this;return void 0===n&&(n=!1),t&&!Object.entries(t).filter((function(t){var n=t[0];t[1];return u.getItemType(n)==e})).some((function(t){var e=t[0],c=t[1];return!o.checkCostSingle(e,c,n)}))},e.checkCostSingle=function(t,e,o){if(void 0===e&&(e=1),void 0===o&&(o=!1),!t)return!0;if(c.accdata.getItemCount(t)<e){if(o){var i="["+u.getItemName(t)+"]不足";this.showAccess(t,i+"，点击前往获取")||n.gui.toast(i)}return!1}return!0},e.showAccess=function(t,e){var c;void 0===e&&(e=null);var i=u.get(r,Number(t));return!(null==(c=i.access)||!c.length)&&(n.gui.open(o.TipAccess,{id:t,cfg:i,title:e}),!0)},e.getItemCount=function(t){return c.accdata.getItemCount(t)},e.getDiamond=function(){return this.getItemCount(i.moneyId_diamond)},e.getGoldCoin=function(){return this.getItemCount(i.moneyId_goldcoin)},t}());t("bag",new s);e._RF.pop()}}}));

System.register("chunks:///_virtual/BagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameResPath.ts","./GameUIConfig.ts","./TableGameItem.ts"],(function(t){"use strict";var e,i,n,r,l,o,a,s,c,u,p,b,m,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,a=t.Sprite,s=t.Label,c=t.Component},function(t){u=t.oops},function(t){p=t.ViewUtil},function(t){b=t.EItemType},function(t){m=t.GameResPath},function(t){f=t.UIID},function(t){g=t.TableGameItem}],execute:function(){var h,I,y,d,v,w,B,C,G,S,z,D,F;l._RF.push({},"a2eeebsYz1JHqZpCA0vmjsy","BagItem",void 0);var T=o.ccclass,N=o.property;t("BagItem",(h=T("BagItem"),I=N(a),y=N(a),d=N(s),v=N(s),w=N(s),h((G=e((C=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,n(e,"spBG",G,r(e)),n(e,"spIcon",S,r(e)),n(e,"lblName",z,r(e)),n(e,"lblCount",D,r(e)),n(e,"lblDebug",F,r(e)),e.cfg=new g,e.cb=void 0,e}i(e,t);var l=e.prototype;return l.start=function(){this.lblDebug&&(this.lblDebug.string="")},l.init=function(t,i){return void 0===i&&(i=1),this.cfg.init(Number(t)),this.spBG&&p.loadSpriteFrame(this.spBG,m.getItemQualitySpriteFrame(this.cfg.quality)),e.loadItemIcon(this.spIcon,this.cfg),this.lblName&&(this.lblName.string=this.cfg.name),this.lblCount&&(this.lblCount.string=i>1?"x"+i:""),this},l.init2=function(t){var e=Object.entries(t)[0];return this.init(Number(e[0]),e[1])},l.onClick=function(){this.cb?this.cb():this.showTip()},l.showTip=function(){var t={id:this.cfg.id,cfg:this.cfg};u.gui.open(f.TipItem,t)},l.setClickCB=function(t){this.cb=t},e.loadItemIcon=function(t,e){if(e.type==b.SKILL){var i=m.getSkillSpriteFrame({icon:e.icon});p.loadSpriteFrame(t,i)}else{var n=m.getItemSpriteFrame(e);p.loadSpriteFrame(t,n)}},e}(c)).prototype,"spBG",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(C.prototype,"spIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(C.prototype,"lblName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(C.prototype,"lblCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(C.prototype,"lblDebug",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=C))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/Battle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameUIConfig.ts","./UMASDK.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./BattleEvent.ts","./BattleMain.ts"],(function(t){"use strict";var e,n,r,i,u,s,a,o,l,c,f,h,p,g,v;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,u=t.Prefab},function(t){s=t.oops},function(t){a=t.ViewUtil},function(t){o=t.EFightResults,l=t.EFightCamp},function(t){c=t.UIID},function(t){f=t.UMASDK},function(t){h=t.smc},function(t){p=t.TableGameConfig},function(t){g=t.BattleEvent},function(t){v=t.BattleScene}],execute:function(){var d;i._RF.push({},"b04a4YS8BZH6JdxrtG87Tqi","Battle",void 0),function(t){t[t.X1=2.5]="X1",t[t.X2=6]="X2"}(d||(d={}));var m=t("Battle",function(){function t(){this.moveSpeed=200,this.battleEventInterval=2.5,this.timescale=d.X1,this.level=null,this.stage=null,this.fightInfo=null,this._orders=null,this._roles=new Map}var i=t.prototype;return i.init=function(t){this.level=t,this.stage=0},i.prepare=function(){var t=n(r().mark((function t(){var e,n,i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.reqFight(),n=new Promise((function(t,e){s.res.loadDir("game",u,(function(n){n?e(n):t()}))})),t.next=4,Promise.all([e,n]);case 4:if(i=t.sent,null!=(a=i[0])&&a.ok){t.next=9;break}return s.gui.toast(null==a?void 0:a.msg),t.abrupt("return",!1);case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.create=function(){var t=n(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.playing){t.next=3;break}return s.gui.toast("请等待战斗结束"),t.abrupt("return",null);case 3:return this.init(e),t.next=6,this.prepare();case 6:if(t.sent){t.next=8;break}return t.abrupt("return",null);case 8:return n=a.createPrefabNode("game/battle"),t.abrupt("return",null==n?void 0:n.getComponent(v));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.createAndPlay=function(){var t=n(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.playing){t.next=3;break}return s.gui.toast("请等待战斗结束"),t.abrupt("return",!1);case 3:return s.gui.blockInputEvents(),this.init(e),t.next=7,this.prepare();case 7:if(t.sent){t.next=10;break}return s.gui.blockInputEvents(!1),t.abrupt("return",!1);case 10:return t.next=12,s.gui.openAsync(c.Battle);case 12:return n=t.sent,s.gui.blockInputEvents(!1),n&&f.onFightStart(e),t.abrupt("return",null==n?void 0:n.getComponent(v).playing());case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.reqFight=function(){var t=n(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.level.reqFight(this.stage);case 2:return e=t.sent,this.fightInfo=null!=e&&e.ok?e:null,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.setOrders=function(t){this._orders=[].concat(t)},i.getOrders=function(){return this._orders&&this._orders.length===h.accdata.roles.length||(this._orders=h.accdata.roles.reduce((function(t,e,n){return t.push(n),t}),[])),this._orders},i.setRole=function(t,e){e?this._roles.set(t,e):this._roles.delete(t)},i.getRole=function(t){return this._roles.get(t)},i.getRoles=function(t){void 0===t&&(t=null);var e=Array.from(this._roles.values());return t?e.filter(t):e},i.getRecordData=function(){var t=new Array;return this.fightInfo.rounds.forEach((function(e){e.acts.forEach((function(n){var r=new g(e.rounds,n);t.push(r)}))})),t},i.getResult=function(){var t;return null==(t=this.fightInfo)?void 0:t.results},i.isWin=function(){return this.getResult()==o.WIN},i.getHaloId=function(t){var e,n,r,i,u,s,a,o;return t===l.OUR?null!=(e=null==(n=this.fightInfo.campdata)||null==(r=n.our)||null==(i=r.aureole)?void 0:i.id)?e:0:t===l.ENEMY&&null!=(u=null==(s=this.fightInfo.campdata)||null==(a=s.enemy)||null==(o=a.aureole)?void 0:o.id)?u:0},i.check2XValid=function(t){return void 0===t&&(t=!1),!(h.accdata.heroLevel<p.battle_x2_open_level)||(t&&s.gui.toast("角色达到Lv."+p.battle_x2_open_level+"后开放"),!1)},i.getGameLevelUIID=function(){return 2==p.gamelevels_mode?c.TipLevel2:c.TipLevel},i.doSkip=function(){this.fightInfo=this.level.doSkip(this.fightInfo)},i.clear=function(){this.level=null,this.stage=null,this.fightInfo=null,this._roles.clear()},e(t,[{key:"playing",get:function(){return null!=this.fightInfo}},{key:"actorInfo",get:function(){return this.fightInfo.objInfo}},{key:"nextStage",get:function(){return this.level.getNextStage(this.fightInfo)}}]),t}());m.TimeScale=d;t("battle",new m);i._RF.pop()}}}));

System.register("chunks:///_virtual/BattleDebug.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts"],(function(t){"use strict";var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component},null,null],execute:function(){var u;n._RF.push({},"9a9f7rVDSxHmpz7iKDqgGGG","BattleDebug",void 0);var s=o.ccclass;o.property,t("BattleDebug",s("BattleDebug")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){},o.onDestroy=function(){},o._battleEventHandler=function(t,e){console.log(e.toString())},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/BattleEfx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./GameResCache.ts","./SingletonModuleComp.ts","./TableAnimConfig.ts","./TableUtil.ts","./Util.ts"],(function(t){"use strict";var n,e,i,a,s,o,r,c,u,l,h,f,p,m;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,o=t.Animation,r=t.Component,c=t.Vec3},function(t){u=t.EFightCamp},function(t){l=t.GameResCache},function(t){h=t.smc},function(t){f=t.TableAnimConfig},function(t){p=t.TableUtil},function(t){m=t.delay}],execute:function(){var d,y;a._RF.push({},"5d19ah33lFEvpFPhguWP1gA","BattleEfx",void 0);var g,_=s.ccclass;s.property;!function(t){t.Zhudong="zhudong",t.Zhuiji="zhuiji",t.Huifu="huifu",t.Qishou="qishou",t.Zengyi="zengyi",t.Shouji="shouji"}(g||(g={}));t("BattleEfx",_("BattleEfx")(((y=function(t){function a(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this)._anim=null,n._camp=u.NONE,n}n(a,t);var s=a.prototype;return s.onLoad=function(){this._anim=this.getComponent(o)},s.start=function(){this._anim.on(o.EventType.FINISHED,this.onPlayFinished,this)},s.init=function(t){this._camp=t},s.onDestroy=function(){this._anim.off(o.EventType.FINISHED,this.onPlayFinished,this)},s.playOnce=function(t){this.play(t)},s.play=function(){var t=e(i().mark((function t(n){var e,a,s,o,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=f[n]){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Promise.all([l.instance.createAnimClipAsync(n),m((null!=(e=a.delay_ms)?e:0)/h.battle.timescale)]);case 5:if(s=t.sent,(o=s[0])&&null!=this&&this.isValid){t.next=9;break}return t.abrupt("return");case 9:this.node.setSiblingIndex(a.sib?2:1),this.node.active=!0,this.node.setPosition(this._camp==u.ENEMY?-a.x:a.x,a.y),a.s==p.RATE_W?this.node.setScale(c.ONE):(r=a.s*p.BPS,this.node.setScale(r,r)),this._anim.getState(n)||this._anim.addClip(o,n),this._anim.play(n),this._anim.getState(n).speed=h.battle.timescale;case 16:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.onPlayFinished=function(){this._anim.stop(),this.node.active=!1},a}(r)).Name=g,d=y))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./SingletonModuleComp.ts","./TableGameBuff.ts","./TableGameSkill.ts","./TableUtil.ts"],(function(t){"use strict";var e,i,n,u,a,l,o,s,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.wrapNativeSuper},function(t){u=t.cclegacy},function(t){a=t.EFightAct},function(t){l=t.smc},function(t){o=t.TableGameBuff},function(t){s=t.TableGameSkill},function(t){r=t.TableUtil}],execute:function(){u._RF.push({},"86094GwQ+BDDKS+Uu8wXVdb","BattleEvent",void 0);t("BattleEvent",function(t){function n(e,i){var n;return void 0===i&&(i=null),(n=t.call(this)||this).from=void 0,n.to=void 0,n.round=void 0,n.data=void 0,n.round=e,n.from=l.battle.getRole(i.ap),n.to=l.battle.getRole(i.tp),n.data=i,n}return e(n,t),n.prototype.toString=function(){var t,e,i=JSON.stringify(this.data),n=this.round,u=((null==(t=this.from)?void 0:t.toString())||"无")+" > "+((null==(e=this.to)?void 0:e.toString())||"无"),l=this.skillName||"",o=this.buffName||"";return"R"+n+": "+u+" ["+(""+a[this.data.t])+(l?" -技能 "+l:"")+(o?" -BUFF "+o:"")+"] (HP: "+this.hp+") "+i},i(n,[{key:"instantly",get:function(){return this.data.t==a.REMOVEBUFF||this.data.t==a.UPBUFF}},{key:"skillId",get:function(){return this.data.sid}},{key:"skillName",get:function(){return this.skillId?r.get(s,this.skillId).name:null}},{key:"buffId",get:function(){return this.data.bid}},{key:"buffName",get:function(){return this.buffId?r.get(o,this.buffId).name:null}},{key:"hp",get:function(){return this.data.v||0}}]),n}(n(Object)));u._RF.pop()}}}));

System.register("chunks:///_virtual/BattleEventHandler.ts",["cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./BattleEvent.ts"],(function(t){"use strict";var a,e,n,o,f;return{setters:[function(t){a=t.cclegacy},function(t){e=t.oops},function(t){n=t.EFightAct},function(t){o=t.GameEvent},function(t){f=t.BattleEvent}],execute:function(){a._RF.push({},"eddcdI3luZOL6AgI/u+rQ1y","BattleEventHandler",void 0);var r=function(t,a){var e=a.data;if(a.from==t)t.attack(a.to,e);else if(a.to==t){var n,o=null==(n=a.from)?void 0:n.attackDelay;t.beAttacked(a.from,e,o)}},c=function(t,a){var e=a.data;if(a.from,a.to===t)if(t.addBuff(e.bid),t.changeSt(e.st),e.v&&e.v>0)t.beTreated(e);else{var n,o=null==(n=a.from)?void 0:n.useDelay;t.beAttacked(a.from,e,o)}};var i=new Map([[n.ATK,r],[n.SKILL,function(t,a){var n=a.data;a.from==t&&(n.sub&&n.sub.forEach((function(t){t.sid=n.sid;var r=new f(a.round,t);e.message.dispatchEvent(o.BattleRecord,r)})),t.useSkill(n.sid))}],[n.ADDBUFF,c],[n.REMOVEBUFF,function(t,a){var e=a.data;a.from==t&&(t.rmBuff(e.bid),t.changeSt(e.st)),a.to}],[n.UPBUFF,function(t,a){a.data.t;return c(t,a)}],[n.TRIGGER_BUFF,function(t,a){var e=a.data;a.from==t&&(t.triggerBuff(e.bid),e.v&&e.v>0?t.beTreated(e):e.v&&e.v<0&&t.beAttacked(a.from,e,0))}],[n.ATKBACK,function(t,a){r(t,a)}],[n.DOUBLEATK,function(t,a){r(t,a)}],[n.MISS,function(t,a){}],[n.CRITE,function(t,a){}]]);t("handleBattleEvent",(function(t,a){i.has(a.data.t)?i.get(a.data.t)(t,a):function(t,a){var e=a.data;a.from==t&&console.log(t.cfg.name+" > "+n[e.t]+" > "+(e.v||0))}(t,a)}));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Main.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./TipsManager.ts","./SingletonModuleComp.ts","./Util.ts","./Battle.ts","./BattleUIYishou.ts","./BloodBar.ts","./Role.ts","./ScrollBG.ts"],(function(t){"use strict";var e,n,i,r,a,s,o,u,c,l,h,p,f,d,b,g,m,y,v,B,w,S,T,I,R,E,k,x,G,U,M,F,O,C,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime,u=t.createForOfIteratorHelperLoose},function(t){c=t.cclegacy,l=t._decorator,h=t.Prefab,p=t.Node,f=t.Mask,d=t.instantiate,b=t.Vec3,g=t.Component,m=t.Widget},function(t){y=t.oops},function(t){v=t.app},function(t){B=t.EObjtype,w=t.EFightType,S=t.EFightCamp},function(t){T=t.GameEvent},function(t){I=t.AudioClipMusic},function(t){R=t.UIID},function(t){E=t.tips},function(t){k=t.smc},function(t){x=t.delay},function(t){G=t.Battle},function(t){U=t.BattleUIYishou},function(t){M=t.BloodBar},function(t){F=t.Role,O=t.RoleFilterOurs,C=t.RoleFilterEnemy},function(t){A=t.ScrollBG}],execute:function(){var P,_,N,z,D,L,j,Y,H,V,q,X,W,K,J;c._RF.push({},"2276d+c7h9Fp7MRe/4M+KXI","BattleMain",void 0);var Q=l.ccclass,Z=l.property;t("BattleScene",(P=Q("BattleScene"),_=Z(h),N=Z(h),z=Z(A),D=Z(A),L=Z(p),j=Z(U),P((V=e((H=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"pfbRole",V,r(e)),i(e,"pfbBloodBar",q,r(e)),i(e,"groundBG",X,r(e)),i(e,"skyBG",W,r(e)),i(e,"nodeSpawn",K,r(e)),i(e,"yishouUI",J,r(e)),e.battleUI=null,e.isSkip=!1,e.round=null,e}n(e,t);var c=e.prototype;return c.onLoad=function(){this.nodeSpawn.children.forEach((function(t){return t.active=!1})),this.getComponent(f).enabled=!0,k.battle.check2XValid()&&(k.battle.timescale=G.TimeScale.X2)},c.start=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.playBGM(I.Game),v.setTimeScale(k.battle.timescale),t.next=4,this.init();case 4:y.message.on(T.BattleSkip,this._eventHandler,this);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onDestroy=function(){v.playBGM(I.Main),y.message.off(T.BattleSkip,this._eventHandler,this)},c.init=function(){var t=s(o().mark((function t(){var e,n,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.spawnBG(),this.spawnUI()]);case 2:e=t.sent,n=e[0],this.spawnYishou(k.battle.actorInfo),this.spawnActors(k.battle.actorInfo),n?this.scheduleOnce(this.runToTheScene.bind(this),1):this.scheduleOnce((function(){i.standInTheScene(),i.playRecord()}),1);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.reqFightStage=function(){var t=s(o().mark((function t(e){var n,i,r,a=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.battle.stage=e,t.next=3,k.battle.reqFight();case 3:if(null!=(n=t.sent)&&n.ok){t.next=14;break}return i="请求战斗失败",(null==n?void 0:n.msg)&&(i+="\n("+n.msg+")"),t.next=9,E.confirmAsync(i);case 9:return v.setTimeScale(1),k.battle.clear(),y.gui.remove(R.Battle,!0),this.node.emit(T.BattleFinish,!1),t.abrupt("return");case 14:k.battle.getRoles().forEach((function(t){t.isDead()?(k.battle.setRole(t.info.pos,null),t.node.destroy()):t.clearStatus()})),k.battle.level.ty==w.WRESTLE||k.battle.level.ty==w.GANME_LEVELS2?(r=k.battle.getRoles().map((function(t){return t.info})),this.spawnActors(n.objInfo.filter((function(t){return!r.some((function(e){return e.pos==t.pos}))}))),this.scheduleOnce((function(){a.standInTheScene(),a.playRecord()}),1)):(this.spawnActors(n.objInfo.filter((function(t){return t.fightCamp==S.ENEMY}))),this.scheduleOnce(this.runInTheScene.bind(this),1));case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.spawnUI=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.battle.level.createBattleUI();case 2:this.battleUI=t.sent,this.battleUI.node.parent=this.node;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.spawnBG=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.battle.level.initBattleBG(this.groundBG,this.skyBG);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.spawnYishou=function(){var t=s(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.yishou.createYishouUI();case 2:this.yishouUI=t.sent,this.yishouUI.node.parent=this.node,this.battleUI.yishouUIMarginTop&&(this.yishouUI.getComponent(m).top=this.battleUI.yishouUIMarginTop),n=e.filter((function(t){return t.objType==B.RARE_MONSTER})),this.yishouUI.init(n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.spawnActors=function(t){var e=this;t.filter((function(t){return t.objType!==B.RARE_MONSTER})).forEach((function(t){var n=e.spawnActor(t);k.battle.setRole(t.pos,n)}))},c.spawnActor=function(t){var e=d(this.pfbRole),n=e.getComponent(F);n.init(t);var i=this.getSpwanNode(n.spawnTag);e.parent=i.parent,e.position=i.position,e.setSiblingIndex(i.getSiblingIndex()+1);var r=d(this.pfbBloodBar);return r.parent=this.battleUI.node,n.setBloodBar(r.getComponent(M)),n},c.getSpwanNode=function(t){return this.nodeSpawn.getChildByName(t)},c.getSpawnPos=function(t){return this.nodeSpawn.getChildByName(t).position},c.getTargetPos=function(t){return this.getSpawnPos(t+"_t")},c.standInTheScene=function(){var t=this;k.battle.getRoles().forEach((function(e){e.stand();var n=t.getTargetPos(e.spawnTag);e.standOn(n)}))},c.runToTheScene=function(){var t=this,e=0;k.battle.getRoles(O).forEach((function(n){n.run();var i=t.getTargetPos(n.spawnTag),r=n.moveTo(i);e=Math.max(e,r)})),this.scheduleOnce(this.runToTheEnemy.bind(this),e)},c.runInTheScene=function(){this.runBG(!0),k.battle.getRoles(O).forEach((function(t){t.run()})),this.scheduleOnce(this.runToTheEnemy.bind(this),1)},c.runToTheEnemy=function(){var t=this;this.runBG(!0);var e=0;k.battle.getRoles(C).forEach((function(n){n.stand();var i=t.getTargetPos(n.spawnTag),r=n.moveTo(i);e=Math.max(e,r)})),this.scheduleOnce(this.meetTheEnemy.bind(this),e)},c.meetTheEnemy=function(){this.runBG(!1),k.battle.getRoles().forEach((function(t){t.stand()})),this.battleUI.round=1,this.playRecord()},c.playRecord=function(){var t=s(o().mark((function t(){var e,n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(1e3/k.battle.timescale);case 2:e=k.battle.getRecordData(),n=u(e);case 4:if((i=n()).done){t.next=17;break}if(r=i.value,null!=this&&this.isValid){t.next=8;break}return t.abrupt("return");case 8:if(!this.isSkip){t.next=10;break}return t.abrupt("return");case 10:if(y.message.dispatchEvent(T.BattleRecord,r),this.round!=r.round&&(y.message.dispatchEvent(T.BattleRound,r.round),this.battleUI.round=r.round,this.round=r.round),r.instantly){t.next=15;break}return t.next=15,x(1e3*k.battle.battleEventInterval/k.battle.timescale);case 15:t.next=4;break;case 17:(null==this?void 0:this.isValid)&&this.onRecordFinish();case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onRecordFinish=function(){this.battleUI.stage=k.battle.stage,k.battle.nextStage>0?this.reqFightStage(k.battle.nextStage):(v.setTimeScale(1),this.node.emit(T.BattleFinish,!0))},c.runBG=function(t){this.groundBG.run(t,k.battle.moveSpeed),this.skyBG.run(t,k.battle.moveSpeed/4)},c.clear=function(){},c.playing=function(){var t=s(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.node.once(T.BattleFinish,(function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._eventHandler=function(t,e){t==T.BattleSkip&&k.battle.playing&&(k.battle.doSkip(),this.isSkip=!0,this.runBG(!1),this.unscheduleAllCallbacks(),this.onRecordFinish())},a(e,[{key:"visible",get:function(){return this.node.worldScale.equals(b.ONE)}}]),e}(g)).prototype,"pfbRole",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(H.prototype,"pfbBloodBar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(H.prototype,"groundBG",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(H.prototype,"skyBG",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(H.prototype,"nodeSpawn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(H.prototype,"yishouUI",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=H))||Y));c._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TablePrivilegeType.ts","./TableUtil.ts"],(function(e){"use strict";var t,i,n,l,r,o,a,s,u,c,b,p,h,v,g,f,y,d,L,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,a=e._decorator,s=e.Label,u=e.Layout,c=e.Button,b=e.Node,p=e.Toggle,h=e.Component},function(e){v=e.oops},function(e){g=e.EFightType,f=e.EGameRankType},function(e){y=e.UIID},function(e){d=e.smc},function(e){L=e.PrivilegeTypeKey},function(e){m=e.TableUtil}],execute:function(){var k,E,C,I,R,T,N,w,z,B,_,G,U,A,x,M,P,D,S,j,F;o._RF.push({},"93e71NYp7NEpKITZUogAbAn","BattleUI",void 0);var K=a.ccclass,V=a.property;e("BattleUI",(k=K("BattleUI"),E=V(s),C=V(s),I=V(u),R=V(s),T=V(s),N=V(c),w=V(b),z=V(b),B=V(b),k((U=t((G=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"lblLevel",U,l(t)),n(t,"lblRound",A,l(t)),n(t,"layoutIndicators",x,l(t)),n(t,"lblLevelCur",M,l(t)),n(t,"lblLevelNext",P,l(t)),n(t,"btnRank",D,l(t)),n(t,"btnGuaji",S,l(t)),n(t,"btnNormalRank",j,l(t)),n(t,"btnBoss",F,l(t)),t._round=0,t.privilegeType=L.timeaward_quickcount,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.clear()},o.start=function(){this.init(),this.btnRank.node.on(c.EventType.CLICK,this.onRankClick,this),this.btnBoss.on(c.EventType.CLICK,this.onBossClick,this),this.level.ty!=g.GANME_LEVELS&&(this.layoutIndicators.node.active=!1),this.btnGuaji.active=this.level.ty==g.GANME_LEVELS,this.btnNormalRank.active=this.level.ty==g.GANME_LEVELS,this.btnRank.node.active=this.level.ty==g.ELITE},o.init=function(){var e=this.level.cfg;this.lblLevel.string=e.name,this.lblLevelCur.string=e.name,this.lblLevelNext.string=this.level.nextLevel.cfg.name;var t=d.accountData.getZhanli();this.lblRound.string="战力："+t;var i=this.level.stages;this.indicators.forEach((function(e,t){e.node.active=t<i,e.isChecked=!1}))},o.onRankClick=function(){var e={type:f.ELITE};v.gui.open(y.FightRank,e)},o.onBossClick=function(){var e=this.level.monsters,t=e[e.length-1][0],i={attrs:m.getMonsterAttr(t)};v.gui.open(y.TipAttr,i)},o.clear=function(){this.lblLevel.string="",this.lblRound.string="",this.lblLevelCur.string="",this.lblLevelNext.string="",this.indicators.forEach((function(e){return e.node.active=!1}))},r(t,[{key:"level",get:function(){return d.battle.level}},{key:"round",set:function(e){this._round=e}},{key:"stage",set:function(e){this.indicators.forEach((function(t,i){t.isChecked=i<=e}))}},{key:"indicators",get:function(){return this.layoutIndicators.getComponentsInChildren(p)}},{key:"isHasPrivilege",get:function(){return d.store.hasPrivilege(this.privilegeType)>0}}]),t}(h)).prototype,"lblLevel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(G.prototype,"lblRound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(G.prototype,"layoutIndicators",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(G.prototype,"lblLevelCur",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(G.prototype,"lblLevelNext",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(G.prototype,"btnRank",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(G.prototype,"btnGuaji",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(G.prototype,"btnNormalRank",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(G.prototype,"btnBoss",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=G))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUI2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableUtil.ts"],(function(e){"use strict";var t,n,i,r,o,s,l,a,u,c,f,p,h,b,g,d,v,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,l=e._decorator,a=e.Label,u=e.Node,c=e.Sprite,f=e.Button,p=e.Component},function(e){h=e.oops},function(e){b=e.ViewUtil},function(e){g=e.GameResPath},function(e){d=e.UIID},function(e){v=e.smc},function(e){y=e.TableGameConfig},function(e){m=e.TableUtil}],execute:function(){var B,C,I,U,P,M,w,L,R,T,z,_,k;s._RF.push({},"5ebdcPZv4BCxqnrOLmog2J1","BattleUI2",void 0);var E=l.ccclass,D=l.property;e("BattleUI2",(B=E("BattleUI2"),C=D(a),I=D(a),U=D(u),P=D(c),M=D(c),B((R=t((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblLevel",R,r(t)),i(t,"lblRound",T,r(t)),i(t,"btnBoss",z,r(t)),i(t,"spPlayers",_,r(t)),i(t,"spMonsters",k,r(t)),t.yishouUIMarginTop=150,t}n(t,e);var s=t.prototype;return s.start=function(){this.init(),this.btnBoss.on(f.EventType.CLICK,this.onBossClick,this)},s.init=function(){var e=this;this.lblLevel.string=this.level.cfg.name;var t=this.level.getPosOrder();this.spPlayers.forEach((function(e,n){if(n>t.length-1)e.node.active=!1;else{var i=v.accdata.roles[t[n]],r=m.getModelCfg(i);b.loadSpriteFrame(e,g.getSpriteFrameEquip(r.head))}})),this.spMonsters.forEach((function(t,n){t.node.active=n<e.level.stages}))},s.refresh=function(e){var t=this.level.getDeadNums(e);this.spPlayers.forEach((function(e,n){e.node.getChildByName("sp_dead").active=n<t})),this.spMonsters.forEach((function(n,i){n.node.getChildByName("sp_dead").active=i<e-t}))},s.onBossClick=function(){var e=this.level.bossId,t={attrs:m.getMonsterAttr(e)};h.gui.open(d.TipAttr,t)},o(t,[{key:"round",set:function(e){this.lblRound.string="第"+(e+1)+"/"+y.val_maxRounds+"回合"}},{key:"stage",set:function(e){this.refresh(e+1)}},{key:"level",get:function(){return v.battle.level}}]),t}(p)).prototype,"lblLevel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"lblRound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"btnBoss",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(L.prototype,"spPlayers",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(L.prototype,"spMonsters",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=L))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUIAbyssDemon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameAttr.ts","./TableGameLevels.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,i,r,a,o,l,s,u,c,f,p,h,g,b,m,v,y,d,k,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass,o=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Label,f=t.Button,p=t.Component},function(t){h=t.oops},function(t){g=t.EFightCamp,b=t.EGameRankType},function(t){m=t.GameEvent},function(t){v=t.UIID},function(t){y=t.smc},function(t){d=t.GameAttrKey},function(t){k=t.TableGameLevels},function(t){C=t.TableUtil}],execute:function(){var R,A,B,D,E,I,G,T,U;s._RF.push({},"56df8eLClpJmp5jVuujPpfY","BattleUIAbyssDemon",void 0);var L=u.ccclass,w=u.property;t("BattleUIAbyssDemon",(R=L("BattleUIAbyssDemon"),A=w(c),B=w(f),D=w(c),R((G=e((I=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"lblStage",G,r(e)),i(e,"btnRank",T,r(e)),i(e,"lblRound",U,r(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.init();var t=(new k).init(y.demon.nextEliteLevel);this.lblStage.string=""+t.name,this.btnRank.node.on(f.EventType.CLICK,this.onRankClick,this),h.message.on(m.BattleHPChange,this._eventHandler,this)},s.onDestroy=function(){h.message.off(m.BattleHPChange,this._eventHandler,this)},s.init=function(){this.refresh();var t=y.accountData.getZhanli();this.lblRound.string="战力："+t},s.refresh=function(){var t,e=((t={})[g.OUR]=[0,0],t[g.ENEMY]=[0,0],t);y.battle.actorInfo.forEach((function(t){e[t.fightCamp][0]+=t.tAttr[d.curhp],e[t.fightCamp][1]+=t.tAttr[d.hp]}))},s.onRankClick=function(){var t=o(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={type:b.DEMONABYSS},h.gui.open(v.FightRank,e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.onBossClick=function(){var t=this.level.monsters,e=t[t.length-1][0],n={attrs:C.getMonsterAttr(e)};h.gui.open(v.TipAttr,n)},s._eventHandler=function(t){t==m.BattleHPChange&&this.refresh()},a(e,[{key:"Fight",get:function(){return y.battle.fightInfo}},{key:"round",set:function(t){}},{key:"stage",set:function(t){}},{key:"level",get:function(){return y.battle.level}}]),e}(p)).prototype,"lblStage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(I.prototype,"btnRank",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(I.prototype,"lblRound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=I))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUIAbyssDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./GameEvent.ts","./GameEnum.ts","./TableGameAttr.ts","./Oops.ts"],(function(t){"use strict";var e,n,r,a,i,o,s,l,c,u,f,g,p,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){o=t.cclegacy,s=t._decorator,l=t.Label,c=t.ProgressBar,u=t.Component},function(t){f=t.smc},function(t){g=t.GameEvent},function(t){p=t.EFightCamp},function(t){h=t.GameAttrKey},function(t){b=t.oops}],execute:function(){var m,y,E,B,v,P,D,H,d;o._RF.push({},"24c911P4UhBHYP83EPIXKYN","BattleUIAbyssDragon",void 0);var A=s.ccclass,C=s.property;t("BattleUIAbyssDragon",(m=A("BattleUIAbyssDragon"),y=C(l),E=C(c),B=C(l),m((D=e((P=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"lblHP",D,a(e)),r(e,"progBarBoss",H,a(e)),r(e,"lblDamage",d,a(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.init(),b.message.on(g.BattleHPChange,this._eventHandler,this)},o.onDestroy=function(){b.message.off(g.BattleHPChange,this._eventHandler,this)},o.init=function(){this.refresh()},o.refresh=function(){var t,e=((t={})[p.OUR]=[0,0],t[p.ENEMY]=[0,0],t);f.battle.actorInfo.forEach((function(t){e[t.fightCamp][0]+=t.tAttr[h.curhp],e[t.fightCamp][1]+=t.tAttr[h.hp]})),this.lblHP.string=e[p.ENEMY][0]+"/"+e[p.ENEMY][1],this.progBarBoss.progress=e[p.ENEMY][0]/e[p.ENEMY][1],this.lblDamage.string="总伤害："+(e[p.ENEMY][1]-e[p.ENEMY][0])},o._eventHandler=function(t){t==g.BattleHPChange&&this.refresh()},i(e,[{key:"Fight",get:function(){return f.battle.fightInfo}},{key:"round",set:function(t){}},{key:"stage",set:function(t){}}]),e}(u)).prototype,"lblHP",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(P.prototype,"progBarBoss",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(P.prototype,"lblDamage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUIArena.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./PlayerHead.ts","./SingletonModuleComp.ts","./TableGameAttr.ts","./TableGameConfig.ts"],(function(e){"use strict";var t,n,r,l,i,a,o,s,u,c,f,h,p,b,g,m,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,c=e.ProgressBar,f=e.Component},function(e){h=e.oops},function(e){p=e.EFightCamp},function(e){b=e.GameEvent},function(e){g=e.PlayerHead},function(e){m=e.smc},function(e){d=e.GameAttrKey},function(e){v=e.TableGameConfig}],execute:function(){var y,O,H,B,S,C,w,L,z,E,N,_,A,I,P,R,D,U,G,M,k;a._RF.push({},"01914pXfFhD3qQPYVWqqUO/","BattleUIArena",void 0);var F=o.ccclass,T=o.property;e("BattleUIArena",(y=F("BattleUIArena"),O=T(s),H=T(s),B=T(u),S=T(u),C=T(c),w=T(u),L=T(u),z=T(c),E=T(u),y((A=t((_=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"nodeSelfHead",A,l(t)),r(t,"nodeOtherHead",I,l(t)),r(t,"lblNameSelf",P,l(t)),r(t,"lblLvSelf",R,l(t)),r(t,"progBarSelf",D,l(t)),r(t,"lblNameOther",U,l(t)),r(t,"lblLvOther",G,l(t)),r(t,"progBarOther",M,l(t)),r(t,"lblRound",k,l(t)),t._round=0,t}n(t,e);var a=t.prototype;return a.start=function(){this.init(),h.message.on(b.BattleHPChange,this._eventHandler,this)},a.onDestroy=function(){h.message.off(b.BattleHPChange,this._eventHandler,this)},a.init=function(){this.lblNameSelf.string=m.accountData.name||"",this.lblLvSelf.string="Lv:"+m.accountData.heroLevel,this.nodeSelfHead.getComponent(g).initView(m.accountData.roleHead),this.lblNameOther.string=this.level.enemyInfo.n||"",this.lblLvOther.string="Lv:"+this.level.enemyInfo.lv,this.nodeOtherHead.getComponent(g).initView(this.level.enemyInfo.c),this.refresh()},a.refresh=function(){var e,t=((e={})[p.OUR]=[0,0],e[p.ENEMY]=[0,0],e);m.battle.actorInfo.forEach((function(e){t[e.fightCamp][0]+=e.tAttr[d.curhp],t[e.fightCamp][1]+=e.tAttr[d.hp]})),this.progBarSelf.progress=t[p.OUR][0]/t[p.OUR][1],this.progBarOther.progress=t[p.ENEMY][0]/t[p.ENEMY][1]},a._eventHandler=function(e){e==b.BattleHPChange&&this.refresh()},i(t,[{key:"round",set:function(e){this._round=e,this.lblRound.string=e+"/"+v.val_maxRounds}},{key:"stage",set:function(e){}},{key:"level",get:function(){return m.battle.level}}]),t}(f)).prototype,"nodeSelfHead",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(_.prototype,"nodeOtherHead",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(_.prototype,"lblNameSelf",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(_.prototype,"lblLvSelf",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(_.prototype,"progBarSelf",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(_.prototype,"lblNameOther",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(_.prototype,"lblLvOther",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(_.prototype,"progBarOther",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"lblRound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=_))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUICommon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./Main.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./Battle.ts"],(function(t){"use strict";var e,n,i,o,a,l,s,r,c,u,p,b,d,m,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Button,r=t.Component},function(t){c=t.oops},function(t){u=t.ViewUtil},function(t){p=t.app},function(t){b=t.GameEvent},function(t){d=t.smc},function(t){m=t.TableGameConfig},function(t){h=t.Battle}],execute:function(){var f,_,v,k,y,g,C;a._RF.push({},"ebfb05xeddNWrDFlqjLlSPh","BattleUICommon",void 0);var S=l.ccclass,X=l.property;t("BattleUICommon",(f=S("BattleUICommon"),_=X(s),v=X(s),f((g=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"btnSkip",g,o(e)),i(e,"btnX2",C,o(e)),e.round=0,e}n(e,t);var a=e.prototype;return a.start=function(){u.setGray(this.btnSkip.node,!0);var t=d.battle.timescale==h.TimeScale.X2;u.setGray(this.btnX2.node,!t),this.btnSkip.node.on(s.EventType.CLICK,this.onSkipClick,this),this.btnX2.node.on(s.EventType.CLICK,this.onX2Click,this),c.message.on(b.BattleRound,this._eventHandler,this)},a.onDestroy=function(){c.message.off(b.BattleRound,this._eventHandler,this)},a.onSkipClick=function(){this.round<m.battle_skip_open_round?c.gui.toast("第"+m.battle_skip_open_round+"回合后可跳过"):d.accdata.heroLevel<m.battle_skip_open_level?c.gui.toast("角色达到Lv."+m.battle_skip_open_level+"后开放"):c.message.dispatchEvent(b.BattleSkip)},a.onX2Click=function(){d.battle.check2XValid(!0)&&(u.setGray(this.btnX2.node,!0),d.battle.timescale!=h.TimeScale.X2?(d.battle.timescale=h.TimeScale.X2,c.gui.toast("已开启2倍速"),u.setGray(this.btnX2.node,!1)):(d.battle.timescale=h.TimeScale.X1,c.gui.toast("已关闭2倍速"),u.setGray(this.btnX2.node,!0)),p.setTimeScale(d.battle.timescale))},a._eventHandler=function(t,e){void 0===e&&(e=null),t==b.BattleRound&&(this.round=e,this.round>=m.battle_skip_open_round&&u.setGray(this.btnSkip.node,!1))},e}(r)).prototype,"btnSkip",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(y.prototype,"btnX2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=y))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUIMercenary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameAttr.ts","./TableGameConfig.ts","./TableGameLevels.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,r,i,a,o,s,l,c,u,f,p,h,g,m,v,y,b,d,C,R,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,u=t.Button,f=t.Label,p=t.Component},function(t){h=t.oops},function(t){g=t.EFightCamp,m=t.EGameRankType},function(t){v=t.GameEvent},function(t){y=t.UIID},function(t){b=t.smc},function(t){d=t.GameAttrKey},function(t){C=t.TableGameConfig},function(t){R=t.TableGameLevels},function(t){k=t.TableUtil}],execute:function(){var G,I,T,A,B,E,U;l._RF.push({},"ff14cJOOANAUL9+vqpZ3/aA","BattleUIMercenary",void 0);var M=c.ccclass,_=c.property;t("BattleUIMercenary",(G=M("BattleUIMercenary"),I=_(u),T=_(f),G((E=e((B=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"btnRank",E,i(e)),r(e,"lblRound",U,i(e)),e.cfg=new R,e}n(e,t);var l=e.prototype;return l.start=function(){this.lblRound.string="第1/"+C.val_maxRounds,this.init(),this.btnRank.node.on(u.EventType.CLICK,this.onRankClick,this),h.message.on(v.BattleHPChange,this._eventHandler,this)},l.onDestroy=function(){h.message.off(v.BattleHPChange,this._eventHandler,this)},l.init=function(){this.refresh()},l.refresh=function(){var t,e=((t={})[g.OUR]=[0,0],t[g.ENEMY]=[0,0],t);b.battle.actorInfo.forEach((function(t){e[t.fightCamp][0]+=t.tAttr[d.curhp],e[t.fightCamp][1]+=t.tAttr[d.hp]}))},l.onRankClick=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={type:m.DEMONABYSS},h.gui.open(y.FightRank,e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l.onBossClick=function(){var t=b.mercenary.mercenaryInfo.mlv[this.level.type];this.cfg.init(t.fid);var e=this.cfg.monster,n=e[e.length-1][0],r={attrs:k.getMonsterAttr(n)};h.gui.open(y.TipAttr,r)},l._eventHandler=function(t){t==v.BattleHPChange&&this.refresh()},a(e,[{key:"Fight",get:function(){return b.battle.fightInfo}},{key:"round",set:function(t){this.lblRound.string="第"+(t+1)+"/"+C.val_maxRounds}},{key:"stage",set:function(t){}},{key:"level",get:function(){return b.battle.level}}]),e}(p)).prototype,"btnRank",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(B.prototype,"lblRound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUIWrestle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./TableWrestleLevel.ts","./SingletonModuleComp.ts","./GameEvent.ts","./GameEnum.ts","./TableGameAttr.ts","./TableGameConfig.ts","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var t,n,r,i,o,a,l,s,u,c,f,h,p,d,m,g,b,v,y,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Label,u=e.Sprite,c=e.Node,f=e.Component},function(e){h=e.oops},function(e){p=e.TableWrestleLevel},function(e){d=e.smc},function(e){m=e.GameEvent},function(e){g=e.EFightCamp},function(e){b=e.GameAttrKey},function(e){v=e.TableGameConfig},function(e){y=e.ViewUtil},function(e){P=e.GameResPath}],execute:function(){var w,C,_,R,G,T,B,I,L,D,x,z,E;a._RF.push({},"607d3Tvr81Gx5F3hBV/6+vp","BattleUIWrestle",void 0);var F=l.ccclass,H=l.property;e("BattleUIWrestle",(w=F("BattleUIWrestle"),C=H(s),_=H(s),R=H(u),G=H(c),T=H(c),w((L=t((I=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"lblTitle",L,i(t)),r(t,"lblRound",D,i(t)),r(t,"nodePlayer",x,i(t)),r(t,"nodePlayerDead",z,i(t)),r(t,"nodeMonster",E,i(t)),t.cfgLevel=new p,t}n(t,e);var a=t.prototype;return a.start=function(){this.init(),h.message.on(m.BattleHPChange,this._eventHandler,this)},a.onDestroy=function(){h.message.off(m.BattleHPChange,this._eventHandler,this)},a.init=function(){for(var e in this.nodePlayer){var t=Number(d.wrestle.roleOrderList[e]),n=0==t?"img_sctx":1==t?"img_sctx2":"img_sctx3";y.loadSpriteFrame(this.nodePlayer[e].getComponent(u),P.getSpriteFrameWrestle(n))}this.cfgLevel.init(d.wrestle.wrestleInfo.id),this.lblTitle.string=this.cfgLevel.name,this.lblRound.string="第1/"+v.val_maxRounds,this.refresh()},a.refresh=function(){var e,t=d.battle.fightInfo.campdata;for(var n in this.nodeMonster)this.nodeMonster[n].active=Number(n)<t.enemy.wrestl.pos;for(var r in this.nodePlayerDead)this.nodePlayerDead[r].active=Number(r)<t.our.wrestl.pos;var i=((e={})[g.OUR]=[0,0],e[g.ENEMY]=[0,0],e);d.battle.actorInfo.forEach((function(e){i[e.fightCamp][0]+=e.tAttr[b.curhp],i[e.fightCamp][1]+=e.tAttr[b.hp]}))},a._eventHandler=function(e){e==m.BattleHPChange&&this.refresh()},o(t,[{key:"Fight",get:function(){return d.battle.fightInfo}},{key:"round",set:function(e){this.lblRound.string="第"+(e+1)+"/"+v.val_maxRounds}},{key:"stage",set:function(e){}},{key:"level",get:function(){return d.battle.level}}]),t}(f)).prototype,"lblTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(I.prototype,"lblRound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(I.prototype,"nodePlayer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(I.prototype,"nodePlayerDead",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(I.prototype,"nodeMonster",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=I))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleUIYishou.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableGameSkill.ts","./TableUtil.ts","./YishouEditItem.ts","./HpFly.ts"],(function(t){"use strict";var e,i,n,o,l,a,s,r,u,c,h,p,f,d,m,y,g,b,v,E,C,T,w,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,s=t.Node,r=t.Sprite,u=t.Prefab,c=t.Widget,h=t.Label,p=t.UITransform,f=t.Vec3,d=t.tween,m=t.instantiate,y=t.Component},function(t){g=t.oops},function(t){b=t.EFightCamp},function(t){v=t.GameEvent},function(t){E=t.smc},function(t){C=t.TableGameSkill},function(t){T=t.TableUtil},function(t){w=t.YishouEditItem},function(t){I=t.HpFly}],execute:function(){var S,k,B,F,_,H,D,U,Y,z,G,O,R,N,L,M,P,x,A;l._RF.push({},"5f303MG2YRGk66uEcI9HRyT","BattleUIYishou",void 0);var V=a.ccclass,j=a.property;t("BattleUIYishou",(S=V("BattleUIYishou"),k=j([s]),B=j([s]),F=j(r),_=j(s),H=j(s),D=j(u),U=j(r),Y=j(r),S((O=e((G=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,n(e,"myItems",O,o(e)),n(e,"enenmyItems",R,o(e)),n(e,"detail",N,o(e)),n(e,"nodeSkillDescFly1",L,o(e)),n(e,"nodeSkillDescFly2",M,o(e)),n(e,"pfbHpFly",P,o(e)),n(e,"myBG",x,o(e)),n(e,"EnemyBG",A,o(e)),e.fightYishous=new Map,e}i(e,t);var l=e.prototype;return l.onLoad=function(){this.detail.node.active=!1},l.start=function(){this.node.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),g.message.on(v.BattleRecord,this._battleEventHandler,this)},l.onDestroy=function(){g.message.off(v.BattleRecord,this._battleEventHandler,this)},l.onTouchStart=function(t){t.preventSwallow=!0},l.onTouchMove=function(t){t.preventSwallow=!0},l.onTouchEnd=function(t){t.preventSwallow=!0,this.onBlankClick()},l.init=function(t){var e=t.filter((function(t){return t.fightCamp==b.OUR})),i=t.filter((function(t){return t.fightCamp==b.ENEMY}));this._init(this.myItems,e),this._init(this.enenmyItems,i)},l._init=function(t,e){var i=this;t.forEach((function(t,n){var o=e[n];if(o){t.active=!0;var l=t.getComponent(w);i.fightYishous.set(o.pos,l),l.refresh(o.id,(function(){i.detail.node.setPosition(o.fightCamp==b.OUR?-120:120,207),i.detail.getComponent(c).top=325,i.showDetail(o.id)}))}else t.active=!1}))},l.showDetail=function(t){var e=this;this.detail.node.active=!0;var i=this.detail.node.getChildByName("Label_name").getComponent(h),n=this.detail.node.getChildByName("Label_lv").getComponent(h),o=this.detail.node.getChildByName("Label_desc"),l=T.get(C,E.yishou.YishouTable()[t].skill);i.string=l.name,n.string=l.level+"级",o.getComponent(h).string=l.dec,this.scheduleOnce((function(){var t=o.getComponent(p).height;e.detail.getComponent(p).setContentSize(417,71+t)}),0)},l.showSkillFly=function(t,e,i){var n=t?this.myItems[e]:this.enenmyItems[e];n.scale=f.ONE,d().target(n).to(.3,{scale:new f(1.1,1.1,1)}).delay(.3).to(.2,{scale:f.ONE}).start();var o=m(this.pfbHpFly);o.parent=t?this.nodeSkillDescFly1:this.nodeSkillDescFly2,o.setPosition(n.position.x,0),o.getComponent(I).init(i)},l._battleEventHandler=function(t,e){if(t===v.BattleRecord&&!e.from&&this.fightYishous.has(e.data.ap)){var i=this.fightYishous.get(e.data.ap),n=T.get(C,e.data.sid),o=this.myItems.findIndex((function(t){return t==i.node}));o>=0?this.showSkillFly(!0,o,n.name):(o=this.enenmyItems.findIndex((function(t){return t==i.node})))>=0&&this.showSkillFly(!1,o,n.name)}},l.onBlankClick=function(){this.detail.node.active=!1},e}(y)).prototype,"myItems",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(G.prototype,"enenmyItems",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(G.prototype,"detail",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(G.prototype,"nodeSkillDescFly1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(G.prototype,"nodeSkillDescFly2",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(G.prototype,"pfbHpFly",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(G.prototype,"myBG",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(G.prototype,"EnemyBG",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=G))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/Bazzar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./System.ts","./TableGameSys.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,r,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.GameSys},function(t){a=t.GameSysKey},function(t){s=t.TableUtil}],execute:function(){n._RF.push({},"ebe16kenSVEt5UvzRkSwKjN","Bazzar",void 0);var o=t("Bazzar",function(t){function n(){var e;return(e=t.call(this,a.bazzar)||this).redotWatchGameEvents=[],e}e(n,t);var r=n.prototype;return r.getShopIds=function(){return s.getShopIds((function(t){return t.systemid==a.bazzar}))},r.calRedot=function(){return!1},n}(r));t("bazzar",new o);n._RF.pop()}}}));

System.register("chunks:///_virtual/BazzarItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CostItem.ts","./SingletonModuleComp.ts","./SuperValueShopItem.ts","./Oops.ts","./GameUIConfig.ts"],(function(t){"use strict";var e,i,r,n,o,s,u,a,c,l,p;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy,o=t._decorator,s=t.Color},function(t){u=t.CostItem},function(t){a=t.smc},function(t){c=t.SuperValueShopItem},function(t){l=t.oops},function(t){p=t.UIID}],execute:function(){var f;n._RF.push({},"29279q6pGFFvbA8F36Kvjk8","BazzarItem",void 0);var h=o.ccclass;o.property,t("BazzarItem",h("BazzarItem")(f=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.refresh=function(){var t=a.store.getBuyTimes(this.shopCfg.id,"dailyTag"),e=this.shopCfg,i=e.dailylimit;e.price;0==i?this.lblLimit.string="":t>=i?(this.lblLimit.string="已达限购",this.lblLimit.color=s.RED):(this.lblLimit.string="每日限购 ("+t+"/"+i+")",this.lblLimit.color=s.GREEN),this.btnBuy.getComponent(u).init4(this.shopCfg.cost)},o.onBuyClick=function(){var t=i(r().mark((function t(){var e,n=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=this.shopCfg).callBack=i(r().mark((function t(e,i){var o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.store.reqBuy(n.shopCfg.id,e);case 2:if(null!=(o=t.sent)&&o.ok){t.next=5;break}return t.abrupt("return");case 5:(null==i?void 0:i.isValid)&&i.onClickBack(),(null==n?void 0:n.isValid)&&n.refresh();case 7:case"end":return t.stop()}}),t)}))),l.gui.open(p.TipMultiBuy,e);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(c))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/BazzarMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./BazzarItem.ts"],(function(t){"use strict";var n,e,i,o,r,a,l,c,s,u,p,f,b,z;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Prefab,c=t.Node,s=t.Button,u=t.instantiate,p=t.Component},function(t){f=t.oops},function(t){b=t.smc},function(t){z=t.BazzarItem}],execute:function(){var h,d,m,y,g,v,C,B,I;r._RF.push({},"ea290zXlMZOFbWG//broVXu","BazzarMain",void 0);var M=a.ccclass,X=a.property;t("BazzarMain",(h=M("BazzarMain"),d=X(l),m=X(c),y=X(s),h((C=n((v=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"pfbItem",C,o(n)),i(n,"nodeContent",B,o(n)),i(n,"btnX",I,o(n)),n}e(n,t);var r=n.prototype;return r.start=function(){this.init(),this.btnX.node.on(s.EventType.CLICK,this.onXClick,this)},r.init=function(){var t=this;b.bazzar.getShopIds().forEach((function(n){var e=u(t.pfbItem);e.parent=t.nodeContent,e.getComponent(z).init(n)}))},r.onXClick=function(){f.gui.removeByNode(this.node,!0)},n}(p)).prototype,"pfbItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(v.prototype,"nodeContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(v.prototype,"btnX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(t){"use strict";var e,r,s;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy},function(t){s=t.BTreeNode}],execute:function(){r._RF.push({},"22a91RP3fNG/rWWAXlmM4BT","BehaviorTree",void 0);var i=0;t("BehaviorTree",function(){function t(t,e){this.title=void 0,this._root=void 0,this._started=!1,this._blackboard=void 0,i+=1,this.title=t.constructor.name+"(btree_"+i+")",this._root=t,this._blackboard=e}var r=t.prototype;return r.setObject=function(t){this._blackboard=t},r.run=function(){this._started&&console.error("行为树【"+this.title+"】未调用步骤，在最后一次调用步骤时有一个任务未完成"),this._started=!0;var e=t.getNode(this._root);this._current=e,e.setControl(this),e.start(this._blackboard),e.run(this._blackboard)},r.running=function(t){this._started=!1},r.success=function(){this._current.end(this._blackboard),this._started=!1},r.fail=function(){this._current.end(this._blackboard),this._started=!1},t.register=function(t,e){this._registeredNodes.set(t,e)},t.getNode=function(t){var e=t instanceof s?t:this._registeredNodes.get(t);if(!e)throw new Error("无法找到节点【"+t+"】，可能它没有注册过");return e},e(t,[{key:"started",get:function(){return this._started}}]),t}())._registeredNodes=new Map,r._RF.pop()}}}));

System.register("chunks:///_virtual/BhvButtonGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,i,e,r,o,a,l,u,s,p,c,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,l=n.Enum,u=n.Button,s=n.SpriteFrame,p=n.EventHandler,c=n.Component,b=n.color}],execute:function(){var f,m,v,h,d,y,E,C,g,T,S,z,L,R,w,I,D,N,_,H,O,B,P,A,G,M,x,X,k,F,J;o._RF.push({},"41df676L55LvJ52uxkQpfxJ","BhvButtonGroup",void 0);var U,j=a.ccclass,Q=a.property,V=a.menu;!function(n){n[n.CHILDREN_INDEX=0]="CHILDREN_INDEX",n[n.CHILDREN_NAME=1]="CHILDREN_NAME"}(U||(U={}));n("BhvButtonGroup",(f=V("添加特殊行为/UI/Button Group(一组按钮控制)"),m=Q({type:l(u.Transition)}),v=Q({visible:function(){return this.transition===u.Transition.COLOR}}),h=Q({visible:function(){return this.transition===u.Transition.COLOR}}),d=Q({visible:function(){return this.transition===u.Transition.COLOR}}),y=Q({visible:function(){return this.transition===u.Transition.COLOR}}),E=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),C=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),g=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),T=Q({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),S=Q({visible:function(){return this.transition===u.Transition.SCALE||this.transition===u.Transition.COLOR}}),z=Q({visible:function(){return this.transition===u.Transition.SCALE}}),L=Q({type:l(U)}),R=Q({type:[p]}),w=Q({tooltip:"规避3.x引擎BUG，EventHandler.component位为空导致找不到触发事件的脚本名的问题",readonly:!0}),j(I=f((N=t((D=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"transition",N,r(t)),e(t,"hoverColor",_,r(t)),e(t,"normalColor",H,r(t)),e(t,"pressedColor",O,r(t)),e(t,"disabledColor",B,r(t)),e(t,"normalSprite",P,r(t)),e(t,"pressedSprite",A,r(t)),e(t,"hoverSprite",G,r(t)),e(t,"disabledSprite",M,r(t)),e(t,"duration",x,r(t)),e(t,"zoomScale",X,r(t)),e(t,"paramType",k,r(t)),e(t,"touchEvents",F,r(t)),e(t,"EventHandler_component",J,r(t)),t}return i(t,n),t.prototype.onLoad=function(){var n=this;this.node.children.forEach((function(t,i){var e=t.getComponent(u);null==e&&(e=t.addComponent(u)),n.touchEvents.forEach((function(r){var o=new p;o.component=""==r.component?n.EventHandler_component:r.component,o.handler=r.handler,o.target=r.target,n.paramType===U.CHILDREN_INDEX?o.customEventData=i.toString():o.customEventData=t.name,e.clickEvents.push(o)}))}))},t}(c)).prototype,"transition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Transition.NONE}}),_=t(D.prototype,"hoverColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(255,255,255)}}),H=t(D.prototype,"normalColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(214,214,214)}}),O=t(D.prototype,"pressedColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(211,211,211)}}),B=t(D.prototype,"disabledColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(124,124,124)}}),P=t(D.prototype,"normalSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"pressedSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"hoverSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"disabledSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=t(D.prototype,"zoomScale",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),k=t(D.prototype,"paramType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.CHILDREN_INDEX}}),F=t(D.prototype,"touchEvents",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(D.prototype,"EventHandler_component",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"VMModify"}}),I=D))||I)||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/BhvFrameIndex.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,s,a,p,u,c,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,p=e.Sprite,u=e.SpriteFrame,c=e.CCInteger,l=e.error,d=e.Component}],execute:function(){var h,m,f,x,y,F,v,g;s._RF.push({},"c238ewfJ2VJnZ8Gb8YQs5Ts","BhvFrameIndex",void 0);var I=a.ccclass,b=a.property,_=a.executeInEditMode,C=a.requireComponent,w=a.menu;e("BhvFrameIndex",(h=C(p),m=w("添加特殊行为/UI/Frame Index(帧图改变)"),f=b({type:[u],tooltip:"sprite将会用到帧图片"}),x=b({type:c,tooltip:"当前显示的帧图"}),I(y=_(y=h(y=m((v=t((F=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"spriteFrames",v,i(t)),n(t,"_index",g,i(t)),t}r(t,e);var s=t.prototype;return s.setName=function(e){var t=this.spriteFrames.findIndex((function(t){return t.name==e}));t<0&&l("frameIndex 设置了不存在的name:",e),this.index=t||0},s.random=function(e,t){if(this.spriteFrames){var r=this.spriteFrames.length;(null==e||e<0)&&(e=0),(null==t||t>r)&&(t=r),this.index=Math.floor(Math.random()*(t-e)+e)}},s.next=function(){this.index++},s.previous=function(){this.index--},o(t,[{key:"index",get:function(){return this._index},set:function(e){e<0||(this._index=e%this.spriteFrames.length,this.node.getComponent(p).spriteFrame=this.spriteFrames[this._index])}}]),t}(d)).prototype,"spriteFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),t(F.prototype,"index",[x],Object.getOwnPropertyDescriptor(F.prototype,"index"),F.prototype),g=t(F.prototype,"_index",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=F))||y)||y)||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/BhvRollNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,l,a,o,n,u,s,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,n=t._decorator,u=t.Label,s=t.Enum,c=t.lerp,p=t.Component}],execute:function(){var h,b,f,g,m,y,E,v,d,T,_,M,S,R,w,I,V,F,N;o._RF.push({},"72d13dwmG9LS4gkJhSuAp3F","BhvRollNumber",void 0);var k,A=n.ccclass,L=n.property,z=n.menu;!function(t){t[t.INTEGER=0]="INTEGER",t[t.FIXED_2=1]="FIXED_2",t[t.TIMER=2]="TIMER",t[t.PERCENTAGE=3]="PERCENTAGE",t[t.KMBT_FIXED2=4]="KMBT_FIXED2",t[t.CUSTOMER=5]="CUSTOMER"}(k||(k={}));t("BhvRollNumber",(h=z("添加特殊行为/UI/Roll Number (滚动数字)"),b=L({type:u,tooltip:"需要滚动的 Label 组件,如果不进行设置，就会从自己的节点自动查找"}),f=L({tooltip:"当前的滚动值(开始的滚动值)"}),g=L({tooltip:"是否显示正负符号"}),m=L({tooltip:"滚动的目标值"}),y=L({tooltip:"滚动的线性差值",step:.01,max:1,min:0}),E=L({tooltip:"是否在开始时就播放"}),v=L({tooltip:"在滚动之前会等待几秒",step:.1,max:1,min:0}),d=L({type:s(k),tooltip:"是否在开始时就播放"}),A(T=h((M=e((_=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"label",M,l(e)),r(e,"value",S,l(e)),r(e,"showPlusSymbol",R,l(e)),r(e,"_targetValue",w,l(e)),r(e,"lerp",I,l(e)),r(e,"playAtStart",V,l(e)),r(e,"runWaitTimer",F,l(e)),r(e,"valueType",N,l(e)),e._custom_callback=null,e.isScrolling=!1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){null==this.label&&(this.label=this.node.getComponent(u)),this.playAtStart&&(this.updateLabel(),this.scroll())},o.scroll=function(){var t=this;this.isScrolling||(this.runWaitTimer>0?this.scheduleOnce((function(){t.isScrolling=!0}),this.runWaitTimer):this.isScrolling=!0)},o.stop=function(){this.value=this.targetValue,this.isScrolling=!1,this.updateLabel()},o.init=function(t,e,i){this.targetValue=e||0,this.value=t||0,this.lerp=i||.1},o.scrollTo=function(t){null!=t&&(this.targetValue=t)},o.updateLabel=function(){var t=this.value,e="";switch(this.valueType){case k.INTEGER:e=Math.round(t)+"";break;case k.FIXED_2:e=t.toFixed(2);break;case k.TIMER:e=function(t,e){void 0===t&&(t=0);void 0===e&&(e=!0);var i=Math.floor(t),r=Math.floor(i/3600),l=Math.floor(i%3600/60),a=i%60,o=""+l,n=""+a;a<10&&(n="0"+a);return e?(l<10&&(o="0"+l),r+":"+o+":"+n):(o=""+(l+60*r),l<10&&(o="0"+l),o+":"+n)}(t);break;case k.PERCENTAGE:e=Math.round(100*t)+"%";break;case k.KMBT_FIXED2:e=t>=Number.MAX_VALUE?"MAX":t>1e12?(t/1e12).toFixed(2)+"T":t>1e9?(t/1e9).toFixed(2)+"B":t>1e6?(t/1e6).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":Math.round(t).toString();break;case k.CUSTOMER:this._custom_callback&&(e=this._custom_callback(this.value,this.targetValue))}if(this.showPlusSymbol&&(t>0?e="+"+e:t<0&&(e="-"+e)),this.label){if(e===this.label.string)return;this.label.string=e}},o.update=function(t){if(0!=this.isScrolling)return this.value=c(this.value,this.targetValue,this.lerp),this.updateLabel(),Math.abs(this.value-this.targetValue)<=1e-4?(this.value=this.targetValue,void(this.isScrolling=!1)):void 0},a(e,[{key:"targetValue",get:function(){return this._targetValue},set:function(t){this._targetValue=t,this.scroll()}}]),e}(p)).prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(_.prototype,"value",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(_.prototype,"showPlusSymbol",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(_.prototype,"targetValue",[m],Object.getOwnPropertyDescriptor(_.prototype,"targetValue"),_.prototype),w=e(_.prototype,"_targetValue",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=e(_.prototype,"lerp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),V=e(_.prototype,"playAtStart",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=e(_.prototype,"runWaitTimer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=e(_.prototype,"valueType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.INTEGER}}),T=_))||T)||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/BhvSwitchPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){"use strict";var t,i,n,r,o,s,a,c,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.CCInteger,h=e.Component},function(e){u=e.VMEnv}],execute:function(){var d,p,g,l,f,x;s._RF.push({},"b3d083kncpDPqVztMtiq6DO","BhvSwitchPage",void 0);var v=a.ccclass,y=a.property,P=a.executeInEditMode,_=a.menu;e("BhvSwitchPage",(d=_("添加特殊行为/UI/Switch Page (切换页面)"),p=y({type:c}),v(g=P(g=d((f=t((l=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isLoopPage",f,r(t)),n(t,"_index",x,r(t)),t.preIndex=0,t._isChanging=!1,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.preIndex=this.index},s._updateEditorPage=function(e){if(u.editor)for(var t=this.node.children,i=0;i<t.length;i++){var n=t[i];n.active=i==e}},s._updatePage=function(e){var t=this.node.children,i=this.preIndex,n=this.index;if(i!==n){var r=t[i],o=t[n];r.active=!1,o.active=!0}},s.next=function(){return!this.isChanging&&(this.index++,!0)},s.previous=function(){return!this.isChanging&&(this.index--,!0)},s.setEventIndex=function(e,t){return this.index>=0&&null!=this.index&&!1===this.isChanging&&(this.index=t,!0)},o(t,[{key:"index",get:function(){return this._index},set:function(e){if(!this.isChanging){e=Math.round(e);var t=this.node.children.length-1;this.isLoopPage?(e>t&&(e=0),e<0&&(e=t)):(e>t&&(e=t),e<0&&(e=0)),this.preIndex=this._index,this._index=e,u.editor?this._updateEditorPage(e):this._updatePage(e)}}},{key:"isChanging",get:function(){return this._isChanging}}]),t}(h)).prototype,"isLoopPage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=t(l.prototype,"_index",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(l.prototype,"index",[p],Object.getOwnPropertyDescriptor(l.prototype,"index"),l.prototype),g=l))||g)||g)||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/BloodBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./TableGameBuff.ts","./TableUtil.ts","./HpFly.ts"],(function(e){"use strict";var t,i,n,r,l,o,a,s,u,f,c,p,h,b,d,m,y,g,B,v,H,F,w,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,a=e._decorator,s=e.Prefab,u=e.SpriteFrame,f=e.ProgressBar,c=e.Label,p=e.Node,h=e.instantiate,b=e.Sprite,d=e.Component},function(e){m=e.oops},function(e){y=e.ViewUtil},function(e){g=e.EFightCamp},function(e){B=e.GameEvent},function(e){v=e.GameResPath},function(e){H=e.TableGameBuff},function(e){F=e.TableUtil},function(e){w=e.HpFly,P=e.HpFlyType}],execute:function(){var S,E,I,z,L,T,G,x,R,_,C,N,U,M,D,K,Y,k,V;o._RF.push({},"efc6dTKH0tD6q26x81roILR","BloodBar",void 0);var j=a.ccclass,q=a.property;e("BloodBar",(S=j("BloodBar"),E=q(s),I=q(u),z=q(u),L=q(f),T=q(c),G=q(c),x=q(c),R=q(p),S((N=t((C=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"pfbHpFly",N,r(t)),n(t,"spfGreen",U,r(t)),n(t,"spfRed",M,r(t)),n(t,"barBlood",D,r(t)),n(t,"lblName",K,r(t)),n(t,"lblHp",Y,r(t)),n(t,"lblBuff",k,r(t)),n(t,"nodeBuffIcons",V,r(t)),t.max=0,t.cur=0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.barBlood.progress=0,this.lblName.string="",this.lblHp.string="",this.lblBuff.string="",this.nodeBuffIcons.children.forEach((function(e){return e.active=!1}))},o.init=function(e,t,i,n){void 0===t&&(t=null),void 0===n&&(n=null),this.visible=!0,this.max=e,this.cur=Math.min(t||e,e),this.refresh(),n&&n.fightCamp==g.ENEMY&&(this.barBlood.barSprite.spriteFrame=this.spfRed)},o.newFly=function(){var e=h(this.pfbHpFly);return e.setSiblingIndex(this.node.children.length),e.parent=this.node,e.setPosition(0,50),e.getComponent(w)},o.flyText=function(e,t){void 0===t&&(t=void 0),this.newFly().init(e,t)},o.flyHp=function(e,t){this.newFly().init2(e,t)},o.changeHp=function(e){var t,i=null!=(t=e.v)?t:0;this.cur=Math.max(this.cur+i,0),this.refresh(),0==i?e.miss&&this.flyHp(P.SKILL_TYPE,"闪避"):i<0?e.crite?this.flyHp(P.SKILL_TYPE,"暴 "+i):this.flyHp(P.HP_MINUS,i.toString()):i>0&&this.flyHp(P.HP_PLUS,"+"+i.toString()),m.message.dispatchEvent(B.BattleHPChange)},o.refresh=function(){this.barBlood.progress=this.cur/this.max},o.refreshBuffIcons=function(e){var t=e.reduce((function(e,t){var i=F.get(H,t);return i&&i.icon&&e.push(v.getBuffSpriteFrame(i)),e}),[]);this.nodeBuffIcons.children.forEach((function(e,i){i<t.length?(e.active=!0,y.loadSpriteFrame(e.getComponent(b),t[i])):e.active=!1}))},l(t,[{key:"visible",set:function(e){this.node.active=e}}]),t}(d)).prototype,"pfbHpFly",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(C.prototype,"spfGreen",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"spfRed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(C.prototype,"barBlood",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(C.prototype,"lblName",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(C.prototype,"lblHp",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"lblBuff",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(C.prototype,"nodeBuffIcons",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=C))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/BoxAccelerate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./NumPicker.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./Util.ts","./BagItem.ts"],(function(t){"use strict";var e,n,i,r,o,c,a,u,s,l,p,f,h,m,C,g,b,d,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass,c=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,s=t._decorator,l=t.Label,p=t.Component},function(t){f=t.oops},function(t){h=t.NumPicker},function(t){m=t.httpChannel},function(t){C=t.MsgID},function(t){g=t.smc},function(t){b=t.TableGameConfig},function(t){d=t.Util},function(t){k=t.BagItem}],execute:function(){var y,v,x,D,w,B,_,A,I;u._RF.push({},"68602n8kjlN/bTjxa3hcAGZ","BoxAccelerate",void 0);var M=s.ccclass,z=s.property;t("BoxAccelerate",(y=M("BoxAccelerate"),v=z(l),x=z(h),D=z(k),y((_=e((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"lblCD",_,r(e)),i(e,"picker",A,r(e)),i(e,"item",I,r(e)),e.ID=b.itemid_quicken_cd,e}n(e,t);var u=e.prototype;return u.start=function(){this.item.init(this.ID),this.picker.init(Math.min(this.needCount,this.ownCount),this.ownCount)},u.refresh=function(){this.picker.max=this.ownCount},u.onConfirmClick=function(){var t=c(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={num:this.picker.num,isadv:!1,diamond:!1},t.next=3,m.reqAsync(C.EBoxAccelerate,e);case 3:if(null!=(n=t.sent)&&n.ok){t.next=6;break}return t.abrupt("return");case 6:g.account.doResChange(n),g.ebox.info=n.eBoxEntity,this.onXClick();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onXClick=function(){f.gui.removeByNode(this.node,!0)},u.onChangeCount=function(t){var e=t*b.val_quicken_cd;this.lblCD.string="可加速时间："+d.fmtSecs(e)},o(e,[{key:"ownCount",get:function(){return g.accountData.getItemCount(this.ID)}},{key:"needCount",get:function(){return Math.ceil(g.ebox.upgradeCD/b.val_quicken_cd)}}]),e}(p)).prototype,"lblCD",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(B.prototype,"picker",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(B.prototype,"item",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=B))||w));u._RF.pop()}}}));

System.register("chunks:///_virtual/BoxEquip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./Util.ts","./EquipItem.ts","./RoleLoader.ts","./BoxMain.ts","./SabiEfx.ts","./SpecItemEfx.ts"],(function(t){"use strict";var e,i,n,a,s,o,r,u,l,c,h,p,m,f,b,d,x,S,E,v,g,_,y,k,A,D,C,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){u=t.cclegacy,l=t._decorator,c=t.Prefab,h=t.Button,p=t.dragonBones,m=t.Layout,f=t.instantiate,b=t.Label,d=t.Component},function(t){x=t.oops},function(t){S=t.GameEvent},function(t){E=t.AudioClipEffect},function(t){v=t.UIID},function(t){g=t.smc},function(t){_=t.TableGameConfig},function(t){y=t.delay},function(t){k=t.EquipItem},function(t){A=t.RoleLoader},function(t){D=t.BoxMain},function(t){C=t.SabiEfx},function(t){T=t.SpecItemEfx}],execute:function(){var I,O,q,B,R,H,L,P,j,w,z,M,U,G,W,N,X,F,K;u._RF.push({},"cfcb7ZRBkBAfpom1DGDOaTU","BoxEquip",void 0);var Q,V,Z,J=l.ccclass,Y=l.property;!function(t){t.Xiuxi="xiuxi",t.Shuijiao="shuijiao"}(Q||(Q={})),function(t){t[t.datie_1xia=1]="datie_1xia",t[t.datie_2xia=2]="datie_2xia",t[t.datie_3xia=3]="datie_3xia",t[t.datie_4xia1=4]="datie_4xia1",t[t.datie_5xia1=5]="datie_5xia1"}(V||(V={})),function(t){t[t.HasTmp=0]="HasTmp",t[t.WaitStart=1]="WaitStart",t[t.StartedOnce=2]="StartedOnce",t[t.StartedAuto=3]="StartedAuto"}(Z||(Z={}));var $=((I={})[Z.HasTmp]="待处理",I[Z.WaitStart]="点击开始铸造",I[Z.StartedOnce]="铸造中",I[Z.StartedAuto]="自动铸造中(点击停止)",I);t("BoxEquip",(O=J("BoxEquip"),q=Y(c),B=Y(c),R=Y(h),H=Y(h),L=Y(p.ArmatureDisplay),P=Y(p.ArmatureDisplay),j=Y(m),O(((K=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).ID=_.itemid_ebox,n(e,"pfbSabi",M,a(e)),n(e,"pfbSpecItem",U,a(e)),n(e,"btnStart",G,a(e)),n(e,"btnChuizi",W,a(e)),n(e,"spineSmith",N,a(e)),n(e,"spineStrike",X,a(e)),n(e,"layoutEquips",F,a(e)),e._status=Z.WaitStart,e._animData=null,e._datieResult=null,e}i(e,t);var u=e.prototype;return u.onLoad=function(){this.replaceSkin(g.ebox.skinLevel)},u.start=function(){this.tmpEquips.forEach((function(t){return t.node.active=!1})),this.spineStrike.node.active=!1,this.init(),this.btnStart.node.on(h.EventType.CLICK,this.onOpenClick,this),this.btnChuizi.node.on(h.EventType.CLICK,this.onOpenClick,this),this.spineSmith.on(p.EventObject.COMPLETE,this._armatureEventHandler,this),this.spineSmith.on(p.EventObject.FRAME_EVENT,this._armatureEventHandler,this),x.message.on(S.EBoxDatieStartAuto,this._eventHandler,this),x.message.on(S.EBoxDatieSell,this._eventHandler,this),x.message.on(S.EBoxDatieResult,this._eventHandler,this),x.message.on(S.EBoxDatieManualOpResult,this._eventHandler,this),x.message.on(S.EBoxLvUp,this._eventHandler,this)},u.onEnable=function(){},u.onDestroy=function(){x.message.off(S.EBoxDatieStartAuto,this._eventHandler,this),x.message.off(S.EBoxDatieSell,this._eventHandler,this),x.message.off(S.EBoxDatieResult,this._eventHandler,this),x.message.off(S.EBoxDatieManualOpResult,this._eventHandler,this),x.message.off(S.EBoxLvUp,this._eventHandler,this)},u.init=function(){g.ebox.speedUp=!1,g.ebox.setAutoReq(null),this.reset()},u.reset=function(){g.ebox.hasTmp()?this.status=Z.HasTmp:this.status=Z.WaitStart},u.refreshTmpEquips=function(){var t=g.ebox.getTmpEquips()||[],i=e.TMP_EQUIP_POSES[t.length];this.tmpEquips.forEach((function(e,n){t&&t[n]?(e.node.active=!0,e.node.setPosition(i[n][0],i[n][1]),e.initByEquipInfo(t[n]),e.setGlow(!0)):(e.node.active=!1,e.setGlow(!1))}));var n=1==t.length?1:.7;this.layoutEquips.node.active=!0,this.layoutEquips.node.setScale(n,n)},u._armatureEventHandler=function(){var t=o(r().mark((function t(e){var i,n,a,s,o,u,l,c,h,m;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.animationState.name,e.type!==p.EventObject.COMPLETE){t.next=28;break}if(!(i in V)){t.next=21;break}if(this.animSmith.play(Q.Xiuxi,2).timeScale=g.ebox.timeScale,s=0,null!=(n=this._datieResult)&&n.dropItems&&(this.onGetSpecItem(this._datieResult.dropItems),s=1e3),null!=(a=this._datieResult)&&a.recycleItems&&(this.onSellEquip(this._datieResult.recycleItems),s=1e3),t.t0=s,!t.t0){t.next=11;break}return t.next=11,y(s);case 11:if(!g.ebox.hasTmp()){t.next=18;break}return t.next=14,y(100);case 14:return this.status=Z.HasTmp,t.next=17,y(200);case 17:this.visible&&g.ebox.checkTmp();case 18:this._datieResult=null,t.next=26;break;case 21:if(i!=Q.Xiuxi){t.next=26;break}if(!this._datieResult){t.next=25;break}return this.animSmith.play(Q.Xiuxi,1).timeScale=g.ebox.timeScale,t.abrupt("return");case 25:this.checkAuto()||(this.reset(),this.animSmith.fadeIn(Q.Shuijiao,.5,0));case 26:t.next=47;break;case 28:if(e.type!==p.EventObject.FRAME_EVENT){t.next=47;break}if(!("qiaoji"==e.name&&this._animData.length>0)){t.next=47;break}if(this.visible&&x.audio.playEffect(E.Datie),!((o=this._animData.shift())>0&&this.visible)){t.next=47;break}return(l=f(this.spineStrike.node)).setParent(this.spineStrike.node.parent),l.active=!0,c=l.getComponent(p.ArmatureDisplay),h={skeleton:"gui/box/anim2/daji_"+o+"/daji_"+o+"_ske",atlas:"gui/box/anim2/daji_"+o+"/daji_"+o+"_tex",armatureName:"Armaturedaji_"+o},t.next=40,A.loadDragonBone(c,h);case 40:if(m=null==(u=c.armature())?void 0:u.animation){t.next=44;break}return l.destroy(),t.abrupt("return");case 44:c.addEventListener(p.EventObject.COMPLETE,(function(){l.destroy()}),this),m.play("newAnimation",1).timeScale=g.ebox.timeScale;case 47:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u._eventHandler=function(t,e){t===S.EBoxDatieStartAuto?this.startOpen(g.ebox.getAutoReq())&&(this.status=Z.StartedAuto):t===S.EBoxDatieSell?this.onSellEquip(e):t===S.EBoxDatieManualOpResult?(this.refreshTmpEquips(),g.ebox.hasTmp()?g.ebox.checkTmp():this.isSmithPlaying(Q.Shuijiao)&&(this.checkAuto()||this.init())):t===S.EBoxLvUp&&this.replaceSkin(g.ebox.skinLevel)},u.startOpen=function(t){var e,i=this;return g.ebox.checkTmp()?(this.init(),!1):g.bag.checkCost(((e={})[this.ID]=t.openNum,e),!0)?(!this._datieResult||!this.isSmithPlaying(Q.Xiuxi))&&(g.ebox.reqOpen(t).then((function(t){if(t){i._datieResult=t,i._animData=g.ebox.getDatieAnimData(t);var e=V[i._animData.length];i.animSmith.play(e,1).timeScale=g.ebox.timeScale}})),!0):(this.init(),!1)},u.onOpenClick=function(){switch(this.status){case Z.HasTmp:g.ebox.checkTmp();break;case Z.WaitStart:var t={openNum:g.ebox.storage.costNums||1,sellLv:1,fightUp:!1,autoSave:!1,autoOpen:!1};this.startOpen(t)&&(g.ebox.speedUp=!1,this.status=Z.StartedOnce);break;case Z.StartedOnce:this.checkInWaiting();break;case Z.StartedAuto:g.ebox.setAutoReq(null),this.status=Z.StartedOnce}},u.onAutoClick=function(t){g.ebox.setAutoReq(null),g.ebox.checkTmp()||x.gui.open(v.EBoxSetting)},u.onUpClick=function(){g.ebox.setAutoReq(null),x.gui.open(v.BoxUpgrade)},u.onSellEquip=function(t){var e,i;if(x.audio.playEffect(E.Coin),this.visible){var n=f(this.pfbSabi);n.parent=this.node,n.getComponent(C).init(null!=(e=t[_.moneyId_goldcoin])?e:0,null!=(i=t[_.itemid_exp])?i:0)}},u.onGetSpecItem=function(t){if(this.visible){var e=f(this.pfbSpecItem);e.parent=this.node,e.getComponent(T).init(t)}},u.checkInWaiting=function(){return this.status===Z.StartedAuto||this.status===Z.StartedOnce},u.checkAuto=function(){return!(!g.ebox.isAuto()||g.ebox.hasTmp()||!this.startOpen(g.ebox.getAutoReq()))&&(this.status=Z.StartedAuto,!0)},u.replaceSkin=function(t){var e;if(0!=t){var i="taizi"+t,n=this.spineSmith.armature().getSlot("taizi");if((null==(e=n.childArmature)?void 0:e.name)!=i){var a=this.spineSmith.buildArmature(i);n.childArmature=a.armature()}}},u.isSmithPlaying=function(t){return this.animSmith.lastAnimationName===t},s(e,[{key:"tmpEquips",get:function(){return this.layoutEquips.getComponentsInChildren(k)}},{key:"animSmith",get:function(){var t;return null==(t=this.spineSmith.armature())?void 0:t.animation}},{key:"count",get:function(){return g.accountData.getItemCount(this.ID)}},{key:"status",get:function(){return this._status},set:function(t){this._status=t,this.btnStart.getComponentInChildren(b).string=$[t],this.refreshTmpEquips()}},{key:"visible",get:function(){return!g.battle.playing&&this.node.parent.getComponent(D).visible}}]),e}(d)).TMP_EQUIP_POSES=[[],[[10,62]],[[-68,62],[68,62]],[[-124,62],[10,62],[144,62]],[[-68,200],[68,200],[-68,62],[68,62]],[[-68,200],[68,200],[-124,62],[10,62],[144,62]],[[-124,200],[10,200],[144,200],[-124,62],[10,62],[144,62]]],M=e((z=K).prototype,"pfbSabi",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"pfbSpecItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(z.prototype,"btnStart",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(z.prototype,"btnChuizi",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(z.prototype,"spineSmith",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(z.prototype,"spineStrike",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(z.prototype,"layoutEquips",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z))||w));u._RF.pop()}}}));

System.register("chunks:///_virtual/BoxMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var n,t,i,o,s,a,r,c,l,u,d,f,p,h,v,b,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,r=e._decorator,c=e.Node,l=e.Prefab,u=e.instantiate,d=e.Vec3,f=e.Component,p=e.Event},function(e){h=e.oops},function(e){v=e.GameEvent},function(e){b=e.UIID},function(e){g=e.smc}],execute:function(){var m,x,k,S,y,E,B,_,P;a._RF.push({},"d7d01kJEEFF7bMLBmUO8xYu","BoxMain",void 0);var L,D=r.ccclass,w=r.property;!function(e){e.Equip="box_equip",e.Skill="box_skill"}(L||(L={}));e("BoxMain",(m=D("BoxMain"),x=w([c]),k=w(c),S=w(c),m((B=n((E=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,i(n,"nodePages",B,o(n)),i(n,"btnSkill",_,o(n)),i(n,"nodeScene",P,o(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){this.node.setSiblingIndex(0),this.replaceSkin(g.ebox.skinLevel)},a.start=function(){this.onTabClick(this.nodePages[0].name),h.message.on(v.DockBtnActive,this._eventHandler,this),h.message.on(v.EBoxLvUp,this._eventHandler,this)},a.onDestroy=function(){h.message.off(v.DockBtnActive,this._eventHandler,this),h.message.off(v.EBoxLvUp,this._eventHandler,this)},a.onTabClick=function(e,n){void 0===n&&(n=null),!e||e instanceof p||(n=e),this.showPage(n)},a.showPage=function(e){this.nodePages.forEach((function(n){n.active=n.name==e}))},a.replaceSkin=function(e){var n,t=this,i="scene"+e;if((null==(n=this.nodeScene)?void 0:n.name)!=i){var o="gui/box/"+i+"/box_scene";h.res.load(o,l,(function(e,n){var o;if(!e){var s=u(n);s.parent=t.node,s.name=i,s.setSiblingIndex(0),null==(o=t.nodeScene)||o.destroy(),t.nodeScene=s}}))}},a._eventHandler=function(e,n){(void 0===n&&(n=null),e==v.DockBtnActive)?n==b.Box?(this.node.scale=d.ONE,this.showPage(L.Equip)):(this.node.active=!0,this.node.scale=d.ZERO):e==v.EBoxLvUp&&this.replaceSkin(g.ebox.skinLevel)},s(n,[{key:"visible",get:function(){return this.node.scale.equals(d.ONE)}}]),n}(f)).prototype,"nodePages",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(E.prototype,"btnSkill",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(E.prototype,"nodeScene",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/BoxSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./StorageKey.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableUtil.ts","./Util.ts","./JsonUtil.ts","./TableGameSBoxLv.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,u,c,l,f,p,m,g,h,b,d,y,v,B,x,S,C,k,E,T,I,G,w,D,N,_,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,l=t.Node,f=t.Label,p=t.Button,m=t.Toggle,g=t.RichText,h=t.Color,b=t.Animation,d=t.Component},function(t){y=t.oops},function(t){v=t.EItemType},function(t){B=t.GameEvent},function(t){x=t.UIID},function(t){S=t.StorageKey},function(t){C=t.tips},function(t){k=t.httpChannel},function(t){E=t.MsgID},function(t){T=t.smc},function(t){I=t.GameSys},function(t){G=t.TableGameConfig},function(t){w=t.GameSysKey},function(t){D=t.TableUtil},function(t){N=t.Util},function(t){_=t.JsonUtil},function(t){O=t.TableGameSBoxLv}],execute:function(){var L,R,U,z,A,M,H,J,K,P,j,F,W;u._RF.push({},"02148GRMoZJbY8OPZWDdtCE","BoxSkill",void 0);var Z=c.ccclass,q=c.property;t("BoxSkill",(L=Z("BoxSkill"),R=q(l),U=q(f),z=q([p]),A=q(m),M=q(g),L((K=e((J=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).ID=G.itemid_sbox,o(e,"nodeBox",K,i(e)),o(e,"lblBtnText",P,i(e)),o(e,"btnOpens",j,i(e)),o(e,"skip",F,i(e)),o(e,"rich",W,i(e)),e}n(e,t);var u=e.prototype;return u.start=function(){this.animation.stop(),this.refresh(),y.storage.set(S.EboxBuyStorage,0),y.message.on(B.SBoxBuy,this._eventHandler,this)},u.onDestroy=function(){y.message.off(B.SBoxBuy,this._eventHandler,this)},u.refresh=function(){var t=this;this.btnOpens.forEach((function(e){t.updateItemNum(e,Number(e.clickEvents[0].customEventData)),N.setRedot(e,t.count>=Number(e.clickEvents[0].customEventData))}));var e=_.get(O.TableName)[1].spe_count;this.rich.string="<outline color=black width=3><b>再开启"+(e-T.accdata.sbox.speCount)+"次，必定出现<color=#ff5e5e>SSR</color>级技能书</b></outline>"},u.updateItemNum=function(t,e){var n=t.node.getChildByName("Layout").getChildByName("Label_costnum"),o=this.count;n.getComponent(f).string=o+"/"+e;var i=new h(o>=e?"#fff4dc":"#ff6f6f");n.getComponent(f).color=i},u.onOpenClick=function(t,e){var n=Number(e);this.count<n&&0==Number(this.getBuyItemStatus(S.EboxBuyStorage))?y.gui.open(x.EboxBuyTip,{total:n,cost:n-this.count}):this.openEBox(n)},u.openEBox=function(){var t=a(s().mark((function t(e){var n,o,i,r=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={num:e,sellcfg:y.storage.getJson(S.SkillSellQualities,{})},t.next=3,k.reqAsync(E.SBoxOpen,n);case 3:if(null!=(o=t.sent)&&o.ok){t.next=6;break}return t.abrupt("return");case 6:T.accdata.sbox.speCount=o.speCount,T.account.doResChange(o),this.refresh(),(i=this.skip.isChecked)||this.animation.play(),this.scheduleOnce((function(){r.animation.stop();var t={additem:Object.keys(o.additem).filter((function(t){return D.getItemType(t)==v.SKILL})).reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=o.additem[e],n))}),{}),bAnim:!0};C.reward(t)}),i?0:1.5),y.message.dispatchEvent(B.SBoxOpened);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.getBuyItemStatus=function(t){return""!=y.storage.get(t)?y.storage.get(t):1},u._eventHandler=function(t,e){void 0===e&&(e=null),t==B.SBoxBuy&&this.openEBox(e.count)},u.onAutoClick=function(){y.gui.open(x.SkillSell)},u.onClickClose=function(){y.gui.removeByNode(this.node,!0)},r(e,[{key:"animation",get:function(){return this.nodeBox.getComponent(b)}},{key:"count",get:function(){return T.accountData.getItemCount(this.ID)}}]),e}(d)).prototype,"nodeBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(J.prototype,"lblBtnText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(J.prototype,"btnOpens",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(J.prototype,"skip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(J.prototype,"rich",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=J))||H));new(function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).redotWatchGameEvents=[B.ItemBagUpdated],e}return n(e,t),e.prototype.calRedot=function(){return T.accountData.getItemCount(G.itemid_sbox)>0},e}(I))(w.box_skill),u._RF.pop()}}}));

System.register("chunks:///_virtual/BoxSkinFore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts"],(function(i){"use strict";var t,e,o,n,r,a,l,s,u,h,p,c,g,d,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,l=i.Color,s=i.Vec3,u=i.Animation,h=i.Node,p=i.Sprite,c=i.Component},function(i){g=i.oops},function(i){d=i.GameEvent},function(i){v=i.smc}],execute:function(){var f,L,m,z,C,w,y,T;r._RF.push({},"7766awYXiBOwr1n0XBY+UqT","BoxSkinFore",void 0);var k=a.ccclass,x=a.property,F=((f={})[0]={lightColor:null},f[1]={lightColor:l.WHITE,taiziLightPos:new s(10,-260)},f[2]={lightColor:new l("FF8200"),taiziLightPos:new s(10,-328)},f[3]={lightColor:l.WHITE,taiziLightPos:new s(2,-300)},f[4]={lightColor:new l("FF8200"),taiziLightPos:new s(10,-260)},f[5]={lightColor:null,taiziLightPos:new s(5,-285)},f);i("BoxSkinFore",(L=k("BoxSkinFore"),m=x(u),z=x(h),L((y=t((w=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,o(t,"animTaizi",y,n(t)),o(t,"nodeLight",T,n(t)),t}e(t,i);var r=t.prototype;return r.start=function(){this.updateSkin(),g.message.on(d.EBoxLvUp,this._eventHandler,this)},r.onDestroy=function(){g.message.off(d.EBoxLvUp,this._eventHandler,this)},r.updateSkin=function(){this.updateLightColor(),this.updateTaizi()},r.updateLightColor=function(){var i=F[v.ebox.skinLevel];null!=i&&i.lightColor?(this.nodeLight.active=!0,this.nodeLight.getComponent(p).color=i.lightColor):this.nodeLight.active=!1},r.updateTaizi=function(){var i=F[v.ebox.skinLevel];if(null==i||!i.taiziLightPos)return this.animTaizi.getComponent(p).spriteFrame=null,void this.animTaizi.stop();this.animTaizi.play("taizi"+v.ebox.skinLevel),this.animTaizi.node.position=i.taiziLightPos},r._eventHandler=function(i,t){i==d.EBoxLvUp&&this.updateSkin()},t}(c)).prototype,"animTaizi",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(w.prototype,"nodeLight",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=w))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/BoxUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./CostItem.ts","./HttpChannelManager.ts","./NetProtocol.ts","./UMASDK.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameEBoxLv.ts","./TableGameSys.ts","./Util.ts","./Guide.ts"],(function(e){"use strict";var t,n,i,o,r,l,a,s,c,u,p,b,f,d,h,C,v,g,m,D,y,x,U,B,E,w,k,_,z,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass,l=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Label,p=e.Node,b=e.ProgressBar,f=e.Sprite,d=e.macro,h=e.Component},function(e){C=e.oops},function(e){v=e.ViewUtil},function(e){g=e.GameEvent},function(e){m=e.UIID},function(e){D=e.CostItem},function(e){y=e.httpChannel},function(e){x=e.MsgID},function(e){U=e.UMASDK,B=e.UMA_EVENT},function(e){E=e.smc},function(e){w=e.TableGameConfig},function(e){k=e.TableGameEBoxLv},function(e){_=e.GameSysKey},function(e){z=e.Util},function(e){A=e.GuideTypes}],execute:function(){var G,I,L,P,R,S,T,M,q,N,V,F,O,j,K,H,X,Y,Z,J,Q,W,$,ee,te,ne,ie,oe,re,le,ae;s._RF.push({},"c7c8fDCwzdDd6r1UGDNCjwe","BoxUpgrade",void 0);var se=c.ccclass,ce=c.property;e("BoxUpgrade",(G=se("BoxUpgrade"),I=ce(u),L=ce(u),P=ce(p),R=ce(u),S=ce(p),T=ce(D),M=ce(b),q=ce(p),N=ce(D),V=ce(p),F=ce(p),O=ce(p),j=ce(u),K=ce(u),G((Y=t((X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lblCurLv",Y,o(t)),i(t,"lblNextLv",Z,o(t)),i(t,"nodeProps",J,o(t)),i(t,"lblCD",Q,o(t)),i(t,"nodeBuy",W,o(t)),i(t,"costItem",$,o(t)),i(t,"progBar",ee,o(t)),i(t,"nodeCD",te,o(t)),i(t,"costItemDiamond",ne,o(t)),i(t,"btnCD",ie,o(t)),i(t,"spCost",oe,o(t)),i(t,"nodeCountDown",re,o(t)),i(t,"lblUpCD",le,o(t)),i(t,"lblMax",ae,o(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.nodeBuy.active=!1,this.nodeCD.active=!1,this.nodeCD.setPosition(this.nodeBuy.position),this.lblCD.string=""},s.start=function(){this.refresh()},s.refresh=function(){var e=E.ebox.info,t=e.lv,n=(new k).init(t),i=(new k).init(t+1),o=!i;if(this.lblCurLv.string="当前等级："+t,this.lblNextLv.string=o?"已满级":"下一等级："+(t+1),this.nodeProps.children.forEach((function(e,t){var r=e.getComponentsInChildren(u);r[0].string=z.fmtPercent(n["quality_"+(t+1)]),r[1].string=o?"-":z.fmtPercent(i["quality_"+(t+1)])})),o)return this.nodeBuy.active=!1,this.nodeCD.active=!1,this.nodeCountDown.active=!1,void(this.lblMax.node.active=!0);this.nodeBuy.active=!e.cd,this.nodeCD.active=null!=e.cd,e.cd?(this.lblCD.node.parent.getComponent(f).grayscale=!1,this.doCD(),E.guide.try(A.DuanZaoUpCD)):(this.lblCD.node.parent.getComponent(f).grayscale=!0,this.lblCD.string="升级需要时间："+z.fmtSecs(n.up_cd),this.progBar.progress=e.lvUpCount/n.up_num,this.costItem.init(n.up_item,n.up_price));var r=w.boxup_skip_cd;this.costItemDiamond.init(r.i,r.n),this.refreshInterver(),C.message.dispatchEvent(g.YuekaUpdateRed)},s.refreshInterver=function(){var e=this;if(E.ebox.info.interval){this.lblUpCD.node.active=!1,this.spCost.active=!1;var t=E.ebox.intervalSec;t>0?(this.lblUpCD.node.active=!0,v.setGray(this.btnCD,!0),this.lblUpCD.unscheduleAllCallbacks(),this.lblUpCD.schedule((function(n){var i=z.getTimeSpan(t);e.lblUpCD.string=[i.hours,i.minutes,i.seconds].map((function(e){return e.toString().padStart(2,"0")})).join(":"),0===t&&(e.lblUpCD.node.active=!1,e.spCost.active=!0,v.setGray(e.btnCD,!1),e.lblUpCD.unscheduleAllCallbacks()),t--}),1,d.REPEAT_FOREVER,.1)):this.spCost.active=!0}else this.spCost.active=!0},s.doCD=function(){var e=this;this.lblCD.unscheduleAllCallbacks(),this.lblCD.schedule((function(t){var n=E.ebox.upgradeCD;n<=0?(e.reqCheckUpgrade(),e.lblCD.unscheduleAllCallbacks()):e.lblCD.string="锻造升级中："+z.fmtSecs(n)}),1,d.REPEAT_FOREVER,.1)},s.reqCheckUpgrade=function(){var e=this;y.req(x.EBoxCheckCD,{},(function(t){var n,i=t.data;C.gui.toast(i.msg),i.ok&&(U.doEvent(B.EBOX_UPGRADE,{lv:null==(n=i.eBoxEntity)?void 0:n.lv}),E.ebox.info=i.eBoxEntity,e.refresh(),C.message.dispatchEvent(g.EBoxLvUp),C.gui.remove(m.BoxAccelerate,!0))}))},s.onBuyClick=function(){var e=this;if(this.service.checkCost(!0)){y.req(x.EBoxUp,{},(function(t){var n=t.data;C.gui.toast(n.msg),n.ok&&(E.account.doResChange(n),E.ebox.info=n.eBoxEntity,e.refresh())}))}},s.onADClick=function(){var e=l(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={num:0,isadv:!1,diamond:!0},e.next=3,y.reqAsync(x.EBoxAccelerate,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:E.account.doResChange(n),E.ebox.info=n.eBoxEntity,this.refresh();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onAccelerateClick=function(){this.service.checkCost(!0)&&C.gui.open(m.BoxAccelerate)},s.onXClick=function(){C.gui.removeByNode(this.node,!0)},r(t,[{key:"service",get:function(){return E.system.get(_.box_equip_up)}}]),t}(h)).prototype,"lblCurLv",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(X.prototype,"lblNextLv",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(X.prototype,"nodeProps",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(X.prototype,"lblCD",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(X.prototype,"nodeBuy",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(X.prototype,"costItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(X.prototype,"progBar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(X.prototype,"nodeCD",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(X.prototype,"costItemDiamond",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(X.prototype,"btnCD",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(X.prototype,"spCost",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(X.prototype,"nodeCountDown",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(X.prototype,"lblUpCD",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(X.prototype,"lblMax",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=X))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/BranchNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(n){"use strict";var t,i,e,r;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy},function(n){e=n.BehaviorTree},function(n){r=n.BTreeNode}],execute:function(){i._RF.push({},"beafaDMsw9FCbGDpLVmMfa1","BranchNode",void 0);n("BranchNode",function(n){function i(t){var i;return(i=n.call(this)||this).children=void 0,i._blackboard=void 0,i.children=t||[],i}t(i,n);var r=i.prototype;return r.start=function(){this._actualTask=0,n.prototype.start.call(this)},r.run=function(n){0==this.children.length?this._control.fail():(this._blackboard=n,this.start(),this._actualTask<this.children.length&&this._run()),this.end()},r._run=function(n){var t=e.getNode(this.children[this._actualTask]);this._runningNode=t,t.setControl(this),t.start(this._blackboard),t.run(this._blackboard)},r.running=function(n){this._nodeRunning=n,this._control.running(n)},r.success=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},r.fail=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/BTreeNode.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"f0aeepAwndJP7wlpP6QKx06","BTreeNode",void 0);t("BTreeNode",function(){function t(){this.title=void 0,this.title=this.constructor.name}var n=t.prototype;return n.start=function(t){},n.end=function(t){},n.setControl=function(t){this._control=t},n.running=function(t){this._control.running(this)},n.success=function(){this._control.success()},n.fail=function(){this._control.fail()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BuildTimeConstants.ts",["cc","./env"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t}],execute:function(){n._RF.push({},"21a39/4HchJdJkSQKKKkLh9","BuildTimeConstants",void 0);var u=Object.keys(e).sort();t("BuildTimeConstants",(function(){var t=u.reduce((function(t,n){return Math.max(t,n.length)}),0),n=""+u.map((function(n){var u=e[n],c="boolean"==typeof u?u?"true":"false":u;return"\n"+n.padStart(t," ")+" : "+c}));console.log(n)}));n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ButtonSimple.ts"],(function(t){"use strict";var e,n,o,i,a,r,c,s,l,u,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,c=t._decorator,s=t.Animation,l=t.AnimationClip,u=t.Sprite},function(t){f=t.oops},function(t){p=t.default}],execute:function(){var d,h,m,y,g,b;r._RF.push({},"1be36hrGO5Oz6Eapg6ygW03","ButtonEffect",void 0);var _=c.ccclass,E=c.property,v=c.menu;t("default",(d=_("ButtonEffect"),h=v("ui/button/ButtonEffect"),m=E({tooltip:"是否开启"}),d(y=h((b=e((g=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"disabledEffect",b,i(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.anim=this.node.addComponent(s);var e=f.res.get("common/anim/button_scale_start",l),n=f.res.get("common/anim/button_scale_end",l);this.anim.defaultClip=e,this.anim.createState(e,null==e?void 0:e.name),this.anim.createState(n,null==n?void 0:n.name),t.prototype.onLoad.call(this)},r.onTouchtStart=function(t){this.disabledEffect||this.anim.play("button_scale_start")},r.onTouchEnd=function(e){this.disabledEffect||this.anim.play("button_scale_end"),t.prototype.onTouchEnd.call(this,e)},a(e,[{key:"grayscale",get:function(){return this.node.getComponent(u).grayscale},set:function(t){this.node.getComponent(u)&&(this.node.getComponent(u).grayscale=t)}}]),e}(p)).prototype,"disabledEffect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=g))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSimple.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,e,i,r,u,c,s,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,c=t.Node,s=t.game,h=t.Component}],execute:function(){var a,p,l,T,d,f,E,v;r._RF.push({},"8d645yObX1FvJfk2sbi0rxp","ButtonSimple",void 0);var y=u.ccclass,m=u.property,C=u.menu;t("default",(a=y("ButtonSimple"),p=C("ui/button/ButtonSimple"),l=m({tooltip:"是否只能触发一次"}),T=m({tooltip:"每次触发间隔"}),a(d=p((E=o((f=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return o=t.call.apply(t,[this].concat(r))||this,e(o,"once",E,i(o)),e(o,"interval",v,i(o)),o.touchCount=0,o.touchtEndTime=0,o}n(o,t);var r=o.prototype;return r.onLoad=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchtStart,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onTouchtStart=function(t){},r.onTouchEnd=function(t){if(this.once){if(this.touchCount>0)return void(t.propagationStopped=!0);this.touchCount++}this.touchtEndTime&&s.totalTime-this.touchtEndTime<this.interval?t.propagationStopped=!0:this.touchtEndTime=s.totalTime},r.onDestroy=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchtStart,this),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o}(h)).prototype,"once",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=o(f.prototype,"interval",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),d=f))||d)||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonTouchLong.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonEffect.ts"],(function(t){"use strict";var o,n,i,e,s,u,c,r;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,u=t._decorator,c=t.EventHandler},function(t){r=t.default}],execute:function(){var a,h,l,p,T,f,_,g;s._RF.push({},"da96en7WYpPTaPIkO1l/Nux","ButtonTouchLong",void 0);var v=u.ccclass,m=u.property,L=u.menu;t("ButtonTouchLong",(a=v("ButtonTouchLong"),h=L("ui/button/ButtonTouchLong"),l=m({tooltip:"长按时间（秒）"}),p=m({type:[c],tooltip:"长按时间（秒）"}),a(T=h((_=o((f=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return o=t.call.apply(t,[this].concat(s))||this,i(o,"time",_,e(o)),i(o,"clickEvents",g,e(o)),o._passTime=0,o._isTouchLong=!0,o._event=null,o}n(o,t);var s=o.prototype;return s.onLoad=function(){this._isTouchLong=!1,t.prototype.onLoad.call(this)},s.onTouchtStart=function(o){this._event=o,this._passTime=0,t.prototype.onTouchtStart.call(this,o)},s.onTouchEnd=function(o){this._passTime>this.time&&(o.propagationStopped=!0),this._event=null,this._passTime=0,this._isTouchLong=!1,t.prototype.onTouchEnd.call(this,o)},s.removeTouchLong=function(){this._event=null,this._isTouchLong=!1},s.update=function(t){this._event&&!this._isTouchLong&&(this._passTime+=t,this._passTime>=this.time&&(this._isTouchLong=!0,this.clickEvents.forEach((function(t){t.emit([t.customEventData])})),this.removeTouchLong()))},o}(r)).prototype,"time",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=o(f.prototype,"clickEvents",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=f))||T)||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/BuyDiceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemsGroup.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TablePrivilegeType.ts","./TableShop.ts","./TableUtil.ts","./Util.ts","./BagItem.ts"],(function(t){"use strict";var e,i,l,n,r,s,o,a,c,u,h,f,p,g,b,m,y,d,T,v,I,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.Label,h=t.Button,f=t.error,p=t.macro,g=t.Component},function(t){b=t.ItemsGroup},function(t){m=t.smc},function(t){y=t.TableGameConfig},function(t){d=t.PrivilegeTypeKey},function(t){T=t.TableShop},function(t){v=t.TableUtil},function(t){I=t.Util},function(t){B=t.BagItem}],execute:function(){var C,S,D,w,P,_,k,z,F,G,E,L,R,U,x;a._RF.push({},"064bbXLym5KGZUDYDrvrU7T","BuyDiceItem",void 0);var A=c.ccclass,H=c.property;t("BuyDiceItem",(C=A("BuyDiceItem"),S=H(B),D=H(u),w=H(u),P=H(u),_=H(u),k=H(h),C((G=e((F=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,l(e,"item",G,n(e)),l(e,"lblTitle",E,n(e)),l(e,"lblTimes",L,n(e)),l(e,"lblCost",R,n(e)),l(e,"lblleftSec",U,n(e)),l(e,"btnBuy",x,n(e)),e.cfg=new T,e.totalTimes=void 0,e.shopId=void 0,e.privilegeType=d.shop_add_daily_num,e}i(e,t);var a=e.prototype;return a.start=function(){this.btnBuy.node.on(h.EventType.CLICK,this.onBuyClick,this)},a.init=function(t){if(this.shopId=t,this.cfg.init(t),this.cfg.free)this.initFree();else{if(I.isEmpty(this.cfg.cost))return void f("shopId error");this.initBuy()}b.loadDropItems([this.item],this.cfg.drop[0]),this.refresh()},a.refresh=function(){var t=m.store.getBuyTimes(this.cfg.id,"dailyTag");this.lblTimes.string="剩余次数："+(this.cfg.dailylimit-t),this.cfg.free&&this.initFree()},a.initFree=function(){this.lblTitle.string="免费获得",this.lblCost.string="领 取",this.lblleftSec.node.active=!1;var t=this.cfg.dailylimit,e=m.accountData.privilege,i=v.getGoodsByID(this.shopId);this.isHasPrivilege&&(t+=m.store.getPrivilegeVal(e,i.systemid,this.privilegeType,this.shopId));this.totalTimes=t;var l=m.store.buyTagInfo;null!=l&&l.dailyTag?this.updateTimes():this.lblCost.getComponent(u).string="领 取"},a.updateTimes=function(){var t=this,e=m.store.getLeftSec(this.cfg.id,this.totalTimes);e>0?(this.lblleftSec.node.active=!0,this.lblleftSec.unscheduleAllCallbacks(),this.lblleftSec.schedule((function(i){var l=I.getTimeSpan(e);t.lblleftSec.string=[l.hours,l.minutes,l.seconds].map((function(t){return t.toString().padStart(2,"0")})).join(":"),e<=0&&(t.initFree(),t.lblleftSec.unscheduleAllCallbacks()),e--}),1,p.REPEAT_FOREVER,.1)):-1==e?this.lblTitle.string="明日再来":-2==e||(this.lblTitle.string="免费获得")},a.initBuy=function(){this.lblTitle.string="钻石兑换";var t=this.cfg.cost[y.moneyId_diamond];this.lblCost.string="钻石 x"+t},a.onBuyClick=function(){var t=s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.store.reqBuy(this.cfg.id);case 2:(e=t.sent)&&e.ok&&this.refresh();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r(e,[{key:"isHasPrivilege",get:function(){return m.store.hasPrivilege(this.privilegeType)>0}}]),e}(g)).prototype,"item",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(F.prototype,"lblTitle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(F.prototype,"lblTimes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(F.prototype,"lblCost",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(F.prototype,"lblleftSec",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(F.prototype,"btnBuy",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=F))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Caiquan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./JsonUtil.ts","./Tablecaiquan.ts","./TableGameSkill.ts","./ViewUtil.ts","./GameResPath.ts","./Arena.ts","./NetProtocol.ts","./HttpChannelManager.ts","./Util.ts","./Oops.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,c,s,u,p,f,b,m,g,h,y,d,C,v,q,T,w,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Label,u=e.Sprite,p=e.SpriteFrame,f=e.Button,b=e.Component},function(e){m=e.smc},function(e){g=e.JsonUtil},function(e){h=e.Tablecaiquan},function(e){y=e.TableGameSkill},function(e){d=e.ViewUtil},function(e){C=e.GameResPath},function(e){v=e.CQType},function(e){q=e.MsgID},function(e){T=e.httpChannel},function(e){w=e.Util},function(e){S=e.oops}],execute:function(){var U,k,z,R,_,A,F,N,P,B,G,L,x,D,I;l._RF.push({},"648893boQVLRJ1nP7K2KuYo","Caiquan",void 0);var M=c.ccclass,O=c.property;e("Caiquan",(U=M("Caiquan"),k=O(s),z=O(u),R=O(u),_=O(s),A=O([p]),F=O(f),U((B=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lblBuff",B,r(t)),i(t,"imgAct",G,r(t)),i(t,"imgCost",L,r(t)),i(t,"lblCost",x,r(t)),i(t,"frames",D,r(t)),i(t,"btnUpgrade",I,r(t)),t._level=void 0,t}n(t,e);var l=t.prototype;return l.start=function(){m.arena.cqType=m.arena.cqType||v.STONE,this.refresh()},l.update=function(e){},l.refresh=function(){var e=m.arena.cqType,t=m.accdata.subinfo.cq||{lv:{}},n=g.get(h.TableName),i=t.lv[e],r=n[e][i],a=new y;a.init(r.skill),this.lblBuff.string=a.dec,this.imgAct.spriteFrame=this.frames[e-1];var o=n[e][i+1],l=Object.entries(o?o.costitem:r.costitem)[0];d.loadSpriteFrame(this.imgCost,C.getItemSpriteFrame(Number(l[0]))),this.lblCost.string=String(l[1]),w.setRedot(this.btnUpgrade,o&&m.accdata.getItemCount(l[0])>=Number(l[1]))},l.onClickAct=function(){m.arena.cqType++,m.arena.cqType>3&&(m.arena.cqType=v.STONE),this.refresh()},l.setLevel=function(e){this._level=e},l.onClickUpgrade=function(){var e=a(o().mark((function e(){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=q.CQUpgrade,n={id:m.arena.cqType},e.next=4,T.reqAsync(t,n);case 4:if(null!=(i=e.sent)&&i.ok){e.next=7;break}return e.abrupt("return");case 7:S.gui.toast(i.msg),m.accdata.subinfo.cq=i.cq,this.refresh(),m.account.doResChange(i);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onClickchallenge=function(){this._level&&m.arena.doFight(this._level)},t}(b)).prototype,"lblBuff",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(P.prototype,"imgAct",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(P.prototype,"imgCost",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"lblCost",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"frames",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(P.prototype,"btnUpgrade",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=P))||N));l._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc"],(function(t){"use strict";var e,r,n;return{setters:[function(t){e=t.cclegacy,r=t.Vec3,n=t.view}],execute:function(){e._RF.push({},"95c77QQpp1EjKj8UBFCCdKu","CameraUtil",void 0);t("CameraUtil",function(){function t(){}return t.isInView=function(t,e){var i=t.node.getWorldPosition(),c=t.worldToScreen(e),o=r.normalize(new r,e.subtract(i)),u=t.node.forward,a=r.dot(u,o),s=n.getViewportRect();return a>0&&c.x<=s.width&&c.x>=0&&c.y<=s.height&&c.y>=0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CBPart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./Util.ts","./MainBtn.ts","./MainBtnRedot.ts"],(function(t){"use strict";var e,n,i,r,s,o,a,c,u,h,l,f,d,p,v,m,y,g,k,B,b,_,D,I,C,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.Prefab,h=t.Node,l=t.Button,f=t.instantiate,d=t.Component},function(t){p=t.oops},function(t){v=t.ViewUtil},function(t){m=t.GameEvent},function(t){y=t.DockBtnType,g=t.CBConfigData,k=t.LBConfigData,B=t.UIID},function(t){b=t.smc},function(t){_=t.DockBtnAdapter},function(t){D=t.GameSysKey},function(t){I=t.delay},function(t){C=t.MainBtn},function(t){L=t.MainBtnRedot}],execute:function(){var E,x,w,G,H,M,A,R,U,T,z,P;a._RF.push({},"2293e59mL5Ko6vEG707WzSG","CBPart",void 0);var S=c.ccclass,F=c.property;t("CBPart",(E=S("CBPart"),x=F(u),w=F(h),G=F(C),H=F([l]),E(((P=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"pfbMainBtn",R,r(e)),i(e,"nodeBtnRoot",U,r(e)),i(e,"btnGameLevel",T,r(e)),i(e,"mainBtns",z,r(e)),e._inLoading=!1,e._curDock=null,e._entry=null,e}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;this.mainBtns.forEach((function(e,n){e.node.on(l.EventType.CLICK,t.onBtnClick.bind(t,n));var i=g[n];b.system.isRegistered(i.sysId)||new _(i.sysId),e.getComponent(L).init(i.sysId)})),this.onBtnClick(e.Home),this.refresh(),k.forEach((function(e){var n=f(t.pfbMainBtn);n.getComponent(C).init(e),n.parent=t.nodeBtnRoot}))},a.start=function(){this.btnGameLevel.init({sysId:D.gamelevels,uiId:b.battle.getGameLevelUIID()}),this.refreshBtn(),p.message.on(m.HeroLevelUp,this._eventHandler,this),p.message.on(m.TaskMainFinished,this._eventHandler,this),p.message.on(m.DockBtnActive,this._dockEventHandler,this)},a.onDestroy=function(){p.message.off(m.HeroLevelUp,this._eventHandler,this),p.message.off(m.TaskMainFinished,this._eventHandler,this),p.message.off(m.DockBtnActive,this._dockEventHandler,this)},a.refreshBtn=function(){this.nodeBtnRoot.getComponentsInChildren(C).forEach((function(t){t.node.active=b.system.checkOpened(t.getSysID(),!1)}))},a.refresh=function(){this.mainBtns.forEach((function(t,e){var n=g[e].sysId;v.setGray(t.node,!b.system.checkOpened(n,!1))}))},a.show=function(t,e){void 0===e&&(e=null),this._entry=e,t!=this._curDock?this.onBtnClick(t):this.checkEntry()},a.onBtnClick=function(){var t=s(o().mark((function t(e,n){var i,r=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._inLoading){t.next=3;break}return t.abrupt("return");case 3:if(i=g[e]){t.next=7;break}return p.gui.toast("暂未开放，敬请期待"),t.abrupt("return");case 7:if(b.system.checkOpened(i.sysId,!0)){t.next=9;break}return t.abrupt("return");case 9:if(!p.gui.has(i.uiId)){t.next=14;break}p.gui.get(i.uiId).active=!0,this.setActiveDock(e),t.next=24;break;case 14:if(!i.resDir){t.next=19;break}this._inLoading=!0,p.res.loadDir(i.resDir,u,s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.gui.openAsync(i.uiId);case 2:r.setActiveDock(e),r._inLoading=!1;case 4:case"end":return t.stop()}}),t)})))),t.next=24;break;case 19:return this._inLoading=!0,t.next=22,p.gui.openAsync(i.uiId);case 22:this.setActiveDock(e),this._inLoading=!1;case 24:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),a.setActiveDock=function(){var t=s(o().mark((function t(e){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.mainBtns.forEach((function(t){t.interactable=!0})),this.mainBtns[e].interactable=!1,null!=this._curDock&&(n=g[this._curDock],p.gui.has(n.uiId)&&n.needCache?p.gui.get(n.uiId).active=!1:p.gui.remove(n.uiId,!0)),this._curDock=e,i=g[e],p.message.dispatchEvent(m.DockBtnActive,i.uiId),t.next=8,I(100);case 8:this.checkEntry();case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.checkEntry=function(){this._entry&&(p.message.dispatchEvent(m.GotoMain,this._entry),this._entry=null)},a._eventHandler=function(t,e){t!=m.HeroLevelUp&&t!=m.TaskMainFinished||(this.refresh(),this.refreshBtn())},a._dockEventHandler=function(t,e){if(t===m.DockBtnActive){var n=e==B.Box;this.nodeBtnRoot.active=n}},e}(d)).Home=y.Box,R=e((A=P).prototype,"pfbMainBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(A.prototype,"nodeBtnRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(A.prototype,"btnGameLevel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(A.prototype,"mainBtns",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=A))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts"],(function(t){"use strict";var o,e,n,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.GameComponent}],execute:function(){var c,i;e._RF.push({},"dd207fiyGJLf5r+bkiMgwdt","CCComp",void 0);var s=n.ccclass;n.property,t("CCComp",s("CCComp")(((i=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(r)).tid=-1,i.compName=void 0,c=i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCVMParentComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMParent.ts"],(function(t){"use strict";var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator},function(t){o=t.default}],execute:function(){var c,i;r._RF.push({},"5908aTmM1lItpXgo7ROpQeQ","CCVMParentComp",void 0);var s=n.ccclass;n.property,t("CCVMParentComp",s("CCVMParentComp")(((i=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r}(o)).tid=-1,i.compName=void 0,c=i))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/Chat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./socket.io.mjs_cjs=&original=.js","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./ZKChannelManager.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./Util.ts","./ChatProtocal.ts","./socket.io.js"],(function(t){"use strict";var n,e,o,i,c,s,a,l,u,r,h,g,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){o=t.oops},function(t){i=t.EChatType},function(t){c=t.GameEvent},function(t){s=t.zkChannel},function(t){a=t.smc},function(t){l=t.GameSys},function(t){u=t.TableGameConfig},function(t){r=t.GameSysKey},function(t){h=t.Util},function(t){g=t.WSEMsgType},function(t){f=t.default}],execute:function(){var d;e._RF.push({},"418f4BBiuVBCaWpI/zUmQMB","Chat",void 0);var m=t("Chat",function(t){function e(){var n;return(n=t.call(this,r.chat)||this).redotWatchGameEvents=[],n._socket=null,n._cacheMsgs={},n}n(e,t);var l=e.prototype;return l.getCache=function(t){var n;return(n=this._cacheMsgs)[t]||(n[t]=[])},l.clearCache=function(t){void 0===t&&(t=null),t?t in this._cacheMsgs&&(this._cacheMsgs[t]=[]):this._cacheMsgs={}},l.getHistory=function(t,n){return void 0===n&&(n=null),n?this.getCache(t).slice(-n):this.getCache(t)},l.onLogin=function(){var t;this.clearCache(),null!=(t=this._socket)&&t.connected&&this._socket.disconnect(),this._socket=this.connect()},l.onLogout=function(){var t;null!=(t=this._socket)&&t.connected&&(this._socket.disconnect(),this._socket=null)},l.checkPermission=function(t){var n,e,i=u.chat_cond;return a.accdata.heroLevel<i.lv?(t&&o.gui.toast("达到"+h.fmtLv(i.lv)+"后可以发言"),!1):!((null!=(n=null==(e=a.store.roleRechargeInfo)?void 0:e.totalAmounts)?n:0)<i.totalRecharge)||(t&&o.gui.toast("总充值达到"+i.totalRecharge+"元后可以发言"),!1)},l.send=function(t,n){var e,i,c=this;if(a.account.isLogin())if(null!=(e=this._socket)&&e.connected){var l=v.getChannelReqType(t);null==(i=this._socket)||i.emit("message",{type:l,chatMsg:n},(function(e){var i,l,u,r;(c.log(e),null!=e&&null!=(i=e.data)&&i.ok)?c.onNewMsg({serverid:s.getCurServerId(),type:t,sender:a.accdata.id,msg:n,info:{n:a.accdata.name,c:a.accdata.roleHead,f:a.accdata.getZhanli(),lv:a.accdata.heroLevel,title:null==(l=a.accdata.subinfo)||null==(u=l.title)?void 0:u.show}}):o.gui.toast((null==e||null==(r=e.data)?void 0:r.msg)||"发送失败")}))}else this._socket=this.connect()},l.connect=function(){var t=this,n=s.getChatUri();if(n){var e={transports:["websocket"],auth:{token:a.accdata.token},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3},o=f(n,e);return null==o||o.on("connect",(function(){t.log("connect"),t.clearCache()})),null==o||o.on("message",(function(n){t.onMsg(n),t.log(n)})),null==o||o.on("disconnect",(function(){t.log("disconnect"),a.account.isLogin()})),o}console.log("Chat Uri is null!")},l.onMsg=function(t){if(null!=t&&t.ok)try{var n,e;if("chatLogEntity"in t)this.onNewMsg(t.chatLogEntity);else t.schatlist&&(n=this.getCache(i.Server)).push.apply(n,t.schatlist),t.gchatlist&&(e=this.getCache(i.Guild)).push.apply(e,t.gchatlist),o.message.dispatchEvent(c.ChatHistoryMsg)}catch(t){console.error(t)}},l.onNewMsg=function(t){var n=this.getCache(t.type);n.push(t),n.length>e.Cfg.MaxHistoryCount&&n.shift(),o.message.dispatchEvent(c.ChatNewMsg,t)},l.log=function(t){var n;console.log("socket["+(null==(n=this._socket)?void 0:n.id)+"]",t)},l.onGuild=function(t,n){var e;if("join"==t)null==(e=this._socket)||e.emit("message",{type:g.Send_JoinGuid,guildId:n});else if("leave"==t){var o;this.clearCache(i.Guild),null==(o=this._socket)||o.emit("message",{type:g.Send_LeaveGuid,guildId:n})}},e}(l));m.Cfg={SendCD:5e3,MaxHistoryCount:50};t("chat",new m);var v=t("ChatUtil",function(){function t(){}return t.fmtWidgetMsg=function(t){var n=this.getChannelName(t.type),e=t.info.n,o=t.msg;return!this.isSingleEmoji(o)&&o.length>12&&(o=o.substring(0,12)+".."),"<b><color=#ff00c6 >["+n+"]</color> <color=#fae8c1>"+e+"："+this.fmtEmoji(o)+"</color></b>"},t.fmtMainMsg=function(t){return"<b><color=#4a2d11>"+this.fmtEmoji(t.msg)+"</color></b>"},t.getChannelName=function(t){var n,e;return null!=(n=null==(e=this.EChatTypeConfig[t])?void 0:e.name)?n:"世界"},t.getChannelReqType=function(t){var n;return null==(n=this.EChatTypeConfig[t])?void 0:n.reqTy},t.encodeEmoji=function(t){return"[#"+t+"]"},t.fmtEmoji=function(t){var n=this;return t.replace(/\[#([a-z_]+)\]/g,(function(t,e){return n.ValidEmojis.has(e)?"<img src='"+e+"' />":t}))},t.isSingleEmoji=function(t){var n=t.match(/^\[#([a-z_]+)\]$/);return n&&this.ValidEmojis.has(n[1])},t}());v.ValidEmojis=null,v.EChatTypeConfig=((d={})[i.Server]={name:"世界",reqTy:g.Send_ServerChat},d[i.Guild]={name:"公会",reqTy:g.Send_GuildChat},d),e._RF.pop()}}}));

System.register("chunks:///_virtual/ChatEmojis.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts"],(function(e){"use strict";var t,i,n,o,r,a,l,s,c,u,p,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,s=e.SpriteAtlas,c=e.instantiate,u=e.Sprite,p=e.Component},function(e){m=e.oops},function(e){h=e.GameEvent}],execute:function(){var d,f,C,b,v,g,j,y,E,k,w;r._RF.push({},"f761bUK0TFKwYncgylwelBH","ChatEmojis",void 0);var I=a.ccclass,z=a.property;e("ChatEmojis",(d=I("ChatEmojis"),f=z(l),C=z(l),b=z(l),v=z(s),d((y=t((j=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"nodeMask",y,o(t)),n(t,"nodeContent",E,o(t)),n(t,"nodeItem",k,o(t)),n(t,"emojiAtlas",w,o(t)),t}i(t,e);var r=t.prototype;return r.start=function(){this.nodeItem.active=!1,this.initEmojis(),this.nodeMask.on("click",this.onXClick,this)},r.initEmojis=function(){var e=this;this.emojiAtlas.getSpriteFrames().forEach((function(t,i){var n=e.nodeItem;i>0&&((n=c(e.nodeItem)).parent=e.nodeContent),n.active=!0,n.getComponentInChildren(u).spriteFrame=t,n.on("click",e.onEmojiClick.bind(e,t.name))}))},r.onEmojiClick=function(e,t){console.log(e),m.message.dispatchEvent(h.ChatPickEmoji,e),this.onXClick()},r.onXClick=function(){this.node.active=!1},t}(p)).prototype,"nodeMask",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(j.prototype,"nodeContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(j.prototype,"nodeItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(j.prototype,"emojiAtlas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=j))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerHead.ts","./TipsManager.ts","./SingletonModuleComp.ts","./Util.ts","./Chat.ts","./GameResCache.ts","./TableTitle.ts"],(function(t){"use strict";var e,i,n,r,o,s,a,l,f,c,h,u,p,d,m,b,g,C,y,v,w,E,T,M,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,f=t.Label,c=t.RichText,h=t.Node,u=t.Animation,p=t.Button,d=t.UITransform,m=t.Vec3,b=t.Sprite,g=t.Component,C=t.AnimationClip},function(t){y=t.PlayerHead},function(t){v=t.tips},function(t){w=t.smc},function(t){E=t.Util},function(t){T=t.ChatUtil},function(t){M=t.GameResCache},function(t){S=t.TableTitle}],execute:function(){var L,x,z,I,H,P,k,A,N,R,_,D,G,U,W,F;a._RF.push({},"14399se6JxInKGLc6hPKfbP","ChatItem",void 0);var K=l.ccclass,V=l.property;t("ChatItem",(L=K("ChatItem"),x=V(f),z=V(f),I=V(c),H=V(y),P=V(h),k=V(u),L(((F=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"lblName",R,r(e)),n(e,"lblLv",_,r(e)),n(e,"richMsg",D,r(e)),n(e,"head",G,r(e)),n(e,"nodeTitle",U,r(e)),n(e,"titleEff",W,r(e)),e.info=null,e.isSelf=void 0,e}i(e,t);var a=e.prototype;return a.init=function(t,e){if(this.isSelf=e,this.info=t,this.head.initView(t.info.c),this.lblName.string=t.info.n,this.lblLv.string=E.fmtLv(t.info.lv),T.isSingleEmoji(t.msg)&&(this.richMsg.lineHeight=80),this.richMsg.string=T.fmtMainMsg(t),t.info.title>0){var i=(new S).init(t.info.title);this.refreshEff(i)}this.doLayout()},a.start=function(){this.head.addComponent(p),this.head.node.on(p.EventType.CLICK,this.onHeadClick,this)},a.doLayout=function(){var t=this,i=this.richMsg.getComponent(d),n=this.richMsg.node.parent.getComponent(d),r=this.node.getComponent(d);i.width>e.MAX_WIDTH&&(this.richMsg.maxWidth=500),n.setContentSize(i.width+35,i.height+25),r.setContentSize(r.width,n.height+70),this.scheduleOnce((function(){var e=t.lblName.node.getComponent(d),i=t.lblName.node.position.x+(t.isSelf?-e.width:e.width)+(t.isSelf?-80:80);t.nodeTitle.setPosition(new m(i,-25,0))}),0)},a.refreshEff=function(){var t=o(s().mark((function t(e){var i,n,r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.resid,this.titleEff){t.next=3;break}return t.abrupt("return");case 3:if(i){t.next=6;break}return this.resetTitleEff(),t.abrupt("return");case 6:return n=String(i),t.next=9,M.instance.createAnimClipAsync(n,C.WrapMode.Loop).catch((function(t){return console.error(t)}));case 9:if((r=t.sent)&&null!=this&&this.isValid){t.next=12;break}return t.abrupt("return");case 12:this.titleEff.getState(n)||this.titleEff.addClip(r,n),this.titleEff.play(n),this.titleEff.node.setPosition(new m(e.offsetX,e.offsetY,0)),o=e.scale/1e4,this.titleEff.node.setScale(new m(o,o,1));case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.resetTitleEff=function(){this.titleEff&&(this.titleEff.stop(),this.titleEff.getComponent(b).spriteFrame=null)},a.onHeadClick=function(){this.info&&this.info.sender!==w.accdata.id&&v.player(this.info.sender)},e}(g)).MAX_WIDTH=500,R=e((N=F).prototype,"lblName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(N.prototype,"lblLv",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(N.prototype,"richMsg",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(N.prototype,"head",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(N.prototype,"nodeTitle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(N.prototype,"titleEff",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=N))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChatMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./TabBar.ts","./SingletonModuleComp.ts","./Chat.ts","./ChatEmojis.ts","./ChatItem.ts","./PlatformSDK.ts","./PlatformSDKWeChat.ts"],(function(t){"use strict";var e,i,n,a,o,s,r,h,c,l,u,f,m,d,p,C,b,g,y,T,v,S,k,E,w,I,j;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,h=t._decorator,c=t.Button,l=t.EditBox,u=t.ScrollView,f=t.Prefab,m=t.instantiate,d=t.UITransform,p=t.sys,C=t.Component},function(t){b=t.oops},function(t){g=t.EChatType},function(t){y=t.GameEvent},function(t){T=t.TabBar},function(t){v=t.smc},function(t){S=t.ChatUtil,k=t.Chat},function(t){E=t.ChatEmojis},function(t){w=t.ChatItem},function(t){I=t.PlatformSDK},function(t){j=t.wordsSceneType}],execute:function(){var B,P,_,M,z,D,x,H,L,R,N,A,G,X,O,F,J,K,W,U,Q,V;r._RF.push({},"3ef32xfytJDtJRd/TQ1YJAv","ChatMain",void 0);var Y=h.ccclass,q=h.property;t("ChatMain",(B=Y("ChatMain"),P=q(c),_=q(c),M=q(l),z=q(u),D=q(f),x=q(f),H=q(c),L=q(E),R=q(T),B(((V=function(t){function e(){for(var i,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"btnEmoji",G,a(i)),n(i,"btnSend",X,a(i)),n(i,"edtInput",O,a(i)),n(i,"svChats",F,a(i)),n(i,"pfbChatItemL",J,a(i)),n(i,"pfbChatItemR",K,a(i)),n(i,"btnX",W,a(i)),n(i,"emojiPanel",U,a(i)),n(i,"tabBar",Q,a(i)),i.nextSendTime=0,i.chatTy=e.TabTypes[0],i}i(e,t);var r=e.prototype;return r.onAdded=function(t){this.chatTy=t},r.start=function(){this.emojiPanel.node.active=!1,this.init(),this.btnEmoji.node.on("click",this.onEmojiClick,this),this.btnSend.node.on("click",this.onSendClick,this),this.btnX.node.on("click",this.onXClick,this),b.message.on(y.ChatNewMsg,this._eventHandler,this),b.message.on(y.ChatPickEmoji,this._eventHandler,this)},r.onDestroy=function(){b.message.off(y.ChatNewMsg,this._eventHandler,this),b.message.off(y.ChatPickEmoji,this._eventHandler,this)},r.init=function(){this.tabBar.setTitles(e.TabTypes.map((function(t){return S.EChatTypeConfig[t].name}))),this.tabBar.onClick(this.onChatTypeTabClick,this),this.tabBar.setSelected(e.TabTypes.indexOf(this.chatTy)),this.refresh()},r.refresh=function(){var t=this;this.svChats.content.removeAllChildren(),v.chat.getHistory(this.chatTy).forEach((function(e){t.addNewChat(e)})),this._checkScrollToButton(.1)},r.addNewChat=function(t){this.svChats.content.children.length>=k.Cfg.MaxHistoryCount&&this.svChats.content.children[0].destroy();var e=null,i=t.sender===v.accdata.id;(e=m(i?this.pfbChatItemR:this.pfbChatItemL)).parent=this.svChats.content,e.getComponent(w).init(t,i)},r._checkScrollToButton=function(t,e){var i=this;void 0===t&&(t=0),void 0===e&&(e=0),this.scheduleOnce((function(){i.svChats.content.getComponent(d).height>i.svChats.getComponent(d).height&&i.svChats.scrollToBottom(e)}),t)},r.onEmojiClick=function(){this.emojiPanel.node.active=!0},r.onSendClick=function(){if(v.chat.checkPermission(!0)){var t=this.nextSendTime-b.timer.getLocalTime();if(t>0)return t=Math.ceil(t/1e3),void b.gui.toast(t+"秒后可再次发送");var e=this.edtInput.string.trim();if(null==e||!e.length)return this.edtInput.string="",void b.gui.toast("输入为空");if(p.platform!==p.Platform.WECHAT_GAME)v.chat.send(this.chatTy,e),this.edtInput.string="",this.nextSendTime=b.timer.getLocalTime()+k.Cfg.SendCD;else{var i=this;I.doCheckDirtyWord(e,j.PROFILE,o(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0==n.code?(v.chat.send(i.chatTy,e),i.edtInput.string="",i.nextSendTime=b.timer.getLocalTime()+k.Cfg.SendCD):b.gui.toast("发送的内容不合法！");case 1:case"end":return t.stop()}}),t)}))),(function(t){b.gui.toast(t.msg)}))}}},r.onXClick=function(){b.gui.removeByNode(this.node,!0)},r.onChatTypeTabClick=function(t){this.chatTy=e.TabTypes[t],this.refresh()},r._eventHandler=function(t,e){if(t==y.ChatNewMsg){var i=e;i.type==this.chatTy&&(this.addNewChat(i),this.svChats.scrollToBottom(),this._checkScrollToButton(.1,.1))}else if(t==y.ChatPickEmoji){var n=e;this.edtInput.string+=S.encodeEmoji(n)}},e}(C)).TabTypes=[g.Server,g.Guild],G=e((A=V).prototype,"btnEmoji",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(A.prototype,"btnSend",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(A.prototype,"edtInput",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(A.prototype,"svChats",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(A.prototype,"pfbChatItemL",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(A.prototype,"pfbChatItemR",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(A.prototype,"btnX",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(A.prototype,"emojiPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(A.prototype,"tabBar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=A))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChatProtocal.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy}],execute:function(){var i;t("WSEMsgType",void 0),n._RF.push({},"85a89S2CEpMQZE04LaMWKMU","ChatProtocal",void 0),function(t){t[t.Connect=0]="Connect",t[t.Send_ServerChat=1]="Send_ServerChat",t[t.Send_GuildChat=2]="Send_GuildChat",t[t.Ret_ServerChat=3]="Ret_ServerChat",t[t.Ret_GuildChat=4]="Ret_GuildChat",t[t.Ret_LastChatlog=5]="Ret_LastChatlog",t[t.Send_JoinGuid=6]="Send_JoinGuid",t[t.Send_LeaveGuid=7]="Send_LeaveGuid"}(i||(i=t("WSEMsgType",{})));var o=function(){this.ok=!1,this.msg="null",this.type=void 0};t("WSRetChatConnet",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).schatlist=void 0,e.gchatlist=void 0,e}return e(n,t),n}(o)),t("WSRetChat",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).chatLogEntity=void 0,e}return e(n,t),n}(o)),t("GuildDto",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).guildId=void 0,e}return e(n,t),n}((function(){this.type=void 0})));n._RF.pop()}}}));

System.register("chunks:///_virtual/ChatWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./Chat.ts"],(function(t){"use strict";var i,e,n,s,a,o,r,c,h,l,u,g,p,f,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,r=t.RichText,c=t.Enum,h=t.Component},function(t){l=t.oops},function(t){u=t.EChatType},function(t){g=t.GameEvent},function(t){p=t.UIID},function(t){f=t.smc},function(t){y=t.ChatUtil}],execute:function(){var m,d,C,v,M,T,b;a._RF.push({},"d9b60+YbtxDoIBI6GWstcfA","ChatWidget",void 0);var H=o.ccclass,w=o.property;t("ChatWidget",(m=H("ChatWidget"),d=w(r),C=w({type:c(u),displayName:"ChatType",tooltip:"聊天类型"}),m((T=i((M=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,n(i,"richMsg",T,s(i)),n(i,"chatTy",b,s(i)),i}e(i,t);var a=i.prototype;return a.start=function(){this.chatTy||(this.chatTy=u.Server),y.ValidEmojis=new Map(this.richMsg.imageAtlas.getSpriteFrames().map((function(t){return[t.name,t.name]}))),this.richMsg.string="",this.loadHistory(),this.node.on("click",this.onClick,this),l.message.on(g.ChatNewMsg,this._eventHandler,this)},a.loadHistory=function(){var t=f.chat.getHistory(this.chatTy,1);null!=t&&t.length&&(this.richMsg.string=y.fmtWidgetMsg(t[0]))},a.onDestroy=function(){l.message.off(g.ChatNewMsg,this._eventHandler,this)},a.onClick=function(){l.gui.open(p.Chat,this.chatTy)},a._eventHandler=function(t,i){if(t==g.ChatHistoryMsg)this.loadHistory();else if(t==g.ChatNewMsg){var e=i;e.type===this.chatTy&&(this.richMsg.string=y.fmtWidgetMsg(e))}},i}(h)).prototype,"richMsg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(M.prototype,"chatTy",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=M))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClosetAttrBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts"],(function(t){"use strict";var n,o,r,e,s,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,e=t.Component},function(t){s=t.oops},function(t){c=t.UIID}],execute:function(){var i;o._RF.push({},"c447eKZ7SlOiJfU+hAxV5/z","ClosetAttrBtn",void 0);var u=r.ccclass;r.property,t("ClosetAttrBtn",u("ClosetAttrBtn")(i=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._attrs=void 0,n}n(o,t);var r=o.prototype;return r.start=function(){},r.update=function(t){},r.setAttrs=function(t){this._attrs=t},r.onClick=function(){s.gui.open(c.ClosetAttr,this._attrs)},o}(e))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/ClosetAttrView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./TableGameAttr.ts","./AttrItem.ts"],(function(t){"use strict";var e,r,n,o,i,a,s,l,c,u,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,c=t.instantiate,u=t.Component},function(t){p=t.oops},function(t){f=t.TableGameAttr},function(t){d=t.AttrItem}],execute:function(){var m,v,h,y,C,A,b;a._RF.push({},"ec3a0Kx9adPnbzQN+M7pP1F","ClosetAttrView",void 0);var g=s.ccclass,w=s.property;t("ClosetAttrView",(m=g("ClosetAttrView"),v=w(l),h=w(l),m((A=e((C=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"nodeContent",A,o(e)),n(e,"attrItem",b,o(e)),e._params=void 0,e}r(e,t);var a=e.prototype;return a.onAdded=function(t){this._params=t},a.start=function(){for(var t,e=[],r=f,n=i(this._params);!(t=n()).done;){var o=t.value;for(var a in r){var s=o[r[a].strKey];s&&(e[a]=e[a]||0,e[a]+=s)}}for(var l in this.nodeContent.removeAllChildren(),e){var u=c(this.attrItem);u.parent=this.nodeContent,u.getComponent(d).init([l,e[l]])}},a.onClickBack=function(){p.gui.removeByNode(this.node,!0)},e}(u)).prototype,"nodeContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(C.prototype,"attrItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClosetChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Title.ts","./SingletonModuleComp.ts","./ClosetAttrBtn.ts","./RoleUI.ts","./ClosetChangeItem.ts","./TableGameAttr.ts","./TableModelConfig.ts","./TableUtil.ts","./Oops.ts","./GameEvent.ts","./Util.ts"],(function(e){"use strict";var t,i,n,o,r,l,s,a,c,h,u,b,f,d,p,m,g,v,C,I,_,y,A,T,w,S,x,F,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass,l=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,h=e.Label,u=e.ScrollView,b=e.Node,f=e.Prefab,d=e.Button,p=e.color,m=e.Component,g=e.instantiate},function(e){v=e.RoleType,C=e.ClosetType},function(e){I=e.smc},function(e){_=e.ClosetAttrBtn},function(e){y=e.RoleUILoader},function(e){A=e.ClosetChangeItem},function(e){T=e.TableGameAttr},function(e){w=e.TableModelConfig},function(e){S=e.TableUtil},function(e){x=e.oops},function(e){F=e.GameEvent},function(e){L=e.Util}],execute:function(){var D,z,k,R,E,U,H,G,M,N,V,B,P,j,J,K,O,q,Q,W,X,Y,Z,$,ee;a._RF.push({},"60435rVJcFL0b+SPgu6UMyH","ClosetChange",void 0);var te=c.ccclass,ie=c.property;e("ClosetChange",(D=te("ClosetChange"),z=ie(y),k=ie(h),R=ie(h),E=ie(h),U=ie(u),H=ie(b),G=ie(f),M=ie(_),N=ie(h),V=ie(h),B=ie(d),D((J=t((j=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"roleLoader",J,o(t)),n(t,"lblClothName",K,o(t)),n(t,"lblAttr",O,o(t)),n(t,"lblRole",q,o(t)),n(t,"sv",Q,o(t)),n(t,"nodeContent",W,o(t)),n(t,"pfbCloth",X,o(t)),n(t,"btnAttr",Y,o(t)),n(t,"lblTimeLimit",Z,o(t)),n(t,"lblSource",$,o(t)),n(t,"btnAction",ee,o(t)),t._table=void 0,t.selectedIndex=v.Soldier,t._subSelectedIndex=void 0,t._isDressed=void 0,t._chooseId=void 0,t}i(t,e);var a=t.prototype;return a.start=function(){this.btnAttr.setAttrs(I.title.getFashionAttrs()),this.refreshView(),x.message.on(F.FashionDressed,this._eventHandler,this),x.message.on(F.FashionExpired,this._eventHandler,this)},a.onDestroy=function(){x.message.off(F.FashionDressed,this._eventHandler,this),x.message.off(F.FashionExpired,this._eventHandler,this)},a._eventHandler=function(e,t){e!=F.FashionDressed&&e!=F.FashionExpired||this.refreshView()},a.refreshView=function(e){var t=this;void 0===e&&(e=!1),this._table=I.title.getFashionTable(this.selectedIndex);var i=this._table.length;this.nodeContent.removeAllChildren();for(var n=function(e){var i=g(t.pfbCloth);i.parent=t.nodeContent,i.getComponent(A).Init(t._table[e],(function(){t.onChoose(e)}))},o=0;o<i;o++)n(o);e?(this.clothItems[0].onClick(),this.sv.scrollToTop(.1)):this.clothItems[this._subSelectedIndex||0].onClick()},a.refreshAttr=function(e){var t={},i=T;for(var n in i){var o=e[i[n].strKey];o&&(t[n]=t[n]||0,t[n]+=o)}var r=[];for(var l in t){var s=i[l],a=t[l],c=s.name+"+"+(1e4===parseInt(s.per_unit)?(a/100).toFixed(1)+"%":a);r.push(c)}for(var h="",u=0;u<r.length;u+=2)h=h+r[u]+"  ",r[u+1]&&(h=h+r[u+1]+"\n");this.lblAttr.string=h},a.refreshEff=function(){var e=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.get(w,t),this.roleLoader.initModel(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.onChoose=function(e){var t;e!=this._subSelectedIndex&&(null==(t=this.clothItems[this._subSelectedIndex])||t.onSelect(!1));this._subSelectedIndex=e;var i=this._table[this._subSelectedIndex];if(this.lblClothName.string=i[1].name,this.refreshAttr(i[1]),this.refreshEff(i[1].resid),!I.title.fashionInfo)return this.lblTimeLimit.node.active=!1,void(this.btnAction.node.active=!1);var n=null!=I.title.fashionInfo.id[i[0]];this.lblSource.node.active=!n,this.lblSource.string=i[1].source,this.btnAction.node.active=n,n?(this.lblTimeLimit.node.active=I.title.fashionInfo.id[i[0]]>0,this._isDressed=I.title.IsFashionDressed(i[0]),this._chooseId=Number(i[0]),this.btnAction.node.getChildByName("Label").getComponent(h).string=this._isDressed?"卸下":"穿戴"):this.lblTimeLimit.node.active=!1},a.onClick=function(){var e=this;if(this.btnAction.interactable=!1,"boolean"==typeof this._isDressed){var t=function(){e.btnAction.interactable=!0},i=I.accdata.roles[this.selectedIndex-1];this._isDressed?I.title.Undress(this._chooseId,t,C.Fashion,i):I.title.Dress(this._chooseId,t,C.Fashion,i)}},a.onClickToggle=function(e,t){this.selectedIndex=parseInt(t),this.refreshView(!0)},a.onCheckToggle=function(e,t){this.lblRole.forEach((function(i,n){parseInt(t)-1==n&&(i.color=e.isChecked?p(255,255,255):p(232,177,125))}))},a.update=function(e){var t=I.title.titleTimeGroup[this._chooseId];t&&(this.lblTimeLimit.string="限时："+L.fmtSecs(t.secs))},r(t,[{key:"clothItems",get:function(){return this.nodeContent.getComponentsInChildren(A)}}]),t}(m)).prototype,"roleLoader",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(j.prototype,"lblClothName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(j.prototype,"lblAttr",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(j.prototype,"lblRole",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(j.prototype,"sv",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(j.prototype,"nodeContent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(j.prototype,"pfbCloth",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(j.prototype,"btnAttr",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(j.prototype,"lblTimeLimit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(j.prototype,"lblSource",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(j.prototype,"btnAction",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=j))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClosetChangeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClosetTitleItem.ts","./BagItem.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,i,n,o,l,r,c,s,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,c=t.Button},function(t){s=t.ClosetTitleItem},function(t){a=t.BagItem},function(t){u=t.smc}],execute:function(){var h,f,p,m,C,I,g;l._RF.push({},"f05f9ATJD5HtK0YXK9QQLzG","ClosetChangeItem",void 0);var b=r.ccclass,d=r.property;t("ClosetChangeItem",(h=b("ClosetChangeItem"),f=d(a),p=d(c),h((I=e((C=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"clothItem",I,o(e)),n(e,"btnClick",g,o(e)),e}i(e,t);var l=e.prototype;return l.start=function(){},l.Init=function(t,e){this.clothItem.init(t[0]),this._cb=e;var i=u.title.fashionInfo;if(i){var n=null!=i.id[t[0]];this.onLock(!n),this.onEquip(u.title.IsFashionDressed(t[0]))}},l.onSelect=function(t){this.imgChoose.node.active=t,this.btnClick.interactable=!t,t&&this._cb()},l.update=function(t){},e}(s)).prototype,"clothItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(C.prototype,"btnClick",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=C))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/ClosetMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var i,t,r,l,n,o,a,c,s,p,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.Node,c=e.Label,s=e.color,p=e.Component},function(e){u=e.oops}],execute:function(){var b,f,h,C,H,d,y,g,v,m,Z,w,z,R,k;n._RF.push({},"846a6m8ZoNBC7q7OFvyVwnV","ClosetMain",void 0);var M=o.ccclass,N=o.property;e("ClosetMain",(b=M("ClosetMain"),f=N(a),h=N(a),C=N(c),H=N(c),d=N(a),y=N(a),b((m=i((v=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,r(i,"pfbHZ",m,l(i)),r(i,"pfbCH",Z,l(i)),r(i,"lblHZ",w,l(i)),r(i,"lblCH",z,l(i)),r(i,"spRedHZ",R,l(i)),r(i,"spRedCH",k,l(i)),i}t(i,e);var n=i.prototype;return n.start=function(){this.refresh()},n.refresh=function(){this.spRedHZ.active=!1,this.spRedCH.active=!1},n.update=function(e){},n.onClickToggle=function(e,i){this.pfbHZ.active=0==Number(i),this.pfbCH.active=1==Number(i)},n.onCheckToggle=function(e,i){0==parseInt(i)?this.lblHZ.color=e.isChecked?s(255,223,99):s(155,140,109):1==parseInt(i)&&(this.lblCH.color=e.isChecked?s(255,223,99):s(155,140,109))},n.onClickBack=function(){u.gui.removeByNode(this.node,!0)},i}(p)).prototype,"pfbHZ",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(v.prototype,"pfbCH",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(v.prototype,"lblHZ",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(v.prototype,"lblCH",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(v.prototype,"spRedHZ",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(v.prototype,"spRedCH",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/ClosetTitle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./ClosetTitleItem.ts","./GameResCache.ts","./TableGameAttr.ts","./Oops.ts","./GameEvent.ts","./Util.ts","./ClosetAttrBtn.ts","./Title.ts"],(function(t){"use strict";var e,i,n,s,r,o,l,a,c,f,u,h,p,d,b,m,v,g,C,T,_,A,I,y,E,x,w,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.createClass,o=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,f=t.Animation,u=t.Label,h=t.Node,p=t.Button,d=t.Prefab,b=t.instantiate,m=t.Sprite,v=t.Component,g=t.Vec3,C=t.AnimationClip},function(t){T=t.smc},function(t){_=t.ClosetTitleItem},function(t){A=t.GameResCache},function(t){I=t.TableGameAttr},function(t){y=t.oops},function(t){E=t.GameEvent},function(t){x=t.Util},function(t){w=t.ClosetAttrBtn},function(t){D=t.ClosetType}],execute:function(){var S,z,L,G,k,H,B,F,P,R,M,U,j,K,N,V,X,O,W;a._RF.push({},"7b88adjaKFPH7B9CAXAsz1m","ClosetTitle",void 0);var Y=c.ccclass,q=c.property;t("ClosetTitle",(S=Y("ClosetTitle"),z=q(f),L=q(u),G=q(h),k=q(u),H=q(u),B=q(p),F=q(d),P=q(w),S((U=e((M=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"spEff",U,s(e)),n(e,"lblAttr",j,s(e)),n(e,"nodeContent",K,s(e)),n(e,"lblTimeLimit",N,s(e)),n(e,"lblSource",V,s(e)),n(e,"btnAction",X,s(e)),n(e,"titleItem",O,s(e)),n(e,"btnAttr",W,s(e)),e._table=void 0,e._selectIndex=void 0,e._isDressed=void 0,e._chooseId=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.reset()},a.start=function(){this._table=T.title.GetTitleTable();var t=this._table.length;this.nodeContent.removeAllChildren();for(var e=0;e<t;e++){b(this.titleItem).parent=this.nodeContent}this.refresh(),y.message.on(E.TitleDressEd,this._eventHandler,this),y.message.on(E.TitleExpired,this._eventHandler,this)},a.onDestroy=function(){y.message.off(E.TitleDressEd,this._eventHandler,this),y.message.off(E.TitleExpired,this._eventHandler,this)},a._eventHandler=function(t,e){t!=E.TitleDressEd&&t!=E.TitleExpired||this.refresh()},a.refresh=function(){var t=this,e=T.title.GetTitleTable();this.titleItems.forEach((function(i,n){i.Init(e[n],(function(){t.onChoose(n)}))})),this.titleItems[this._selectIndex||0].onClick(),this.btnAttr.setAttrs(T.title.getTitleAttrs())},a.refreshAttr=function(t){var e={},i=I;for(var n in i){var s=t[i[n].strKey];s&&(e[n]=e[n]||0,e[n]+=s)}var r=[];for(var o in e){var l=i[o],a=e[o],c=l.name+"+"+(1e4===parseInt(l.per_unit)?(a/100).toFixed(1)+"%":a);r.push(c)}for(var f="",u=0;u<r.length;u+=2)f=f+r[u]+"  ",r[u+1]&&(f=f+r[u+1]+"\n");this.lblAttr.string=f},a.refreshEff=function(){var t=o(l().mark((function t(e){var i,n,s,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.resid){t.next=4;break}return this.reset(),t.abrupt("return");case 4:return n=String(i),t.next=7,A.instance.createAnimClipAsync(n,C.WrapMode.Loop).catch((function(t){return console.error(t)}));case 7:if((s=t.sent)&&null!=this&&this.isValid){t.next=10;break}return t.abrupt("return");case 10:this.spEff.getState(n)||this.spEff.addClip(s,n),this.spEff.play(n),this.spEff.node.setPosition(new g(e.offsetX,e.offsetY,0)),r=e.scale/1e4,this.spEff.node.setScale(new g(r,r,1));case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onChoose=function(t){var e;t!=this._selectIndex&&(null==(e=this.titleItems[this._selectIndex])||e.onSelect(!1));this._selectIndex=t;var i=this._table[this._selectIndex];if(this.refreshAttr(i.cfg),this.refreshEff(i.cfg),T.title.titleInfo){var n=null!=T.title.titleInfo.id[i.id];this.lblSource.node.active=!n,this.lblSource.string=i.cfg.source,this.btnAction.node.active=n,n?(this.lblTimeLimit.node.active=T.title.titleInfo.id[i.id]>0,this._isDressed=T.title.titleInfo.show==i.id,this._chooseId=i.id,this.btnAction.node.getChildByName("Label").getComponent(u).string=this._isDressed?"卸下":"穿戴"):this.lblTimeLimit.node.active=!1}},a.onClick=function(){var t=this;if(this.btnAction.interactable=!1,"boolean"==typeof this._isDressed){var e=function(){t.btnAction.interactable=!0};this._isDressed?T.title.Undress(this._chooseId,e,D.Title):T.title.Dress(this._chooseId,e,D.Title)}},a.reset=function(){this.spEff.stop(),this.spEff.getComponent(m).spriteFrame=null},a.update=function(t){var e=T.title.titleTimeGroup[this._chooseId];e&&(this.lblTimeLimit.string="限时："+x.fmtSecs(e.secs))},r(e,[{key:"titleItems",get:function(){return this.nodeContent.getComponentsInChildren(_)}}]),e}(v)).prototype,"spEff",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"lblAttr",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(M.prototype,"nodeContent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(M.prototype,"lblTimeLimit",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(M.prototype,"lblSource",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(M.prototype,"btnAction",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(M.prototype,"titleItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(M.prototype,"btnAttr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=M))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClosetTitleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./SingletonModuleComp.ts"],(function(i){"use strict";var t,e,n,o,l,r,c,a,s,u,p,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){l=i.cclegacy,r=i._decorator,c=i.Sprite,a=i.Vec3,s=i.Button,u=i.Component},function(i){p=i.ViewUtil},function(i){m=i.smc}],execute:function(){var f,g,h,d,b,v,y,C,w,T,k;l._RF.push({},"d737dwHGYtO5JaJ9+/hkfZD","ClosetTitleItem",void 0);var I=r.ccclass,L=r.property;i("ClosetTitleItem",(f=I("ClosetTitleItem"),g=L(c),h=L(c),d=L(c),b=L(c),f((C=t((y=function(i){function t(){for(var t,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return t=i.call.apply(i,[this].concat(l))||this,n(t,"imgTitle",C,o(t)),n(t,"imgLock",w,o(t)),n(t,"imgChoose",T,o(t)),n(t,"imgEquip",k,o(t)),t._cb=void 0,t}e(t,i);var l=t.prototype;return l.start=function(){},l.Init=function(i,t){p.loadSpriteFrame(this.imgTitle,"game/anim2/"+i.cfg.resid+"/40000/spriteFrame"),this.imgTitle.node.scale=new a(.3,.3,.3),this._cb=t;var e=m.title.titleInfo;if(e){var n=null!=e.id[i.id];this.onLock(!n),this.onEquip(e.show==i.id)}},l.onSelect=function(i){this.imgChoose.node.active=i,this.getComponent(s).interactable=!i,i&&this._cb()},l.onLock=function(i){this.imgLock.node.active=i},l.onEquip=function(i){this.imgEquip.node.active=i},l.onClick=function(){this.onSelect(!0)},l.update=function(i){},t}(u)).prototype,"imgTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(y.prototype,"imgLock",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(y.prototype,"imgChoose",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(y.prototype,"imgEquip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/Collection.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,a,i;return{setters:[function(t){r=t.inheritsLoose,e=t.createClass,a=t.wrapNativeSuper},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"1dcf5AtQQVK3KQ/2jHHD5gi","Collection",void 0);t("Collection",function(t){function a(){for(var r,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(r=t.call.apply(t,[this].concat(a))||this)._array=[],r}r(a,t);var i=a.prototype;return i.set=function(r,e){return this.has(r)||this._array.push(e),t.prototype.set.call(this,r,e)},i.delete=function(r){var e=this.get(r);if(e){var a=this._array.indexOf(e);return a>-1&&this._array.splice(a,1),t.prototype.delete.call(this,r)}return!1},i.clear=function(){this._array.splice(0,this._array.length),t.prototype.clear.call(this)},e(a,[{key:"array",get:function(){return this._array}}]),a}(a(Map)));i._RF.pop()}}}));

System.register("chunks:///_virtual/CommonPrompt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts","./Oops.ts"],(function(n){"use strict";var t,e,o,i,c,a,l,r,s,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){c=n.cclegacy,a=n._decorator,l=n.Layout,r=n.Component},function(n){s=n.LanguageLabel},function(n){u=n.oops}],execute:function(){var f,h,b,p,g,d,m,_,y,C,k;c._RF.push({},"653bf8VPC5Fn49zFJFqXVgx","CommonPrompt",void 0);var v=a.ccclass,F=a.property;n("CommonPrompt",(f=v("CommonPrompt"),h=F(s),b=F(s),p=F(s),g=F(s),f((_=t((m=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return t=n.call.apply(n,[this].concat(c))||this,o(t,"lab_title",_,i(t)),o(t,"lab_content",y,i(t)),o(t,"lab_ok",C,i(t)),o(t,"lab_cancel",k,i(t)),t.config={},t}e(t,n);var c=t.prototype;return c.onTouchEnd=function(n,t){switch(n.target.name){case"btn_ok":this.onOk();break;case"btn_cancel":this.onCancel()}},c.onAdded=function(n){void 0===n&&(n={}),this.config=n||{},this.setTitle(),this.setContent(),this.setBtnOkLabel(),this.setBtnCancelLabel(),this.node.active=!0},c.setTitle=function(){this.lab_title.dataID=this.config.title},c.setContent=function(){this.lab_content.dataID=this.config.content},c.setBtnOkLabel=function(){this.lab_ok.dataID=this.config.okWord},c.setBtnCancelLabel=function(){var n=this;this.lab_cancel.dataID=this.config.cancelWord,this.lab_cancel.node.parent.active=this.config.needCancel||!1,this.lab_cancel.node.parent.parent.getComponent(l).enabled=!1,this.scheduleOnce((function(){n.lab_cancel.node.parent.parent.getComponent(l).enabled=!0}))},c.onOk=function(){"function"==typeof this.config.okFunc&&this.config.okFunc(),this.close()},c.onClose=function(){"function"==typeof this.config.closeFunc&&this.config.closeFunc(),this.close()},c.onCancel=function(){"function"==typeof this.config.cancelFunc&&this.config.cancelFunc(),this.close()},c.close=function(){u.gui.removeByNode(this.node)},c.onDestroy=function(){this.config=null},t}(r)).prototype,"lab_title",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"lab_content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(m.prototype,"lab_ok",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(m.prototype,"lab_cancel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));c._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"5034dEezo5Frr6dhZGVgmTh","Config",void 0);t("Config",(function(){}));n._RF.pop()}}}));

System.register("chunks:///_virtual/CostItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Util.ts"],(function(t){"use strict";var i,n,e,o,r,l,s,u,a,c,m,p,b,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Sprite,u=t.Label,a=t.Component},function(t){c=t.ViewUtil},function(t){m=t.GameResPath},function(t){p=t.smc},function(t){b=t.TableUtil},function(t){f=t.Util}],execute:function(){var h,g,C,I,v,y,d,N,w;r._RF.push({},"5705dwi1DtOfppAtLqW9Xnh","CostItem",void 0);var S=l.ccclass,D=l.property;t("CostItem",(h=S("CostItem"),g=D(s),C=D(u),I=D(u),h((d=i((y=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,e(i,"spIcon",d,o(i)),e(i,"lblName",N,o(i)),e(i,"lblCount",w,o(i)),i}n(i,t);var r=i.prototype;return r.init=function(t,i){this.initCommon(Number(t)),this.lblName&&(this.lblName.string="消耗"+b.getItemName(t)+"："),this.lblCount.string=i.toString()},r.init2=function(t,i){this.initCommon(Number(t));var n=p.accountData.getItemCount(t);return this.lblCount.string=n+"/"+i,n>=i},r.init3=function(t,i){this.initCommon(Number(t));var n=p.accountData.getItemCount(t);return this.lblCount.string="消耗："+b.getItemName(t)+"（"+n+"/"+i+"）",n>=i},r.init4=function(t){if(f.isEmpty(t))this.lblCount.string="0";else{var i=Object.entries(t)[0],n=i[0],e=i[1];this.initCommon(Number(n)),this.lblCount.string=e.toString()}},r.hide=function(){this.node.active=!1},r.initCommon=function(t){this.node.active=!0,this.spIcon&&c.loadSpriteFrame(this.spIcon,m.getItemSpriteFrame(t))},i}(a)).prototype,"spIcon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(y.prototype,"lblName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(y.prototype,"lblCount",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/CQPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./TableGameSkill.ts","./GameUIConfig.ts","./PlayerHead.ts","./RoleUI.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,n,a,o,r,l,s,c,m,u,y,p,h,f,d,g,b,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Node,s=e.Sprite,c=e.SpriteFrame,m=e.tween,u=e.Vec3,y=e.Label,p=e.Component},function(e){h=e.oops},function(e){f=e.TableGameSkill},function(e){d=e.UIID},function(e){g=e.PlayerHead},function(e){b=e.RoleUILoader},function(e){C=e.smc}],execute:function(){var v,w,I,P,A,_,S,R,B,E,F,N,z,L,k;o._RF.push({},"d7c21goR+tA4523yUdS7aRq","CQPlay",void 0);var Q=r.ccclass,U=r.property;e("CQPlay",(v=Q("CQPlay"),w=U(l),I=U(l),P=U(s),A=U(s),_=U(s),S=U([c]),v((E=t((B=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"nodePlayerItem",E,a(t)),n(t,"nodeEnemyItem",F,a(t)),n(t,"imgPlayerAct",N,a(t)),n(t,"imgEnemyAct",z,a(t)),n(t,"imgVS",L,a(t)),n(t,"spFrams",k,a(t)),t._params=void 0,t}i(t,e);var o=t.prototype;return o.onAdded=function(e){this._params=e},o.start=function(){var e=this;this.refreshPlayer(),this.imgPlayerAct.spriteFrame=this.spFrams[this._params.cqid-1],this.imgEnemyAct.spriteFrame=this.spFrams[this._params.enemy-1],this.showAction(this.nodePlayerItem,this.imgPlayerAct,1==this._params.win),this.showAction(this.nodeEnemyItem,this.imgEnemyAct,3==this._params.win),m(this).delay(2.5).call((function(){e.onXClick()})).start()},o.update=function(e){},o.onXClick=function(){h.gui.remove(d.TipPlayerInfoCQ),h.gui.removeByNode(this.node,!0)},o.showAction=function(e,t,i){var n=this;m(e).by(.5,{position:new u(-e.position.x,0,0)}).call((function(){n.imgVS.node.active=!0,m(t.node).by(.5,{position:new u(0,t.node.position.y>0?-500:500,0)}).call((function(){n.showResult(e,i)})).start()})).start()},o.showResult=function(e,t){if(t){var i=e.getChildByName("Node"),n=new f;n.init(this._params.skill),i.getChildByName("Label").getComponent(y).string=n.dec,m(i).delay(.2).call((function(){i.active=!0})).delay(.1).call((function(){i.active=!1})).delay(.1).call((function(){i.active=!0})).start()}else{var a=e.getComponent(s);m(a).call((function(){a.grayscale=!0})).delay(.1).call((function(){a.grayscale=!1})).delay(.1).call((function(){a.grayscale=!0})).start()}},o.refreshPlayer=function(){this._refresh(this.nodePlayerItem,C.arena.cqBothShowInfo.playerRoleinfo),this._refresh(this.nodeEnemyItem,C.arena.cqBothShowInfo.enemyRoleinfo)},o._refresh=function(e,t){var i=e.getChildByName("player");i.getComponentInChildren(g).initView(t.roleHead),i.getChildByName("name").getComponent(y).string=t.name,i.getChildByName("lv").getComponent(y).string="Lv:"+t.heroLevel,e.getChildByName("Layout").getComponentsInChildren(b).forEach((function(e,i){t.roles[i]&&e.init(t.getRole(t.roles[i]))}))},t}(p)).prototype,"nodePlayerItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"nodeEnemyItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(B.prototype,"imgPlayerAct",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(B.prototype,"imgEnemyAct",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(B.prototype,"imgVS",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(B.prototype,"spFrams",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=B))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/DailyWelfare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableShop.ts","./TableUtil.ts","./Util.ts","./ItemsGroup.ts"],(function(e){"use strict";var t,i,s,r,n,o,c,a,u,l,h,f,p,d,v,y,g,m,b,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.createClass,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,l=e.Sprite,h=e.Button,f=e.Component},function(e){p=e.oops},function(e){d=e.GameEvent},function(e){v=e.smc},function(e){y=e.GameSys},function(e){g=e.TableShop},function(e){m=e.TableUtil},function(e){b=e.Util},function(e){C=e.ItemsGroup}],execute:function(){var D,R,k,S,T,I,w;a._RF.push({},"8529bNJKCBCOLDzi57MnfXr","DailyWelfare",void 0);var B=u.ccclass,_=u.property;e("DailyWelfare",(D=B("DailyWelfare"),R=_(C),k=_(l),D((I=t((T=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,r(t,"items",I,n(t)),r(t,"spMark",w,n(t)),t.service=null,t.cfg=new g,t}i(t,e);var s=t.prototype;return s.init=function(e){this.service=e,this.cfg.init(e.shopId)?this.items.init(this.cfg.drop[0]):this.enabled=!1},s.start=function(){this.refresh(),this.node.on(h.EventType.CLICK,this.onBuyClick,this)},s.refresh=function(){b.setRedot(this,v.system.calRedot(this.service.id)),this.spMark.node.active=this.service.isReceived()},s.onBuyClick=function(){var e=o(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.service.isActived()){e.next=3;break}return this.items.showTip(),e.abrupt("return");case 3:if(!this.service.isReceived()){e.next=6;break}return p.gui.toast("今日已领取"),e.abrupt("return");case 6:return e.next=8,v.store.reqBuy(this.cfg.id);case 8:this.isValid&&this.refresh();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"items",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(T.prototype,"spMark",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=T))||S)),e("DailyWelfareService",function(e){function t(t,i){var s;return(s=e.call(this,t)||this).shopId=null,s._shopCfg=null,s.redotWatchGameEvents=[d.StoreBuyItem,d.DailyReset],s.shopId=i,s}i(t,e);var r=t.prototype;return r.calRedot=function(){return this.isActived()&&!this.isReceived()},r.isActived=function(){return v.store.checkStatus(this.shopCfg.coststatus)},r.isReceived=function(){return v.store.getBuyTimes(this.shopCfg.id,"dailyTag")>0},r.getRefreshCD=function(){var e=new Date(p.timer.getLocalTime());return 86400-(60*e.getHours()*60+60*e.getMinutes()+e.getSeconds())},s(t,[{key:"shopCfg",get:function(){return this._shopCfg||(this._shopCfg=m.get(g,this.shopId)),this._shopCfg}}]),t}(y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Decorator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(t){"use strict";var e,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.BehaviorTree},function(t){r=t.BTreeNode}],execute:function(){o._RF.push({},"0455agxsbxHlYleJPDpJX3l","Decorator",void 0);t("Decorator",function(t){function o(e){var o;return o=t.call(this)||this,e&&(o.node=n.getNode(e)),o}e(o,t);var r=o.prototype;return r.setNode=function(t){this.node=n.getNode(t)},r.start=function(){this.node.setControl(this),this.node.start(),t.prototype.start.call(this)},r.end=function(){this.node.end()},r.run=function(t){this.node.run(t)},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(s){"use strict";var t;return{setters:[function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"82d3a9c71JEkI95d3qscHm8","Defines",void 0);s("ViewParams",(function(){this.uuid=null,this.prefabPath=null,this.params=null,this.callbacks=null,this.valid=!0,this.node=null}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DelegateComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var o,n,t,a,s;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,a=e.Component},function(e){s=e.oops}],execute:function(){var i;n._RF.push({},"d8f1fGRD7dBzIeBSkOpd/Py","DelegateComponent",void 0);var r=t.ccclass;e("DelegateComponent",r("DelegateComponent")(i=function(e){function n(){for(var o,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(o=e.call.apply(e,[this].concat(t))||this).viewParams=null,o}o(n,e);var t=n.prototype;return t.add=function(){this.applyComponentsFunction(this.node,"onAdded",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onAdded&&this.viewParams.callbacks.onAdded(this.node,this.viewParams.params)},t.remove=function(e){var o=this;this.viewParams.valid&&(this.applyComponentsFunction(this.node,"onBeforeRemove",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onBeforeRemove?this.viewParams.callbacks.onBeforeRemove(this.node,(function(){o.removed(o.viewParams,e)})):this.removed(this.viewParams,e))},t.removed=function(e,o){e.valid=!1,"function"==typeof e.callbacks.onRemoved&&e.callbacks.onRemoved(this.node,e.params),o?(this.node.destroy(),s.res.release(e.prefabPath)):this.node.removeFromParent()},t.onDestroy=function(){this.applyComponentsFunction(this.node,"onRemoved",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onRemoved&&this.viewParams.callbacks.onRemoved(this.node,this.viewParams.params),this.viewParams=null},t.applyComponentsFunction=function(e,o,n){for(var t=0;t<e.components.length;t++){var a=e.components[t],s=a[o];s&&s.call(a,n)}},n}(a))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/Demo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleAnimator.ts"],(function(t){"use strict";var n,i,e,o,r,c,l,a;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,l=t.Component},function(t){a=t.RoleAnimator}],execute:function(){var u,s,p,f,h;r._RF.push({},"25a03XMWQtOnZ0lcXFN8BOp","Demo",void 0);var m=c.ccclass,y=c.property;t("Demo",(u=m("Demo"),s=y(a),u((h=n((f=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,e(n,"ctrl",h,o(n)),n}i(n,t);var r=n.prototype;return r.start=function(){},r.onHitClick=function(){this.ctrl.hit()},r.onHit2Click=function(){},r.onAttackClick=function(){this.ctrl.attack()},r.onLoadTableClick=function(){},n}(l)).prototype,"ctrl",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/Demon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameSys.ts","./System.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./JsonUtil.ts","./TableDemonAbyssAchieveAward.ts","./TableUtil.ts","./TableGameLevels.ts"],(function(e){"use strict";var n,t,o,s,a,r,u,i,c,d,l,f,b;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy,s=e._decorator},function(e){a=e.GameSysKey},function(e){r=e.GameSys},function(e){u=e.GameEvent},function(e){i=e.smc},function(e){c=e.TableGameConfig},function(e){d=e.JsonUtil},function(e){l=e.TableDemonAbyssAchieveAward},function(e){f=e.TableUtil},function(e){b=e.TableGameLevels}],execute:function(){e("DemonTicket",void 0),o._RF.push({},"5ee4fo0wK1HeLn02FLOuDDs","Demon",void 0);var m;s.ccclass,s.property;!function(e){e[e.ShopIdFreeGoods=40]="ShopIdFreeGoods",e[e.ShopIdBuyGoods=41]="ShopIdBuyGoods"}(m||(m=e("DemonTicket",{})));var y=e("Demon",function(e){function o(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).redotWatchGameEvents=[u.ItemBagUpdated,u.DemonAbyssRed],n}return n(o,e),o.prototype.calRedot=function(){return this.redTaofa||this.redReward},t(o,[{key:"demonAbyssInfo",get:function(){return i.accountData.subinfo.demonAbyss},set:function(e){i.accountData.subinfo.demonAbyss=e}},{key:"demonAbyssLevel",get:function(){return i.accountData.subinfo.demonAbyss.da_levels||c.demon_abyss_init_levels}},{key:"nextEliteLevel",get:function(){return 0==this.demonAbyssInfo.da_levels?c.demon_abyss_init_levels:f.get(b,this.demonAbyssLevel).nextid}},{key:"demonAbyssAwardTable",get:function(){return d.get(l.TableName)}},{key:"haloLeftTimes",get:function(){var e=i.fuben.reDayInfo.da_buytag||0;return c.demon_abyss_shop.length-e}},{key:"redTaofa",get:function(){return i.accountData.subinfo.demonAbyss.da_levels>0&&0==i.fuben.reDayInfo.da_awards}},{key:"redReward",get:function(){var e=i.demon.demonAbyssAwardTable;for(var n in e)if(i.accountData.subinfo.demonAbyss.da_levels>=Number(n)&&i.accountData.subinfo.demonAbyss.da_awards_tag<Number(n)&&i.accountData.subinfo.demonAbyss.da_awards_tag<i.accountData.subinfo.demonAbyss.da_levels)return!0;return!1}}]),o}(r));e("demon",new y(a.demon_abyss));o._RF.pop()}}}));

System.register("chunks:///_virtual/Draggable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,i,s,r,h,a,c;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy,i=t._decorator,s=t.Node,r=t.UITransform,h=t.v3,a=t.Vec2,c=t.Component}],execute:function(){var g;e._RF.push({},"3e1dbyaVNJGxYK+lC3mMZ2/","Draggable",void 0);var u,f=i.ccclass;i.property,t("Draggable",f("Draggable")(g=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).dragThreshold=1,n.touchStartPos=null,n.dragOffset=null,n.isDragging=!1,n}n(e,t);var i=e.prototype;return i.onLoad=function(){this.registerEvent()},i.onDestroy=function(){this.unregisterEvent()},i.registerEvent=function(){this.node.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this)},i.unregisterEvent=function(){this.node.off(s.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(s.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.node.off(s.EventType.TOUCH_END,this.onTouchEnd,this)},i.onTouchStart=function(t){this.touchStartPos=t.getLocation();var n=this.node.getParent().getComponent(r).convertToNodeSpaceAR(h(this.touchStartPos.x,this.touchStartPos.y));this.dragOffset=n.subtract(this.node.getPosition())},i.onTouchMove=function(t){if(this.dragOffset){var n=t.getLocation(),o=this.node.getParent().getComponent(r).convertToNodeSpaceAR(h(n.x,n.y));if(!this.isDragging&&0!==this.dragThreshold){if(a.distance(this.touchStartPos,n)<this.dragThreshold)return;this.dragOffset=o.subtract(this.node.getPosition())}this.node.setPosition(o.subtract(this.dragOffset)),this.isDragging?this.onDragMove():(this.isDragging=!0,this.onDragStart())}},i.onTouchCancel=function(t){this.onTouchEnd(t)},i.onTouchEnd=function(t){this.dragOffset&&(this.touchStartPos=null,this.dragOffset=null,this.isDragging&&(this.isDragging=!1,this.onDragEnd()))},i.onDragStart=function(){},i.onDragMove=function(){},i.onDragEnd=function(){},o(e,null,[{key:"EventType",get:function(){return u}}]),e}(c))||g);!function(t){t.DRAG_START="drag-start",t.DRAG_MOVE="drag-move",t.DRAG_END="drag-end"}(u||(u={})),e._RF.pop()}}}));

System.register("chunks:///_virtual/Dragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableAbyssDragonDamageAward.ts","./TableGameSys.ts"],(function(e){"use strict";var t,a,n,r,o,s,i,u,c,g;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){n=e.cclegacy,r=e._decorator},function(e){o=e.JsonUtil},function(e){s=e.GameEvent},function(e){i=e.smc},function(e){u=e.GameSys},function(e){c=e.TableAbyssDragonDamageAward},function(e){g=e.GameSysKey}],execute:function(){var d;n._RF.push({},"4b9639mUrpCJIV+dH7brz77","Dragon",void 0);var l=r.ccclass,f=(r.property,e("Dragon",l("Dragon")(d=function(e){function n(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).redotWatchGameEvents=[s.FubenAbyssDragonRed],t}t(n,e);var r=n.prototype;return r.calRedot=function(){return this.dragonRedDot},r.getQuickInfo=function(){return{descStr:"今日伤害："+this.todayDamage}},a(n,[{key:"todayDamage",get:function(){var e;return null==(e=i.fuben.reDayInfo)?void 0:e.ad_damage}},{key:"tableDamage",get:function(){var e=[],t=o.get(c.TableName);for(var a in t)e.push({id:a,drop1:t[a].drop1});return e}},{key:"dragonRedDot",get:function(){for(var e in this.tableDamage)if(this.todayDamage>=Number(this.tableDamage[e].id)&&i.fuben.reDayInfo.ad_awardTag<Number(this.tableDamage[e].id))return!0;return!1}}]),n}(u))||d));e("dragon",new f(g.abyss_dragon));n._RF.pop()}}}));

System.register("chunks:///_virtual/DrawMeshSector.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,a,n,o,s,u,c,l,p,h,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Material,u=e.MeshRenderer,c=e.macro,l=e.Vec3,p=e.gfx,h=e.utils,d=e.Component}],execute:function(){var f,m,g,y,v,M,b,w,R,z,A;n._RF.push({},"ea0c13ef6VL451GZLWgDtle","DrawMeshSector",void 0);var D=o.ccclass,L=o.property;e("DrawMeshSector",(f=D("DrawSectorMesh"),m=L({type:s}),g=L({tooltip:"外圈半径"}),y=L({tooltip:"内圈半径"}),v=L({tooltip:"扇形角度"}),f((w=r((b=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r=e.call.apply(e,[this].concat(n))||this,i(r,"mat",w,a(r)),i(r,"radius",R,a(r)),i(r,"innerRadius",z,a(r)),i(r,"angledegree",A,a(r)),r}t(r,e);var n=r.prototype;return n.start=function(){this.createMesh()},n.createMesh=function(){for(var e=this.addComponent(u),r=Math.floor(this.angledegree/4)+1,t=[],i=2*r+2,a=new Array(i),n=this.angledegree*c.RAD,o=n,s=n/r,d=0;d<i;d+=2){var f=Math.cos(o),m=Math.sin(o);a[d]=new l(this.radius*f,0,this.radius*m),a[d+1]=new l(this.innerRadius*f,0,this.innerRadius*m),o-=s,t.push(a[d].x),t.push(a[d].y),t.push(a[d].z),t.push(a[d+1].x),t.push(a[d+1].y),t.push(a[d+1].z)}for(var g=6*r,y=new Array(g),v=(d=0,0);d<g;d+=6,v+=2)y[d]=v,y[d+1]=v+3,y[d+2]=v+1,y[d+3]=v+2,y[d+4]=v+3,y[d+5]=v;var M=[];for(d=0;d<i;d++){var b=a[d].x/this.radius/2+.5,w=a[d].z/this.radius/2+.5;M.push(b,w)}var R={positions:t,indices:y,uvs:M,primitiveMode:p.PrimitiveMode.TRIANGLE_FAN,attributes:[{name:p.AttributeName.ATTR_NORMAL,format:p.Format.RGB32F}]},z=h.createMesh(R);e.mesh=z,e.material=this.mat},r}(d)).prototype,"mat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(b.prototype,"radius",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),z=r(b.prototype,"innerRadius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=r(b.prototype,"angledegree",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),M=b))||M));n._RF.pop()}}}));

System.register("chunks:///_virtual/Duobao.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./TablePirateShip.ts","./TablePirateShipWelfare.ts","./TableStatus.ts","./TableUtil.ts"],(function(e){"use strict";var t,n,i,o,r,a,u,s,c,f,l,p,h,d,m,g,y,v,_;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.oops},function(e){u=e.EPSActType},function(e){s=e.GameEvent},function(e){c=e.UIID},function(e){f=e.httpChannel},function(e){l=e.MsgID},function(e){p=e.smc},function(e){h=e.GameSys},function(e){d=e.TableGameConfig},function(e){m=e.GameSysKey},function(e){g=e.TablePirateShip},function(e){y=e.TablePirateShipWelfare},function(e){v=e.StatusKey},function(e){_=e.TableUtil}],execute:function(){var D;e("DuobaoOperationTypes",void 0),r._RF.push({},"37724jeF4VPerLzoFhsTqPl","Duobao",void 0),function(e){e[e.Dice=0]="Dice",e[e.Update=1]="Update"}(D||(D=e("DuobaoOperationTypes",{})));var b=e("Duobao",function(e){function r(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).scene=null,t.rankInfo=null,t.redotWatchGameEvents=[s.Tick1S],t}t(r,e);var h=r.prototype;return h.getDiceCD=function(){if(!this.info.adddice_time)return null;var e=new Date(this.info.adddice_time).getTime()/1e3+r.Config.AddDiceTime;return Math.max(Math.ceil(e-a.timer.getLocalTime()/1e3),0)},h.clearDiceCD=function(){this.info.adddice_time=null},h.getSeasonLeftTime=function(){var e;if(null==(e=this.info)||!e.sTime)return-1;var t=new Date(this.info.sTime).getTime()/1e3+86400*r.Config.SeasonDurationDays;return Math.max(Math.ceil(t-a.timer.getLocalTime()/1e3),0)},h.getShipAwards=function(){return this.isOver()?null:_.get(g,this.info.shipId).award},h.getBuff=function(e){return this.fightInfo.buff.find((function(t){return t.type===e}))},h.hasBuff=function(e){return null!=this.getBuff(e)},h.isOver=function(){if(this.fightInfo.hp>0)return!1;var e=_.getIds(g);return this.info.shipId==e[e.length-1]},h.calMoveSteps=function(e){var t,n=(null==(t=e.find((function(e){return e.act==u.MOVE_CELL})))?void 0:t.newpos)-this.info.pos;return n<0?n+r.Config.MapPosNums:n},h.reqRankInfo=function(){var e=i(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.reqAsync(l.DuobaoGetRank,{});case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:return this.rankInfo=t,e.abrupt("return",this.rankInfo);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),h.onNewSeason=function(e){a.gui.has(c.Duobao)?a.message.dispatchEvent(s.DuobaoSettle,e):this.info=e},h.getQuickInfo=function(){return{descStr:"骰子："+this.ownDiceCount}},h.checkOpened=function(e){return null!=this.info},n(r,[{key:"info",get:function(){return p.accountData.subinfo.pirateShip},set:function(e){p.accountData.subinfo.pirateShip=e}},{key:"fightInfo",get:function(){return this.info.fightInfo}},{key:"fireInfo",get:function(){return this.info.shellInfo},set:function(e){this.info.shellInfo=e}},{key:"killedShip",get:function(){var e,t;return null!=(e=null==(t=this.info)?void 0:t.killNum)?e:0}},{key:"fuliUnlocked",get:function(){return p.store.checkStatus(v.ps_welfare)}},{key:"ownDiceCount",get:function(){return p.accountData.getItemCount(r.Items.Dice)}}]),r}(h));b.Items={BombNormal:d.ps_item_nshell,BombFire:d.ps_item_bshell,BombTimer:d.ps_item_tshell,Dice:d.ps_item_ndice,LuckyDice:d.ps_item_ldice,Tuzhi:d.ps_item_upshell,DMGx2:d.ps_item_double_damage,Energy:d.ps_item_energy,GoldCoin:d.moneyId_goldcoin,YunTie:1003,MiYin:1018,QuickenItem:1005},b.Config={MapPosNums:24,MaxDiceCount:d.ps_dice_max,MaxFireEnergy:d.ps_fire_energy_max,AddDiceTime:60*d.ps_add_dicetime,ShopIdFreeDice:16,ShopIdBuyDice:17,ShopIdShipAward:18,ShopIdShipAwardDaily:30,SeasonDurationDays:d.ps_season_days,ShipAwardBonus:d.ps_welfare_add},b.FireList=[b.Items.BombNormal,b.Items.BombFire,b.Items.BombTimer];var S=e("duobao",new b(m.pirateShip));new(function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).redotWatchGameEvents=[s.ItemBagUpdated],t}return t(n,e),n.prototype.calRedot=function(){return S.ownDiceCount>0},n}(h))(m.pirateShip_dice),new(function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).redotWatchGameEvents=[s.ItemBagUpdated,s.DuobaoKill],t}t(n,e);var i=n.prototype;return i.calRedot=function(){var t=this;return e.prototype.calRedot.call(this)||null!=_.getIds(y).find((function(e){return t.isCanRecv(e)}))},i.isCanRecv=function(e){var t=e;return!(t>S.killedShip+(S.fuliUnlocked?b.Config.ShipAwardBonus:0))&&(S.info.welfare_lv<t||!!(S.fuliUnlocked&&S.info.welfare_Hlv<t))},n}(h))(m.pirateShip_ship_award),new(e("DuobaoFireUpRedot",function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).redotWatchGameEvents=[s.ItemBagUpdated],t}t(n,e);var i=n.prototype;return i.calRedot=function(){var e=this;return null!=b.FireList.find((function(t){return e.checkUpgrade(t)}))},i.checkUpgrade=function(e,t){void 0===t&&(t=!1);var n=p.duobao.fireInfo[e],i=_.getDuobaoFireConfig(e),o=i[n-1];return n<i.length&&p.bag.checkCost(o.cost,t)},n}(h)))(m.pirateShip_fire_up),r._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./TableGameItem.ts","./Util.ts","./Duobao.ts"],(function(t){"use strict";var e,i,n,s,o,r,m,a,c,u,p,d,l,h,I,g,f;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,r=t.Sprite,m=t.Button,a=t.Component,c=t.Vec3,u=t.tween},function(t){p=t.oops},function(t){d=t.ViewUtil},function(t){l=t.GameResPath},function(t){h=t.UIID},function(t){I=t.TableGameItem},function(t){g=t.delay},function(t){f=t.Duobao}],execute:function(){var b,v,y;s._RF.push({},"0368bwM/zpAa4ZCYn2RiCgN","DuobaoCell",void 0);var C=o.ccclass,_=(o.property,(b={})[f.Items.BombNormal]="img_ptzdg",b[f.Items.BombFire]="img_rszdg",b[f.Items.BombTimer]="img_dszdg",b),j=((v={})[f.Items.Dice]="img_ptszdj",v[f.Items.LuckyDice]="img_xyszdj",v[f.Items.Tuzhi]="img_sjtzdj",v[f.Items.DMGx2]="img_bsdj",v[f.Items.Energy]="img_ptnldj",v[f.Items.GoldCoin]="img_jbdj",v[f.Items.YunTie]="img_mydj",v[f.Items.MiYin]="img_ytdj",v[f.Items.QuickenItem]="img_sjjzdj",v[1047]="img_xbqdj",v);t("DuobaoCell",C("DuobaoCell")(y=function(t){function s(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).spGrid=null,e.spItem=null,e.itemId=void 0,e.cfg=new I,e}e(s,t);var o=s.prototype;return o.onLoad=function(){this.spGrid=this.getComponent(r),this.spItem=this.node.getChildByName("item").getComponent(r),this.spItem.spriteFrame=null,this.node.addComponent(m),this.node.on(m.EventType.CLICK,this.onClickItem.bind(this))},o.start=function(){},o.init=function(t){this.itemId=t,t?t in _?(this.spItem.node.active=!1,d.loadSpriteFrame(this.spGrid,l.getDuobaoSpriteFrame(_[t]))):(this.spItem.node.active=!0,d.loadSpriteFrame(this.spItem,l.getDuobaoSpriteFrame(j[t]))):this.spItem.node.active=!1},o.doSpawn=function(){var t=i(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return.5,this.init(e),this.spItem.node.setScale(c.ZERO),u(this.spItem.node).to(.5,{scale:c.ONE},{easing:"backOut"}).start(),t.next=6,g(500);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.doRemove=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.spItem.spriteFrame=null,this.spItem.node.active=!1;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onClickItem=function(){if(this.itemId){this.cfg.init(Number(this.itemId));var t={id:this.cfg.id,cfg:this.cfg};p.gui.open(h.TipItem,t)}},s}(a))||y);s._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoDice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameResPath.ts","./Util.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,c,u,p,l,f,h,y,d,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,p=t.SpriteFrame,l=t.dragonBones,f=t.Sprite,h=t.Component},function(t){y=t.oops},function(t){d=t.AudioClipEffect},function(t){D=t.delay}],execute:function(){var m,v,b,g,z,R,w,F,M;c._RF.push({},"9aae1XoRURDMoFRzyHO5zUV","DuobaoDice",void 0);var P=u.ccclass,S=u.property,_="shaizi";t("DuobaoDice",(m=P("DuobaoDice"),v=S([p]),b=S(l.ArmatureDisplay),g=S(f),m((w=e((R=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"spfDiceNums",w,a(e)),n(e,"display",F,a(e)),n(e,"spDice",M,a(e)),e}i(e,t);var c=e.prototype;return c.onLoad=function(){this.reset()},c.start=function(){},c.init=function(){var t=Math.floor(6*Math.random())+1;this.set(t)},c.doPlay=function(){var t=o(s().mark((function t(e){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.spDice.node.active=!1,this.display.node.active=!0,this.animation.play(_,1),y.audio.playEffect(d.DuobaoDice),i=this.animation.getState(_).totalTime,t.next=7,D(1e3*i);case 7:this.set(e);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.set=function(t){this.spDice.spriteFrame=this.spfDiceNums[t-1],this.animation.reset(),this.display.node.active=!1,this.spDice.node.active=!0},c.reset=function(){this.animation.reset(),this.display.node.active=!1,this.spDice.node.active=!1},r(e,[{key:"animation",get:function(){return this.display.armature().animation}}]),e}(h)).prototype,"spfDiceNums",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(R.prototype,"display",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(R.prototype,"spDice",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=R))||z));c._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./LabelChange.ts","./GameResPath.ts","./SingletonModuleComp.ts","./Util.ts","./Duobao.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,s,u,c,p,f,h,m,b,g,y,d,B,w,v,E,P,D,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.ProgressBar,p=e.dragonBones,f=e.Animation,h=e.Node,m=e.Sprite,b=e.Vec3,g=e.tween,y=e.Component},function(e){d=e.oops},function(e){B=e.ViewUtil},function(e){w=e.LabelChange},function(e){v=e.GameResPath,E=e.AudioClipEffect},function(e){P=e.smc},function(e){D=e.delay},function(e){F=e.Duobao}],execute:function(){var x,C,k,z,S,I,M,R,G,A,L,T,_,O,j;s._RF.push({},"5aaa7S0HSRC15p4pWHGBrMt","DuobaoFire",void 0);var H=u.ccclass,N=u.property,U="daiji",V="zhuangdan",q="gongji";e("DuobaoFire",(x=H("DuobaoFire"),C=N(w),k=N(c),z=N(p.ArmatureDisplay),S=N(f),I=N(h),M=N(f),x((A=t((G=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lblE",A,r(t)),i(t,"barE",L,r(t)),i(t,"display",T,r(t)),i(t,"animBullet",_,r(t)),i(t,"nodeBullet",O,r(t)),i(t,"animBuff",j,r(t)),t.bulletPosition=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.bulletPosition=this.nodeBullet.getPosition()},s.init=function(){this.play(U,0),this.refresh()},s.refresh=function(){this.lblE.num=this.energy,this.barE.progress=this.progress},s.play=function(e,t,n){null!=n||(n=P.duobao.hasBuff(F.Items.DMGx2)),n?(e+="_shuangbei",this.animBuff.play()):(this.animBuff.stop(),this.animBuff.getComponent(m).spriteFrame=null);var i=this.animation.lastAnimationState;if((null==i?void 0:i.name)==e&&i.isPlaying)return i.totalTime;return this.animation.fadeIn(e,0,t).totalTime+0},s.doRechage=function(){var e=o(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){var i=.1*t;g(n.barE).to(i,{progress:n.progress}).call((function(){n.lblE.changeTo(1,n.energy),n.barE.progress=n.progress})).delay(.1).call(e).start()})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.doFire=function(){var e=o(l().mark((function e(t,n){var i,r,a,o=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.play(V,1),e.next=3,D(1e3*i);case 3:return r=this.play(q,1),a=this.fireBullet(t,n),d.audio.playEffect(E.DuobaoFire),e.next=8,D(1e3*a);case 8:this.refresh(),this.scheduleOnce((function(){o.play(U,0)}),r-a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.onBuff=function(){var e=o(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n===F.Items.DMGx2&&this.play(U,0);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.fireBullet=function(e,t){e==F.Items.Energy&&(e=F.Items.BombNormal),this.nodeBullet.setPosition(this.bulletPosition),this.nodeBullet.setScale(b.ONE);var n=this.nodeBullet.getComponent(m);return B.loadSpriteFrame(n,v.getItemSpriteFrame(e)),g(this.nodeBullet).show().parallel(g().to(.5,{worldPosition:t.attackPosition},{easing:"quadOut"}),g().to(.5,{scale:new b(.7,.7)})).hide().start(),.5},a(t,[{key:"animation",get:function(){return this.display.armature().animation}},{key:"energy",get:function(){return P.duobao.info.fireEnergy}},{key:"progress",get:function(){return Math.min(1,this.energy/F.Config.MaxFireEnergy)}}]),t}(y)).prototype,"lblE",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(G.prototype,"barE",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(G.prototype,"display",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(G.prototype,"animBullet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(G.prototype,"nodeBullet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(G.prototype,"animBuff",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=G))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoHero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./Util.ts","./Duobao.ts"],(function(o){"use strict";var t,n,e,r,i,s,u,a,c,l;return{setters:[function(o){t=o.inheritsLoose,n=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){r=o.cclegacy,i=o._decorator,s=o.Component,u=o.tween},function(o){a=o.smc},function(o){c=o.delay},function(o){l=o.Duobao}],execute:function(){var p;r._RF.push({},"5991afLm0RPXLxHHHRUkrbp","DuobaoHero",void 0);var f=i.ccclass;i.property,o("DuobaoHero",f("DuobaoHero")(p=function(o){function r(){return o.apply(this,arguments)||this}t(r,o);var i=r.prototype;return i.start=function(){},i.init=function(o){var t=a.duobao.info.pos,n=o.getCell(t);this.node.worldPosition=n.node.worldPosition},i.doMove=function(){var o=n(e().mark((function o(t,n,r){var i,s,a;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:i=.3,s=.2,a=n;case 2:return(a+=1)>l.Config.MapPosNums&&(a=1),u(this.node).to(i,{worldPosition:t.getCell(a).node.worldPosition}).delay(s).start(),o.next=7,c(1e3*(i+s));case 7:if(a!==r){o.next=2;break}case 8:case"end":return o.stop()}}),o,this)})));return function(t,n,e){return o.apply(this,arguments)}}(),r}(s))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./UMASDK.ts","./SingletonModuleComp.ts","./Util.ts","./Duobao.ts","./DuobaoDice.ts","./DuobaoFire.ts","./DuobaoHero.ts","./DuobaoMap.ts","./DuobaoShip.ts","./DuobaoUI.ts"],(function(e){"use strict";var t,n,a,r,i,o,s,u,c,p,f,b,h,d,l,g,m,D,y,_,v,k,x,A,w,E,I,S,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,c=e._decorator,p=e.Button,f=e.Component},function(e){b=e.oops},function(e){h=e.EPSActType},function(e){d=e.GameEvent},function(e){l=e.UIID},function(e){g=e.tips},function(e){m=e.httpChannel},function(e){D=e.MsgID},function(e){y=e.UMASDK,_=e.UMA_EVENT},function(e){v=e.smc},function(e){k=e.delay},function(e){x=e.DuobaoOperationTypes},function(e){A=e.DuobaoDice},function(e){w=e.DuobaoFire},function(e){E=e.DuobaoHero},function(e){I=e.DuobaoMap},function(e){S=e.DuobaoShip},function(e){M=e.DuobaoUI}],execute:function(){var O,F,L,U,C,R,H,W,B,N,T,z,G,P,X,q,V;u._RF.push({},"4ea26HuhFxIEoWrSeXO4a8k","DuobaoMain",void 0);var K=c.ccclass,j=c.property;e("DuobaoMain",(O=K("DuobaoMain"),F=j(p),L=j(I),U=j(E),C=j(S),R=j(w),H=j(A),W=j(M),O((T=t((N=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"btnX",T,r(t)),a(t,"map",z,r(t)),a(t,"hero",G,r(t)),a(t,"ship",P,r(t)),a(t,"pao",X,r(t)),a(t,"dice",q,r(t)),a(t,"ui",V,r(t)),t.bWaitDice=void 0,t.bWaitActs=0,t}n(t,e);var u=t.prototype;return u.start=function(){this.init(),b.message.on(d.DuobaoOperation,this._eventHandler,this),b.message.on(d.DuobaoSettle,this._eventHandler,this),b.message.on(d.DuobaoFreshShip,this._eventFreshShip,this),this.btnX.node.on(p.EventType.CLICK,this.onXClick,this)},u.onDestroy=function(){b.message.off(d.DuobaoOperation,this._eventHandler,this),b.message.off(d.DuobaoSettle,this._eventHandler,this),b.message.off(d.DuobaoFreshShip,this._eventFreshShip,this)},u.init=function(){v.duobao.info?v.duobao.isOver()?g.alert("恭喜你通过挑战"):(this.ui.init(),this.map.init(),this.hero.init(this.map),this.ship.init(),this.pao.init(),this.dice.init()):g.alert("活动准备中..")},u.onXClick=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.bWaitDice&&!this.bWaitActs){e.next=3;break}return b.gui.toast("请等待行动完成"),e.abrupt("return");case 3:this.bWaitActs,b.gui.removeByNode(this.node,!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.reqDice=function(){var e=i(o().mark((function e(t){var n,a,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.bWaitDice){e.next=2;break}return e.abrupt("return");case 2:return n={ldice:t},e.next=5,m.reqAsync(D.DuobaoAct,n);case 5:if(null!=(a=e.sent)&&a.ok){e.next=9;break}return this.bWaitDice=!1,e.abrupt("return");case 9:if(y.doEvent(_.DUOBAO_PLAY_DICE),this.bWaitDice=!0,this.bWaitActs++,r=v.duobao.calMoveSteps(a.psActList),0!=t){e.next=18;break}return e.next=16,this.dice.doPlay(r);case 16:e.next=19;break;case 18:this.dice.set(r);case 19:return v.account.doResChange(a),this.ui.doBeforeActs(a),e.next=23,this.doActs(a.psActList).finally((function(){a.killNum&&(v.duobao.info.killNum=a.killNum,b.message.dispatchEvent(d.DuobaoKill)),i.ui.doAfterActs(),i.bWaitActs--}));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.reqUpdate=function(){var e=i(o().mark((function e(){var t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,m.reqAsync(D.DuobaoUpdate,n);case 3:if(null!=(a=e.sent)&&a.ok){e.next=6;break}return e.abrupt("return");case 6:v.duobao.info.adddice_time=a.adddice_time,v.account.doResChange(a),(null==this?void 0:this.isValid)&&(null==(t=this.ui)||t.refreshTime());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.doOperation=function(e){e.ty==x.Dice?this.reqDice(e.num):e.ty==x.Update&&this.reqUpdate()},u.doActs=function(){var e=i(o().mark((function e(t){var n,a,r,i,u,c=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v.duobao.info,a=n.fightInfo.buff,r=o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.value,!v.duobao.isOver()){e.next=3;break}return e.abrupt("return","break");case 3:e.t0=t.act,e.next=e.t0===h.MOVE_CELL?6:e.t0===h.RANDOM_ADD_CELLITEM?18:e.t0===h.ADD_CELL_ITEM?22:e.t0===h.FIRE_SHELL?32:e.t0===h.ADD_BUFF?42:e.t0===h.TRIGGER_BUFF?46:e.t0===h.REMOVE_BUFF?51:e.t0===h.NEXT_SHIP?54:e.t0===h.OVER?60:63;break;case 6:return t.change_energy||(t.change_energy=0),r=n.pos,n.pos=t.newpos,n.fireEnergy+=t.change_energy,a.forEach((function(e){return e.count&&(e.count-=1)})),e.next=13,c.hero.doMove(c.map,r,n.pos);case 13:return c.ship.onMove(),e.next=16,c.pao.doRechage(t.change_energy);case 16:return c.bWaitDice=!1,e.abrupt("break",65);case 18:return Object.assign(n.posList,t.newpos_itemid),e.next=21,c.map.doSpawn(t.newpos_itemid);case 21:return e.abrupt("break",65);case 22:return t.change_energy||(t.change_energy=0),delete n.posList[n.pos],n.fireEnergy+=t.change_energy,e.next=27,c.ui.doGet(t.additmes);case 27:return e.next=29,c.map.doRemove(n.pos);case 29:return e.next=31,c.pao.doRechage(t.change_energy);case 31:return e.abrupt("break",65);case 32:return t.change_energy||(t.change_energy=0),t.damage||(t.damage=0),n.fightInfo.hp-=t.damage,n.damage+=t.damage,n.fireEnergy+=t.change_energy,e.next=39,c.pao.doFire(t.damage_itemid,c.ship);case 39:return e.next=41,c.ship.beAttacked(t.damage_itemid,t.damage);case 41:return e.abrupt("break",65);case 42:return a.push(t.add_buff),c.pao.onBuff(t.act,t.add_buff.type),c.ship.onBuff(t.act,t.add_buff.type,t.add_buff),e.abrupt("break",65);case 46:return n.fightInfo.hp-=t.damage||0,n.damage+=t.damage||0,e.next=50,c.ship.beAttacked(t.damage_itemid,t.damage);case 50:return e.abrupt("break",65);case 51:return n.fightInfo.buff=a.filter((function(e){return-1==t.remove_buff.indexOf(e.id)})),a.filter((function(e){return-1!=t.remove_buff.indexOf(e.id)})).forEach((function(e){return c.pao.onBuff(t.act,e.type)})),e.abrupt("break",65);case 54:return n.shipId=t.new_shipId,n.fightInfo=t.new_fightInfo,t.additmes&&g.reward({additem:t.additmes}),e.next=59,c.ship.doSpawn(n.shipId);case 59:return e.abrupt("break",65);case 60:return g.reward({additem:t.additmes}),c.init(),e.abrupt("break",65);case 63:return g.confirm(JSON.stringify(t),null),e.abrupt("break",65);case 65:case"end":return e.stop()}}),e)})),i=s(t);case 4:if((u=i()).done){e.next=11;break}return e.delegateYield(r(),"t0",6);case 6:if("break"!==e.t0){e.next=9;break}return e.abrupt("break",11);case 9:e.next=4;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u.onSettle=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.gui.open(l.Netinstable);case 1:if(!this.bWaitActs){e.next=6;break}return e.next=4,k(100);case 4:e.next=1;break;case 6:return b.gui.remove(l.Netinstable),e.next=9,g.confirmAsync("当前赛季已结束");case 9:v.duobao.info=t,b.gui.removeByNode(this.node,!0);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u._eventHandler=function(e,t){if(e==d.DuobaoOperation){var n=t;this.doOperation(n)}else e==d.DuobaoSettle&&this.onSettle(t)},u._eventFreshShip=function(e,t){this.doActs(t.psActList)},t}(f)).prototype,"btnX",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(N.prototype,"map",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(N.prototype,"hero",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(N.prototype,"ship",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(N.prototype,"pao",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(N.prototype,"dice",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(N.prototype,"ui",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=N))||B));u._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableUtil.ts","./DuobaoCell.ts"],(function(n){"use strict";var t,e,r,o,u,i,a,c,s;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,u=n._decorator,i=n.Component},function(n){a=n.smc},function(n){c=n.TableUtil},function(n){s=n.DuobaoCell}],execute:function(){var l;o._RF.push({},"aa375gM6CtFtYdU50h9clSo","DuobaoMap",void 0);var f=u.ccclass;u.property,n("DuobaoMap",f("DuobaoMap")(l=function(n){function o(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))||this).cells=null,t}t(o,n);var u=o.prototype;return u.onLoad=function(){this.cells=this.node.children.map((function(n){return n.getComponent(s)})).sort((function(n,t){return Number(n.node.name)-Number(t.node.name)}))},u.init=function(){var n=c.getDuobaoMapConfig();this.cells.forEach((function(t,e){return t.init(n[e+1])})),this.refresh()},u.refresh=function(){var n=a.duobao.info.posList;this.cells.forEach((function(t,e){return t.init(n[e+1])}))},u.getCell=function(n){return this.cells[n-1]},u.doSpawn=function(){var n=e(r().mark((function n(t){var e,o,u,i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object.entries(t)[0].map(Number),o=e[0],u=e[1],i=this.getCell(o),n.next=4,i.doSpawn(u);case 4:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),u.doRemove=function(){var n=e(r().mark((function n(t){var e;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.getCell(t),n.next=3,e.doRemove();case 3:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),o}(i))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./TablePirateShipDailyRank.ts","./TablePirateShipSeasonRank.ts","./Util.ts","./DuobaoRankItem.ts"],(function(e){"use strict";var n,t,a,i,o,r,l,c,s,u,d,b,f,h,k,p,g,m,w,R,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Button,u=e.RichText,d=e.Node,b=e.Label,f=e.instantiate,h=e.macro,k=e.Component},function(e){p=e.oops},function(e){g=e.smc},function(e){m=e.TablePirateShipDailyRank},function(e){w=e.TablePirateShipSeasonRank},function(e){R=e.Util},function(e){y=e.DuobaoRankItem}],execute:function(){var v,A,P,T,D,S,C,I,z,E,L,x,X,_,O,B,F,M,j,N,U;l._RF.push({},"bc33b6Rbd9O2Y7aEPAsbuZM","DuobaoRank",void 0);var Z,q=c.ccclass,G=c.property;!function(e){e[e.Rank=0]="Rank",e[e.DayAward=1]="DayAward",e[e.SeasonAward=2]="SeasonAward"}(Z||(Z={}));e("DuobaoRank",(v=q("DuobaoRank"),A=G(s),P=G(u),T=G(y),D=G(y),S=G(d),C=G(d),I=G(d),z=G(d),E=G(b),v((X=n((x=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,a(n,"btnX",X,i(n)),a(n,"lblTime",_,i(n)),a(n,"myRankItem",O,i(n)),a(n,"awardItem",B,i(n)),a(n,"nodePageRank",F,i(n)),a(n,"nodePageRankContent",M,i(n)),a(n,"nodePageAward",j,i(n)),a(n,"nodePageAwardContent",N,i(n)),a(n,"lblDesc",U,i(n)),n}t(n,e);var l=n.prototype;return l.start=function(){this.btnX.node.on(s.EventType.CLICK,this.onXClick,this),this.init()},l.init=function(){this.doTick(),this.initRank(),this.showTab(Z.Rank)},l.initRank=function(){var e=o(r().mark((function e(){var n,t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.duobao.reqRankInfo();case 2:(n=e.sent).rank.forEach((function(e,n){var a=f(t.myRankItem.node);a.setParent(t.nodePageRankContent),a.getComponent(y).init(n+1,e)})),n.selfrank<=n.rank.length?this.myRankItem.init(n.selfrank,n.rank[n.selfrank-1]):this.myRankItem.init("未上榜",{id:g.accdata.id,n:g.accdata.name,f:g.accdata.getZhanli().toString(),d:g.duobao.info.damage.toString(),c:""});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.initAward=function(e){var n,t=this;e==Z.DayAward?n=m:e==Z.SeasonAward&&(n=w),this.nodePageAwardContent.removeAllChildren(),Object.values(n).forEach((function(e){var n=f(t.awardItem.node);n.setParent(t.nodePageAwardContent),n.getComponent(y).initAward(e)}))},l.onRankTabClick=function(e){var n=e.node.getSiblingIndex();this.showTab(n)},l.showTab=function(e){switch(e){case Z.Rank:this.nodePageRank.active=!0,this.nodePageAward.active=!1,this.lblDesc.node.active=!1;break;case Z.DayAward:this.nodePageRank.active=!1,this.nodePageAward.active=!0,this.lblDesc.node.active=!0,this.initAward(Z.DayAward);break;case Z.SeasonAward:this.nodePageRank.active=!1,this.nodePageAward.active=!0,this.lblDesc.node.active=!1,this.initAward(Z.SeasonAward)}},l.doTick=function(){var e=this;if(this.lblTime.string="",g.duobao.getSeasonLeftTime()<=0)return this.lblTime.string="<outline color=black width=3><color=#0fff00>当前赛季已结束</color></outline>",void this.lblTime.unscheduleAllCallbacks();this.lblTime.schedule((function(){var n=g.duobao.getSeasonLeftTime();if(n>0){var t=R.fmtSecs(n);e.lblTime.string="<outline color=black width=3><color=#ffffff>赛季结束倒计时：</color><color=#0fff00>"+t+"</color></outline>"}else e.doTick()}),1,h.REPEAT_FOREVER,.1)},l.onXClick=function(){p.gui.removeByNode(this.node,!0)},n}(k)).prototype,"btnX",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(x.prototype,"lblTime",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(x.prototype,"myRankItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(x.prototype,"awardItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(x.prototype,"nodePageRank",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(x.prototype,"nodePageRankContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(x.prototype,"nodePageAward",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(x.prototype,"nodePageAwardContent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(x.prototype,"lblDesc",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=x))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./ItemsGroup.ts","./PlayerHead.ts"],(function(e){"use strict";var i,t,n,l,a,r,o,s,u,p,b,c,m,f,h,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,o=e.Node,s=e.SpriteFrame,u=e.Sprite,p=e.Label,b=e.Component},function(e){c=e.ViewUtil},function(e){m=e.RankIcon,f=e.GameResPath},function(e){h=e.ItemsGroup},function(e){g=e.PlayerHead}],execute:function(){var d,y,R,k,w,z,D,G,v,I,P,B,F,H,S,C,N,L,Z;a._RF.push({},"a2e0deNU71O2ZXa+Wf95Lyk","DuobaoRankItem",void 0);var _=r.ccclass,x=r.property;e("DuobaoRankItem",(d=_("DuobaoRankItem"),y=x(o),R=x(s),k=x(u),w=x(p),z=x(u),D=x(p),G=x(p),v=x(p),d((B=i((P=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"nodePlayerHead",B,l(i)),n(i,"spfYellowBG",F,l(i)),n(i,"spBG",H,l(i)),n(i,"lblRank",S,l(i)),n(i,"spRank",C,l(i)),n(i,"lblName",N,l(i)),n(i,"lblZhanli",L,l(i)),n(i,"lblDmg",Z,l(i)),i}t(i,e);var a=i.prototype;return a.init=function(e,i){this.initRank(e),this.lblName.string=i.n,this.lblZhanli.string=i.f,this.lblDmg.string=i.d,this.nodePlayerHead.getComponent(g).initView(i.c)},a.initAward=function(e){e.min==e.max?this.initRank(e.min):this.initRank(e.min+"~"+e.max),this.getComponentInChildren(h).init(e.award)},a.initRank=function(e){1==e&&(this.spBG.spriteFrame=this.spfYellowBG),e in m?(this.lblRank.node.active=!1,c.loadSpriteFrame(this.spRank,f.getSpriteFrameCommon(m[e]))):(this.spRank.node.active=!1,this.lblRank.string=e.toString())},i}(b)).prototype,"nodePlayerHead",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(P.prototype,"spfYellowBG",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(P.prototype,"spBG",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(P.prototype,"lblRank",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(P.prototype,"spRank",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(P.prototype,"lblName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(P.prototype,"lblZhanli",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(P.prototype,"lblDmg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=P))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoShip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./SingletonModuleComp.ts","./TablePirateShip.ts","./Util.ts","./HpFly.ts","./RoleLoader.ts","./Duobao.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,h,p,u,l,c,f,m,b,d,y,g,v,B,T,H,k,w,x,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,p=t._decorator,u=t.Prefab,l=t.ProgressBar,c=t.Label,f=t.Node,m=t.dragonBones,b=t.Vec3,d=t.instantiate,y=t.Component,g=t.tween},function(t){v=t.EPSActType},function(t){B=t.smc},function(t){T=t.TablePirateShip},function(t){H=t.delay},function(t){k=t.HpFly,w=t.HpFlyType},function(t){x=t.RoleLoader},function(t){P=t.Duobao}],execute:function(){var S,I,D,F,z,_,M,A,C,L,N,R,U;h._RF.push({},"a8383W/NqdBv5VKvzoUl10h","DuobaoShip",void 0);var j=p.ccclass,E=p.property,G="daiji",V="shouji",W="ranshao",q="chenmo";t("DuobaoShip",(S=j("DuobaoShip"),I=E(u),D=E(l),F=E(c),z=E(f),_=E(m.ArmatureDisplay),S((C=e((A=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"pfHpFly",C,o(e)),n(e,"barHp",L,o(e)),n(e,"lblHp",N,o(e)),n(e,"nodeBombTimer",R,o(e)),n(e,"display",U,o(e)),e.attackPosition=null,e.spwanPos=new b(540,200,0),e.targetPos=new b(0,250,0),e.cfg=new T,e.initShipId=0,e.shipName=["haidaochuanlv","haidaoclan","haidaochuanzi","haidaochuan2"],e}i(e,t);var h=e.prototype;return h.onLoad=function(){this.nodeBombTimer.active=!1,this.attackPosition=this.node.getWorldPosition(),this.attackPosition.y+=100},h.init=function(){this.initShipId=B.duobao.info.shipId,this.cfg.init(this.initShipId),this.refresh(this.initShipId),this.refreshBombTimer(),this.node.position=this.targetPos},h.refresh=function(){var t=a(s().mark((function t(e){var i,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.barHp.node.active=!0,this.lblHp.node.active=!0,this.barHp.progress=this.progress,this.lblHp.string=this.hp+"/"+this.hpMax,i=this.shipName[e-1]||this.shipName[0],n={skeleton:"gui/duobao/model/"+i+"/"+i+"_ske",atlas:"gui/duobao/model/"+i+"/"+i+"_tex"},t.next=8,x.loadDragonBone(this.display,n);case 8:return t.next=10,this.display.armature();case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),h.refreshBombTimer=function(){var t=B.duobao.getBuff(P.Items.BombTimer);t?(this.nodeBombTimer.active=!0,this.nodeBombTimer.getComponentInChildren(c).string=""+t.count):this.nodeBombTimer.active=!1},h.flyHp=function(t,e){var i=d(this.pfHpFly).getComponent(k);i.node.parent=this.node,i.node.setPosition(0,260),i.init2(t,e),i.fontSize=40,i.stayDuration=.8},h.play=function(t,e){var i=this.animation.lastAnimationState;return(null==i?void 0:i.name)==t&&i.isPlaying?i.totalTime:this.animation.play(t,e).totalTime},h.beAttacked=function(){var t=a(s().mark((function t(e,i){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==i){t.next=2;break}return t.abrupt("return");case 2:if(n=0,e!==P.Items.BombFire){t.next=9;break}return n=this.play(W,0),t.next=7,H(1e3);case 7:t.next=13;break;case 9:return e===P.Items.BombTimer&&(this.nodeBombTimer.active=!1),n=this.play(V,1),t.next=13,H(1e3*n);case 13:if(this.flyHp(w.HP_MINUS,"-"+i),this.refresh(this.initShipId),!(this.hp>0)){t.next=19;break}B.duobao.hasBuff(P.Items.BombFire)?this.play(W,0):this.play(G,0),t.next=25;break;case 19:return this.barHp.node.active=!1,this.lblHp.node.active=!1,this.nodeBombTimer.active=!1,n=this.play(q,1),t.next=25,H(1e3*n);case 25:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),h.onBuff=function(t,e,i){var n=t==v.ADD_BUFF;e==P.Items.BombFire?n?this.play(W,0):this.play(G,0):e==P.Items.BombTimer&&this.refreshBombTimer()},h.onMove=function(){this.refreshBombTimer()},h.doSpawn=function(){var t=a(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.init(),this.node.position=this.spwanPos,this.play(G,0),3,g(this.node).to(3,{position:this.targetPos}).start(),t.next=7,H(3e3);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r(e,[{key:"animation",get:function(){return this.display.armature().animation}},{key:"hpMax",get:function(){return this.cfg.hp}},{key:"hp",get:function(){return B.duobao.fightInfo.hp}},{key:"progress",get:function(){return this.hp/this.hpMax}}]),e}(y)).prototype,"pfHpFly",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(A.prototype,"barHp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(A.prototype,"lblHp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(A.prototype,"nodeBombTimer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(A.prototype,"display",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A))||M));h._RF.pop()}}}));

System.register("chunks:///_virtual/DuobaoUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Util.ts","./BagItem.ts","./Duobao.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,c,u,l,p,b,h,f,d,m,D,g,v,C,T,y,k,I,w,R,U,L,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Node,l=e.Label,p=e.Button,b=e.Component,h=e.instantiate,f=e.Vec3,d=e.tween},function(e){m=e.oops},function(e){D=e.GameEvent},function(e){g=e.UIID,v=e.DialogAnimation},function(e){C=e.ItemsGroup},function(e){T=e.tips},function(e){y=e.httpChannel},function(e){k=e.MsgID},function(e){I=e.smc},function(e){w=e.TableUtil},function(e){R=e.Util},function(e){U=e.BagItem},function(e){L=e.Duobao,x=e.DuobaoOperationTypes}],execute:function(){var A,E,z,B,G,S,Z,F,O,H,M,_,P,K,N,j,q,V,Y,J,Q,W,X;s._RF.push({},"201c6PHCrBPHqavKYZSH2oC","DuobaoUI",void 0);var $=c.ccclass,ee=c.property;e("DuobaoUI",(A=$("DuobaoUI"),E=ee(u),z=ee(l),B=ee(l),G=ee(p),S=ee(p),Z=ee(p),F=ee(p),O=ee(p),H=ee(p),M=ee(C),A((K=t((P=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"pfbItem",K,r(t)),n(t,"lblTZCount",N,r(t)),n(t,"lblTZTime",j,r(t)),n(t,"btnDice",q,r(t)),n(t,"btnDiceAnim",V,r(t)),n(t,"btnLuckyDice",Y,r(t)),n(t,"btnFireUp",J,r(t)),n(t,"btnRank",Q,r(t)),n(t,"btnRefresh",W,r(t)),n(t,"itemsGroupAward",X,r(t)),t.diceTimer=null,t}i(t,e);var s=t.prototype;return s.start=function(){this.refresh(),this.refreshTime(),this.pfbItem.active=!1,this.btnDiceAnim.node.on(p.EventType.CLICK,this.onDiceClick,this),this.btnLuckyDice.node.on(p.EventType.CLICK,this.onLuckyDiceClick,this),this.btnRank.node.on(p.EventType.CLICK,this.onRankClick,this),this.btnRefresh.node.on(p.EventType.CLICK,this.onRefreshClick,this),m.message.on(D.ItemBagUpdated,this._eventHandler,this)},s.onDestroy=function(){m.message.off(D.ItemBagUpdated,this._eventHandler,this),this.diceTimer&&m.timer.unRegister(this.diceTimer.id)},s.init=function(){var e=I.duobao.getShipAwards();e?this.itemsGroupAward.initItemsRecord(e):this.itemsGroupAward.node.parent.active=!1},s.refresh=function(){this.lblTZCount.string=I.duobao.ownDiceCount+"/"+L.Config.MaxDiceCount},s.refreshTime=function(){var e=this;if(I.duobao.ownDiceCount>=L.Config.MaxDiceCount)return this.lblTZTime.string="已达上限",I.duobao.clearDiceCD(),this.diceTimer&&m.timer.unRegister(this.diceTimer.id),void(this.diceTimer=null);var t=I.duobao.getDiceCD();if(t)this.diceTimer||(this.diceTimer={id:null,secs:t},this.diceTimer.id=m.timer.register(this.diceTimer,"secs",this.doDiceTick.bind(this),(function(){var t={ty:x.Update};m.message.dispatchEvent(D.DuobaoOperation,t),e.diceTimer=null})),this.doDiceTick());else{this.lblTZTime.string="";var i={ty:x.Update};m.message.dispatchEvent(D.DuobaoOperation,i)}},s.doBeforeActs=function(e){e.additem&&L.Items.Dice in e.additem&&(this.lblTZCount.string=I.duobao.ownDiceCount-e.additem[L.Items.Dice]+"/"+L.Config.MaxDiceCount)},s.doAfterActs=function(){this.refresh(),this.refreshTime()},s.doGet=function(){var e=o(a().mark((function e(t){var i,n,r,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!(L.Items.Dice in t)){e.next=6;break}i=this.btnDice,e.next=16;break;case 6:if(!(L.Items.LuckyDice in t)){e.next=10;break}i=this.btnLuckyDice,e.next=16;break;case 10:if(!(L.Items.Tuzhi in t)){e.next=14;break}i=this.btnFireUp,e.next=16;break;case 14:return T.reward({additem:t}),e.abrupt("return");case 16:return 1e3,(n=h(this.pfbItem).getComponent(U)).node.parent=this.pfbItem.parent,r=f.distance(n.node.position,i.node.position),n.init2(t),e.abrupt("return",new Promise((function(e){d(n.node).set({active:!0,scale:f.ZERO}).to(.5,{scale:f.ONE},{easing:"backOut"}).delay(.5).to(r/1e3,{position:i.node.position,scale:new f(.5,.5)},{easing:"cubicIn"}).removeSelf().call(o.refresh.bind(o)).call(e).start()})));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.doDiceTick=function(){var e=this.diceTimer.secs;this.lblTZTime.string="恢复："+R.fmtSecs(e)},s.onDiceClick=function(){if(I.duobao.ownDiceCount>0){var e={ty:x.Dice,num:0};m.message.dispatchEvent(D.DuobaoOperation,e)}else{var t={ShopFreeAD:L.Config.ShopIdFreeDice,ShopBuy:L.Config.ShopIdBuyDice};m.gui.open(g.TipDuobaoBuyDice,t,v)}},s.onLuckyDiceClick=function(){m.gui.open(g.TipDuobaoLuckyDice,null)},s.onRankClick=function(){m.gui.open(g.DuobaoRank,null)},s.onRefreshClick=function(){var e=o(a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,y.reqAsync(k.DuobaoFresh,t);case 3:if(null!=(i=e.sent)&&i.ok){e.next=6;break}return e.abrupt("return");case 6:m.message.dispatchEvent(D.DuobaoFreshShip,i),this.freshLable(i);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.freshLable=function(e){var t=this.btnRefresh.getComponentInChildren(l),i=[],n=[];Object.entries(null==e?void 0:e.decitem).forEach((function(e){var t=e[0],r=e[1];i.push(t),n.push(r)})),I.account.doResChange(e);var r=w.getItemName(i[0]);t.string=(n[0]||"")+r+"刷新",this.init(),m.message.dispatchEvent(D.ItemBagUpdated)},s._eventHandler=function(e,t){e==D.ItemBagUpdated&&this.refresh()},t}(b)).prototype,"pfbItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(P.prototype,"lblTZCount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(P.prototype,"lblTZTime",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(P.prototype,"btnDice",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(P.prototype,"btnDiceAnim",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(P.prototype,"btnLuckyDice",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(P.prototype,"btnFireUp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(P.prototype,"btnRank",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(P.prototype,"btnRefresh",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(P.prototype,"itemsGroupAward",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=P))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/EBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./StorageKey.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameEBoxLv.ts","./TableGameEquip.ts","./TableGameEquipQuality.ts","./TableGameSys.ts","./TableOpenBoxAttr.ts","./TableUtil.ts","./Util.ts"],(function(t){"use strict";var e,n,u,i,r,a,o,s,c,l,p,f,m,d,h,E,g,v,q,y,b,T,x,k,B,S;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,u=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.oops},function(t){o=t.JsonUtil},function(t){s=t.EItemType},function(t){c=t.GameEvent},function(t){l=t.CBConfigData,p=t.DockBtnType,f=t.UIID},function(t){m=t.StorageKey},function(t){d=t.httpChannel},function(t){h=t.MsgID},function(t){E=t.smc},function(t){g=t.DockBtnAdapter,v=t.GameSys},function(t){q=t.TableGameConfig},function(t){y=t.TableGameEBoxLv},function(t){b=t.TableGameEquip},function(t){T=t.TableGameEquipQuality},function(t){x=t.GameSysKey},function(t){k=t.TableOpenBoxAttr},function(t){B=t.TableUtil},function(t){S=t.Util}],execute:function(){var A;t("EBoxAttrType",void 0),r._RF.push({},"75a7f05Yq1B2IRi77EoAShn","EBox",void 0),function(t){t[t.typeLeft=1]="typeLeft",t[t.typeRight=2]="typeRight"}(A||(A=t("EBoxAttrType",{})));var C=t("EBox",function(t){function r(){for(var e,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(e=t.call.apply(t,[this].concat(u))||this)._timeScale=1,e._autoReq=null,e}e(r,t);var g=r.prototype;return g.onLogin=function(){l[p.Box].resDir="gui/box/scene"+this.skinLevel},g.setTmp=function(t){S.isEmpty(t)?E.accdata.subinfo.tmpEquips=null:E.accdata.subinfo.tmpEquips=t},g.getTmp=function(){var t,e;return null==(t=E.accdata)||null==(e=t.subinfo)?void 0:e.tmpEquips},g.hasTmp=function(){return!S.isEmpty(this.getTmp())},g.refreshTmp=function(t){t&&this.setTmp(t)},g.getTmpEquips=function(){return this.hasTmp()?Object.values(this.getTmp()):null},g.removeTmpEquip=function(t){var e,n,u,i;null==(e=E.accdata)||(null==(n=e.subinfo)||delete n.tmpEquips[t]),this.setTmp(null==(u=E.accdata)||null==(i=u.subinfo)?void 0:i.tmpEquips)},g.getCompEquip=function(t){var e,n=null==(e=B.get(b,t.id))?void 0:e.pos;return E.accountData.getEquipByPos(t.tmphid,n)},g.checkTmp=function(){if(!this.hasTmp())return!1;var t=this.getTmpEquips()[0],e=this.getCompEquip(t),n={newEquip:t,oldEquip:e};return e?a.gui.openAsync(f.TipEBoxComp2,n):a.gui.openAsync(f.TipEBoxComp1,n),!0},g.setAutoReq=function(t){this._autoReq=t},g.getAutoReq=function(){return this._autoReq},g.isAuto=function(){return null!=this._autoReq},g.getDatieAnimData=function(t){var e,n=Math.max.apply(Math,t.allEquips.map((function(t){return t.qid}))),u=B.get(T,n);return null!=(e=[].concat(null==u?void 0:u.datie_times))?e:[0]},r.GetSettingAttrNames=function(t){return this.EBoxAttrs.filter((function(e){return e.type==t})).map((function(t){return t.name}))},r.GetAttrIDByName=function(t){var e,n;return null!=(e=null==(n=this.EBoxAttrs.find((function(e){return e.name==t})))?void 0:n.numid)?e:0},r.GetAttrNameByID=function(t){var e,n;return null!=(e=null==(n=this.EBoxAttrs.find((function(e){return e.numid==t})))?void 0:n.name)?e:"任意"},g.reqOpen=function(){var t=u(i().mark((function t(e){var n,u,r,a,o,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.reqAsync(h.EBoxOpen,e);case 2:if(null!=(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",null);case 5:return E.account.doResChange(r),a={recycleItems:null,dropItems:null,allEquips:null,saveEquips:null,sellEquips:null,tmpEquips:null},r.additem&&(c=Object.keys(r.additem).find((function(t){return B.getItemType(t)===s.NORMAL})))&&(a.dropItems=((o={})[c]=r.additem[c],o)),a.allEquips=[].concat(Object.values(null!=(n=r.addEquip)?n:{}),Object.values(null!=(u=r.addTmpEquip)?u:{})),S.isEmpty(r.addEquip)||(a.saveEquips=Object.values(r.addEquip)),r.decTmpEquip||(r.decTmpEquip=[]),r.decTmpEquip.length&&(a.sellEquips=Object.values(r.addTmpEquip).filter((function(t){return r.decTmpEquip.some((function(e){return e==t.eid}))})),a.recycleItems=r.additem),a.tmpEquips=Object.keys(r.addTmpEquip).reduce((function(t,e){return r.decTmpEquip.some((function(t){return t==e}))||(t[e]=r.addTmpEquip[e]),t}),{}),this.setTmp(a.tmpEquips),t.abrupt("return",a);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),g.reqSell=function(){var t=u(i().mark((function t(e){var n,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={eid:e},t.next=3,d.reqAsync(h.EBoxSell,n);case 3:if(null!=(u=t.sent)&&u.ok){t.next=6;break}return t.abrupt("return");case 6:this.removeTmpEquip(e),E.account.doResChange(u),a.message.dispatchEvent(c.EBoxDatieSell,u.additem);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),g.reqSave=function(){var t=u(i().mark((function t(e){var n,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={eid:e},t.next=3,d.reqAsync(h.EBoxSave,n);case 3:if(null!=(u=t.sent)&&u.ok){t.next=6;break}return t.abrupt("return");case 6:this.removeTmpEquip(e),E.account.doResChange(u);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),g.reqSub=function(){var t=u(i().mark((function t(e){var n,u,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={eid:e.eid},t.next=3,d.reqAsync(h.EBoxSub,n);case 3:if(null!=(u=t.sent)&&u.ok){t.next=6;break}return t.abrupt("return",null);case 6:return(r=this.getCompEquip(e))&&E.accdata.addEquipInBag(r),this.removeTmpEquip(e.eid),E.accountData.setRoleInfo(u.hero),a.message.dispatchEvent(c.EquipPosUpdated),t.abrupt("return",null==r?void 0:r.eid);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),g.calRedot=function(e,n){return t.prototype.calRedotSub.call(this)},n(r,[{key:"timeScale",get:function(){return this._timeScale}},{key:"speedUp",set:function(t){this._timeScale=q.ebox_anim_speed[t?1:0]}},{key:"info",get:function(){return E.accountData.subinfo.ebox},set:function(t){E.accountData.subinfo.ebox=t}},{key:"level",get:function(){return this.info.lv}},{key:"levelCfg",get:function(){return B.get(y,this.level)}},{key:"skinLevel",get:function(){return this.levelCfg.scene_level}},{key:"upgradeCD",get:function(){if(!this.info.cd)return 0;var t=Math.ceil((this.info.cd-a.timer.getLocalTime())/1e3)+1;return Math.max(0,t)}},{key:"intervalSec",get:function(){if(!this.info.interval)return 0;var t=Math.ceil(a.timer.getLocalTime()/1e3-this.info.interval)+1,e=Number(q.boxup_skip_cd.t)-t;return Math.max(0,e)}},{key:"storage",get:function(){return a.storage.getJson(m.EBoxSetting,{quality:1,costNums:1,tglQuality:!1,tglZhanli:!0,tglSave:!1,tglSell:!0,tglSpeed:!1})},set:function(t){a.storage.set(m.EBoxSetting,t)}}],[{key:"EBoxAttrs",get:function(){return Object.values(o.get(k.TableName))}}]),r}(g)),_=t("ebox",new C(x.box));new(t("EBoxUpgradeService",function(t){function n(){for(var e,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(e=t.call.apply(t,[this].concat(u))||this).redotWatchGameEvents=[c.ItemBagUpdated],e}e(n,t);var u=n.prototype;return u.calRedot=function(){return this.checkCost(!1)},u.checkCost=function(t){var e=null;if(_.upgradeCD){var n;(n={})[q.itemid_quicken_cd]=1,e=n}else{var u,i=E.ebox.info.lv,r=B.get(y,i),a=B.get(y,i+1);e=r&&a?((u={})[r.up_item]=r.up_price,u):null}return E.bag.checkCost(e,t)},n}(v)))(x.box_equip_up),r._RF.pop()}}}));

System.register("chunks:///_virtual/EboxBuyTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./StorageKey.ts","./SingletonModuleComp.ts","./TableGameConfig.ts"],(function(t){"use strict";var e,o,n,i,s,r,a,u,c,l,p,g,y,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,u=t.Label,c=t.Toggle,l=t.Component},function(t){p=t.oops},function(t){g=t.GameEvent},function(t){y=t.StorageKey},function(t){f=t.smc},function(t){d=t.TableGameConfig}],execute:function(){var m,b,h,v,C,B,E;r._RF.push({},"9d146uq8RlEgbpN/G8R+LTr","EboxBuyTip",void 0);var T=a.ccclass,x=a.property;t("EboxBuyTip",(m=T("EboxBuyTip"),b=x(u),h=x(c),m((B=e((C=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"lblCost",B,i(e)),n(e,"tglLogin",E,i(e)),e.params=void 0,e}o(e,t);var r=e.prototype;return r.onAdded=function(t){this.params=t},r.start=function(){this.lblCost.string=d.open_sbox_cost.n*this.params.cost+"钻石",this.tglLogin.isChecked=!1},r.onClickBuy=function(){this.tglLogin.isChecked&&p.storage.set(y.EboxBuyStorage,1),this.count>=this.params.total?(p.message.dispatchEvent(g.SBoxBuy,{count:this.params.total}),p.gui.removeByNode(this.node,!0)):p.gui.toast("钻石不足请充值！")},r.onXClick=function(){p.gui.removeByNode(this.node,!0)},s(e,[{key:"count",get:function(){return f.accountData.getItemCount(d.moneyId_diamond)}}]),e}(l)).prototype,"lblCost",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(C.prototype,"tglLogin",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/EBoxCompare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./TipsManager.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Guide.ts","./EBoxCompareItem.ts"],(function(e){"use strict";var t,n,i,r,a,l,s,o,u,c,p,h,b,f,g,d,m,v,x,S,E,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e._decorator,u=e.Label,c=e.Button,p=e.Toggle,h=e.Font,b=e.Component},function(e){f=e.oops},function(e){g=e.GameEvent},function(e){d=e.AudioClipEffect},function(e){m=e.UIID},function(e){v=e.tips},function(e){x=e.smc},function(e){S=e.TableUtil},function(e){E=e.GuideTypes},function(e){C=e.EBoxCompareItem}],execute:function(){var y,k,B,q,w,z,T,R,A,I,G,D,L,Z,O,N,M,F,K,U,_,P,j;s._RF.push({},"95655b56BVMF5q1g0yd4qKB","EBoxCompare",void 0);var H=o.ccclass,V=o.property;e("EBoxCompare",(y=H("EBoxCompare"),k=V(C),B=V(C),q=V(u),w=V(u),z=V(c),T=V(c),R=V(c),A=V(p),I=V(h),G=V(h),y((Z=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"itemOld",Z,r(t)),i(t,"itemNew",O,r(t)),i(t,"lblZhanli",N,r(t)),i(t,"lblTitle2",M,r(t)),i(t,"btnSell",F,r(t)),i(t,"btnSave",K,r(t)),i(t,"btnSub",U,r(t)),i(t,"tglSell",_,r(t)),i(t,"fntAdd",P,r(t)),i(t,"fntSub",j,r(t)),t.params=void 0,t.zhanliChange=void 0,t.storage=null,t}n(t,e);var s=t.prototype;return s.onAdded=function(e){this.params=e,this.init()},s.start=function(){var e;this.btnSell.node.on(c.EventType.CLICK,this.onBtnClick,this),this.btnSave.node.on(c.EventType.CLICK,this.onBtnClick,this),this.btnSub.node.on(c.EventType.CLICK,this.onBtnClick,this),null==(e=this.tglSell)||e.node.on(p.EventType.TOGGLE,this.onToggleClick,this)},s.init=function(){var e;this.params.fromBag?(this.lblTitle2.string="选中装备",this.btnSave.node.active=!1):(this.lblTitle2.string="新获得",this.btnSave.node.active=!0);var t=this.params.oldEquip,n=this.params.newEquip;null==(e=this.itemOld)||e.init(t),this.itemNew.init(n,t);var i=S.getEquipZhanli(t),r=S.getEquipZhanli(n);this.zhanliChange=r-i;var a=this.zhanliChange>=0?"+":"";this.lblZhanli.string="战力: "+a+this.zhanliChange,this.lblZhanli.font=this.zhanliChange>0?this.fntAdd:this.fntSub,this.btnSub.getComponentInChildren(u).string=t?"替 换":"装 备",this.storage=x.ebox.storage,this.tglSell&&(this.tglSell.isChecked=this.storage.tglSell||!1),x.accdata.heroLevel<3&&!this.params.fromBag&&this.itemOld&&0!=this.zhanliChange&&x.guide.try(this.zhanliChange>0?E.DuanZaoSub:E.DuanZaoSell)},s.onBtnClick=function(e){this.params.fromBag?this.doBagBtnEvent(e):this.doEBoxBtnEvent(e)},s.doEBoxBtnEvent=function(){var e=a(l().mark((function e(t){var n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.params.newEquip,e.t0=t,e.next=e.t0===this.btnSell?4:e.t0===this.btnSave?14:e.t0===this.btnSub?17:35;break;case 4:if(e.t1=this.zhanliChange>0,!e.t1){e.next=9;break}return e.next=8,v.confirmAsync("当前装备比穿戴的战力更高，是否确定出售？");case 8:e.t1=!e.sent;case 9:if(!e.t1){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,x.ebox.reqSell(n.eid);case 13:return e.abrupt("break",37);case 14:return e.next=16,x.ebox.reqSave(n.eid);case 16:return e.abrupt("break",37);case 17:if(e.t2=this.zhanliChange<0,!e.t2){e.next=22;break}return e.next=21,v.confirmAsync("当前装备比穿戴的战力更低，是否确定替换？");case 21:e.t2=!e.sent;case 22:if(!e.t2){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,x.ebox.reqSub(n);case 26:if(i=e.sent,f.audio.playEffect(d.RoleEquipChange),!i||!this.storage.tglSell){e.next=33;break}return e.next=31,x.equip.reqSellEquip(i);case 31:(null==(r=e.sent)?void 0:r.ok)&&f.message.dispatchEvent(g.EBoxDatieSell,r.additem);case 33:return f.gui.open(m.TipEquipReplace,this.params),e.abrupt("break",37);case 35:return console.error("ERR btn"),e.abrupt("break",37);case 37:f.gui.removeByNode(this.node,!1),f.message.dispatchEvent(g.EBoxDatieManualOpResult);case 39:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.doBagBtnEvent=function(){var e=a(l().mark((function e(t){var n,i,r,a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.params.oldEquip,a=this.params.newEquip,s=null,e.t0=t,e.next=e.t0===this.btnSell?6:e.t0===this.btnSub?18:32;break;case 6:if(e.t1=this.zhanliChange>0,!e.t1){e.next=11;break}return e.next=10,v.confirmAsync("当前装备比穿戴的战力更高，是否确定出售？");case 10:e.t1=!e.sent;case 11:if(!e.t1){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,x.equip.reqSellEquip(a.eid);case 15:return s=e.sent,f.gui.toast(null==(n=s)?void 0:n.msg),e.abrupt("break",34);case 18:if(e.t2=this.zhanliChange<0,!e.t2){e.next=23;break}return e.next=22,v.confirmAsync("当前装备比穿戴的战力更低，是否确定替换？");case 22:e.t2=!e.sent;case 23:if(!e.t2){e.next=25;break}return e.abrupt("return");case 25:return e.next=27,x.equip.reqSetupEquip(this.params.roleId,a.pos,a.eid,!0);case 27:if(s=e.sent,!(null!=(i=s)&&i.ok&&this.storage.tglSell&&r)){e.next=31;break}return e.next=31,x.equip.reqSellEquip(r.eid);case 31:return e.abrupt("break",34);case 32:return console.error("ERR btn"),e.abrupt("break",34);case 34:f.gui.removeByNode(this.node,!1);case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onToggleClick=function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.tglSell=t.isChecked,x.ebox.storage=this.storage;case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onXClick=function(){x.ebox.setAutoReq(null),f.gui.removeByNode(this.node,!1)},t}(b)).prototype,"itemOld",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(L.prototype,"itemNew",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(L.prototype,"lblZhanli",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(L.prototype,"lblTitle2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(L.prototype,"btnSell",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(L.prototype,"btnSave",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(L.prototype,"btnSub",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(L.prototype,"tglSell",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(L.prototype,"fntAdd",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(L.prototype,"fntSub",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=L))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/EBoxCompareItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameAttr.ts","./TableGameEquip.ts","./TableGameEquipPos.ts","./TableUtil.ts","./AttrItem.ts","./EquipItem.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,s,c,u,p,m,d,b,f,g,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,c=t.Label,u=t.Color,p=t.Component},function(t){m=t.TableGameAttr},function(t){d=t.TableGameEquip},function(t){b=t.TableGameEquipPos},function(t){f=t.TableUtil},function(t){g=t.AttrItem},function(t){h=t.EquipItem}],execute:function(){var v,A,E,y,I,C,B,P,q,T,w,z,G;a._RF.push({},"fcd3dSBQfVEwo9HEqY7bk0k","EBoxCompareItem",void 0);var F=l.ccclass,N=l.property;t("EBoxCompareItem",(v=F("EBoxCompareItem"),A=N(h),E=N(s),y=N(s),I=N(c),C=N(c),v((q=e((P=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"item",q,r(e)),n(e,"nodeAttrBase",T,r(e)),n(e,"nodeAttrPro",w,r(e)),n(e,"lblName",z,r(e)),n(e,"lblPos",G,r(e)),e}i(e,t);var a=e.prototype;return a.init=function(t,e){var i=this;if(void 0===e&&(e=null),t){var n=f.get(d,t.id);this.lblName.string=n.name;var r=b[n.pos];this.lblPos.string=r.name,this.item.initByEquipInfo(t);var o=e?f.getEquipTotalAttr(e):{},a=f.getEquipBasicAttr(n,t),l=Object.entries(a);if(this.baseAttrItems.forEach((function(t,e){if(t.node.active=e<l.length,e<l.length){var n=l[e];t.init(n),i.setAttrFlag(t,n,o)}})),t.add){this.nodeAttrPro.active=!0;var s=f.getEquipAddAttr(t),u=Object.entries(s);this.proAttrItems.forEach((function(t,e){if(t.node.active=e<u.length,e<u.length){var n,r=u[e];t.init(r),i.setAttrFlag(t,r,o);var a=null==(n=t.node.getChildByName("desc"))?void 0:n.getComponent(c);a&&(a.string=m[r[0]].desc)}}))}else this.nodeAttrPro.active=!1}else this.node.removeAllChildren()},a.setAttrFlag=function(t,e,i){var n=t.getFlag();e[0]in i?(n.node.active=!0,e[1]>i[e[0]]?(n.color=u.GREEN,n.node.angle=-180):e[1]<i[e[0]]?(n.color=u.RED,n.node.angle=0):n.node.active=!1):n.node.active=!1},o(e,[{key:"baseAttrItems",get:function(){return this.nodeAttrBase.getComponentsInChildren(g)}},{key:"proAttrItems",get:function(){return this.nodeAttrPro.getComponentsInChildren(g)}}]),e}(p)).prototype,"item",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(P.prototype,"nodeAttrBase",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(P.prototype,"nodeAttrPro",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(P.prototype,"lblName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(P.prototype,"lblPos",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=P))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/EBoxSetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./MWComboBox.ts","./MWComboBoxEx.ts","./PopUpBase.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameEquipQuality.ts","./TablePrivilegeType.ts","./TableUtil.ts","./EBox.ts"],(function(t){"use strict";var e,i,r,o,s,l,a,n,u,g,h,c,b,p,m,f,d,A,y,C,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,a=t.Button,n=t.Toggle},function(t){u=t.oops},function(t){g=t.GameEvent},function(t){h=t.UIID},function(t){c=t.MWComboBox},function(t){b=t.MWComboBoxEx},function(t){p=t.PopUpBase},function(t){m=t.smc},function(t){f=t.TableGameConfig},function(t){d=t.TableGameEquipQuality},function(t){A=t.PrivilegeTypeKey},function(t){y=t.TableUtil},function(t){C=t.EBox,v=t.EBoxAttrType}],execute:function(){var S,x,k,Q,L,T,B,N,E,I,R,G,z,w,O,D,Z,q,M,U,_,P,W,j,F,K,H,X,Y,J,V,$;s._RF.push({},"27de6qdiG5Fpp8MAcdteL4H","EBoxSetting",void 0);var tt=l.ccclass,et=l.property;t("EBoxSetting",(S=tt("EBoxSetting"),x=et(b),k=et(c),Q=et(a),L=et(n),T=et(n),B=et(n),N=et(n),E=et(n),I=et(n),R=et(n),G=et(c),z=et(c),w=et(c),O=et(c),S((($=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,r(e,"combQualities",q,o(e)),r(e,"combCostNums",M,o(e)),r(e,"btnStart",U,o(e)),r(e,"tglQuality",_,o(e)),r(e,"tglZhanli",P,o(e)),r(e,"tglSave",W,o(e)),r(e,"tglSpeed",j,o(e)),r(e,"tglAttr1",F,o(e)),r(e,"tglAttr2",K,o(e)),r(e,"tglLock",H,o(e)),r(e,"combAttrLeft1",X,o(e)),r(e,"combAttrLeft2",Y,o(e)),r(e,"combAttrRight1",J,o(e)),r(e,"combAttrRight2",V,o(e)),e.storage=null,e.privilegeType=A.quick_ebox,e}i(e,t),e.LoadQualities=function(){return e.Qualities||(e.Qualities=y.getEquipQualityIds().reduce((function(t,e){var i=y.get(d,e);return t[i.name]=i,t}),{}))};var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),e.LoadQualities(),this.combQualities.setOpenSignAngle(0),this.combQualities.setClosedSignAngle(270)},s.start=function(){t.prototype.start.call(this),this.init(),this.btnStart.node.on(a.EventType.CLICK,this.onStartClick,this),this.combCostNums.node.on(c.EventType.COMBOBOX_CLICK,this.onComboboxCostNumsClick,this)},s.init=function(){var t,e,i,r;this.storage=m.ebox.storage,(t=this.storage).costNums||(t.costNums=1),this.tglQuality.isChecked=null==(e=this.storage.tglQuality)||e,this.tglSave.isChecked=null!=(i=this.storage.tglSave)&&i,this.tglSpeed.isChecked=null!=(r=this.storage.tglSpeed)&&r,this.initZhanliOptions(),this.initQualityOptions(),this.initAttrOptions(),this.combCostNums.setItems(Object.keys(f.ebox_numcfg)),this.combCostNums.setCurrentText(this.storage.costNums.toString())},s.initZhanliOptions=function(){var t;this.tglZhanli.isChecked=null!=(t=this.storage.tglZhanli)&&t},s.initQualityOptions=function(){var t,i;this.tglQuality&&(this.tglQuality.isChecked=null==(t=this.storage.tglQuality)||t);var r=Object.values(e.Qualities).map((function(t){return{name:t.name,color:y.getEquipQualityColor(t.id)}}));this.combQualities.setItemsEx(r);var o=y.get(d,this.storage.quality);this.combQualities.setCurrentTextEx(null!=(i=r.find((function(t){return t.name==o.name})))?i:r[0])},s.initAttrOptions=function(){var t,e;this.tglAttr1.isChecked=null!=(t=this.storage.tglAttr1)&&t,this.tglAttr2.isChecked=null!=(e=this.storage.tglAttr2)&&e;var i=C.GetSettingAttrNames(v.typeLeft);this.combAttrLeft1.setItems(i);var r=C.GetAttrNameByID(this.storage.tglAttrLeft1);this.combAttrLeft1.setCurrentText(r||i[0]),this.combAttrLeft2.setItems(i);var o=C.GetAttrNameByID(this.storage.tglAttrLeft2);this.combAttrLeft2.setCurrentText(o||i[0]);var s=C.GetSettingAttrNames(v.typeRight);this.combAttrRight1.setItems(s);var l=C.GetAttrNameByID(this.storage.tglAttrRight1);this.combAttrRight1.setCurrentText(l||s[0]),this.combAttrRight2.setItems(s);var a=C.GetAttrNameByID(this.storage.tglAttrRight2);this.combAttrRight2.setCurrentText(a||s[0])},s.onStartClick=function(){this.updateStorage(),m.ebox.storage=this.storage,m.ebox.speedUp=this.tglSpeed.isChecked;var t={openNum:this.storage.costNums,sellLv:this.tglQuality.isChecked?this.storage.quality:0,fightUp:this.tglZhanli.isChecked,autoSave:this.tglSave.isChecked,ckattr1:this.tglAttr1.isChecked,ckattr2:this.tglAttr2.isChecked,attr1:this.storage.tglAttrLeft1,attr2:this.storage.tglAttrRight1,attr3:this.storage.tglAttrLeft2,attr4:this.storage.tglAttrRight2,autoOpen:!0};m.ebox.setAutoReq(t),u.message.dispatchEvent(g.EBoxDatieStartAuto),this.tglLock.isChecked&&u.gui.open(h.Lock),this.onXClick()},s.onClickEvent=function(){if(1==this.tglSpeed.isChecked&&m.store.hasPrivilege(this.privilegeType)<=0)return u.gui.open(h.YuekaWelfare),void u.gui.removeByNode(this.node,!0);this.storage.tglSpeed=!!this.tglSpeed.isChecked,m.ebox.storage=this.storage},s.onComboboxCostNumsClick=function(t){var e=t.getCurrentText(),i=f.ebox_numcfg[e];if(m.ebox.level<i.lv)return u.gui.toast("铁匠铺等级不足"+i.lv+"级"),void t.setCurrentText(this.storage.costNums.toString());this.storage.costNums=Number(e),m.ebox.storage=this.storage},s.updateStorage=function(){this.storage.tglSave=this.tglSave.isChecked,this.storage.tglSpeed=this.tglSpeed.isChecked,this.updateQualityStorage(),this.updateZhanliStorage(),this.updateAttrStorage()},s.updateQualityStorage=function(){this.tglQuality&&(this.storage.tglQuality=this.tglQuality.isChecked);var t=this.combQualities.getCurrentText(),i=e.Qualities[t].id;this.storage.quality=i},s.updateAttrStorage=function(){this.storage.tglAttr1=this.tglAttr1.isChecked,this.storage.tglAttr2=this.tglAttr2.isChecked;var t=this.combAttrLeft1.getCurrentText(),e=this.combAttrLeft2.getCurrentText(),i=this.combAttrRight1.getCurrentText(),r=this.combAttrRight2.getCurrentText();this.storage.tglAttrLeft1=C.GetAttrIDByName(t),this.storage.tglAttrLeft2=C.GetAttrIDByName(e),this.storage.tglAttrRight1=C.GetAttrIDByName(i),this.storage.tglAttrRight2=C.GetAttrIDByName(r)},s.updateZhanliStorage=function(){this.storage.tglZhanli=this.tglZhanli.isChecked},e}(p)).Qualities=null,q=e((Z=$).prototype,"combQualities",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(Z.prototype,"combCostNums",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(Z.prototype,"btnStart",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(Z.prototype,"tglQuality",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(Z.prototype,"tglZhanli",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(Z.prototype,"tglSave",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(Z.prototype,"tglSpeed",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(Z.prototype,"tglAttr1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(Z.prototype,"tglAttr2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(Z.prototype,"tglLock",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(Z.prototype,"combAttrLeft1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(Z.prototype,"combAttrLeft2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(Z.prototype,"combAttrRight1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(Z.prototype,"combAttrRight2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=Z))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/ECS.ts",["cc","./ECSComp.ts","./ECSEntity.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts"],(function(t){"use strict";var n,e,i,o,r,c,u,s;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ECSComp},function(t){i=t.ECSEntity},function(t){o=t.ECSMatcher},function(t){r=t.ECSModel},function(t){c=t.ECSSystem,u=t.ECSRootSystem,s=t.ECSComblockSystem}],execute:function(){var d;t("ecs",void 0),n._RF.push({},"be87fT76plLkaUKEYpkuV0n","ECS",void 0),function(t){var n=t.Entity=i;t.Comp=e,t.System=c,t.RootSystem=u,t.ComblockSystem=s;function d(t){return function(){var t=new n;return t.eid=r.eid++,r.eid2Entity.set(t.eid,t),t}().add(t)}t.register=function(t,n){return void 0===n&&(n=!0),function(e){if(null==e.tid)r.entityCtors.set(e,t);else{if(-1!==e.tid)throw new Error("重复注册组件： "+t+".");e.tid=r.compTid++,e.compName=t,n?(r.compCtors.push(e),r.compPools.set(e.tid,[])):r.compCtors.push(null),r.compAddOrRemove.set(e.tid,[])}}},t.getEntity=function(t){var n=r.entityCtors.get(t);null==n&&console.error(t.name+" 实体没有注册");var e=(r.entityPool.get(n)||[]).pop();return e||((e=new t).eid=r.eid++,e.name=n),e.init?e.init():console.error(t.name+" 实体缺少 init 方法初始化默认组件"),r.eid2Entity.set(e.eid,e),e},t.query=function(t){var n=r.groups.get(t.mid);return n||(n=r.createGroup(t),r.eid2Entity.forEach(n.onComponentAddOrRemove,n)),n.matchEntities},t.clear=function(){r.eid2Entity.forEach((function(t){t.destroy()})),r.groups.forEach((function(t){t.clear()})),r.compAddOrRemove.forEach((function(t){t.length=0})),r.eid2Entity.clear(),r.groups.clear()},t.getEntityByEid=function(t){return r.eid2Entity.get(t)},t.activeEntityCount=function(){return r.eid2Entity.size},t.allOf=function(){var t;return(t=new o).allOf.apply(t,arguments)},t.anyOf=function(){var t;return(t=new o).anyOf.apply(t,arguments)},t.onlyOf=function(){var t;return(t=new o).onlyOf.apply(t,arguments)},t.excludeOf=function(){var t;return(t=new o).excludeOf.apply(t,arguments)},t.getSingleton=function(t){if(!r.tid2comp.has(t.tid)){var n=d(t);r.tid2comp.set(t.tid,n)}return r.tid2comp.get(t.tid)},t.addSingleton=function(t){var n=t.constructor.tid;r.tid2comp.has(n)||r.tid2comp.set(n,t)}}(d||(d=t("ecs",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ECSComp.ts",["cc"],(function(c){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"3d017ZhAZRH4bPfpLr5++8F","ECSComp",void 0);var e=c("ECSComp",(function(){this.canRecycle=!0}));e.tid=-1,e.compName=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/ECSEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.ECSMask},function(t){o=t.ECSModel}],execute:function(){function s(t,i){for(var e=o.compAddOrRemove.get(i),n=e.length-1;n>=0;n--)e[n](t);o.tid2comp.has(i)&&o.tid2comp.delete(i)}e._RF.push({},"1fb62WC3PZPvLhjoZQfrREJ","ECSEntity",void 0);t("ECSEntity",function(){function t(){this.eid=-1,this.name="",this.mask=new n,this.compTid2Ctor=new Map,this.compTid2Obj=new Map,this._parent=null,this._children=null}var e=t.prototype;return e.addChild=function(t){t._parent=this,this.children.set(t.eid,t)},e.removeChild=function(t){null!=this.children&&(this.children.delete(t.eid),0==this.children.size&&(this._children=null))},e.add=function(t,i){if(void 0===i&&(i=!1),"function"==typeof t){var e,n=t.tid;if(-1===t.tid)throw Error("组件未注册！");if(this.compTid2Ctor.has(n)){if(!i)return console.log("已经存在组件："+t.compName),this[t.compName];this.remove(t)}return this.mask.set(n),this.compTid2Obj.has(n)?(e=this.compTid2Obj.get(n),this.compTid2Obj.delete(n)):e=function(t){var i=o.compCtors[t.tid];if(!i)throw Error("没有找到该组件的构造函数，检查"+t.compName+"是否为不可构造的组件");return o.compPools.get(t.tid).pop()||new i}(t),this[t.compName]=e,this.compTid2Ctor.set(n,t),e.ent=this,s(this,n),e}var r=t.constructor,h=r.tid;if(-1===h||null==h)throw Error("组件未注册");if(this.compTid2Ctor.has(h))throw Error("已经存在该组件");return this.mask.set(h),this[r.compName]=t,this.compTid2Ctor.set(h,r),t.ent=this,t.canRecycle=!1,s(this,h),this},e.addComponents=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];for(var n=0,o=i;n<o.length;n++){var s=o[n];this.add(s)}return this},e.get=function(t){return this[t.compName]},e.has=function(t){return"number"==typeof t?this.mask.has(t):this.compTid2Ctor.has(t.tid)},e.remove=function(t,i){void 0===i&&(i=!0);var e=!1,n=t.tid,r=t.compName;if(this.mask.has(n)){e=!0;var h=this[t.compName];h.ent=null,i?(h.reset(),h.canRecycle&&o.compPools.get(n).push(h)):this.compTid2Obj.set(n,h)}e&&(this[r]=null,this.mask.delete(n),this.compTid2Ctor.delete(n),s(this,n))},e._remove=function(t){this.remove(t,!1)},e.destroy=function(){this._children&&this._children.forEach((function(t){t.destroy()})),this.compTid2Ctor.forEach(this._remove,this),function(t){if(o.eid2Entity.has(t.eid)){var i=o.entityPool.get(t.name);null==i&&(i=[],o.entityPool.set(t.name,i)),i.push(t),o.eid2Entity.delete(t.eid)}else console.warn("试图销毁不存在的实体")}(this),this.compTid2Obj.clear()},i(t,[{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return null==this._children&&(this._children=new Map),this._children}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ECSGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"c21a23o9P5FNJamcMmoYWfs","ECSGroup",void 0);t("ECSGroup",function(){function t(t){this.matcher=void 0,this._matchEntities=new Map,this._entitiesCache=null,this.count=0,this._enteredEntities=null,this._removedEntities=null,this.matcher=t}var i=t.prototype;return i.onComponentAddOrRemove=function(t){this.matcher.isMatch(t)?(this._matchEntities.set(t.eid,t),this._entitiesCache=null,this.count++,this._enteredEntities&&(this._enteredEntities.set(t.eid,t),this._removedEntities.delete(t.eid))):this._matchEntities.has(t.eid)&&(this._matchEntities.delete(t.eid),this._entitiesCache=null,this.count--,this._enteredEntities&&(this._enteredEntities.delete(t.eid),this._removedEntities.set(t.eid,t)))},i.watchEntityEnterAndRemove=function(t,e){this._enteredEntities=t,this._removedEntities=e},i.clear=function(){var t,e;this._matchEntities.clear(),this._entitiesCache=null,this.count=0,null==(t=this._enteredEntities)||t.clear(),null==(e=this._removedEntities)||e.clear()},e(t,[{key:"matchEntities",get:function(){return null===this._entitiesCache&&(this._entitiesCache=Array.from(this._matchEntities.values())),this._entitiesCache}},{key:"entity",get:function(){return this.matchEntities[0]}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMask.ts",["cc","./ECSModel.ts"],(function(t){"use strict";var s,i;return{setters:[function(t){s=t.cclegacy},function(t){i=t.ECSModel}],execute:function(){s._RF.push({},"d18694PPbtGs5Ipgo/vaJBX","ECSMask",void 0);t("ECSMask",function(){function t(){this.mask=void 0,this.size=0;var t=Math.ceil(i.compTid/31);this.mask=new Uint32Array(t),this.size=t}var s=t.prototype;return s.set=function(t){this.mask[t/31>>>0]|=1<<t%31},s.delete=function(t){this.mask[t/31>>>0]&=~(1<<t%31)},s.has=function(t){return!!(this.mask[t/31>>>0]&1<<t%31)},s.or=function(t){for(var s=0;s<this.size;s++)if(this.mask[s]&t.mask[s])return!0;return!1},s.and=function(t){for(var s=0;s<this.size;s++)if((this.mask[s]&t.mask[s])!=this.mask[s])return!1;return!0},s.clear=function(){for(var t=0;t<this.size;t++)this.mask[t]=0},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){"use strict";var i,n,r,e,s,h,u;return{setters:[function(t){i=t.construct,n=t.createForOfIteratorHelperLoose,r=t.createClass,e=t.inheritsLoose},function(t){s=t.cclegacy},function(t){h=t.ECSMask},function(t){u=t.ECSModel}],execute:function(){s._RF.push({},"37e8arlqPlN7amZYyHFvBIp","ECSMatcher",void 0);var o=1,c=(t("ECSMatcher",function(){function t(){this.rules=[],this._indices=null,this.mid=-1,this._key=null,this.mid=o++}var e=t.prototype;return e.anyOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(a,n)),this.bindMatchMethod(),this},e.allOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(f,n)),this.bindMatchMethod(),this},e.onlyOf=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];this.rules.push(i(f,r));for(var s,h=[],o=n(u.compCtors);!(s=o()).done;){var c=s.value;r.indexOf(c)<0&&h.push(c)}return this.rules.push(i(l,h)),this.bindMatchMethod(),this},e.excludeOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(l,n)),this.bindMatchMethod(),this},e.bindMatchMethod=function(){1===this.rules.length?this.isMatch=this.isMatch1:2===this.rules.length?this.isMatch=this.isMatch2:this.isMatch=this.isMatchMore},e.isMatch1=function(t){return this.rules[0].isMatch(t)},e.isMatch2=function(t){return this.rules[0].isMatch(t)&&this.rules[1].isMatch(t)},e.isMatchMore=function(t){for(var i,r=n(this.rules);!(i=r()).done;){if(!i.value.isMatch(t))return!1}return!0},e.clone=function(){var i=new t;return i.mid=o++,this.rules.forEach((function(t){return i.rules.push(t)})),i},r(t,[{key:"key",get:function(){if(!this._key){for(var t="",i=0;i<this.rules.length;i++)t+=this.rules[i].getKey(),i<this.rules.length-1&&(t+=" && ");this._key=t}return this._key}},{key:"indices",get:function(){var t=this;return null===this._indices&&(this._indices=[],this.rules.forEach((function(i){Array.prototype.push.apply(t._indices,i.indices)}))),this._indices}}]),t}()),function(){function t(){this.indices=[],this.mask=new h;for(var t=-1,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];for(var e=n.length,s=0;s<e;s++){if(-1==(t="number"==typeof n[s]?n[s]:n[s].tid))throw Error("存在没有注册的组件！");this.mask.set(t),this.indices.indexOf(t)<0&&this.indices.push(t)}e>1&&this.indices.sort((function(t,i){return t-i}))}return t.prototype.toString=function(){return this.indices.join("-")},t}()),a=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.or(t.mask)},n.getKey=function(){return"anyOf:"+this.toString()},i}(c),f=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.and(t.mask)},n.getKey=function(){return"allOf:"+this.toString()},i}(c),l=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.getKey=function(){return"excludeOf:"+this.toString()},n.isMatch=function(t){return!this.mask.or(t.mask)},i}(c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSModel.ts",["cc","./ECSGroup.ts"],(function(e){"use strict";var o,t;return{setters:[function(e){o=e.cclegacy},function(e){t=e.ECSGroup}],execute:function(){o._RF.push({},"1d60egM6r9Gta4Op3VABSGM","ECSModel",void 0);var n=e("ECSModel",function(){function e(){}return e.createGroup=function(o){var n=e.groups.get(o.mid);if(!n){n=new t(o),e.groups.set(o.mid,n);for(var r=o.indices,p=0;p<r.length;p++)e.compAddOrRemove.get(r[p]).push(n.onComponentAddOrRemove.bind(n))}return n},e}());n.eid=1,n.entityCtors=new Map,n.entityPool=new Map,n.eid2Entity=new Map,n.compTid=0,n.compPools=new Map,n.compCtors=[],n.compAddOrRemove=new Map,n.tid2comp=new Map,n.groups=new Map,o._RF.pop()}}}));

System.register("chunks:///_virtual/ECSSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSModel.ts"],(function(t){"use strict";var e,i,s,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.ECSModel}],execute:function(){s._RF.push({},"9261fRWg2RBY5kxbFJsY1QC","ECSSystem",void 0);t("ECSComblockSystem",function(){function t(){this.group=void 0,this.dt=0,this.enteredEntities=null,this.removedEntities=null,this.hasEntityEnter=!1,this.hasEntityRemove=!1,this.hasUpdate=!1,this.tmpExecute=null;var t=Object.hasOwnProperty,e=Object.getPrototypeOf(this),i=t.call(e,"entityEnter"),s=t.call(e,"entityRemove"),o=t.call(e,"firstUpdate"),r=t.call(e,"update");this.hasEntityEnter=i,this.hasEntityRemove=s,this.hasUpdate=r,i||s?(this.enteredEntities=new Map,this.removedEntities=new Map,this.execute=this.execute1,this.group=n.createGroup(this.filter()),this.group.watchEntityEnterAndRemove(this.enteredEntities,this.removedEntities)):(this.execute=this.execute0,this.group=n.createGroup(this.filter())),o&&(this.tmpExecute=this.execute,this.execute=this.updateOnce)}var i=t.prototype;return i.init=function(){},i.onDestroy=function(){},i.hasEntity=function(){return this.group.count>0},i.updateOnce=function(t){if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){for(var i,s=this.enteredEntities.values(),n=e(s);!(i=n()).done;){var o=i.value;this.entityEnter(o)}this.enteredEntities.clear()}for(var r,h=e(this.group.matchEntities);!(r=h()).done;){var u=r.value;this.firstUpdate(u)}this.execute=this.tmpExecute,this.execute(t),this.tmpExecute=null}},i.execute0=function(t){if(0!==this.group.count&&(this.dt=t,this.hasUpdate))for(var i,s=e(this.group.matchEntities);!(i=s()).done;){var n=i.value;this.update(n)}},i.execute1=function(t){if(this.removedEntities.size>0){if(this.hasEntityRemove)for(var i,s=this.removedEntities.values(),n=e(s);!(i=n()).done;){var o=i.value;this.entityRemove(o)}this.removedEntities.clear()}if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){if(this.hasEntityEnter){s=this.enteredEntities.values();for(var r,h=e(s);!(r=h()).done;){var u=r.value;this.entityEnter(u)}}this.enteredEntities.clear()}if(this.hasUpdate)for(var c,a=e(this.group.matchEntities);!(c=a()).done;){var l=c.value;this.update(l)}}},t}()),t("ECSRootSystem",function(){function t(){this.executeSystemFlows=[],this.systemCnt=0}var e=t.prototype;return e.add=function(t){return t instanceof o?Array.prototype.push.apply(this.executeSystemFlows,t.comblockSystems):this.executeSystemFlows.push(t),this.systemCnt=this.executeSystemFlows.length,this},e.init=function(){this.executeSystemFlows.forEach((function(t){return t.init()}))},e.execute=function(t){for(var e=0;e<this.systemCnt;e++)this.executeSystemFlows[e].execute(t)},e.clear=function(){this.executeSystemFlows.forEach((function(t){return t.onDestroy()}))},t}());var o=t("ECSSystem",function(){function t(){this._comblockSystems=[]}return t.prototype.add=function(e){return e instanceof t?(Array.prototype.push.apply(this._comblockSystems,e._comblockSystems),e._comblockSystems.length=0):this._comblockSystems.push(e),this},i(t,[{key:"comblockSystems",get:function(){return this._comblockSystems}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Effect2DFollow3D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./MathUtil.ts"],(function(t){"use strict";var e,o,i,n,r,a,s,c,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.Vec3,l=t.Component},function(t){u=t.oops},function(t){p=t.MathUtil}],execute:function(){var f,d,h,m,y,w,b,v;r._RF.push({},"f04f92UNY1J34UPA0VrEIsH","Effect2DFollow3D",void 0);var D=a.ccclass,g=a.property;t("Effect2DFollow3D",(f=D("Effect2DFollow3D"),d=g({type:s}),h=g({type:s}),f((w=e((y=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"node3d",w,n(e)),i(e,"nodeUi",b,n(e)),i(e,"distance",v,n(e)),e.camera=null,e.pos=new c,e}o(e,t);var r=e.prototype;return r.setTarget=function(t){this.node3d=t},r.start=function(){var t=this.zoom();this.node.setScale(t,t,1)},r.lateUpdate=function(t){var e=this.zoom();e=p.lerp(this.node.scale.x,e,.1),this.node.setScale(e,e,1)},r.zoom=function(){this.camera.convertToUINode(this.node3d.worldPosition,u.gui.game,this.pos),this.nodeUi.setPosition(this.pos),c.transformMat4(this.pos,this.node3d.worldPosition,this.camera._camera.matView);var t=this.distance/Math.abs(this.pos.z);return Math.floor(100*t)/100},e}(l)).prototype,"node3d",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"nodeUi",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"distance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectDelayRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectSingleCase.ts"],(function(e){"use strict";var t,n,i,r,a,c,l,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,l=e.Component},function(e){o=e.EffectSingleCase}],execute:function(){var s,f,u;a._RF.push({},"01359fvxlFJZKx7BLUcTSWS","EffectDelayRelease",void 0);var p=c.ccclass,y=c.property;e("EffectDelayRelease",p("EffectDelayRelease")((u=t((f=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,i(t,"delay",u,r(t)),t}n(t,e);var a=t.prototype;return a.onEnable=function(){this.scheduleOnce(this.onDelay,this.delay)},a.onDelay=function(){o.instance.put(this.node)},t}(l)).prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=f))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/EffectEvent.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var c;t("EffectEvent",void 0),e._RF.push({},"445875CzyRKaLiSXTYH66lm","EffectEvent",void 0),function(t){t.Put="EffectEvent_Put"}(c||(c=t("EffectEvent",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectFinishedRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./EffectEvent.ts"],(function(e){"use strict";var t,n,i,o,a,r,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Animation,a=e.ParticleSystem,r=e.Component},function(e){s=e.oops},function(e){c=e.EffectEvent}],execute:function(){var u;n._RF.push({},"a751fmayL5JMYH0D4uJoK5H","EffectFinishedRelease",void 0);var f=i.ccclass;i.property,e("EffectFinishedRelease",f("EffectFinishedRelease")(u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).maxDuration=0,t}t(n,e);var i=n.prototype;return i.onEnable=function(){var e=this;this.node.getComponentsInChildren(o).forEach((function(t){var n,i=null==(n=t.defaultClip)?void 0:n.name;if(i){var o=t.getState(i);if(o){o.speed=1;var a=o.duration;e.maxDuration=a>e.maxDuration?a:e.maxDuration}}t.play()})),this.node.getComponentsInChildren(a).forEach((function(t){t.simulationSpeed=1,t.clear(),t.stop(),t.play();var n=t.duration;e.maxDuration=n>e.maxDuration?n:e.maxDuration})),this.scheduleOnce(this.onRecovery.bind(this),this.maxDuration)},i.onRecovery=function(){this.node.parent&&s.message.dispatchEvent(c.Put,this.node)},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectSingleCase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./EffectEvent.ts","./EffectFinishedRelease.ts"],(function(e){"use strict";var t,n,s,i,o,c,f,r,a,u;return{setters:[function(e){t=e.createClass,n=e.inheritsLoose},function(e){s=e.cclegacy,i=e.Prefab,o=e.NodePool,c=e.Component},function(e){f=e.oops},function(e){r=e.ViewUtil},function(e){a=e.EffectEvent},function(e){u=e.EffectFinishedRelease}],execute:function(){s._RF.push({},"bf338Z+oYxIUbd4bPREw9Ud","EffectSingleCase",void 0);var l=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).type=null,t}return n(t,e),t}(c);e("EffectSingleCase",function(){function e(){this.effects=new Map,f.message.on(a.Put,this.onHandler,this)}var n=e.prototype;return n.onHandler=function(e,t){e==a.Put&&this.put(t)},n.loadAndShow=function(e,t,n){var s=this;return new Promise((function(o,c){if(null==s.effects.get(e))f.res.load(e,i,(function(i,c){if(i)console.error("名为【"+e+"】的特效资源加载失败");else{var f=s.show(e,t,n);o(f)}}));else{var r=s.show(e,t,n);o(r)}}))},n.show=function(e,t,n){var s,i=this.effects.get(e);return null==i&&(i=new o,this.effects.set(e,i)),0==i.size()?((s=r.createPrefabNode(e)).addComponent(l).type=e,n&&n.isPlayFinishedRelease&&s.addComponent(u)):s=i.get(),n&&n.pos&&(s.position=n.pos),t&&(s.parent=t),s},n.put=function(e){var t=e.getComponent(l).type,n=this.effects.get(t);n&&n.put(e)},n.clear=function(e){e?this.effects.get(e).clear():(this.effects.forEach((function(e){e.clear()})),this.effects.clear())},t(e,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}())._instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/EliteLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts"],(function(e){"use strict";var t,n,l,i,o,r,s,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){l=e.cclegacy,i=e._decorator},function(e){o=e.GameEvent},function(e){r=e.smc},function(e){s=e.GameSys},function(e){c=e.TableGameConfig},function(e){u=e.GameSysKey}],execute:function(){var a;l._RF.push({},"c76d0nGGtVJmo2PrYs+xbLn","EliteLevel",void 0);var f=i.ccclass,v=(i.property,e("EliteLevel",f("EliteLevel")(a=function(e){function l(){for(var t,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=e.call.apply(e,[this].concat(l))||this).redotWatchGameEvents=[o.EliteLevelRed],t}t(l,e);var i=l.prototype;return i.calRedot=function(){return 0!=r.fuben.eliteLevel&&this.sweepRed},i.getQuickInfo=function(){return{descStr:"第"+(r.fuben.eliteLevel-c.init_elitelevels+1)+"层"}},n(l,[{key:"sweepRed",get:function(){var e=r.fuben.reDayInfo.elitesweepcount;return c.elite_sweep_count>e||0==e}}]),l}(s))||a));e("eliteLevel",new v(u.elitelevels));l._RF.pop()}}}));

System.register("chunks:///_virtual/Email.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts"],(function(t){"use strict";var i,e,n,a,s,l,E;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.GameEvent},function(t){s=t.smc},function(t){l=t.GameSys},function(t){E=t.GameSysKey}],execute:function(){var o,r;t({EmailStateType:void 0,EmaillRevType:void 0}),n._RF.push({},"9a231zjNylDW6SCoTfdEzhY","Email",void 0),function(t){t[t.UNREAD=0]="UNREAD",t[t.READ=1]="READ",t[t.RECEIVED=2]="RECEIVED",t[t.Deleted=3]="Deleted"}(o||(o=t("EmailStateType",{}))),function(t){t.SINGLE="SINGLE",t.ALL="ALL"}(r||(r=t("EmaillRevType",{})));var m=t("Email",function(t){function n(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).EmailList=void 0,i.redotWatchGameEvents=[a.EmailRed],i}i(n,t);var l=n.prototype;return l.saveEmailList=function(t){this.EmailList=t.emails},l.setEmailRedotInfo=function(t,i){if(i==r.SINGLE)for(var e in this.EmailList)t.id==this.EmailList[e].id&&(this.EmailList[e].state=o.RECEIVED);else for(var n in this.EmailList)this.EmailList[n].state=o.RECEIVED},l.calRedot=function(){return s.system.getRedot(E.email)},e(n,[{key:"isHaveUnreceivedEmails",get:function(){return!!this.EmailList&&null!=this.EmailList.find((function(t){return t.state<o.RECEIVED}))}}]),n}(l));t("email",new m(E.email));n._RF.pop()}}}));

System.register("chunks:///_virtual/EmailInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./Email.ts"],(function(t){"use strict";var e,n,i,r,o,a,l,s,c,u,p,m,f,b,h,d,g,v,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,c=t.Label,u=t.Node,p=t.Component},function(t){m=t.oops},function(t){f=t.GameEvent},function(t){b=t.ItemsGroup},function(t){h=t.tips},function(t){d=t.httpChannel},function(t){g=t.MsgID},function(t){v=t.smc},function(t){y=t.EmaillRevType}],execute:function(){var E,C,I,w,N,R,T,k,z,G,L;l._RF.push({},"a3fca5J/LNC168idmxH1wRq","EmailInfo",void 0);var x=s.ccclass,M=s.property;t("EmailInfo",(E=x("EmailInfo"),C=M(c),I=M(c),w=M(u),N=M(c),E((k=e((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"lblTitle",k,r(e)),i(e,"lblContent",z,r(e)),i(e,"itemsNode",G,r(e)),i(e,"lblbtn",L,r(e)),e.params=null,e}n(e,t);var l=e.prototype;return l.onAdded=function(t){this.params=t},l.start=function(){this.initItem()},l.initItem=function(){this.lblTitle.string=this.params.title,this.lblContent.string=this.params.content,this.itemsNode.addComponent(b).initEmailAttachments(this.params.items)},l.onClickReceive=function(){var t=o(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:Number(this.params.id)},t.next=3,d.reqAsync(g.EmailReceive,e);case 3:if(null!=(n=t.sent)&&n.ok){t.next=6;break}return t.abrupt("return");case 6:v.account.doResChange(n),m.gui.toast(n.msg),h.reward(n),this.lblbtn.string="已领取",v.email.setEmailRedotInfo(e,y.SINGLE),m.message.dispatchEvent(f.EmailList);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onClickClose=function(){m.gui.removeByNode(this.node,!0)},e}(p)).prototype,"lblTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(T.prototype,"lblContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(T.prototype,"itemsNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(T.prototype,"lblbtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=T))||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/EmailItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Email.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,i,l,n,r,o,a,s,c,u,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Label,s=e.Node,c=e.Component},function(e){u=e.oops},function(e){p=e.EmailStateType},function(e){b=e.UIID}],execute:function(){var f,m,E,y,g,h,I,d,v,R,T,D,w;r._RF.push({},"4fd12YFPfxCuajuyiaMFjUm","EmailItem",void 0);var z=o.ccclass,C=o.property;e("EmailItem",(f=z("EmailItem"),m=C(a),E=C(a),y=C(s),g=C(s),h=C(s),f((v=t((d=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l(t,"lblTitle",v,n(t)),l(t,"lblTime",R,n(t)),l(t,"lblGet",T,n(t)),l(t,"lblReceived",D,n(t)),l(t,"spRedot",w,n(t)),t.info=null,t}i(t,e);var r=t.prototype;return r.start=function(){},r.initItem=function(e){this.info=e,this.lblTitle.string=e.title,this.lblTime.string=u.timer.getTimeBefore(new Date(e.time)),this.lblGet.active=e.state<p.RECEIVED,this.lblReceived.active=e.state>=p.RECEIVED,this.spRedot.active=e.state<p.RECEIVED},r.onClickEmailInfo=function(e){u.gui.open(b.EmailInfo,this.info)},t}(c)).prototype,"lblTitle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(d.prototype,"lblTime",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(d.prototype,"lblGet",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(d.prototype,"lblReceived",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(d.prototype,"spRedot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=d))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/EmailMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./Email.ts","./EmailItem.ts"],(function(e){"use strict";var t,n,i,a,r,s,o,l,c,u,m,f,p,h,v,d,g,E,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,l=e._decorator,c=e.Node,u=e.Component},function(e){m=e.oops},function(e){f=e.ViewUtil},function(e){p=e.GameEvent},function(e){h=e.tips},function(e){v=e.httpChannel},function(e){d=e.MsgID},function(e){g=e.smc},function(e){E=e.GameSysKey},function(e){y=e.EmaillRevType},function(e){w=e.EmailItem}],execute:function(){var b,k,D,C,I;o._RF.push({},"5607cVeJaBGrqqOTc0GCHw2","EmailMain",void 0);var L=l.ccclass,x=l.property;e("EmailMain",(b=L("EmailMain"),k=x(c),b((I=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nodeEmailList",I,a(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.getUIData(),m.message.on(p.EmailList,this._eventHandler,this)},o.onDestroy=function(){m.message.off(p.EmailList,this._eventHandler,this)},o.getUIData=function(){var e=r(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,v.reqAsync(d.EmailUIData,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:g.email.saveEmailList(n),this.initView(n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.initView=function(e){var t=this;e.emails&&(this.nodeEmailList.removeAllChildren(),Object.values(e.emails).forEach((function(e){f.loadPrefabNode("gui/email/email_item",(function(n){n.parent=t.nodeEmailList,n.getComponent(w).initItem(e)}))})))},o.onClickReiveAll=function(){var e=r(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,v.reqAsync(d.EmailReceivaAll,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:g.account.doResChange(n),m.gui.toast(n.msg),h.reward(n),this.getUIData(),g.email.setEmailRedotInfo(n,y.ALL);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onClickDeleteAll=function(){var e=r(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,v.reqAsync(d.EmailDeleteAll,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:m.gui.toast(n.msg),this.getUIData();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._eventHandler=function(e,t){e==p.EmailList&&this.getUIData()},o.onClickClose=function(){g.system.setRedot(E.email,g.email.isHaveUnreceivedEmails),m.message.dispatchEvent(p.EmailRed),m.gui.removeByNode(this.node,!0)},t}(u)).prototype,"nodeEmailList",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=C))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc","./index.js"],(function(t){"use strict";var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"46d12Bx4JdKnIYHhcvNk6S1","EncryptUtil",void 0);var i=t("EncryptUtil",function(){function t(){}return t.md5=function(t){return r.MD5(t).toString()},t.initCrypto=function(t,n){this.key=t,this.iv=r.enc.Hex.parse(n)},t.aesEncrypt=function(t,n,i){return r.AES.encrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString()},t.aesDecrypt=function(t,n,i){return r.AES.decrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString(r.enc.Utf8)},t}());i.key=null,i.iv=null,i.JsonFormatter={stringify:function(t){var n={ct:t.ciphertext.toString(r.enc.Base64)};return t.iv&&(n.iv=t.iv.toString()),t.salt&&(n.s=t.salt.toString()),JSON.stringify(n)},parse:function(t){var n=JSON.parse(t),i=r.lib.CipherParams.create({ciphertext:r.enc.Base64.parse(n.ct)});return n.iv&&(i.iv=r.enc.Hex.parse(n.iv)),n.s&&(i.salt=r.enc.Hex.parse(n.s)),i}},n._RF.pop()}}}));

System.register("chunks:///_virtual/Equip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./System.ts","./TableGameEquip.ts","./TableGameEquipPos.ts","./TableGameHero.ts","./TableGameSys.ts","./TableUtil.ts"],(function(e){"use strict";var t,n,a,r,o,u,i,c,s,p,d,f,l,g,E,h,v,m,q,y,P;return{setters:[function(e){t=e.inheritsLoose,n=e.extends,a=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy},function(e){i=e.oops},function(e){c=e.EItemType},function(e){s=e.GameEvent},function(e){p=e.AudioClipEffect},function(e){d=e.UIID},function(e){f=e.httpChannel},function(e){l=e.MsgID},function(e){g=e.smc},function(e){E=e.DockBtnAdapter,h=e.GameSys},function(e){v=e.TableGameEquip},function(e){m=e.TableGameEquipPos},function(e){q=e.TableGameHero},function(e){y=e.GameSysKey},function(e){P=e.TableUtil}],execute:function(){u._RF.push({},"7fb36Wi+WFP7ITe3Icgl6Mn","Equip",void 0);var C=e("Equip",function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var u=a.prototype;return u.reqSellEquip=function(){var e=r(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={eid:t},e.next=3,f.reqAsync(l.EquipSell,n);case 3:return(null==(a=e.sent)?void 0:a.ok)&&g.account.doResChange(a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u.reqSetupEquip=function(){var e=r(o().mark((function e(t,n,a,r){var u,c,d,E,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={hid:t,pos:n,eid:a,setUp:r},e.next=3,f.reqAsync(l.EquipSetup,u);case 3:if(c=e.sent,i.gui.toast(null==c?void 0:c.msg),null!=c&&c.ok){e.next=7;break}return e.abrupt("return");case 7:return d=g.accdata.getEquipByPos(t,n),r?(i.audio.playEffect(p.RoleEquipChange),d&&g.accdata.addEquipsInBag(((E={})[d.eid]=d,E)),g.accdata.removeEquipInBag(a)):g.accdata.addEquipsInBag(((h={})[d.eid]=d,h)),g.accdata.setRoleInfo(c.hero),i.message.dispatchEvent(s.EquipBagUpdated),i.message.dispatchEvent(s.EquipPosUpdated),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),u.showCompare=function(e,t){var a=g.accdata.getEquipInfoInBag(t);if(!a)return!1;var r=P.get(v,a.id).pos,o=g.accdata.getEquipByPos(e,r),u={newEquip:n({},a,{pos:r,eid:t}),oldEquip:o,fromBag:!0,roleId:e};return o?i.gui.openAsync(d.TipEBoxComp2,u):i.gui.openAsync(d.TipEBoxComp1,u),!0},a}(E)),U=(e("equip",new C(y.equip)),e("EquipPosRedot",function(e){function n(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).redotWatchGameEvents=[s.ItemBagUpdated],t}t(n,e);var r=n.prototype;return r.calRedot=function(){var e=this;return g.accdata.roles.some((function(t){return e.checkUpgrade(t)}))},r.checkUpgrade=function(e,t){var a=this;return void 0===t&&(t=!1),n.POSES.some((function(n){return a.isPosCanUpgrade(e,n,t)}))},r.getCanUpgradePoses=function(e){var t=this;return n.POSES.reduce((function(n,a){return t.isPosCanUpgrade(e,a)&&n.push(a),n}),[])},r.isPosCanUpgrade=function(e,t,a){var r=this;if(void 0===a&&(a=!1),!t)return n.POSES.some((function(t){return r.isPosCanUpgrade(e,t,a)}));var o=g.accdata.getEquipPosLevel(e,t);if(o>=n.MAX_LEVEL)return a&&i.gui.toast("装备位已满级"),!1;var u=P.getEquipPosUpgradeCost(t,o+1);return u&&g.bag.checkCost(u,a)},r.checkUpgradeConsume=function(e,t){var a=this;if(!t)return n.POSES.some((function(t){return a.checkUpgradeConsume(e,t)}));var r=g.accdata.getEquipPosLevel(e,t);if(r>=n.MAX_LEVEL)return!0;var o=P.getEquipPosUpgradeCost(t,r+1);return o&&g.bag.checkCostByType(o,c.NORMAL)},a(n,null,[{key:"MAX_LEVEL",get:function(){return P.getEquipPosMaxLevel()}}]),n}(h)));U.POSES=Object.keys(m).map(Number),new U(y.equip_pos),new(e("EquipHeroRedot",function(e){function n(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).redotWatchGameEvents=[s.ItemBagUpdated],t}t(n,e);var a=n.prototype;return a.calRedot=function(){var e=this;return null!=g.accdata.roles.find((function(t){return t!=g.accdata.heroId&&e.checkUpgrade(t)}))},a.checkUpgrade=function(e,t){if(void 0===t&&(t=!1),!e)return!1;var n=P.get(q,e);return n.lv>=g.accdata.heroLevel?(t&&i.gui.toast("伙伴等级不能高于主角等级"),!1):n.nextid?g.bag.checkCost(n.costitem,t):(t&&i.gui.toast("已达顶级"),!1)},n}(h)))(y.equip_hero),u._RF.pop()}}}));

System.register("chunks:///_virtual/EquipAttrView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AttrItem.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,p,u,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,p=t.instantiate,u=t.Component},function(t){c=t.oops},function(t){l=t.AttrItem}],execute:function(){var d,f,h,m,v,y,C;o._RF.push({},"48052cwOaxKTL+xW3hGDr9K","EquipAttrView",void 0);var A=a.ccclass,_=a.property;t("EquipAttrView",(d=A("EquipAttrView"),f=_(s),h=_(s),d((y=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"nodeContent",y,r(e)),i(e,"attrItem",C,r(e)),e._params=void 0,e}n(e,t);var o=e.prototype;return o.onAdded=function(t){this._params=t},o.start=function(){this.updataContext()},o.updataContext=function(){if(this._params)for(var t in this.nodeContent.removeAllChildren(),this._params){var e=p(this.attrItem);e.parent=this.nodeContent,e.getComponent(l).init([t,this._params[t]],!0)}},o.onClickBack=function(){c.gui.removeByNode(this.node,!0)},e}(u)).prototype,"nodeContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(v.prototype,"attrItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/EquipBag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./Util.ts","./EquipItem.ts"],(function(t){"use strict";var e,n,i,o,a,r,u,s,l,c,p,f,h,g,d,m,b,C,v,q,E,y,I,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,c=t.Label,p=t.Node,f=t.Button,h=t.Component},function(t){g=t.oops},function(t){d=t.ViewUtil},function(t){m=t.GameEvent},function(t){b=t.AudioClipEffect},function(t){C=t.UIID},function(t){v=t.httpChannel},function(t){q=t.MsgID},function(t){E=t.smc},function(t){y=t.TableGameConfig},function(t){I=t.Util},function(t){U=t.EquipItem}],execute:function(){var _,B,D,R,S,w,k,G,z;s._RF.push({},"025eaUeumZAS4DD4zktIvIo","EquipBag",void 0);var P=l.ccclass,A=l.property;t("EquipBag",(_=P("EquipBag"),B=A(c),D=A(p),R=A(f),_((k=e((w=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"lblCount",k,o(e)),i(e,"nodeContent",G,o(e)),i(e,"btnSell",z,o(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.refresh(),g.message.on(m.EquipBagUpdated,this._eventHandler,this)},s.onDestroy=function(){g.message.off(m.EquipBagUpdated,this._eventHandler,this)},s.refresh=function(){var t=r(u().mark((function t(){var e,n,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=E.accountData.getEquipsInBag(),n=e.length-this.nodeContent.children.length,i=0;i<n;i++)d.createPrefabNode("common/prefab/equip_item").parent=this.nodeContent;this.equipItems.forEach((function(t,n){n<e.length?(t.node.active=!0,t.initByEquipUid(e[n])):t.node.active=!1})),this.lblCount.string="装备仓库（"+e.length+" / "+y.equip_bag_max+"）",I.setRedot(this.btnSell,e.length>=y.equip_bag_max);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onSellClick=function(){g.gui.open(C.EquipSell)},s.onAutoClick=function(){var t={hid:E.account.sltRole};v.req(q.EquipSetupAuto,t,(function(t){var e=t.data;g.gui.toast(e.msg),e.ok&&(E.account.doResChange(e),E.accountData.setRoleInfo(e.hero),g.message.dispatchEvent(m.EquipPosUpdated),g.audio.playEffect(b.RoleEquipChange))}))},s._eventHandler=function(t,e){this.node.active&&t==m.EquipBagUpdated&&this.refresh()},a(e,[{key:"equipItems",get:function(){return this.nodeContent.getComponentsInChildren(U)}}]),e}(h)).prototype,"lblCount",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(w.prototype,"nodeContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(w.prototype,"btnSell",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=w))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/EquipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameEquip.ts","./TableUtil.ts","./RoleLoader.ts"],(function(i){"use strict";var t,e,n,o,r,a,l,s,u,c,p,f,m,h,g,d,b,w,_,y,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,r=i.asyncToGenerator,a=i.regeneratorRuntime},function(i){l=i.cclegacy,s=i._decorator,u=i.Sprite,c=i.Label,p=i.dragonBones,f=i.Component,m=i.Node},function(i){h=i.oops},function(i){g=i.ViewUtil},function(i){d=i.GameResPath},function(i){b=i.UIID},function(i){w=i.smc},function(i){_=i.TableGameEquip},function(i){y=i.TableUtil},function(i){v=i.RoleLoader}],execute:function(){var q,G,I,E,B,D,L,T,k,z,C,R,x;l._RF.push({},"09f3cx0Z/BA2Kvzh5vVmBOk","EquipItem",void 0);var F=s.ccclass,S=s.property;i("EquipItem",(q=F("EquipItem"),G=S(u),I=S(u),E=S(c),B=S(c),D=S(p.ArmatureDisplay),q((k=t((T=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,n(t,"spBG",k,o(t)),n(t,"spIcon",z,o(t)),n(t,"lblLv",C,o(t)),n(t,"lblDebug",R,o(t)),n(t,"animGlow",x,o(t)),t._uid=null,t._info=null,t._cfg=new _,t}e(t,i);var l=t.prototype;return l.onLoad=function(){this.lblDebug.string="",this.spIcon.spriteFrame=null},l.initByEquipId=function(i){this._cfg.init(i)},l.initByEquipUid=function(i){if(this._uid!=i){this._uid=i;var t=w.accdata.getEquipInfoInBag(i);this.initByEquipInfo(t)}},l.initByEquipInfo=function(i){this._info=i,this._cfg.init(i.id);var t=y.getEquipQualityBG(i.qid),e=d.getSpriteFrameCommon(t);g.loadSpriteFrame(this.spBG,e);var n=d.getEquipSpriteFrame(this._cfg);return g.loadSpriteFrame(this.spIcon,n),this.lblLv.string="Lv."+this._cfg.level,this},l.setGlow=function(){var i=r(a().mark((function i(t){var e;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._info){i.next=2;break}return i.abrupt("return");case 2:if(this.animGlow){i.next=9;break}return this.animGlow=new m("glow").addComponent(p.ArmatureDisplay),this.animGlow.node.layer=this.node.layer,this.animGlow.node.parent=this.node,e={skeleton:"common/anim/equip/icon_glow_ske",atlas:"common/anim/equip/icon_glow_tex",armatureName:"iconglow",defaultAnimation:"newAnimation"},i.next=9,v.loadDragonBone(this.animGlow,e);case 9:this.animGlow.color=y.getEquipQualityColor(this._info.qid),this.animGlow.node.active=t;case 11:case"end":return i.stop()}}),i,this)})));return function(t){return i.apply(this,arguments)}}(),l.clear=function(){this.lblDebug.string=""},l.onClick=function(){if(this._uid){var i=w.account.sltRole||w.accdata.heroId;w.equip.showCompare(i,this._uid)}else this.showTips()},l.showTips=function(){var i={uid:this._uid,pos:this._cfg.pos,cfg:this._cfg,info:this._info};h.gui.open(b.TipEquip,i)},t}(f)).prototype,"spBG",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(T.prototype,"spIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(T.prototype,"lblLv",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(T.prototype,"lblDebug",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(T.prototype,"animGlow",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=T))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/EquipMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./RoleUI.ts","./SingletonModuleComp.ts","./TableUtil.ts","./EquipPos.ts","./EquipRoleAttrView.ts","./RoleInfoPanel.ts"],(function(e){"use strict";var t,o,n,i,r,a,l,s,c,u,p,f,d,h,g,v,R,m,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,c=e.Component},function(e){u=e.oops},function(e){p=e.GameEvent},function(e){f=e.UIID},function(e){d=e.RoleUILoader},function(e){h=e.smc},function(e){g=e.BasicAttrKeys,v=e.SpecAttrKeys},function(e){R=e.EquipPos},function(e){m=e.EquipRoleAttrView},function(e){E=e.RoleInfoPanel}],execute:function(){var b,I,P,A,y,C,q,U,w,H,_,L,D;a._RF.push({},"68ce0D5nAZLabmufO0SE0tG","EquipMain",void 0);var S=l.ccclass,x=l.property;e("EquipMain",(b=S("EquipMain"),I=x(d),P=x(s),A=x(E),y=x(s),C=x(s),b((w=t((U=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"roleLoader",w,i(t)),n(t,"nodePoses",H,i(t)),n(t,"roleInfoPanel",_,i(t)),n(t,"roleAttrCont",L,i(t)),n(t,"roleAttrContS",D,i(t)),t}o(t,e);var a=t.prototype;return a.onLoad=function(){this.node.setSiblingIndex(1)},a.start=function(){u.message.on(p.EquipPosUpdated,this._eventHandler,this),u.message.on(p.RoleUpdated,this._eventHandler,this),u.message.on(p.HeroExpUpdated,this._eventHandler,this)},a.onDestroy=function(){u.message.off(p.EquipPosUpdated,this._eventHandler,this),u.message.off(p.RoleUpdated,this._eventHandler,this),u.message.off(p.HeroExpUpdated,this._eventHandler,this)},a.refresh=function(){var e=h.account.sltRole;this.roleLoader.init(h.accdata.getRole(e)),this.roleLoader.initHalo(h.halo.haloId),this.roleInfoPanel.init(e),this.equipPoses.forEach((function(t,o){var n=o+1;t.init(e,n)}))},a.onRoleTabClick=function(e,t){h.account.sltRole=t.roleId,this.refresh(),this.showPartRoleAttr()},a.showPartRoleAttr=function(){var e=h.accountData.getRole(h.account.sltRole),t=[].concat(g),o=[].concat(v),n={};t.forEach((function(e,t){n[e]=0}));var i={};o.forEach((function(e,t){i[e]=0}));var r=e.tAttr;for(var a in r)t.includes(parseInt(a))&&(n[a]=r[a]),o.includes(parseInt(a))&&(i[a]=r[a]);this.roleAttrCont.getComponent(m).updataContext(n),this.roleAttrContS.getComponent(m).updataContext(i)},a.showRoleAttr=function(){var e=h.accountData.getRole(h.account.sltRole);u.gui.open(f.EquipAttrView,e.tAttr)},a._eventHandler=function(e,t){if(void 0===t&&(t=null),e==p.EquipPosUpdated)this.refresh();else if(e==p.RoleUpdated){var o=t;o.oldId==h.account.sltRole&&(h.account.sltRole=o.newId,this.refresh())}else e==p.HeroExpUpdated&&this.roleInfoPanel.init(h.account.sltRole)},r(t,[{key:"equipPoses",get:function(){return this.nodePoses.getComponentsInChildren(R)}}]),t}(c)).prototype,"roleLoader",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(U.prototype,"nodePoses",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(U.prototype,"roleInfoPanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(U.prototype,"roleAttrCont",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(U.prototype,"roleAttrContS",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=U))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/EquipPos.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameEquip.ts","./TableGameEquipPos.ts","./TableUtil.ts","./EquipItem.ts"],(function(t){"use strict";var e,i,n,s,o,a,r,u,l,p,c,h,f,m,d,b,q,_,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Sprite,u=t.Label,l=t.Button,p=t.Component},function(t){c=t.oops},function(t){h=t.ViewUtil},function(t){f=t.GameEvent},function(t){m=t.GameResPath},function(t){d=t.UIID},function(t){b=t.smc},function(t){q=t.TableGameEquip},function(t){_=t.TableGameEquipPos},function(t){g=t.TableUtil},function(t){v=t.EquipItem}],execute:function(){var P,E,y,I,G,U,B,T,w,L,z;o._RF.push({},"a8ede1hGhZHob4Wkp4H7lAe","EquipPos",void 0);var H=a.ccclass,S=a.property;t("EquipPos",(P=H("EquipPos"),E=S(v),y=S(r),I=S(u),G=S(u),P((T=e((B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"equipItem",T,s(e)),n(e,"spPosBG",w,s(e)),n(e,"lblPosName",L,s(e)),n(e,"lblLvl",z,s(e)),e._rid=null,e._pos=null,e._accdata=null,e}i(e,t);var o=e.prototype;return o.start=function(){this.equipItem&&(this.equipItem.getComponent(l).interactable=!1),c.message.on(f.EquipPosUpdated,this._eventHandler,this)},o.onDestroy=function(){c.message.off(f.EquipPosUpdated,this._eventHandler,this)},o.init=function(t,e,i){this._rid=t,this._pos=e;var n=_[this._pos];this.lblPosName.string=n.name;var s=m.getSpriteFrameEquip(n.bg);h.loadSpriteFrame(this.spPosBG,s),this._accdata=i||b.accdata,this.refresh()},o.refresh=function(){if(this.lblLvl.string=this._accdata.getEquipPosLevel(this._rid,this._pos).toString(),this.equipItem){var t=this._accdata.getEquipByPos(this._rid,this._pos);t?(this.equipItem.node.active=!0,this.equipItem.initByEquipInfo(t)):(this.equipItem.node.active=!1,this.equipItem.clear())}},o.onClick=function(){var t=this._accdata.getEquipByPos(this._rid,this._pos);if(t){var e={uid:this._accdata==b.accdata?t.eid:null,pos:this._pos,equiped:!0,cfg:g.get(q,t.id),info:t};c.gui.open(d.TipEquip,e)}},o._eventHandler=function(t){t==f.EquipPosUpdated&&this.refresh()},e}(p)).prototype,"equipItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(B.prototype,"spPosBG",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(B.prototype,"lblPosName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(B.prototype,"lblLvl",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=B))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/EquipPosUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameResPath.ts","./CostItem.ts","./HeadPicker.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./TableUtil.ts","./Util.ts","./AttrItem.ts","./EquipPos.ts"],(function(t){"use strict";var e,n,o,i,s,r,a,c,l,p,u,h,d,f,g,C,v,U,b,m,P,y,E,q,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,l=t.Button,p=t.Sprite,u=t.Label,h=t.Component},function(t){d=t.oops},function(t){f=t.GameEvent},function(t){g=t.AudioClipEffect},function(t){C=t.CostItem},function(t){v=t.HeadPicker},function(t){U=t.httpChannel},function(t){b=t.MsgID},function(t){m=t.smc},function(t){P=t.GameSysKey},function(t){y=t.TableUtil},function(t){E=t.Util},function(t){q=t.AttrItem},function(t){k=t.EquipPos}],execute:function(){var I,R,A,_,L,D,T,z,G,w,S,B,M;r._RF.push({},"eb974vVf0xFO49Ty3ODR6L5","EquipPosUpgrade",void 0);var O=a.ccclass,x=a.property;t("EquipPosUpgrade",(I=O("EquipPosUpgrade"),R=x(c),A=x(c),_=x(c),L=x(l),D=x(l),I((G=e((z=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"nodePoses",G,i(e)),o(e,"nodeAttrs",w,i(e)),o(e,"nodeCosts",S,i(e)),o(e,"btnUp",B,i(e)),o(e,"btnUpAll",M,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){var t=this.service.getCanUpgradePoses(m.account.sltRole);m.account.sltEquipPos=t.length>0?t[0]:1,this.btnUp.node.on(l.EventType.CLICK,this.onUpClick,this),this.btnUpAll.node.on(l.EventType.CLICK,this.onAllUpClick,this)},r.refresh=function(){var t=m.account.sltEquipPos,e=m.accountData.getEquipPosLevel(m.account.sltRole,t);if(e>=y.getEquipPosMaxLevel())this.nodeAttrs.active=!1,this.nodeCosts.active=!1,this.btnUp.interactable=!1,this.btnUp.getComponent(p).grayscale=!0,this.btnUp.getComponentInChildren(u).string="已满级";else{this.nodeAttrs.active=!0,this.nodeCosts.active=!0,this.btnUp.interactable=!0,this.btnUp.getComponent(p).grayscale=!1,this.btnUp.getComponentInChildren(u).string="强化";var n=y.getEquipPosAttr(t,e+1),o=y.getEquipPosUpgradeCost(t,e+1),i=n?Array.from(Object.entries(n)):[],s=o?Array.from(Object.entries(o)):[];this.attrItems.forEach((function(t,e){e<i.length?(t.node.active=!0,t.init(i[e])):t.node.active=!1})),this.costItems.forEach((function(t,e){e<s.length?(t.node.active=!0,t.init.apply(t,s[e])):t.node.active=!1}))}this.refreshRedot()},r.refreshRedot=function(){var t=this;this.getComponentInChildren(v).toggles.forEach((function(e,n){var o=m.accdata.roles[n];o&&E.setRedot(e,t.service.checkUpgrade(o,!1))})),this.equipPoses.forEach((function(e,n){E.setRedot(e,t.service.isPosCanUpgrade(m.account.sltRole,e._pos))})),E.setRedot(this.btnUp,this.service.isPosCanUpgrade(m.account.sltRole,m.account.sltEquipPos))},r.onPosClick=function(t,e){var n=t.node.getSiblingIndex();m.account.sltEquipPos=n+1,this.refresh()},r.onRoleTabClick=function(t,e){m.account.sltRole=e.roleId,this.equipPoses.forEach((function(t,e){t.init(m.account.sltRole,e+1)})),this.refresh()},r.onUpClick=function(t){E.Btn_doCD(t);var e={hid:m.account.sltRole,pos:m.account.sltEquipPos};!this.service.checkUpgradeConsume(e.hid,e.pos)&&m.giftpack_lt.checkGiftLimit(P.equip_pos)||this.service.isPosCanUpgrade(e.hid,e.pos,!0)&&this.reqUpgrade(b.EquipPosUp,e)},r.onAllUpClick=function(t){E.Btn_doCD(t);var e={hid:m.account.sltRole};!this.service.checkUpgradeConsume(e.hid)&&m.giftpack_lt.checkGiftLimit(P.equip_pos)||this.service.isPosCanUpgrade(e.hid,null,!0)&&this.reqUpgrade(b.EquipPosUpAll,e)},r.reqUpgrade=function(t,e){var n=this;U.req(t,e,(function(t){var e=t.data;d.gui.toast(e.msg),e.ok&&(m.account.doResChange(e),m.accountData.setRoleInfo(e.hero),n.refresh(),d.message.dispatchEvent(f.EquipPosUpdated),d.audio.playEffect(g.LevelUp))}))},r.onXClick=function(){d.gui.removeByNode(this.node,!0)},s(e,[{key:"service",get:function(){return m.system.get(P.equip_pos)}},{key:"equipPoses",get:function(){return this.nodePoses.getComponentsInChildren(k)}},{key:"attrItems",get:function(){return this.nodeAttrs.getComponentsInChildren(q)}},{key:"costItems",get:function(){return this.nodeCosts.getComponentsInChildren(C)}}]),e}(h)).prototype,"nodePoses",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(z.prototype,"nodeAttrs",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(z.prototype,"nodeCosts",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(z.prototype,"btnUp",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(z.prototype,"btnUpAll",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=z))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/EquipRoleAttrView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AttrItem.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,l,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.instantiate,p=t.Component},function(t){u=t.AttrItem}],execute:function(){var c,f,m,d,h,g,v;r._RF.push({},"77f6183znJMZbLgvnuUo7Lj","EquipRoleAttrView",void 0);var y=a.ccclass,b=a.property;t("EquipRoleAttrView",(c=y("EquipRoleAttrView"),f=b(s),m=b(s),c((g=e((h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"nodeContent",g,o(e)),i(e,"attrItem",v,o(e)),e._params=void 0,e}n(e,t);var r=e.prototype;return r.start=function(){},r.updataContext=function(t){if(this._params=t,this._params)for(var e in this.nodeContent.removeAllChildren(),this._params){var n=l(this.attrItem);n.parent=this.nodeContent,n.getComponent(u).init([e,this._params[e]],!0),this.updatePosX(n)}},r.updatePosX=function(t){if(t){var e=t.getComponent(u).getNameLabel();t.getComponent(u).getValueLabel().node.setPosition(e.node.getPosition().x+e.string.length*e.fontSize-10,e.node.getPosition().y)}},e}(p)).prototype,"nodeContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(h.prototype,"attrItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/EquipSell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./StorageKey.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameEquipQuality.ts","./TableUtil.ts"],(function(t){"use strict";var e,i,n,o,l,a,s,r,u,c,p,g,f,h,d,C,v,S,q;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,l=t.createClass},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,u=t.Label,c=t.Color,p=t.Toggle,g=t.Component},function(t){f=t.oops},function(t){h=t.StorageKey},function(t){d=t.httpChannel},function(t){C=t.MsgID},function(t){v=t.smc},function(t){S=t.TableGameEquipQuality},function(t){q=t.TableUtil}],execute:function(){var y,E,m,k,b;a._RF.push({},"c8cae34SK9KYpSMz4qs3wTo","EquipSell",void 0);var Q=s.ccclass,T=s.property;t("EquipSell",(y=Q("EquipSell"),E=T(r),y((b=e((k=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,n(e,"nodeContent",b,o(e)),e.qualities=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.qualities=q.getEquipQualityIds()},a.start=function(){var t=this,e=f.storage.getJson(h.EquipSellQualities),i=new S;this.toggles.forEach((function(n,o){var l=t.qualities[o];if(l){var a=n.node.getComponentInChildren(u);a.string=i.init(l).name,a.color=new c(i.color),n.isChecked=e&&e[l]}else n.node.active=!1}))},a.getSltQualities=function(){var t=this,e={};return this.toggles.forEach((function(i,n){var o=t.qualities[n];o&&(e[o]=i.isChecked)})),e},a.onSellClick=function(){var t=this,e=this.getSltQualities();f.storage.set(h.EquipSellQualities,e);var i={data:e};d.req(C.EquipSellBatch,i,(function(e){var i=e.data;f.gui.toast(i.msg),i.ok&&(v.account.doResChange(i),t.onXClick())}))},a.onSaveClick=function(){var t=this.getSltQualities();f.storage.set(h.EquipSellQualities,t),f.gui.toast("保存成功"),this.onXClick()},a.onXClick=function(){f.gui.removeByNode(this.node,!0)},l(e,[{key:"toggles",get:function(){return this.nodeContent.getComponentsInChildren(p)}}]),e}(g)).prototype,"nodeContent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Etem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagItem.ts","./EquipItem.ts"],(function(t){"use strict";var e,i,n,r,p,u,o,a,s,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){p=t.cclegacy,u=t._decorator,o=t.Prefab,a=t.instantiate,s=t.Component},function(t){c=t.BagItem},function(t){l=t.EquipItem}],execute:function(){var m,f,h,q,E,y,b;t("EtemType",void 0),p._RF.push({},"6ce3bOQZVBJyaJPryQASSvp","Etem",void 0);var I,d=u.ccclass,g=u.property;!function(t){t[t.Item=0]="Item",t[t.Equip=1]="Equip"}(I||(I=t("EtemType",{})));t("Etem",(m=d("Etem"),f=g(o),h=g(o),m((y=e((E=function(t){function e(){for(var e,i=arguments.length,p=new Array(i),u=0;u<i;u++)p[u]=arguments[u];return e=t.call.apply(t,[this].concat(p))||this,n(e,"pfbItem",y,r(e)),n(e,"pfbEquip",b,r(e)),e.ty=null,e.item=null,e.equip=null,e}i(e,t);var p=e.prototype;return p.init=function(t){return"q"in t?(this.ty=I.Equip,this.equip=this.createEquipItem().initByEquipInfo({id:t.i,qid:t.q,bper:t.bper,add:t.add})):(this.ty=I.Item,this.item=this.createBagItem().init(t.i,t.n)),this},p.initEmailAttachment=function(t){return t.einfo?this.equip=this.createEquipItem().initByEquipInfo(t.einfo):t.q?this.init({i:t.i,q:t.q,bper:0}):this.init({i:t.i,n:t.n}),this},p.createEquipItem=function(){var t=a(this.pfbEquip).getComponent(l);return t.node.parent=this.node,t},p.createBagItem=function(){var t=a(this.pfbItem).getComponent(c);return t.node.parent=this.node,t},e}(s)).prototype,"pfbItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(E.prototype,"pfbEquip",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=E))||q));p._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./MessageManager.ts"],(function(t){"use strict";var s,n;return{setters:[function(t){s=t.cclegacy},function(t){n=t.MessageEventData}],execute:function(){s._RF.push({},"c680af5iPNKeIO4cArf/90m","EventDispatcher",void 0);t("EventDispatcher",function(){function t(){this._msg=null}var s=t.prototype;return s.on=function(t,s,i){null==this._msg&&(this._msg=new n),this._msg.on(t,s,i)},s.off=function(t){this._msg&&this._msg.off(t)},s.dispatchEvent=function(t,s){void 0===s&&(s=null),null==this._msg&&(this._msg=new n),this._msg.dispatchEvent(t,s)},s.destroy=function(){this._msg&&this._msg.clear(),this._msg=null},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["cc"],(function(e){"use strict";var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){var E;e("EventMessage",void 0),s._RF.push({},"beea7u9xnJD4rMj6ua/LTcF","EventMessage",void 0),function(e){e.GAME_ENTER="EventMessage.GAME_ENTER",e.GAME_EXIT="EventMessage.GAME_EXIT",e.GAME_RESIZE="EventMessage.GAME_RESIZE"}(E||(E=e("EventMessage",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/FireUpItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./TableUtil.ts","./Util.ts","./Duobao.ts"],(function(e){"use strict";var t,i,n,r,l,o,s,a,u,c,p,m,b,h,d,f,g,y,I,v,U,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,c=e.Sprite,p=e.Label,m=e.Button,b=e.Component},function(e){h=e.ViewUtil},function(e){d=e.GameResPath},function(e){f=e.httpChannel},function(e){g=e.MsgID},function(e){y=e.smc},function(e){I=e.GameSysKey},function(e){v=e.TableUtil},function(e){U=e.Util},function(e){F=e.Duobao}],execute:function(){var D,N,w,z,C,k,x,_,S,L,R,T,B,G,P,M,V,j;a._RF.push({},"d32d1Si7ydB1by2jFcpwsq0","FireUpItem",void 0);var q=u.ccclass,A=u.property,H=((D={})[F.Items.BombNormal]={dmgField:"damage",icon:"img_ptpd"},D[F.Items.BombFire]={dmgField:"dot",icon:"img_rspd"},D[F.Items.BombTimer]={dmgField:"over",icon:"img_dszd"},D);e("FireUpItem",(N=q("FireUpItem"),w=A(c),z=A(p),C=A(p),k=A(p),x=A(p),_=A(p),S=A(m),N((T=t((R=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"spIcon",T,r(t)),n(t,"lblName",B,r(t)),n(t,"lblLv",G,r(t)),n(t,"lblDmg",P,r(t)),n(t,"lblDmgNext",M,r(t)),n(t,"lblNeed",V,r(t)),n(t,"btnUp",j,r(t)),t.itemId=null,t}i(t,e);var a=t.prototype;return a.start=function(){this.btnUp.node.on(m.EventType.CLICK,this.onUpClick,this)},a.init=function(e){this.itemId=e,h.loadSpriteFrame(this.spIcon,d.getItemSpriteFrame(e)),this.lblName.string=v.getItemName(e),this.refresh()},a.refresh=function(){var e=H[this.itemId],t=y.duobao.fireInfo[this.itemId];this.lblLv.string="Lv."+t;var i=v.getDuobaoFireConfig(this.itemId),n=i[t-1];if(this.lblDmg.string="当前伤害："+n[e.dmgField],t<i.length){var r=i[t];this.lblDmgNext.string="下级伤害："+r[e.dmgField],this.lblNeed.string="x"+n.cost[F.Items.Tuzhi]+" "}else this.lblDmgNext.string="（已满级）",this.btnUp.node.active=!1,this.lblNeed.node.parent.active=!1},a.refreshRedot=function(){U.setRedot(this.btnUp,this.system.checkUpgrade(this.itemId))},a.onUpClick=function(){var e=o(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.system.checkUpgrade(this.itemId,!0)){e.next=2;break}return e.abrupt("return");case 2:return t={shell_itemid:this.itemId},e.next=5,f.reqAsync(g.DuobaoFireUp,t);case 5:if(null!=(i=e.sent)&&i.ok){e.next=8;break}return e.abrupt("return");case 8:y.account.doResChange(i),y.duobao.fireInfo=i.shellInfo,(null==this?void 0:this.isValid)&&this.refresh();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l(t,[{key:"system",get:function(){return y.system.get(I.pirateShip_fire_up)}}]),t}(b)).prototype,"spIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(R.prototype,"lblName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(R.prototype,"lblLv",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(R.prototype,"lblDmg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(R.prototype,"lblDmgNext",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(R.prototype,"lblNeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(R.prototype,"btnUp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=R))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/FirstRecharge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./ItemsGroup.ts","./RoleUI.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Store.ts","./Recharge.ts"],(function(e){"use strict";var t,i,r,n,o,s,a,l,c,u,p,f,b,h,g,d,m,y,I,v,D,w,R,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,c=e.Sprite,u=e.Label,p=e.Node,f=e.Prefab,b=e.instantiate,h=e.Component},function(e){g=e.oops},function(e){d=e.ViewUtil},function(e){m=e.GameEvent},function(e){y=e.GameResPath},function(e){I=e.ItemsGroup},function(e){v=e.RoleUILoader},function(e){D=e.smc},function(e){w=e.TableUtil},function(e){R=e.GoodsType},function(e){G=e.RechargeType}],execute:function(){var F,z,B,P,T,k,C,S,E,U,N,V,x,L,j,q,_,A,M,O,H;a._RF.push({},"a2cbdY4iV1HUK9Asmh7javD","FirstRecharge",void 0);var K=l.ccclass,Y=l.property;e("FirstRecharge",(F=K("FirstRecharge"),z=Y(c),B=Y(u),P=Y(u),T=Y(u),k=Y(u),C=Y(p),S=Y(u),E=Y(f),U=Y(v),F((x=t((V=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"spIcon",x,n(t)),r(t,"lblDesp1",L,n(t)),r(t,"lblDesp2",j,n(t)),r(t,"lblDesp3",q,n(t)),r(t,"lblDesp4",_,n(t)),r(t,"nodeItems",A,n(t)),r(t,"lblPrice",M,n(t)),r(t,"pfbReward",O,n(t)),r(t,"role",H,n(t)),t.cfgInfo=void 0,t.ID=0,t}i(t,e);var a=t.prototype;return a.start=function(){this.initView(),D.recharge.setStorage(),g.message.dispatchEvent(m.FirstRechargeRed)},a.initView=function(){var e=w.getGoodsByType(R.firstRechargeType);for(var t in e){var i=this.getGiftData(Number(e[t].id));if(i>0){this.ID=i,this.cfgInfo=D.recharge.GoodsInfo[i],this.cfgInfo.eff?(this.spIcon.spriteFrame=null,this.role.node.active=!0,this.role.initModel(this.cfgInfo.eff)):(this.role.node.active=!1,d.loadSpriteFrame(this.spIcon,y.getSpriteFrameFirstRecharge(""+this.cfgInfo.iconStr))),this.lblDesp1.string=this.cfgInfo.desp1,this.lblDesp2.string=this.cfgInfo.desp2,this.lblDesp3.string=this.cfgInfo.desp3,this.lblDesp4.string=this.cfgInfo.desp4,this.nodeItems.removeAllChildren();var r=b(this.pfbReward);r.parent=this.nodeItems,r.getComponent(I).init(e[Number(t)].drop[0]);var n=w.getGoodsByID(i);n&&(this.lblPrice.string="￥"+n.showPrice);break}this.lblPrice.string="已购买",g.message.dispatchEvent(m.RefreshBtnLTpart)}},a.getGiftData=function(e){var t=0,i=w.getGoodsByType(G.FirstRecharge);return Object.values(i).forEach((function(i){0==D.store.isBuyGoodsById(e)&&(t=e)})),t},a.onClickBuy=function(){var e=o(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ID>0)){e.next=9;break}return e.next=3,D.store.reqBuy(Number(Number(this.ID)));case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:t.addEquip&&(i=Object.keys(t.addEquip)[0])&&D.equip.showCompare(D.accdata.heroId,i),this.initView();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClickClose=function(){g.gui.removeByNode(this.node,!0)},t}(h)).prototype,"spIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(V.prototype,"lblDesp1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(V.prototype,"lblDesp2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(V.prototype,"lblDesp3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(V.prototype,"lblDesp4",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(V.prototype,"nodeItems",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(V.prototype,"lblPrice",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(V.prototype,"pfbReward",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(V.prototype,"role",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=V))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/FlashSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,s,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.sp,a=t.Material,r=t.Component}],execute:function(){var o;i._RF.push({},"61de7pPhiNF5plXR5pVKfXu","FlashSpine",void 0);var l=n.ccclass;n.property,t("default",l("FlashSpine")(o=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).duration=.5,e._median=0,e._time=0,e._material=null,e._skeleton=null,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this._median=this.duration/2,this._skeleton=this.node.getComponent(s.Skeleton),this._material=this._skeleton.customMaterial,this._material.setProperty("u_rate",1)},n.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var e=2*Math.abs(this._time-this._median)/this.duration,i=new a;i.copy(this._material),this._skeleton.customMaterial=i,i.setProperty("u_rate",e)}},n.clickFlash=function(){this._time=this.duration},i}(r))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/FlashSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,a,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,a=t.Sprite,n=t.Component}],execute:function(){var s;e._RF.push({},"a7a9eXWbUpJ3rONqlgUYCY/","FlashSprite",void 0);var o=r.ccclass;r.property,t("default",o("FlashSprite")(s=function(t){function e(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(i=t.call.apply(t,[this].concat(r))||this).duration=.5,i._median=0,i._time=0,i._material=null,i}i(e,t);var r=e.prototype;return r.onLoad=function(){this._median=this.duration/2,this._material=this.node.getComponent(a).getMaterial(0),this._material.setProperty("u_rate",1)},r.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var i=2*Math.abs(this._time-this._median)/this.duration;this._material.setProperty("u_rate",i)}},r.clickFlash=function(){this._time=this.duration},e}(n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/FreeFlightCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,i,n,r,s,a,h,c,p,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.math,h=e.KeyCode,c=e.CCFloat,p=e.input,l=e.Input,u=e.game,y=e.Component}],execute:function(){var d,f,v,_,C,S,T,m,E,g,x,k;r._RF.push({},"6c841mU+4JNvqwHy5tJsJh0","FreeFlightCamera",void 0);var w=s.ccclass,z=s.property,A=s.menu,F=a.Vec2,U=a.Vec3,b=a.Quat,D=new F,L=new F,O=new U,H=new b,K="W".charCodeAt(0),M="S".charCodeAt(0),P="A".charCodeAt(0),W="D".charCodeAt(0),N="Q".charCodeAt(0),R="E".charCodeAt(0),Y=h.SHIFT_LEFT;e("FreeFlightCamera",(d=w("FreeFlightCamera"),f=A("oops/camera/FreeFlightCamera"),v=z({type:c,tooltip:"移动速度"}),_=z({type:c,tooltip:"按Shift键后的速度"}),C=z({type:c,slide:!0,range:[.05,.5,.01],tooltip:"移动后惯性效果"}),S=z({type:c,tooltip:"旋转速度"}),d(T=f((E=t((m=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"moveSpeed",E,n(t)),i(t,"moveSpeedShiftScale",g,n(t)),i(t,"damp",x,n(t)),i(t,"rotateSpeed",k,n(t)),t._euler=new U,t._velocity=new U,t._position=new U,t._speedScale=1,t}o(t,e);var r=t.prototype;return r.onLoad=function(){p.on(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.on(l.EventType.KEY_DOWN,this.onKeyDown,this),p.on(l.EventType.KEY_UP,this.onKeyUp,this),p.on(l.EventType.TOUCH_START,this.onTouchStart,this),p.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(l.EventType.TOUCH_END,this.onTouchEnd,this),U.copy(this._euler,this.node.eulerAngles),U.copy(this._position,this.node.position)},r.onDestroy=function(){p.off(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.off(l.EventType.KEY_DOWN,this.onKeyDown,this),p.off(l.EventType.KEY_UP,this.onKeyUp,this),p.off(l.EventType.TOUCH_START,this.onTouchStart,this),p.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},r.update=function(e){U.transformQuat(O,this._velocity,this.node.rotation),U.scaleAndAdd(this._position,this._position,O,this.moveSpeed*this._speedScale),U.lerp(O,this.node.position,this._position,e/this.damp),this.node.setPosition(O),b.fromEuler(H,this._euler.x,this._euler.y,this._euler.z),b.slerp(H,this.node.rotation,H,e/this.damp),this.node.setRotation(H)},r.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;U.transformQuat(O,U.UNIT_Z,this.node.rotation),U.scaleAndAdd(this._position,this.node.position,O,t)},r.onKeyDown=function(e){var t=this._velocity;e.keyCode===Y?this._speedScale=this.moveSpeedShiftScale:e.keyCode===K?0===t.z&&(t.z=-1):e.keyCode===M?0===t.z&&(t.z=1):e.keyCode===P?0===t.x&&(t.x=-1):e.keyCode===W?0===t.x&&(t.x=1):e.keyCode===N?0===t.y&&(t.y=-1):e.keyCode===R&&0===t.y&&(t.y=1)},r.onKeyUp=function(e){var t=this._velocity;e.keyCode===Y?this._speedScale=1:e.keyCode===K?t.z<0&&(t.z=0):e.keyCode===M?t.z>0&&(t.z=0):e.keyCode===P?t.x<0&&(t.x=0):e.keyCode===W?t.x>0&&(t.x=0):e.keyCode===N?t.y<0&&(t.y=0):e.keyCode===R&&t.y>0&&(t.y=0)},r.onTouchStart=function(e){u.canvas.requestPointerLock()},r.onTouchMove=function(e){e.getStartLocation(D),D.x>.4*u.canvas.width?(e.getDelta(L),this._euler.y-=L.x*this.rotateSpeed*.1,this._euler.x+=L.y*this.rotateSpeed*.1):(e.getLocation(L),F.subtract(L,L,D),this._velocity.x=.01*L.x,this._velocity.z=.01*-L.y)},r.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(D),D.x<.4*u.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},t}(y)).prototype,"moveSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=t(m.prototype,"moveSpeedShiftScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=t(m.prototype,"damp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(m.prototype,"rotateSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=m))||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/Fuben.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameLevels.ts","./TableGameLevelSweep.ts","./TableGameSys.ts","./TableUtil.ts"],(function(e){"use strict";var t,i,n,l,s,o,r,u,a,v,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy},function(e){l=e.JsonUtil},function(e){s=e.smc},function(e){o=e.DockBtnAdapter},function(e){r=e.TableGameConfig},function(e){u=e.TableGameLevels},function(e){a=e.TableGameLevelSweep},function(e){v=e.GameSysKey},function(e){c=e.TableUtil}],execute:function(){var f;e("RecvStatus",void 0),n._RF.push({},"78481GqH21Cop1I7V1wKQy+","Fuben",void 0),function(e){e[e.Lock=0]="Lock",e[e.CanRecv=1]="CanRecv",e[e.Recvd=2]="Recvd",e[e.CanRecvMore=3]="CanRecvMore"}(f||(f=e("RecvStatus",{})));var L=e("Fuben",function(e){function n(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return(t=e.call.apply(e,[this].concat(n))||this).EliteLevelConfig={lockLevel:"lockLevel",sweepLevel:"sweepLevel",curLevel:"curLevel",finishedLevel:"finishedLevel"},t.eliteType=2,t.eliteLength=10,t}t(n,e);var o=n.prototype;return o.sweepLevel=function(e){return e?1:2},o.getVisibleEliteLevels=function(){var e=[],t=l.get(u.TableName),i=0!=this.eliteLevel,n=this.sweepLevel(i),o=0==this.eliteLevel?r.init_elitelevels:this.eliteLevel;for(var a in t){if(t[Number(a)].type==this.eliteType)if(n>=0)if(0==c.get(u,o).nextid&&(n=0),Number(a)<=o&&1==i){var v=[a,this.EliteLevelConfig.finishedLevel];e.push(v)}else if(Number(a)==this.nextEliteLevel){n--;var f=(new u).init(Number(a));if(Number(f.need_grade)<=Number(s.yongbing.level)){v=[a,this.EliteLevelConfig.curLevel];e.push(v)}else{v=[a,this.EliteLevelConfig.lockLevel];e.push(v)}}else{n--;v=[a,this.EliteLevelConfig.lockLevel];e.push(v)}}for(var L=e.length-1;L>=0;L--)if(this.EliteLevelConfig.finishedLevel==e[L][1]){e[L][1]=this.EliteLevelConfig.sweepLevel;break}if(e.length>this.eliteLength){var h=e.length-this.eliteLength,g=e.length+1;return e.slice(h,g)}return e},o.getEliteLevelAward=function(){return[this.nextEliteLevel||this.eliteLevel]},o.getSweepReward=function(e){var t=(new a).init(e),i=[],n=1;for(var l in t)if("data"==l)for(var s in t[l])s=="costitem_"+n&&(n++,i.push(t[s]));return i},i(n,[{key:"eliteLevel",get:function(){return s.accountData.subinfo.elitelevels||0},set:function(e){s.accountData.subinfo.elitelevels=e}},{key:"nextEliteLevel",get:function(){return 0==this.eliteLevel?r.init_elitelevels:c.get(u,this.eliteLevel).nextid}},{key:"reDayInfo",get:function(){return s.accountData.subinfo.reDayInfo},set:function(e){s.accountData.subinfo.reDayInfo=e}}]),n}(o));e("fuben",new L(v.fuben));n._RF.pop()}}}));

System.register("chunks:///_virtual/FubenEliteItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameLevels.ts","./TableGameLevelSweep.ts","./TableGameMonster.ts","./TableGameSys.ts","./TableModelConfig.ts","./TableRoleUpgrade.ts","./TableUtil.ts","./BagItem.ts","./Guide.ts","./GuideTarget.ts","./Level.ts","./RoleLoader.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,s,u,c,f,b,p,g,d,h,m,v,w,C,y,L,D,G,E,I,R,_,k,T,x,z,B,F,M,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime,l=e.createClass},function(e){s=e.cclegacy,u=e._decorator,c=e.Node,f=e.Label,b=e.Button,p=e.Component},function(e){g=e.oops},function(e){d=e.ViewUtil},function(e){h=e.GameEvent},function(e){m=e.GameResPath},function(e){v=e.UIID,w=e.DialogAnimation},function(e){C=e.tips},function(e){y=e.httpChannel},function(e){L=e.MsgID},function(e){D=e.smc},function(e){G=e.TableGameConfig},function(e){E=e.TableGameLevels},function(e){I=e.TableGameLevelSweep},function(e){R=e.TableGameMonster},function(e){_=e.GameSysKey},function(e){k=e.TableModelConfig},function(e){T=e.TableRoleUpgrade},function(e){x=e.TableUtil},function(e){z=e.BagItem},function(e){B=e.GuideTypes},function(e){F=e.GuideTarget},function(e){M=e.LevelElite},function(e){S=e.RoleLoader}],execute:function(){var N,A,U,P,O,j,K,q,H,V,W,Z,J,Q,X,Y,$,ee,te,ne,ie,ae,oe,re,le,se,ue,ce,fe,be,pe;s._RF.push({},"92a14MSZntFm7nqOE7evtDi","FubenEliteItem",void 0);var ge=u.ccclass,de=u.property;e("FubenEliteItem",(N=ge("FubenEliteItem"),A=de(c),U=de(c),P=de(f),O=de(S),j=de(f),K=de(c),q=de(c),H=de(c),V=de(c),W=de(c),Z=de(c),J=de(c),Q=de(c),X=de(f),N((ee=t(($=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"spBg",ee,a(t)),i(t,"nodelistAward",te,a(t)),i(t,"lbl_round",ne,a(t)),i(t,"monster",ie,a(t)),i(t,"monLv",ae,a(t)),i(t,"btnGo",oe,a(t)),i(t,"spRedDot",re,a(t)),i(t,"lblCost",le,a(t)),i(t,"lblDesp",se,a(t)),i(t,"lblCount",ue,a(t)),i(t,"spFinished",ce,a(t)),i(t,"contentMonster",fe,a(t)),i(t,"spLock",be,a(t)),i(t,"lblLockCondition",pe,a(t)),t.cfg=new E,t.sweepReward=void 0,t.sweepCost=void 0,t.Data=void 0,t}n(t,e);var s=t.prototype;return s.getReward=function(e){for(var t in e)return[t,e[t]]},s.initItem=function(e){var t=this;this.Data=e,this.cfg.init(e[0]),this.lbl_round.string="第"+(e[0]-Number(G.init_elitelevels)+1)+"层";var n=x.getDropItems(this.cfg.drop);if(this.refreshReward(n),e[1]==D.fuben.EliteLevelConfig.finishedLevel)this.spFinished.active=!0;else if(e[1]==D.fuben.EliteLevelConfig.sweepLevel){this.lblDesp.active=!0;var i=(new I).init(e[0]);this.sweepReward=x.getDropItems(i.drop),this.sweepCost=D.fuben.getSweepReward(e[0]),this.refreshReward(this.sweepReward)}else this.contentMonster.active=!0,Object.entries(this.cfg.monster[0]).forEach((function(e){t.monster[Number(e[0])].node.active=!0;var n=x.get(R,Number(e[1])),i=x.get(k,n.model_id);t.monster[Number(e[0])].load(i),t.monster[Number(e[0])].setScale(i.model_scale*x.BPS),t.monLv[e[0]].getComponent(f).string=n.level+"级"}));if(this.isCanChallenge){var a=this.btnGo.addComponent(F);a.guideType=D.guide.getKey(B.UnlockSys_,_.elitelevels.toString()),a.guideTarget=3}if(e[1]==D.fuben.EliteLevelConfig.lockLevel){this.spLock.active=!0,d.setGray(this.spBg,!0);var l=this.cfg.need_grade,s=(new T).init(Number(l));this.lblLockCondition.string=s?s.name+"解锁":"未解锁"}this.btnGo.on(b.EventType.CLICK,o(r().mark((function e(){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Data[1]!=D.fuben.EliteLevelConfig.finishedLevel){e.next=4;break}g.gui.toast("当前关卡已完成！"),e.next=23;break;case 4:if(t.Data[1]!=D.fuben.EliteLevelConfig.lockLevel){e.next=8;break}g.gui.toast("当前关卡尚未解锁！"),e.next=23;break;case 8:if(t.Data[1]!=D.fuben.EliteLevelConfig.sweepLevel){e.next=22;break}return n={elitelevels:Number(t.Data[0])},e.next=12,y.reqAsync(L.FightSweep,n);case 12:if(null!=(i=e.sent)&&i.ok){e.next=15;break}return e.abrupt("return");case 15:D.account.doResChange(i),D.fuben.reDayInfo.elitesweepcount=i.count,C.reward(i),t.refreshButton(),g.message.dispatchEvent(h.EliteLevelRed),e.next=23;break;case 22:t.doFight();case 23:case"end":return e.stop()}}),e)})))),this.refreshButton()},s.doFight=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new M(D.fuben.nextEliteLevel),e.next=3,D.battle.createAndPlay(t);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(D.account.doResChange(D.battle.fightInfo),!D.battle.isWin()){e.next=15;break}return D.fuben.eliteLevel=D.fuben.nextEliteLevel,g.message.dispatchEvent(h.FubenEliteLevel),g.message.dispatchEvent(h.EliteLevelRed),e.next=13,g.gui.openModal(v.Win,D.battle.fightInfo,w);case 13:e.next=20;break;case 15:return e.next=17,g.gui.openModal(v.Lose,D.battle.level.ty,w);case 17:if(0!=D.recharge.isBuyFirstGift){e.next=20;break}return e.next=20,g.gui.openModal(v.FirstRecharge);case 20:D.battle.clear(),g.gui.remove(v.Battle,!0);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.updateBagItem=function(e,t,n){var i=e.getChildByName("bag_item");i.getComponent(z).init(parseInt(t),n);var a=e.getChildByName("img_get");d.setGray(i,this.Data[1]==D.fuben.EliteLevelConfig.finishedLevel),a.active=this.Data[1]==D.fuben.EliteLevelConfig.finishedLevel},s.onInfoClick=function(){var e={attrs:x.getMonsterAttr(this.cfg.monster[0][0])};g.gui.open(v.TipAttr,e)},s.refreshButton=function(){var e="btn_tiaozhan";if(this.spRedDot.active=!1,this.Data[1]==D.fuben.EliteLevelConfig.sweepLevel){e=0==D.fuben.reDayInfo.elitesweepcount?"btn_mftz":"btn_zstzbg";var t=D.fuben.reDayInfo.elitesweepcount;if(this.spRedDot.active=G.elite_sweep_count>t||0==t,this.lblCost.active=0!=D.fuben.reDayInfo.elitesweepcount,D.fuben.reDayInfo.elitesweepcount<G.elite_sweep_count){if(D.fuben.reDayInfo.elitesweepcount>0){var n=this.getReward(this.sweepCost[D.fuben.reDayInfo.elitesweepcount-1]);this.lblCost.getComponent(f).string=n[1]}}else this.lblCost.getComponent(f).string="已扫荡完",this.lblCost.getChildByName("icon").active=!1,d.setGray(this.btnGo,!0),this.btnGo.getComponent(b).interactable=!1}d.loadButtonFrame(this.btnGo.getComponent(b),m.getSpriteFrameFuben(e));var i=D.fuben.reDayInfo.elitesweepcount;this.lblCount.getComponent(f).string=G.elite_sweep_count-i+"/"+G.elite_sweep_count},s.refreshReward=function(e){var t=this,n=0;Object.entries(e).forEach((function(e){var i=e[0],a=e[1],o=t.nodelistAward.getChildByName("item_award_"+n);o&&(t.updateBagItem(o,i,a),n++)})),this.nodelistAward.children.forEach((function(e,t){e.active=t<n}))},l(t,[{key:"isCanChallenge",get:function(){return this.Data[1]==D.fuben.EliteLevelConfig.curLevel}}]),t}(p)).prototype,"spBg",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t($.prototype,"nodelistAward",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t($.prototype,"lbl_round",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t($.prototype,"monster",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t($.prototype,"monLv",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t($.prototype,"btnGo",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t($.prototype,"spRedDot",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t($.prototype,"lblCost",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t($.prototype,"lblDesp",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t($.prototype,"lblCount",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t($.prototype,"spFinished",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t($.prototype,"contentMonster",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t($.prototype,"spLock",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t($.prototype,"lblLockCondition",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=$))||Y));s._RF.pop()}}}));

System.register("chunks:///_virtual/FubenEliteLevels.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./ZhiyinTarget.ts","./FubenEliteItem.ts"],(function(e){"use strict";var t,n,i,o,l,s,r,a,u,c,f,h,d,p,v,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,r=e.ScrollView,a=e.Node,u=e.Component},function(e){c=e.oops},function(e){f=e.ViewUtil},function(e){h=e.EGameRankType},function(e){d=e.GameEvent},function(e){p=e.UIID},function(e){v=e.smc},function(e){g=e.ZhiyinTarget},function(e){b=e.FubenEliteItem}],execute:function(){var m,y,L,E,_,F,C;l._RF.push({},"173baXq4Z5FmJgs8Yl5K3Lc","FubenEliteLevels",void 0);var I=s.ccclass,R=s.property;e("FubenEliteLevels",(m=I("FubenEliteLevels"),y=R(r),L=R(a),m((F=t((_=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,i(t,"scrollView",F,o(t)),i(t,"nodeListRound",C,o(t)),t.zhiyinTarget=void 0,t._tabIndex=void 0,t._gameRoundId=null,t}n(t,e);var l=t.prototype;return l.onLoad=function(){this.zhiyinTarget=this.getComponent(g)},l.start=function(){this.initListData(),c.message.on(d.FubenEliteLevel,this._eventHandler,this)},l.onDestroy=function(){c.message.off(d.FubenEliteLevel,this._eventHandler,this)},l.initListData=function(){var e=this,t=v.fuben.getVisibleEliteLevels();this.nodeListRound.removeAllChildren(),Object.entries(t).forEach((function(t,n){f.loadPrefabNode("gui/fuben/fuben_item",(function(n){var i=n.getComponent(b);i.initItem(t[1]),i.isCanChallenge&&(e.zhiyinTarget.finish_elite_leves=i.btnGo,e.zhiyinTarget.fight_elite_leves=i.btnGo),n.parent=e.nodeListRound,e.scrollView.scrollToBottom(.3)}))}))},l._eventHandler=function(e,t){e==d.FubenEliteLevel&&this.initListData()},l.onClickBack=function(){c.gui.removeByNode(this.node,!0)},l.onClickBattle=function(){},l.onClickRank=function(){var e={type:h.ELITE};c.gui.open(p.FightRank,e)},t}(u)).prototype,"scrollView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(_.prototype,"nodeListRound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/FubenItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./MainBtn.ts"],(function(e){"use strict";var t,n,i,s,l,o,r,a,u,c,p,m,b,f,h,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Sprite,a=e.Label,u=e.Button,c=e.Component},function(e){p=e.oops},function(e){m=e.ViewUtil},function(e){b=e.GameResPath},function(e){f=e.UIID},function(e){h=e.smc},function(e){y=e.TableGameSys},function(e){d=e.MainBtn}],execute:function(){var g,I,G,v,F,B,D,C,S;l._RF.push({},"ae6e0Ouj+dP2YREhcPoOiB9","FubenItem",void 0);var w=o.ccclass,P=o.property;e("FubenItem",(g=w("FubenItem"),I=P(r),G=P(a),v=P(a),g((D=t((B=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"spBG",D,s(t)),i(t,"lblName",C,s(t)),i(t,"lblDesc",S,s(t)),t}n(t,e);var l=t.prototype;return l.onLoad=function(){this.spBG.spriteFrame=null},l.start=function(){this.node.on(u.EventType.CLICK,(function(){p.gui.remove(f.Fuben,!0)}))},l.init=function(e){if(m.loadSpriteFrame(this.spBG,b.getSpriteFrameFuben(e.spBG)),e.sysId){var t;this.lblName.string=y[e.sysId].name,m.setGray(this.node,!h.system.checkOpened(e.sysId,!1)),null==(t=this.getComponent(d))||t.init(e);h.system.get(e.sysId);this.lblDesc.string=""}else{var n,i;this.lblName.string=null!=(n=e.name)?n:"",this.lblDesc.string=null!=(i=e.desc)?i:"",m.setGray(this.node,!0),this.getComponent(d).enabled=!1}},t}(c)).prototype,"spBG",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(B.prototype,"lblName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(B.prototype,"lblDesc",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=B))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/FubenMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./FubenItem.ts"],(function(e){"use strict";var n,t,o,i,r,u,a,c,s,l,p,f,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,a=e.Node,c=e.instantiate,s=e.Component},function(e){l=e.oops},function(e){p=e.FubenItemConfigData},function(e){f=e.smc},function(e){b=e.FubenItem}],execute:function(){var d,m,F,y,g,h,v;r._RF.push({},"6ae09X3rEZMm6gJxIifpyVx","FubenMain",void 0);var I=u.ccclass,C=u.property;e("FubenMain",(d=I("FubenMain"),m=C(a),F=C(a),d((h=n((g=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=e.call.apply(e,[this].concat(r))||this,o(n,"nodeFubenContent",h,i(n)),o(n,"nodeFubenItem",v,i(n)),n}t(n,e);var r=n.prototype;return r.onLoad=function(){this.nodeFubenItem.active=!1},r.start=function(){var e=this;p.filter((function(e){return!e.sysId||f.system.checkEnabled(e.sysId)})).forEach((function(n){var t=c(e.nodeFubenItem);t.active=!0,t.parent=e.nodeFubenContent,t.getComponent(b).init(n)}))},r.onXClick=function(){l.gui.removeByNode(this.node,!0)},n}(s)).prototype,"nodeFubenContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(g.prototype,"nodeFubenItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/funsdk_wx_2.1.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"483c9/p7BBHurhm6n+brZzz","funsdk_wx_2.1",void 0);e("default",function(){function e(){this.host=void 0,this.host="https://xcx.62cs.com"}var o=e.prototype;return o.sign=function(e){var o="",s=Object.keys(e);return s.sort(),s.forEach((function(s){"host_url"!=s&&(o+=e[s])})),o},o.setParameter=function(e,o,s){e=e.replace(/(#.*)/gi,"");var l=new RegExp("([?&])"+o+"=([^&]*)(?=&|$)","i");return l.test(e)?e.replace(l,"$1"+o+"="+s):e+(-1==e.indexOf("?")?"?":"&")+o+"="+s},o.ajaxRequest=function(e,o,s,l){e=this.setParameter(e,"v",Math.random()),wx.request({url:e,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",data:o,dataType:"json",success:function(e){var l=Object.assign({},o,e.data);s&&s(l)},fail:function(e){l&&l(e)}})},o.game=function(e,o,s){if(console.log("<<<----游戏----\x3e>>"),e.game_key){var l=this.host+"/index/game";this.ajaxRequest(l,e,o,s)}else console.log("缺少game_key")},o.wxChannelCode=function(){console.log("<<<----渠道----\x3e>>");var e=wx.getLaunchOptionsSync().query,o=decodeURIComponent(e.query),s=decodeURIComponent(e.clue_token),l=decodeURIComponent(e.gdt_vid),n=JSON.stringify(e),t=new Object;if(t.wx_extension="",t.clue_token="",t.click_id="","undefined"!=o&&""!=o)t.code=o,t.type=1e4;else{var c=decodeURIComponent(e.scene);if("undefined"==c)return t;for(var a=c.split("&"),i=0;i<a.length;i++)t[a[i].split("=")[0]]=a[i].split("=")[1]}return"undefined"!=s&&""!=s&&(t.clue_token=s),"undefined"!=n&&""!=n&&(t.wx_extension=n),"undefined"!=l&&""!=l&&(t.click_id=l),t},o.role=function(e,o,s){if(console.log("<<<----角色----\x3e>>"),e.host_url)if(e.game_key)if(e.account)if(e.server)if(e.server_name)if(e.role)if(e.role_name)if(e.level){null!=e.type&&""!=e.type&&null!=e.type||(e.type=0),e.sign=this.sign(e);var l=e.host_url+"/index/role";this.ajaxRequest(l,e,o,s)}else console.log("缺少level");else console.log("缺少role_name");else console.log("缺少role");else console.log("缺少server_name");else console.log("缺少server");else console.log("缺少account");else console.log("缺少game_key");else console.log("缺少host_url")},o.order=function(e,o,s){if(console.log("<<<----订单----\x3e>>"),e.host_url)if(e.game_key)if(e.account)if(e.server)if(e.role)if(e.amount){e.sign=this.sign(e);var l=e.host_url+"/order/index";this.ajaxRequest(l,e,o,s)}else console.log("缺少amount");else console.log("缺少role");else console.log("缺少server");else console.log("缺少account");else console.log("缺少game_key");else console.log("缺少host_url")},o.gameLogin=function(e,o,s){if(console.log("<<<----登录----\x3e>>"),e.host_url)if(e.game_key){var l=e.host_url+"/login/code",n=this;wx.login({success:function(t){e.code=t.code,e.channel_code="";var c=n.wxChannelCode();c&&c.code&&(e.channel_code=c.code),e.clue_token=c.clue_token,e.click_id=c.click_id,e.wx_extension=c.wx_extension,console.log(e),n.ajaxRequest(l,e,o,s)}})}else console.log("缺少game_key");else console.log("缺少host_url")},o.gameToken=function(e,o,s){if(console.log("<<<----Token----\x3e>>"),e.host_url)if(e.game_key){var l=e.host_url+"/index/game-access-token";this.ajaxRequest(l,e,o,s)}else console.log("缺少game_key");else console.log("缺少host_url")},o.midas2Notice=function(e,o,s){if(console.log("<<<----米大师2.0----\x3e>>"),null!=e.game_env&&""!=e.game_env&&null!=e.game_env||(e.game_env=0),e.offer_id)if(e.currency_type)if(e.amount)if(e.game_key)if(e.host_url)if(e.account)if(e.order){var l=this,n={host_url:e.host_url,game_key:e.game_key};l.gameLogin(n,null,null);var t=!1;wx.requestMidasPayment({currencyType:e.currency_type,env:e.game_env,mode:"game",offerId:e.offer_id,buyQuantity:e.amount,platform:"android",zoneId:"1",success:function(n){t=!0,console.log("<<<----midas支付成功----\x3e>>");var c=e.host_url+"/notice-two/midas";l.ajaxRequest(c,e,o,s)},fail:function(e){console.log(e)},complete:function(n){if(0==t){console.log("<<<----midas支付完成----\x3e>>");var c=e.host_url+"/notice-two/midas";l.ajaxRequest(c,e,o,s)}},outTradeNo:""})}else console.log("缺少order");else console.log("缺少account");else console.log("缺少host_url");else console.log("缺少game_key");else console.log("缺少amount");else console.log("缺少currency_type");else console.log("缺少offer_id")},o.midasNotice=function(e,o,s){if(console.log("<<<----米大师----\x3e>>"),null!=e.game_env&&""!=e.game_env&&null!=e.game_env||(e.game_env=0),e.offer_id)if(e.currency_type)if(e.amount)if(e.server)if(e.game_key)if(e.host_url)if(e.account)if(e.role){var l=this;this.checkPaySwicth(e,(function(n){if(1==n.data.is_check_pay){if(1==n.data.is_kf){var t={host_url:e.host_url,game_key:e.game_key,account:e.account,server:e.server,role:e.role,amount:e.amount,extend:e.extend};l.order(t,(function(e){0==e.code&&e.data.order&&l.openCustomerService()}),null)}else if(2==n.data.is_kf){var c=e.host_url+"/index/get-user-check-pay-key",a={host_url:e.host_url,game_key:e.game_key,account:e.account};l.ajaxRequest(c,a,(function(e){0==e.code?wx.showModal({title:"温馨提示",content:e.data.content,showCancel:!1,success:function(o){wx.setClipboardData({data:e.data.text,success:function(e){wx.showToast({title:"内容已复制",icon:"none",duration:1500})}})}}):console.log("暂不支持")}),null)}else if(3==n.data.is_kf){t={host_url:e.host_url,game_key:e.game_key,account:e.account,server:e.server,role:e.role,amount:e.amount,extend:e.extend};l.order(t,(function(o){if(0==o.code&&o.data.order){var s={account:e.account,from_app_id:n.data.xcx_app_id,app_id:n.data.xcx_app_id,path:"pages/pay/index?game_key="+e.game_key+"&order="+o.data.order,envVersion:"release"};l.openGame(s,null,null)}}),null)}}else{var i=!1;wx.requestMidasPayment({currencyType:e.currency_type,env:e.game_env,mode:"game",offerId:e.offer_id,buyQuantity:e.amount,platform:"android",zoneId:"1",success:function(n){i=!0,console.log("<<<----midas支付成功----\x3e>>");var t=e.host_url+"/notice/midas";l.ajaxRequest(t,e,o,s)},fail:function(e){console.log(e)},complete:function(n){if(0==i){console.log("<<<----midas支付完成----\x3e>>");var t=e.host_url+"/notice/midas";l.ajaxRequest(t,e,o,s)}},outTradeNo:""})}}),(function(){console.log("异常错误")}))}else console.log("缺少role");else console.log("缺少account");else console.log("缺少host_url");else console.log("缺少game_key");else console.log("缺少server");else console.log("缺少amount");else console.log("缺少currency_type");else console.log("缺少offer_id")},o.midasOrderSubmit=function(e,o,s){if(console.log("<<<----米大师充值订单提交----\x3e>>"),e.host_url)if(e.game_key)if(e.account)if(e.server)if(e.role)if(e.extend)if(e.amount){e.sign=this.sign(e);var l=e.host_url+"/order/midas-order";this.ajaxRequest(l,e,o,s)}else console.log("缺少amount");else console.log("缺少extend");else console.log("缺少role");else console.log("缺少server");else console.log("缺少account");else console.log("缺少game_key");else console.log("缺少host_url")},o.checkWords=function(e,o,s){if(console.log("<<<----敏感词----\x3e>>"),e.host_url)if(e.game_key)if(e.account)if(e.scene)if(e.content){var l=e.host_url+"/index/check-words";this.ajaxRequest(l,e,o,s)}else console.log("缺少content");else console.log("缺少scene");else console.log("缺少account");else console.log("缺少game_key");else console.log("缺少host_url")},o.gameCenter=function(e,o,s){if(console.log("<<<----游戏中心----\x3e>>"),e.host_url)if(e.game_key){var l=e.host_url+"/service/top-game";this.ajaxRequest(l,e,o,s)}else console.log("缺少game_key");else console.log("缺少host_url")},o.openGame=function(e,o,s){if(console.log("<<<----跳转小程序----\x3e>>"),e.app_id){var l={account:e.account,from_app_id:e.from_app_id,app_id:e.app_id,type:0},n=e.host_url+"/service/click-game",t=this;wx.navigateToMiniProgram({appId:e.app_id,path:e.path,envVersion:e.env_version,success:function(e){l.type=1,t.ajaxRequest(n,l,o,s)},fail:function(e){t.ajaxRequest(n,l,o,s)}})}else console.log("缺少app_id")},o.vipDesc=function(e,o,s){if(console.log("<<<----VIP客服描述----\x3e>>"),e.host_url)if(e.game_key){var l=e.host_url+"/service/vip-desc";this.ajaxRequest(l,e,o,s)}else console.log("缺少game_key");else console.log("缺少host_url")},o.wxFollowSteps=function(e,o,s){if(console.log("<<<----关注步骤----\x3e>>"),e.host_url)if(e.game_key){var l=e.host_url+"/service/follow-steps";this.ajaxRequest(l,e,o,s)}else console.log("缺少game_key");else console.log("缺少host_url")},o.openCustomerService=function(){wx.showModal({title:"充值教程",content:"即将跳转官方【客服会话】充值，\r\n 给客服回复“1”获取充值链接",showCancel:!1,confirmText:"客服充值",success:function(e){wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:"可能要发送的小程序",sendMessageImg:"https://xcx.62cs.com/images/thumb_recharge.jpg"})}})},o.phoneDesc=function(e,o,s){if(console.log("<<<----手机绑定文字描述----\x3e>>"),e.host_url){var l=e.host_url+"/sms/phone-desc";this.ajaxRequest(l,e,o,s)}else console.log("缺少host_url")},o.phoneCode=function(e,o,s){if(console.log("<<<----手机绑定获取验证码----\x3e>>"),e.host_url)if(e.phone){var l=e.host_url+"/sms/phone-code";this.ajaxRequest(l,e,o,s)}else console.log("缺少phone");else console.log("缺少host_url")},o.phoneBind=function(e,o,s){if(console.log("<<<----手机绑定绑定手机号----\x3e>>"),e.host_url)if(e.game_key)if(e.account)if(e.phone)if(e.code){var l=e.host_url+"/sms/phone-bind";this.ajaxRequest(l,e,o,s)}else console.log("缺少code");else console.log("缺少phone");else console.log("缺少account");else console.log("缺少game_key");else console.log("缺少host_url")},o.gameLoop=function(e){console.log("<<<----微信游戏圈----\x3e>>"),e.type?"text"==e.type||"image"==e.type?"text"!=e.type||e.text?"image"!=e.type||e.icon?e.style?wx.createGameClubButton(e):console.log("缺少styel"):console.log("缺少icon"):console.log("缺少text"):console.log("错误的type类型"):console.log("缺少type")},o.subscribeToData=function(e,o,s){if(console.log("<<<----订阅消息----\x3e>>"),e.tmpl_ids)if(e.account)if(e.host_url)if(e.game_key){var l={code:"0",msg:"成功",data:[]},n=e.host_url+"/subscribe/index",t=this,c={account:e.account,game_key:e.game_key,pushTmplIds:[]};wx.requestSubscribeMessage({tmplIds:e.tmpl_ids,success:function(l){if("requestSubscribeMessage:ok"==l.errMsg){for(var a=0;a<e.tmpl_ids.length;a++)"accept"==l[e.tmpl_ids[a]]&&c.pushTmplIds.push(e.tmpl_ids[a]);t.ajaxRequest(n,c,o,s)}},fail:function(e){l.code=e.errCode?e.errCode.toString():"-1",l.msg="失败",s&&s(l)}})}else console.log("缺少game_key");else console.log("缺少host_url");else console.log("缺少account");else console.log("缺少tmpl_ids")},o.sharingInMoments=function(e){if(console.log("<<<----小游戏分享----\x3e>>"),e.host_url)if(e.game_key)if(e.account)if(e.server)if(e.role){var o=e.host_url+"/subscribe/sharing-in-moments",s="",l="",n="",t=this,c={game_key:e.game_key,account:e.account,server:e.server,role:e.role,host_url:e.host_url};wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),this.ajaxRequest(o,e,(function(e){0==e.code&&(s=e.data.title,l=e.data.url,n=e.data.code),wx.onShareAppMessage((function(){return c.share_type=1,t.shareLog(c,null,null),{title:s,imageUrl:l,query:n}})),wx.onShareTimeline((function(){return c.share_type=2,t.shareLog(c,null,null),{title:s,imageUrl:l,query:n}}))}),(function(e){console.log("失败",e)}))}else console.log("缺少role");else console.log("缺少server");else console.log("缺少account");else console.log("缺少game_key");else console.log("缺少host_url")},o.shareLog=function(e,o,s){if(console.log("分享上报"),e.host_url)if(e.account)if(e.server)if(e.role)if(e.game_key)if(e.share_type){e.sign="";var l=this.wxChannelCode();l&&l.code&&(e.code=l.code),e.sign=this.sign(e);var n=e.host_url+"/index/share-log";this.ajaxRequest(n,e,o,s)}else console.log("缺少share_type");else console.log("缺少game_key");else console.log("缺少role");else console.log("缺少server");else console.log("缺少account");else console.log("缺少host_url")},o.checkPaySwicth=function(e,o,s){if(e.host_url)if(e.game_key)if(e.account)if(e.server)if(e.role){var l=e.host_url+"/index/check-pay";this.ajaxRequest(l,e,o,s)}else console.log("缺少role");else console.log("缺少server");else console.log("缺少account");else console.log("缺少game_key");else console.log("缺少host_url")},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/GameCollision.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,n,o,e,r,l,s,a,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,s=i.ccenum,a=i.Collider,c=i.Component}],execute:function(){var g,h,E,u,C;i("CollisionType",void 0),r._RF.push({},"8edaam8WhdBEYR4guslfNh/","GameCollision",void 0);var y,p=l.ccclass,v=l.property;!function(i){i[i.Role=0]="Role",i[i.Ballistic=1]="Ballistic",i[i.Wall=2]="Wall"}(y||(y=i("CollisionType",{}))),s(y);i("GameCollision",(g=p("GameCollision"),h=v({type:y,tooltip:"碰撞物体类型"}),g((C=t((u=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=i.call.apply(i,[this].concat(r))||this).Event_TriggerEnter="onTriggerEnter",t.Event_TriggerStay="onTriggerStay",t.Event_TriggerExit="onTriggerExit",t.Event_CollisionEnter="onCollisionEnter",t.Event_CollisionStay="onCollisionStay",t.Event_CollisionExit="onCollisionExit",t.collider=null,o(t,"type",C,e(t)),t}n(t,i);var r=t.prototype;return r.onLoad=function(){this.collider=this.getComponent(a),this.collider.isTrigger?(this.collider.on(this.Event_TriggerEnter,this.onTrigger,this),this.collider.on(this.Event_TriggerStay,this.onTrigger,this),this.collider.on(this.Event_TriggerExit,this.onTrigger,this)):(this.collider.on(this.Event_CollisionEnter,this.onCollision,this),this.collider.on(this.Event_CollisionStay,this.onCollision,this),this.collider.on(this.Event_CollisionExit,this.onCollision,this))},r.onTrigger=function(i){switch(i.type){case this.Event_TriggerEnter:this.onTriggerEnter(i);break;case this.Event_TriggerStay:this.onTriggerStay(i);break;case this.Event_TriggerExit:this.onTriggerExit(i)}},r.onTriggerEnter=function(i){},r.onTriggerStay=function(i){},r.onTriggerExit=function(i){},r.onCollision=function(i){switch(i.type){case this.Event_CollisionEnter:this.onCollisionEnter(i);break;case this.Event_CollisionStay:this.onCollisionStay(i);break;case this.Event_CollisionExit:this.onCollisionExit(i)}},r.onCollisionEnter=function(i){},r.onCollisionStay=function(i){},r.onCollisionExit=function(i){},t}(c)).prototype,"type",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Ballistic}}),E=u))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./ViewUtil.ts"],(function(e){"use strict";var t,s,n,i,c,a,o,r;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){n=e.cclegacy,i=e._decorator,c=e.isValid,a=e.Component},function(e){o=e.EventDispatcher},function(e){r=e.ViewUtil}],execute:function(){var h;n._RF.push({},"9e3f8Q8IgZD9ZsZJ7OrkxWd","GameComponent",void 0);var u=i.ccclass;e("GameComponent",u("GameComponent")(h=function(e){function n(){for(var t,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._eventDispatcher=null,t._isBindMessageActive=!1,t.dynamicsAssets=[],t.nodes=new Map,t}t(n,e);var i=n.prototype;return i.bindMessageActive=function(){this._isBindMessageActive=!0},i.unbindMessageActive=function(){this._isBindMessageActive=!1},i.get=function(e){return this.nodes.get(e)},i.onLoad=function(){r.nodeTreeInfoLite(this.node,this.nodes)},i.addAutoReleaseAsset=function(e){c(e)&&(e.addRef(),this.dynamicsAssets.push(e))},i.addAutoReleaseAssets=function(e){var t=this;e.forEach((function(e){t.addAutoReleaseAsset(e)}))},i.on=function(e,t,s){var n=this;this.eventDispatcher.on(e,(function(e,i){n.isValid?n._isBindMessageActive?n.node.active&&t.call(s,e,i):t.call(s,e,i):n._eventDispatcher&&(n._eventDispatcher.destroy(),n._eventDispatcher=null)}),s)},i.off=function(e){this._eventDispatcher&&this._eventDispatcher.off(e)},i.dispatchEvent=function(e,t){void 0===t&&(t=null),this.eventDispatcher.dispatchEvent(e,t)},i.onDestroy=function(){this._eventDispatcher&&(this._eventDispatcher.destroy(),this._eventDispatcher=null),this.nodes.clear(),this.dynamicsAssets.forEach((function(e){e.decRef()})),this.dynamicsAssets.splice(0,this.dynamicsAssets.length)},s(n,[{key:"eventDispatcher",get:function(){return this._eventDispatcher||(this._eventDispatcher=new o),this._eventDispatcher}}]),n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.oops}],execute:function(){n._RF.push({},"54585zBsmtGfZEDczLG3SH5","GameConfig",void 0);t("GameConfig",function(){function t(t){this._data=null;var e=t.json;this._data=Object.freeze(e),a.log.logConfig(this._data,"游戏配置")}return e(t,[{key:"version",get:function(){return this._data.config.version}},{key:"package",get:function(){return this._data.config.package}},{key:"frameRate",get:function(){return this._data.config.frameRate}},{key:"localDataKey",get:function(){return this._data.config.localDataKey}},{key:"localDataIv",get:function(){return this._data.config.localDataIv}},{key:"httpServer",get:function(){return this._data.config.httpServer}},{key:"httpTimeout",get:function(){return this._data.config.httpTimeout}},{key:"language",get:function(){return this._data.language.type||["zh"]}},{key:"languagePathJson",get:function(){return this._data.language.path.json||"language/json"}},{key:"languagePathTexture",get:function(){return this._data.language.path.texture||"language/texture"}},{key:"bundleEnable",get:function(){return this._data.bundle.enable}},{key:"bundleServer",get:function(){return this._data.bundle.server}},{key:"bundleName",get:function(){return this._data.bundle.name}},{key:"bundleVersion",get:function(){return this._data.bundle.version}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConst.ts",["cc","./GameEnum.ts"],(function(e){"use strict";var t,n,a;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ESkillType,a=e.EFightState}],execute:function(){var i,o;e("EGameRankTypeName",void 0),t._RF.push({},"98c5aapluhJIb2/8YgMxBUE","GameConst",void 0);var c;e("SkillTypeStr",((i={})[n.ACTIVE]="主动",i[n.APPEND]="追击",i[n.PASSIVE]="被动",i)),e("FightStateStr",((o={})[a.NO_ACT]="不能行动",o[a.NO_ASKILL]="技能被封禁",o[a.NO_ATK]="不能普攻",o)),e("RoleModelResType",{DragonBone:1,Spine:2,Spine2:3,Spine3:4,DragonBone2:5});!function(e){e[e["关卡榜"]=0]="关卡榜",e[e["精英榜"]=1]="精英榜",e[e["竞技榜"]=2]="竞技榜",e[e["深渊榜"]=3]="深渊榜",e[e["魔渊榜"]=4]="魔渊榜",e[e["王者榜"]=5]="王者榜"}(c||(c=e("EGameRankTypeName",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnum.ts",["cc"],(function(E){"use strict";var A;return{setters:[function(E){A=E.cclegacy}],execute:function(){var _,R,T,S,L,O,D,I,N,U,M,G,P,C,e,B,t,i,F,o,n,V,W,u,H,Y,p,a,K,f,c,y,d,v,X,r,s,Q,l,m,g;E({CQType:void 0,EActType:void 0,EArenaSatate:void 0,EBuffRoundsType:void 0,EBuffTargetType:void 0,EBuffTrigger:void 0,EBuffType:void 0,EBuffUpType:void 0,EChatType:void 0,EComputeType:void 0,EDropType:void 0,EEmailState:void 0,EFightAct:void 0,EFightCamp:void 0,EFightResults:void 0,EFightState:void 0,EFightType:void 0,EFormula:void 0,EGameLevelType:void 0,EGameRankType:void 0,EGameRoleStatus:void 0,EGameRunState:void 0,EGuildPost:void 0,EHeroType:void 0,EItemType:void 0,EObjtype:void 0,EPSActType:void 0,EPSStatus:void 0,EServerType:void 0,EShopFreeType:void 0,EShopPayType:void 0,ESkillActive:void 0,ESkillQuality:void 0,ESkillType:void 0,EStatusCPType:void 0,EStatusTimeType:void 0,ETaskDataType:void 0,ETaskState:void 0,ETaskTriggerType:void 0,ETaskType:void 0,EquipAddType:void 0}),A._RF.push({},"2a32b0sjRBGP6mw0cJntHzp","GameEnum",void 0),function(E){E[E.GANME_LEVELS=1]="GANME_LEVELS",E[E.ELITE=2]="ELITE",E[E.ARENA=3]="ARENA",E[E.ABYSS_DRAGON=4]="ABYSS_DRAGON",E[E.UPGRADE=5]="UPGRADE",E[E.Demon_ABYSS=6]="Demon_ABYSS",E[E.Mercenary=7]="Mercenary",E[E.WRESTLE=8]="WRESTLE",E[E.ARENA_KF=9]="ARENA_KF",E[E.GANME_LEVELS2=10]="GANME_LEVELS2"}(_||(_=E("EFightType",{}))),function(E){E[E.HERO=1]="HERO",E[E.MONSTER=2]="MONSTER",E[E.ROBOT=3]="ROBOT",E[E.RARE_MONSTER=4]="RARE_MONSTER"}(R||(R=E("EObjtype",{}))),function(E){E[E.WIN=1]="WIN",E[E.DRAW=2]="DRAW",E[E.LOST=3]="LOST"}(T||(T=E("EFightResults",{}))),function(E){E[E.NONE=0]="NONE",E[E.OUR=1]="OUR",E[E.ENEMY=2]="ENEMY"}(S||(S=E("EFightCamp",{}))),function(E){E[E.ATK=1]="ATK",E[E.SKILL=2]="SKILL",E[E.ADDBUFF=3]="ADDBUFF",E[E.REMOVEBUFF=4]="REMOVEBUFF",E[E.UPBUFF=5]="UPBUFF",E[E.TRIGGER_BUFF=6]="TRIGGER_BUFF",E[E.ATKBACK=7]="ATKBACK",E[E.DOUBLEATK=8]="DOUBLEATK",E[E.MISS=9]="MISS",E[E.CRITE=10]="CRITE"}(L||(L=E("EFightAct",{}))),function(E){E[E.ACTIVE=1]="ACTIVE",E[E.APPEND=2]="APPEND",E[E.PASSIVE=3]="PASSIVE"}(O||(O=E("ESkillType",{}))),function(E){E[E.NO=1]="NO",E[E.ACTIVE=2]="ACTIVE"}(D||(D=E("ESkillActive",{}))),function(E){E[E.A=1]="A",E[E.S=2]="S",E[E.SS=3]="SS",E[E.SSR=4]="SSR"}(I||(I=E("ESkillQuality",{}))),function(E){E[E.NO_ACT=1]="NO_ACT",E[E.NO_ASKILL=2]="NO_ASKILL",E[E.NO_ATK=3]="NO_ATK",E[E.NO_ATKBACK=4]="NO_ATKBACK",E[E.NO_MISS=5]="NO_MISS",E[E.CONFUSION=6]="CONFUSION",E[E.NO_DAMAGE=7]="NO_DAMAGE",E[E.NO_DBUFF=8]="NO_DBUFF",E[E.NO_DOUBLEATK=9]="NO_DOUBLEATK"}(N||(N=E("EFightState",{}))),function(E){E[E.DAMAGE=1]="DAMAGE",E[E.ADD=2]="ADD",E[E.DEC=3]="DEC"}(U||(U=E("EBuffType",{}))),function(E){E[E.LV=1]="LV",E[E.ADD=2]="ADD"}(M||(M=E("EBuffUpType",{}))),function(E){E[E.TMP=1]="TMP",E[E.LONG=2]="LONG"}(G||(G=E("EBuffRoundsType",{}))),function(E){E[E.NONE=0]="NONE",E[E.SELF=1]="SELF",E[E.OUR=2]="OUR",E[E.ENEMY=3]="ENEMY",E[E.OUR_MIN_HP=4]="OUR_MIN_HP"}(P||(P=E("EBuffTargetType",{}))),function(E){E[E.ADD=1]="ADD",E[E.RSTART=2]="RSTART",E[E.REND=3]="REND",E[E.ACTSTART=4]="ACTSTART",E[E.ACTEND=5]="ACTEND",E[E.BEATK=6]="BEATK",E[E.BEDAMAGE=7]="BEDAMAGE"}(C||(C=E("EBuffTrigger",{}))),function(E){E[E.NONE=0]="NONE",E[E.SENDER=1]="SENDER",E[E.TARGET=2]="TARGET"}(e||(e=E("EComputeType",{}))),function(E){E[E.NONE=0]="NONE",E[E.ATKCP=1]="ATKCP",E[E.ADD=2]="ADD",E[E.MINUS=3]="MINUS"}(B||(B=E("EFormula",{}))),function(E){E[E.NORMAL=1]="NORMAL"}(t||(t=E("EquipAddType",{}))),function(E){E[E.ONE=1]="ONE",E[E.ALL=2]="ALL"}(i||(i=E("EDropType",{}))),function(E){E[E.NORMAL=1]="NORMAL",E[E.LEAD=2]="LEAD"}(F||(F=E("EHeroType",{}))),function(E){E[E.NORMAL=1]="NORMAL",E[E.MONEY=2]="MONEY",E[E.SKILL=3]="SKILL",E[E.PIRATE_SHIP=4]="PIRATE_SHIP",E[E.RARE_MST=5]="RARE_MST",E[E.TITLE=7]="TITLE",E[E.FASHION=8]="FASHION"}(o||(o=E("EItemType",{}))),function(E){E[E.LOGIN=1]="LOGIN",E[E.FIGHT_GAMELEVELS=2]="FIGHT_GAMELEVELS",E[E.SKILL_ACTIVE_POS=3]="SKILL_ACTIVE_POS",E[E.SKILL_ACTIVE=4]="SKILL_ACTIVE",E[E.SKILL_LEVEL_UP=5]="SKILL_LEVEL_UP",E[E.SKILL_SETUP=6]="SKILL_SETUP",E[E.SKILL_SETDOWN=7]="SKILL_SETDOWN",E[E.EQUIP_SETUP=8]="EQUIP_SETUP",E[E.EQUIP_SETDOWN=9]="EQUIP_SETDOWN",E[E.EQUIP_AUTOSETUP=10]="EQUIP_AUTOSETUP",E[E.EQUIP_SELL=11]="EQUIP_SELL",E[E.EQUIP_QUICKSELL=12]="EQUIP_QUICKSELL",E[E.HERO_EQUIP_POSUP=13]="HERO_EQUIP_POSUP",E[E.HERO_ALL_EQUIP_POSUP=14]="HERO_ALL_EQUIP_POSUP",E[E.HERO_LVUP=15]="HERO_LVUP",E[E.BOX_OPEN_EBOX=16]="BOX_OPEN_EBOX",E[E.BOX_LVUP_EBOX=17]="BOX_LVUP_EBOX",E[E.BOX_QUICKEN_EBOXCD=18]="BOX_QUICKEN_EBOXCD",E[E.BOX_CHECK_LVUP_EBOX=19]="BOX_CHECK_LVUP_EBOX",E[E.BOX_OPEN_SBOX=20]="BOX_OPEN_SBOX",E[E.EMAIL_GETDATA=21]="EMAIL_GETDATA",E[E.EMAIL_READ=22]="EMAIL_READ",E[E.EMAIL_AUTOREAD=23]="EMAIL_AUTOREAD",E[E.EMAIL_RECEIVE=24]="EMAIL_RECEIVE",E[E.EMAIL_AUTORECEIVE=25]="EMAIL_AUTORECEIVE",E[E.EMAIL_DELETE=26]="EMAIL_DELETE",E[E.EMAIL_AUTODELETE=27]="EMAIL_AUTODELETE",E[E.EMAIL_SEND=28]="EMAIL_SEND",E[E.TIME_AWARD_GET=29]="TIME_AWARD_GET",E[E.TIME_AWARD_GET_QUICK=30]="TIME_AWARD_GET_QUICK",E[E.FIGHT_ELITE_LEVELS=31]="FIGHT_ELITE_LEVELS",E[E.TASK_MAIN_GETAWARD=32]="TASK_MAIN_GETAWARD",E[E.TASK_DAILY_GETAWARD=33]="TASK_DAILY_GETAWARD",E[E.EBOX_SELL_TMPEQUIP=34]="EBOX_SELL_TMPEQUIP",E[E.EBOX_SAVE_TMPEQUIP=35]="EBOX_SAVE_TMPEQUIP",E[E.EBOX_SETUP_TMPEQUIP=36]="EBOX_SETUP_TMPEQUIP",E[E.TASK_DAILYBOX_GETAWARD=37]="TASK_DAILYBOX_GETAWARD",E[E.WELFARE_DAILY_AWARD=38]="WELFARE_DAILY_AWARD",E[E.WELFARE_LEVEL_AWARD=39]="WELFARE_LEVEL_AWARD",E[E.WELFARE_PAID_DAYS_AWARD=40]="WELFARE_PAID_DAYS_AWARD",E[E.WELFARE_PD_DAILY_AWARD=41]="WELFARE_PD_DAILY_AWARD",E[E.SHOP_BUY_ITEM=42]="SHOP_BUY_ITEM",E[E.SHOP_PAY_BUY_ITEM=43]="SHOP_PAY_BUY_ITEM",E[E.MONTHCARD_GET_AWARD=44]="MONTHCARD_GET_AWARD",E[E.FUND_LEVEL_GET_AWARD=45]="FUND_LEVEL_GET_AWARD",E[E.FUND_EBOX_GET_AWARD=46]="FUND_EBOX_GET_AWARD",E[E.BOX_ADV_QUICKEN_EBOXCD=47]="BOX_ADV_QUICKEN_EBOXCD",E[E.MEDAL_UPLEVEL=48]="MEDAL_UPLEVEL",E[E.ARENA_FIGHT=49]="ARENA_FIGHT",E[E.PS_INIT=50]="PS_INIT",E[E.PS_UPDATE=51]="PS_UPDATE",E[E.PS_GO_ACT=52]="PS_GO_ACT",E[E.GET_RESET_DAILY=53]="GET_RESET_DAILY",E[E.PS_GET_WELFARE_AWARD=54]="PS_GET_WELFARE_AWARD",E[E.PS_SELL_LVUP=55]="PS_SELL_LVUP",E[E.PS_DAILY_AWARD=56]="PS_DAILY_AWARD",E[E.PS_S_AWARD=57]="PS_S_AWARD",E[E.PS_GET_RANK=58]="PS_GET_RANK",E[E.DAILY_RESET=59]="DAILY_RESET",E[E.ARENA_SHOW=60]="ARENA_SHOW",E[E.GM_CMD=61]="GM_CMD",E[E.HERO_MAIN_LVUP=62]="HERO_MAIN_LVUP",E[E.FIGHT_SWEEP=63]="FIGHT_SWEEP",E[E.BE_SEND_CSHOP=64]="BE_SEND_CSHOP",E[E.UPDATE_ROLESTATUS=65]="UPDATE_ROLESTATUS",E[E.RANK_LIST=66]="RANK_LIST",E[E.RECHARGE_GIFT=67]="RECHARGE_GIFT",E[E.ROLE_UPICO=68]="ROLE_UPICO",E[E.EAT_FRUIT=69]="EAT_FRUIT",E[E.FIGHT_ABYSS_DRAGON=70]="FIGHT_ABYSS_DRAGON",E[E.AD_DAMAGEAWARD=71]="AD_DAMAGEAWARD",E[E.DAILY_AWARD=72]="DAILY_AWARD",E[E.GET_ADRANK=73]="GET_ADRANK",E[E.TIME_AWARD_DIAMOND_INFO=74]="TIME_AWARD_DIAMOND_INFO",E[E.UPGRADE=75]="UPGRADE",E[E.BE_CHANGE_SERVER_STATUS=76]="BE_CHANGE_SERVER_STATUS",E[E.TASK_UPGRADE_GETAWARD=77]="TASK_UPGRADE_GETAWARD",E[E.BE_MERGE_SERVER=78]="BE_MERGE_SERVER",E[E.AUREOLEUP=79]="AUREOLEUP",E[E.AUREOLEACT=80]="AUREOLEACT",E[E.AUREOLEUSE=81]="AUREOLEUSE",E[E.DEMON_ABYSS_FIGHT=82]="DEMON_ABYSS_FIGHT",E[E.DEMON_ABYSS_DAILY_AWARDS=83]="DEMON_ABYSS_DAILY_AWARDS",E[E.DEMON_ABYSS_GET_AWARDS=84]="DEMON_ABYSS_GET_AWARDS",E[E.MERCENARY_ACT=85]="MERCENARY_ACT",E[E.MERCENARY_Up=86]="MERCENARY_Up",E[E.BE_AUTO_MAINTAINS_SERVER=87]="BE_AUTO_MAINTAINS_SERVER",E[E.BE_AUTO_OPEN_SERVER=88]="BE_AUTO_OPEN_SERVER",E[E.MERCENARY_FIGHT=89]="MERCENARY_FIGHT",E[E.MERCENARY_GO=90]="MERCENARY_GO",E[E.MERCENARY_UPDATA=91]="MERCENARY_UPDATA",E[E.FOREVERCARD_GET_AWARD=92]="FOREVERCARD_GET_AWARD",E[E.RARE_MONSTER=93]="RARE_MONSTER",E[E.RARE_MONSTER_FIGHT=94]="RARE_MONSTER_FIGHT",E[E.RARE_MONSTER_CHANGE=95]="RARE_MONSTER_CHANGE",E[E.RARE_MONSTER_PARK=96]="RARE_MONSTER_PARK",E[E.RARE_MONSTER_SUIT=97]="RARE_MONSTER_SUIT",E[E.DEMON_ABYSS_DAILY_BUYITEM=98]="DEMON_ABYSS_DAILY_BUYITEM",E[E.WRESTLE_PK=99]="WRESTLE_PK",E[E.WRESTLE_CHANGE=100]="WRESTLE_CHANGE",E[E.WRESTLE_CARD=101]="WRESTLE_CARD",E[E.BE_FIND_ROLES=102]="BE_FIND_ROLES",E[E.SYS_OPEN_AWARD=103]="SYS_OPEN_AWARD",E[E.BE_GET_CHAT_LOG=104]="BE_GET_CHAT_LOG",E[E.TITLE_ACTIVE=105]="TITLE_ACTIVE",E[E.TITLE_DRESS=106]="TITLE_DRESS",E[E.TITLE_UNDRESS=107]="TITLE_UNDRESS",E[E.FASHION_ACTIVE=108]="FASHION_ACTIVE",E[E.FASHION_DRESS=109]="FASHION_DRESS",E[E.FASHION_UNDRESS=110]="FASHION_UNDRESS",E[E.BE_SET_CROSSSERVER_ID=111]="BE_SET_CROSSSERVER_ID",E[E.BE_CREATE_CROSS_SERVER=112]="BE_CREATE_CROSS_SERVER",E[E.BE_DELETE_CROSS_SERVER=113]="BE_DELETE_CROSS_SERVER",E[E.TASK_OPEN_WERFARE_GETAWARD=114]="TASK_OPEN_WERFARE_GETAWARD",E[E.GET_OPEN_WERFARE_POINT_AWARD=115]="GET_OPEN_WERFARE_POINT_AWARD",E[E.BOX_OPEN_XUNBAO=116]="BOX_OPEN_XUNBAO",E[E.XUNBAO_AWARD=117]="XUNBAO_AWARD",E[E.GUILD=118]="GUILD",E[E.GUILD_CREATE=119]="GUILD_CREATE",E[E.GUILD_JOIN=120]="GUILD_JOIN",E[E.GUILD_LEAVE=121]="GUILD_LEAVE",E[E.GUILD_CHANGE=122]="GUILD_CHANGE",E[E.CQ_UP=123]="CQ_UP"}(n||(n=E("EActType",{}))),function(E){E[E.UNREAD=0]="UNREAD",E[E.READ=1]="READ",E[E.RECEIVED=2]="RECEIVED",E[E.Deleted=3]="Deleted"}(V||(V=E("EEmailState",{}))),function(E){E[E.MAIN=0]="MAIN",E[E.DAILY=1]="DAILY",E[E.UPGRADE=2]="UPGRADE",E[E.HIDE=3]="HIDE",E[E.OPEN_WELFARE=4]="OPEN_WELFARE",E[E.GUILD=5]="GUILD",E[E.LEVEL=6]="LEVEL"}(W||(W=E("ETaskType",{}))),function(E){E[E.EXECUTING=0]="EXECUTING",E[E.ALWAYS=1]="ALWAYS"}(u||(u=E("ETaskTriggerType",{}))),function(E){E[E.NONE=0]="NONE",E[E.GANME_LEVELS=1]="GANME_LEVELS",E[E.ELITE_LEVELS=2]="ELITE_LEVELS",E[E.EBOX_LV=3]="EBOX_LV",E[E.MEDAL_LV=4]="MEDAL_LV",E[E.HERO_LV=5]="HERO_LV",E[E.GRADE_LV=6]="GRADE_LV"}(H||(H=E("ETaskDataType",{}))),function(E){E[E.NOT_RECEIVE=0]="NOT_RECEIVE",E[E.RECEIVED=1]="RECEIVED"}(Y||(Y=E("ETaskState",{}))),function(E){E[E.RECHARGE=0]="RECHARGE",E[E.GAME_MONEY_ITEM=1]="GAME_MONEY_ITEM"}(p||(p=E("EShopPayType",{}))),function(E){E[E.RECHARGE=0]="RECHARGE",E[E.GAME_MONEY_ITEM=1]="GAME_MONEY_ITEM"}(a||(a=E("EShopFreeType",{}))),function(E){E[E.FOREVER=0]="FOREVER",E[E.TIME_LIMIT=1]="TIME_LIMIT"}(K||(K=E("EStatusTimeType",{}))),function(E){E[E.COUNT=0]="COUNT",E[E.SWITCH=1]="SWITCH"}(f||(f=E("EStatusCPType",{}))),function(E){E[E.MOVE_CELL=0]="MOVE_CELL",E[E.RANDOM_ADD_CELLITEM=1]="RANDOM_ADD_CELLITEM",E[E.ADD_CELL_ITEM=2]="ADD_CELL_ITEM",E[E.FIRE_SHELL=3]="FIRE_SHELL",E[E.ADD_BUFF=4]="ADD_BUFF",E[E.TRIGGER_BUFF=5]="TRIGGER_BUFF",E[E.REMOVE_BUFF=6]="REMOVE_BUFF",E[E.NEXT_SHIP=7]="NEXT_SHIP",E[E.OVER=8]="OVER"}(c||(c=E("EPSActType",{}))),function(E){E[E.RUNING=0]="RUNING",E[E.NEXT_SHIP=1]="NEXT_SHIP",E[E.OVER=2]="OVER"}(y||(y=E("EPSStatus",{}))),function(E){E[E.NORMAL=0]="NORMAL",E[E.DELETED=1]="DELETED"}(d||(d=E("EArenaSatate",{}))),function(E){E[E.NORMAL=0]="NORMAL",E[E.TEST=1]="TEST"}(v||(v=E("EGameRunState",{}))),function(E){E[E.NORMAL=0]="NORMAL",E[E.DISABLE=1]="DISABLE",E[E.MUTED=2]="MUTED"}(X||(X=E("EGameRoleStatus",{}))),function(E){E[E.LEVEL=0]="LEVEL",E[E.ELITE=1]="ELITE",E[E.ARENA=2]="ARENA",E[E.ABYSS_DRAGON=3]="ABYSS_DRAGON",E[E.DEMONABYSS=4]="DEMONABYSS",E[E.WRESTLE=5]="WRESTLE",E[E.CROSS_ARENA=6]="CROSS_ARENA",E[E.SEASON_ARENA=1002]="SEASON_ARENA",E[E.SEASON_CROSS_ARENA=1006]="SEASON_CROSS_ARENA"}(r||(r=E("EGameRankType",{}))),function(E){E[E.NORMAL=1]="NORMAL",E[E.ELITE=2]="ELITE",E[E.ABYSS_DRAGON=3]="ABYSS_DRAGON",E[E.Upgrade=4]="Upgrade",E[E.Demon_ABYSS=5]="Demon_ABYSS"}(s||(s=E("EGameLevelType",{}))),function(E){E[E.Server=1]="Server",E[E.Guild=2]="Guild"}(Q||(Q=E("EChatType",{}))),function(E){E[E.LOCAL=0]="LOCAL",E[E.CROSS=1]="CROSS"}(l||(l=E("EServerType",{}))),function(E){E[E.LEADER=1]="LEADER",E[E.MEMBER=5]="MEMBER"}(m||(m=E("EGuildPost",{}))),function(E){E[E.STONE=1]="STONE",E[E.FORFEX=2]="FORFEX",E[E.CLOTH=3]="CLOTH"}(g||(g=E("CQType",{}))),A._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var t;e("GameEvent",void 0),a._RF.push({},"28ac0rWU79HGpJWrnyK01Gn","GameEvent",void 0),function(e){e.GameServerConnected="GameServerConnected",e.LoginSuccess="LoginSuccess",e.LoginError="LoginError",e.DailyReset="DailyReset",e.NewSystem="NewSystem",e.Tick1S="Tick1S",e.Tick5S="Tick5S",e.Tick60S="Tick60S",e.DockBtnActive="DockBtnActive",e.RefreshBtnLTpart="RefreshBtnLTpart",e.HeadPickerSync="HeadPickerSync",e.BattleRecord="BattleRecord",e.BattleRound="BattleRound",e.BattleReady="BattleReady",e.BattleFinish="BattleFinish",e.BattleSkip="BattleSkip",e.BattleHPChange="BattleHPChange",e.SkillPosSelected="SkillPosSelected",e.SkillPosUpdated="SkillPosUpdated",e.SkillActived="SkillActived",e.SkillUp="SkillUp",e.SkillSuitUp="SkillSuitUp",e.EquipBagUpdated="EquipBagUpdated",e.EquipPosUpdated="EquipPosUpdated",e.ItemBagUpdated="ItemBagUpdated",e.HeroExpUpdated="HeroExpUpdated",e.HeroLevelUp="HeroLevelUp",e.RoleUpdated="RoleUpdated",e.RoleUnlocked="RoleUnlocked",e.HeroHead="HeroHead",e.EBoxUpdated="EBoxUpdated",e.EBoxLvUp="EBoxLvUp",e.EBoxDatieStartAuto="EBoxDatieStartAuto",e.EBoxDatieSell="EBoxDatieSell",e.EBoxDatieResult="EBoxDatieResult",e.EBoxDatieManualOpResult="EBoxDatieManualOpResult",e.SBoxBuy="SBoxBuy",e.SBoxOpened="SBoxOpened",e.TimeAwardRedot="TimeAwardRedot",e.GiftPackLimitRefresh="GiftPackLimitRefresh",e.WelfareUpdateRed="WelfareUpdateRed",e.TaskDailyUpdated="TaskDailyUpdated",e.TaskMainUpdated="TaskMainUpdated",e.TaskMainFinished="TaskMainFinished",e.TaskUpgradeUpdated="TaskUpgradeUpdated",e.YongbingOp="YongbingOp",e.ChatHistoryMsg="ChatHistoryMsg",e.ChatNewMsg="ChatNewMsg",e.ChatPickEmoji="ChatPickEmoji",e.StoreBuyItem="StoreBuyItem",e.StoreWelfareRedot="StoreWelfareRedot",e.StoreDailyGiftRedot="StoreDailyGiftRedot",e.YuekaUpdateRed="YuekaUpdateRed",e.FirstRechargeRed="FirstRechargeRed",e.YuekaXTLv="YuekaLv",e.YuekaLevelLv="YuekaLevelLv",e.EliteLevelRed="EliteLevelRed",e.FubenEliteLevel="FubenEliteLevel",e.FubenAbyssDragonRed="FubenAbyssDragonRed",e.Goto="Goto",e.GotoMain="GotoMain",e.DuobaoOperation="DuobaoOperation",e.DuobaoSettle="DuobaoSettle",e.DuobaoKill="DuobaoKill",e.DuobaoFreshShip="DuobaoFreshShip",e.AreneRank="AreneRank",e.ArenaChallenge="ArenaChallenge",e.EmailList="EmailList",e.EmailRed="EmailRed",e.SetSercer="SetSercer",e.GMOrder="GMOrder",e.GameOver="GameOver",e.DemonAbyssRed="DemonAbyssRed",e.YishouLevelUpdate="YishouLevelUpdate",e.YishouDeployChange="YishouDeployChange",e.YishouGacha="YishouGacha",e.YishouSkipStateChange="YishouSkipStateChange",e.YishouResonateUpgrade="YishouResonateUpgrade",e.MercenaryRed="MercenaryRed",e.JourneyGetReward="JourneyGetReward",e.WrestleFresh="WrestleFresh",e.TitleDressEd="TitleDressEd",e.TitleExpired="TitleExpired",e.FashionDressed="FashionDressed",e.FashionExpired="FashionExpired",e.TaskWOSUpadte="TaskWOSUpadte",e.XunbaoOpen="XunbaoOpen",e.XunbaoAward="XunbaoAward",e.XunbaoOp="XunbaoOp",e.GuildChooseCreateFlag="GuildChooseCreateFlag",e.GuildInfoChange="GuildInfoChange",e.GuildApplyRed="GuildApplyRed",e.GuildTaskUpdate="GuildTaskUpdate",e.GuildLivenessUpdate="GuildLivenessUpdate",e.GuideStart="GuideStart",e.GuideFinished="GuideFinished",e.GuideTrigger="GuideTrigger"}(t||(t=e("GameEvent",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["cc"],(function(e){"use strict";var t,a,i;return{setters:[function(e){t=e.cclegacy,a=e.game,i=e.Game}],execute:function(){t._RF.push({},"73fa0CEfOhMdJUoZwoFIIZV","GameManager",void 0);var n=1;e("GameManager",function(){function e(e){this.root=e,this.gameTimeScaleExtend()}var t=e.prototype;return t.setTimeScale=function(e){n=e},t.gameTimeScaleExtend=function(){a._calculateDT=function(e){return e||(e=performance.now()),this._deltaTime=e>this._startTime?(e-this._startTime)/1e3:0,this._deltaTime>i.DEBUG_DT_THRESHOLD&&(this._deltaTime=this.frameTime/1e3),this._startTime=e,this._deltaTime*n}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameQueryConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./StringUtil.ts"],(function(t){"use strict";var e,n,r,i,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,r=t.sys},function(t){i=t.oops},function(t){o=t.StringUtil}],execute:function(){n._RF.push({},"d09acUxcU5Hg4kUjKxVEWLy","GameQueryConfig",void 0);t("GameQueryConfig",function(){function t(){this._data=null,r.isBrowser?(this._data=this.parseUrl(),this._data.username||(this._data.username=o.guid()),i.log.logConfig(this._data,"查询参数")):this._data={}}return t.prototype.parseUrl=function(){if("object"!=typeof window)return{};if(!window.document)return{};var t=window.document.location.href.toString().split("?");if("string"==typeof t[1]){for(var e={},n=0,r=(t=t[1].split("&")).length;n<r;++n){var i=t[n],o=i.indexOf("=");if(!(o<0)){var a=i.substring(0,o),s=i.substring(o+1);e[decodeURIComponent(a)]=s&&decodeURIComponent(s)}}return e}return{}},e(t,[{key:"debug",get:function(){return this._data.debug}},{key:"username",get:function(){return this._data.username}},{key:"lang",get:function(){return this._data.lang||"zh"}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./HttpChannelManager.ts","./NetProtocol.ts","./GameRankItem.ts"],(function(e){"use strict";var t,n,r,i,a,o,s,u,l,c,p,f,m,h,d,b,C,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,l=e.Button,c=e.Prefab,p=e.Node,f=e.instantiate,m=e.Component},function(e){h=e.oops},function(e){d=e.EGameRankType},function(e){b=e.httpChannel},function(e){C=e.MsgID},function(e){y=e.GameRankItem}],execute:function(){var k,v,g,G,R,I,L,w,E;s._RF.push({},"c05eddtQJ9Gs4X7CWZtGbTE","GameRank",void 0);var D=u.ccclass,T=u.property;e("GameRank",(k=D("GameRank"),v=T(l),g=T(c),G=T(p),k((L=t((I=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"btnClose",L,i(t)),r(t,"prefabGameRankItem",w,i(t)),r(t,"nodeContentList",E,i(t)),t}n(t,e);var s=t.prototype;return s.start=function(){this.btnClose.node.on(l.EventType.CLICK,this.onClickClose,this),this.getUIData()},s.getUIData=function(){var e=a(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[d.LEVEL,d.ELITE,d.DEMONABYSS],n={type:t},e.next=4,b.reqAsync(C.WorldRank,n);case 4:if(null!=(r=e.sent)&&r.ok){e.next=7;break}return e.abrupt("return");case 7:this.initView(r.data);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initView=function(e){for(var t in this.nodeContentList.removeAllChildren(),e){var n=f(this.prefabGameRankItem);if(!n)return;this.nodeContentList.addChild(n),n.getComponent(y).initView(Number(t),e[t])}},s.onClickClose=function(){h.gui.removeByNode(this.node,!0)},t}(m)).prototype,"btnClose",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(I.prototype,"prefabGameRankItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(I.prototype,"nodeContentList",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=I))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameConst.ts","./GameEnum.ts","./GameResPath.ts","./GameUIConfig.ts","./PlayerHead.ts"],(function(e){"use strict";var t,i,n,r,a,l,o,s,p,f,c,u,h,b,m,g,y,k,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Button,s=e.Label,p=e.Node,f=e.math,c=e.Sprite,u=e.Component},function(e){h=e.oops},function(e){b=e.ViewUtil},function(e){m=e.EGameRankTypeName},function(e){g=e.EGameRankType},function(e){y=e.GameResPath},function(e){k=e.UIID},function(e){C=e.PlayerHead}],execute:function(){var d,R,w,T,E,G,L,P,V,v,_,I,N;a._RF.push({},"b67fcnGnkVFRryuVVld0CZH","GameRankItem",void 0);var z=l.ccclass,H=l.property;e("GameRankItem",(d=z("GameRankItem"),R=H(o),w=H(s),T=H(s),E=H(s),G=H(p),d((V=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"btnClick",V,r(t)),n(t,"lblrankName",v,r(t)),n(t,"lblplayerName",_,r(t)),n(t,"lblfightPower",I,r(t)),n(t,"nodePlayerHead",N,r(t)),t.rankType=g.LEVEL,t.stringColor=["fff6d2","ffc5e8","ffffff","ffffff","fff600"],t.spriteBgRes=["img_phblb3","img_phblb","img_phblb","img_phblb","img_phblb2","img_phblb4"],t}i(t,e);var a=t.prototype;return a.start=function(){this.btnClick.node.on(o.EventType.CLICK,this.onClick,this)},a.initView=function(e,t){this.rankType=e,this.nodePlayerHead.getComponent(C).initView(t.ico),this.lblrankName.string=m[this.rankType]?m[this.rankType]:m[g.LEVEL],this.lblplayerName.string=t.name?t.name:"虚席以待",this.lblfightPower.string="战力:"+(t.fight?t.fight:"未知"),this.lblplayerName.color=new f.Color(this.stringColor[this.rankType]?this.stringColor[this.rankType]:this.stringColor[g.LEVEL]);var i=this.spriteBgRes[this.rankType]?this.spriteBgRes[this.rankType]:this.spriteBgRes[g.LEVEL];b.loadSpriteFrame(this.btnClick.getComponent(c),y.getSpriteFrameRank(i))},a.onClick=function(){var e={type:this.rankType};h.gui.open(k.FightRank,e)},a.onDestroy=function(){},t}(u)).prototype,"btnClick",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(P.prototype,"lblrankName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"lblplayerName",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(P.prototype,"lblfightPower",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(P.prototype,"nodePlayerHead",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=P))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameResCache.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./TableAnimConfig.ts"],(function(e){"use strict";var n,r,t,i,a,o,l,u,s,c,p,f,b,m,h,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime,l=e.createClass},function(e){u=e.cclegacy,s=e._decorator,c=e.Prefab,p=e.AnimationClip,f=e.SpriteFrame,b=e.instantiate,m=e.Component},function(e){h=e.oops},function(e){d=e.TableAnimConfig}],execute:function(){var y,g,R,v,w,_,C,G,z,M,P,A,E,k,B,I;u._RF.push({},"2e5c1oP0P5J9aWMCP1wTE0j","GameResCache",void 0);var T=s.ccclass,x=s.property;e("GameResCache",(y=T("GameResCache"),g=x(c),R=x(c),v=x(c),w=x(c),_=x(c),C=x(c),y(((I=function(e){function n(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,t(n,"pfbZhiyin",M,i(n)),t(n,"pfbBagItem",P,i(n)),t(n,"pfbEquipItem",A,i(n)),t(n,"pfbMainBtn",E,i(n)),t(n,"pfbRedot",k,i(n)),t(n,"pfbGuide",B,i(n)),n._anims=new Map,n}r(n,e);var u=n.prototype;return u.onLoad=function(){n._instance=this},u.createAnimClipAsync=function(e,n){var r=this;return void 0===n&&(n=p.WrapMode.Normal),new Promise(a(o().mark((function t(i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r._anims.has(e)){t.next=3;break}return i(r._anims.get(e)),t.abrupt("return");case 3:if(a=d[e]){t.next=8;break}return console.error("ERR no cfg"),i(null),t.abrupt("return");case 8:h.res.loadDir("game/anim2/"+e,f,(function(t,o){if(t)return console.error("ERR load spriteframes"),void i(null);if(0==o.length)return console.error("ERR no spriteframes"),void i(null);var l=p.createWithSpriteFrames(o,a.fps_s);l.wrapMode=n,r._anims.set(e,l),i(l)}));case 9:case"end":return t.stop()}}),t)}))))},u.createZhiyin=function(){return b(this.pfbZhiyin)},u.createRedot=function(){return b(this.pfbRedot)},u.createGuide=function(){return b(this.pfbGuide)},l(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(m))._instance=void 0,M=n((z=I).prototype,"pfbZhiyin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(z.prototype,"pfbBagItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(z.prototype,"pfbEquipItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(z.prototype,"pfbMainBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(z.prototype,"pfbRedot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(z.prototype,"pfbGuide",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=z))||G));u._RF.pop()}}}));

System.register("chunks:///_virtual/GameResPath.ts",["cc","./TableGameAttr.ts","./TableGameEquipPos.ts"],(function(e){"use strict";var t,r,i;return{setters:[function(e){t=e.cclegacy},function(e){r=e.GameAttrKey},function(e){i=e.TableGameEquipPos}],execute:function(){var n,u,a;t._RF.push({},"da7c04REk1B3ISEN54JyYG1","GameResPath",void 0);e("GameResPath",function(){function e(){}return e.getModelPath=function(e){return{skeleton:"model/"+e+"/"+e+"_ske",atlas:"model/"+e+"/"+e+"_tex"}},e.getSpineModelPath=function(e){return e.includes("/")?"model/"+e:"model/"+e+"/"+e},e.getAttackEfxPath=function(e){return{skeleton:"game/anim3/"+e+"_ske",atlas:"game/anim3/"+e+"_tex"}},e.getSpriteFrameCommon=function(e){return"common/texture/"+e+"/spriteFrame"},e.getSpriteFrameMain=function(e){return"gui/main/texture/"+e+"/spriteFrame"},e.getSpriteFrameEquip=function(e){return"gui/equip/texture/"+e+"/spriteFrame"},e.getSpriteFrameHead=function(e){return"gui/setting/texture/head_icon/"+e+"/spriteFrame"},e.getSpriteFrameHeadMonster=function(e){return"gui/mercenary/texture/head_icon/"+e+"/spriteFrame"},e.getSpriteFrameHeadYishou=function(e){return"gui/yishou/texture/head_icon/"+e+"/spriteFrame"},e.getSpriteFrameWelfare=function(e){return"gui/welfare/texture/"+e+"/spriteFrame"},e.getSpriteFrameYueka=function(e){return"gui/yueka/texture/"+e+"/spriteFrame"},e.getSpriteFrameRank=function(e){return"gui/rank/texture/"+e+"/spriteFrame"},e.getBattleBackgroundTexture=function(e){return"game/texture/"+e+"/texture"},e.getEquipSpriteFrame=function(e){return"gui/main/atlas/"+i[e.pos].iconFmt+e.icon+"/spriteFrame"},e.getSkillSpriteFrame=function(e){return"gui/main/atlas/skill/"+e.icon+"/spriteFrame"},e.getBuffSpriteFrame=function(e){return"gui/main/atlas/buff/"+e.icon+"/spriteFrame"},e.getItemSpriteFrame=function(e){return"number"==typeof e?"gui/main/atlas/item/"+e+"/spriteFrame":"gui/main/atlas/item/"+e.icon+"/spriteFrame"},e.getItemQualitySpriteFrame=function(e){var t,r=null!=(t=m[e])?t:m[0];return this.getSpriteFrameCommon(r)},e.getGameChapterPrefabPath=function(e){return"gui/main/"+e.map_prefab},e.getDuobaoSpriteFrame=function(e){return"gui/duobao/texture/"+e+"/spriteFrame"},e.getSpriteFrameMedal=function(e){return"gui/medal/texture/"+e+"/spriteFrame"},e.getSpriteFrameFirstRecharge=function(e){return"gui/firstRecharge/texture/"+e+"/spriteFrame"},e.getSpriteFrameSetting=function(e){return"gui/setting/texture/"+e+"/spriteFrame"},e.getSpriteFrameSettlement=function(e){return"gui/settlement/texture/"+e+"/spriteFrame"},e.getSpriteFrameFuben=function(e){return"gui/fuben/texture/"+e+"/spriteFrame"},e.getSpriteFrameYongbing=function(e){return"gui/yongbing/texture/"+e+"/spriteFrame"},e.getSpriteFrameHalo=function(e){return"gui/halo/texture/"+e+"/spriteFrame"},e.getSpriteFrameGift=function(e){return"gui/gift/texture/"+e+"/spriteFrame"},e.getSpriteFrameWrestle=function(e){return"gui/wrestle/texture/"+e+"/spriteFrame"},e.getSpriteFrameWrestleCard=function(e){return"gui/wrestle/texture/level_icon/"+e+"/spriteFrame"},e}()),e("AttrIcon",((n={})[r.hp]="img_shengming",n[r.atk]="img_gongji",n[r.def]="img_fangyu",n[r.atkspeed]="img_mjtb",n));var m=((u={})[0]="img_zbtb_1",u[1]="img_zbtb_3",u[2]="img_zbtb_5",u[3]="img_zbtb_8",u[4]="img_zbtb_9",u);e("RankIcon",((a={})[1]="img_dym",a[2]="img_dem",a[3]="img_dsm",a)),e("AudioClipMusic",{Main:"audio/bgm_main",Game:"audio/bgm_game"}),e("AudioClipEffect",{Datie:"audio/datie",DuobaoFire:"audio/duobao_fire",RoleAttack:"audio/role_atk",RoleSkill:"audio/role_skill",DuobaoDice:"audio/dice",LevelUp:"audio/lv_up",RoleEquipChange:"audio/equip_change",Coin:"audio/coin"});t._RF.pop()}}}));

System.register("chunks:///_virtual/GameUIConfig.ts",["cc","./LayerManager.ts","./TableGameSys.ts"],(function(e){"use strict";var a,i,r,l,o;return{setters:[function(e){a=e.cclegacy,i=e.tween,r=e.Vec3},function(e){l=e.LayerType},function(e){o=e.GameSysKey}],execute:function(){var p,u,n;e({DockBtnType:void 0,UIID:void 0}),a._RF.push({},"14663z2+5JJIYupyDayZnc3","GameUIConfig",void 0),function(e){e[e.Loading=1]="Loading",e[e.Window=2]="Window",e[e.Netinstable=3]="Netinstable",e[e.Demo=4]="Demo",e[e.Login=5]="Login",e[e.Main=6]="Main",e[e.Level=7]="Level",e[e.Battle=8]="Battle",e[e.Equip=9]="Equip",e[e.EquipPosUpgrade=10]="EquipPosUpgrade",e[e.EquipSell=11]="EquipSell",e[e.EquipAttrView=12]="EquipAttrView",e[e.Shiguo=13]="Shiguo",e[e.RoleLevelUp=14]="RoleLevelUp",e[e.Box=15]="Box",e[e.EBoxSetting=16]="EBoxSetting",e[e.EboxBuyTip=17]="EboxBuyTip",e[e.BoxUpgrade=18]="BoxUpgrade",e[e.BoxAccelerate=19]="BoxAccelerate",e[e.Skill=20]="Skill",e[e.SkillSell=21]="SkillSell",e[e.SkillGacha=22]="SkillGacha",e[e.SkillHandbook=23]="SkillHandbook",e[e.SkillHandbookInfo=24]="SkillHandbookInfo",e[e.Fuben=25]="Fuben",e[e.EliteLevels=26]="EliteLevels",e[e.Duobao=27]="Duobao",e[e.AbyssDragon=28]="AbyssDragon",e[e.AbyssDragonRank=29]="AbyssDragonRank",e[e.AbyssDragonReward=30]="AbyssDragonReward",e[e.Welfare=31]="Welfare",e[e.DailyTask=32]="DailyTask",e[e.Store=33]="Store",e[e.Bazzar=34]="Bazzar",e[e.GameRank=35]="GameRank",e[e.Yueka=36]="Yueka",e[e.YuekaXuanTie=37]="YuekaXuanTie",e[e.YuekaZS=38]="YuekaZS",e[e.YuekaLifeTime=39]="YuekaLifeTime",e[e.YuekaWelfare=40]="YuekaWelfare",e[e.Medal=41]="Medal",e[e.MedalStageInfo=42]="MedalStageInfo",e[e.Arena=43]="Arena",e[e.ArenaChallenge=44]="ArenaChallenge",e[e.ArenaReward=45]="ArenaReward",e[e.ArenaLog=46]="ArenaLog",e[e.ArenaKF=47]="ArenaKF",e[e.ArenaChallengeKF=48]="ArenaChallengeKF",e[e.ArenaRewardKF=49]="ArenaRewardKF",e[e.ArenaLogKF=50]="ArenaLogKF",e[e.Email=51]="Email",e[e.EmailInfo=52]="EmailInfo",e[e.FirstRecharge=53]="FirstRecharge",e[e.Setting=54]="Setting",e[e.SetCodeGift=55]="SetCodeGift",e[e.SetReName=56]="SetReName",e[e.SetServer=57]="SetServer",e[e.SetNotice=58]="SetNotice",e[e.GMOrder=59]="GMOrder",e[e.GMNum=60]="GMNum",e[e.GiftPackLimitTime=61]="GiftPackLimitTime",e[e.GiftPackSuperValue=62]="GiftPackSuperValue",e[e.GiftPackSuperValueSingle=63]="GiftPackSuperValueSingle",e[e.GiftPackSuperValueSingleSelfChoose=64]="GiftPackSuperValueSingleSelfChoose",e[e.GiftPackSuperValueSingleSelfChoosePop=65]="GiftPackSuperValueSingleSelfChoosePop",e[e.YongBing=66]="YongBing",e[e.Lock=67]="Lock",e[e.Halo=68]="Halo",e[e.DemonAbyss=69]="DemonAbyss",e[e.DemonBuy=70]="DemonBuy",e[e.Mercenary=71]="Mercenary",e[e.MercenarySendGift=72]="MercenarySendGift",e[e.MercenaryFight=73]="MercenaryFight",e[e.MercenaryFriend=74]="MercenaryFriend",e[e.MercenaryExchange=75]="MercenaryExchange",e[e.MercenaryPosInfo=76]="MercenaryPosInfo",e[e.MercenaryTips=77]="MercenaryTips",e[e.Wrestle=78]="Wrestle",e[e.WrestleCard=79]="WrestleCard",e[e.Journey=80]="Journey",e[e.Chat=81]="Chat",e[e.CQPlay=82]="CQPlay",e[e.Win=83]="Win",e[e.Lose=84]="Lose",e[e.WinArena=85]="WinArena",e[e.LoseArena=86]="LoseArena",e[e.ADSettlement=87]="ADSettlement",e[e.Guaji=88]="Guaji",e[e.TipSkill=89]="TipSkill",e[e.TipEquip=90]="TipEquip",e[e.TipItem=91]="TipItem",e[e.TipAttr=92]="TipAttr",e[e.TipReward=93]="TipReward",e[e.TipLevel=94]="TipLevel",e[e.TipLevel2=95]="TipLevel2",e[e.TipEquipReplace=96]="TipEquipReplace",e[e.TipEBoxComp1=97]="TipEBoxComp1",e[e.TipEBoxComp2=98]="TipEBoxComp2",e[e.TipTaskBox=99]="TipTaskBox",e[e.TipPlayerInfo=100]="TipPlayerInfo",e[e.TipHelp=101]="TipHelp",e[e.TipAccess=102]="TipAccess",e[e.TipBuy=103]="TipBuy",e[e.TipMultiBuy=104]="TipMultiBuy",e[e.TipStorePay=105]="TipStorePay",e[e.TipPlayerInfoCQ=106]="TipPlayerInfoCQ",e[e.NotiZhanli=107]="NotiZhanli",e[e.NotiUnlockSystem=108]="NotiUnlockSystem",e[e.DuobaoRank=109]="DuobaoRank",e[e.TipDuobaoLuckyDice=110]="TipDuobaoLuckyDice",e[e.TipDuobaoFireUp=111]="TipDuobaoFireUp",e[e.TipDuobaoBuyDice=112]="TipDuobaoBuyDice",e[e.TipDuobaoShipAward=113]="TipDuobaoShipAward",e[e.RankLevel=114]="RankLevel",e[e.FightRank=115]="FightRank",e[e.Yishou=116]="Yishou",e[e.YishouSwitch=117]="YishouSwitch",e[e.YishouEdit=118]="YishouEdit",e[e.YishouResonate=119]="YishouResonate",e[e.YishouGacha=120]="YishouGacha",e[e.YishouGachaRatio=121]="YishouGachaRatio",e[e.YishouGachaResult=122]="YishouGachaResult",e[e.YishouDetail=123]="YishouDetail",e[e.YishouSkillInfo=124]="YishouSkillInfo",e[e.YIshouResonateInfo=125]="YIshouResonateInfo",e[e.TipYishouSkillDetail=126]="TipYishouSkillDetail",e[e.Closet=127]="Closet",e[e.ClosetAttr=128]="ClosetAttr",e[e.WelfareOpenServer=129]="WelfareOpenServer",e[e.Xunbao=130]="Xunbao",e[e.XunbaoSetting=131]="XunbaoSetting",e[e.XunbaoProb=132]="XunbaoProb",e[e.XunbaoResult=133]="XunbaoResult",e[e.GuildMain=134]="GuildMain",e[e.GuildApply=135]="GuildApply",e[e.GuildCreate=136]="GuildCreate",e[e.GuildFlag=137]="GuildFlag",e[e.GuildInfo=138]="GuildInfo",e[e.GuildHall=139]="GuildHall",e[e.GuildManage=140]="GuildManage",e[e.GuildInfoManage=141]="GuildInfoManage",e[e.GuildInfoEdit=142]="GuildInfoEdit",e[e.GuildHistory=143]="GuildHistory",e[e.GuildMember=144]="GuildMember",e[e.GuildApplyList=145]="GuildApplyList",e[e.GuildRank=146]="GuildRank",e[e.GuildTask=147]="GuildTask"}(n||(n=e("UIID",{})));var s;e("UIConfigData",((p={})[n.Loading]={layer:l.UI,prefab:"gui/loading/loading"},p[n.Netinstable]={layer:l.PopUp,prefab:"common/prefab/netinstable"},p[n.Window]={layer:l.Dialog,prefab:"common/prefab/window"},p[n.Demo]={layer:l.UI,prefab:"gui/demo/demo"},p[n.Login]={layer:l.UI,prefab:"gui/login/login"},p[n.Main]={layer:l.UI,prefab:"gui/main/main"},p[n.Level]={layer:l.UI,prefab:"gui/main/level_main"},p[n.Battle]={layer:l.UI,prefab:"game/battle"},p[n.Equip]={layer:l.UI,prefab:"gui/equip/equip"},p[n.EquipPosUpgrade]={layer:l.PopUp,prefab:"gui/equip/equip_pos_upgrade"},p[n.EquipSell]={layer:l.Dialog,prefab:"gui/equip/equip_sell"},p[n.EquipAttrView]={layer:l.Dialog,prefab:"gui/equip/equip_attrView"},p[n.RoleLevelUp]={layer:l.PopUp,prefab:"gui/equip/role_level_up"},p[n.Shiguo]={layer:l.PopUp,prefab:"gui/shiguo/shiguo_main"},p[n.Box]={layer:l.UI,prefab:"gui/box/box_main"},p[n.EBoxSetting]={layer:l.Dialog,prefab:"gui/box/ebox_setting"},p[n.EboxBuyTip]={layer:l.Dialog,prefab:"gui/box/ebox_buyTip"},p[n.BoxUpgrade]={layer:l.PopUp,prefab:"gui/box/box_up"},p[n.BoxAccelerate]={layer:l.Dialog,prefab:"gui/box/box_cd"},p[n.Skill]={layer:l.UI,prefab:"gui/skill/skill"},p[n.SkillSell]={layer:l.Dialog,prefab:"gui/skill/skill_sell"},p[n.SkillGacha]={layer:l.UI,prefab:"gui/skill/skill_gacha"},p[n.SkillHandbook]={layer:l.UI,prefab:"gui/skill/skill_handbook"},p[n.SkillHandbookInfo]={layer:l.PopUp,prefab:"gui/skill/skill_handbook_info"},p[n.Fuben]={layer:l.UI,prefab:"gui/fuben/fuben_main"},p[n.EliteLevels]={layer:l.UI,prefab:"gui/fuben/fuben_eliteLevels"},p[n.Duobao]={layer:l.UI,prefab:"gui/duobao/duobao_main"},p[n.AbyssDragon]={layer:l.UI,prefab:"gui/fuben/abyssDragon"},p[n.Win]={layer:l.PopUp,prefab:"gui/settlement/win"},p[n.Lose]={layer:l.PopUp,prefab:"gui/settlement/lose"},p[n.Guaji]={layer:l.PopUp,prefab:"gui/guaji/guaji"},p[n.Welfare]={layer:l.PopUp,prefab:"gui/welfare/welfare_main"},p[n.DailyTask]={layer:l.PopUp,prefab:"gui/task/task_daily"},p[n.Store]={layer:l.PopUp,prefab:"gui/store/store_main"},p[n.Bazzar]={layer:l.PopUp,prefab:"gui/store/bazzar_main"},p[n.GameRank]={layer:l.PopUp,prefab:"gui/rank/game_rank"},p[n.Yueka]={layer:l.PopUp,prefab:"gui/yueka/yueka_main"},p[n.YuekaXuanTie]={layer:l.PopUp,prefab:"gui/yueka/yueka_xtlevel"},p[n.YuekaZS]={layer:l.PopUp,prefab:"gui/yueka/yueka_zslevel"},p[n.YuekaLifeTime]={layer:l.PopUp,prefab:"gui/yueka/yueka_lifeTime"},p[n.YuekaWelfare]={layer:l.PopUp,prefab:"gui/yueka/yueka_Welfare"},p[n.Medal]={layer:l.PopUp,prefab:"gui/medal/medal_main"},p[n.MedalStageInfo]={layer:l.PopUp,prefab:"gui/medal/medal_stageInfo"},p[n.Arena]={layer:l.UI,prefab:"gui/arena/arena_main"},p[n.ArenaChallenge]={layer:l.UI,prefab:"gui/arena/arena_challenge"},p[n.ArenaLog]={layer:l.UI,prefab:"gui/arena/arena_log"},p[n.ArenaReward]={layer:l.PopUp,prefab:"gui/arena/arena_reward"},p[n.ArenaKF]={layer:l.UI,prefab:"gui/arenaKF/arenaKF_main"},p[n.ArenaChallengeKF]={layer:l.UI,prefab:"gui/arenaKF/arenaKF_challenge"},p[n.ArenaLogKF]={layer:l.UI,prefab:"gui/arenaKF/arenaKF_log"},p[n.ArenaRewardKF]={layer:l.PopUp,prefab:"gui/arenaKF/arenaKF_reward"},p[n.WinArena]={layer:l.PopUp,prefab:"gui/arena/winArena"},p[n.ADSettlement]={layer:l.PopUp,prefab:"gui/fuben/abyssDragon_settlement"},p[n.LoseArena]={layer:l.PopUp,prefab:"gui/arena/loseArena"},p[n.Email]={layer:l.UI,prefab:"gui/email/email_main"},p[n.EmailInfo]={layer:l.PopUp,prefab:"gui/email/email_info"},p[n.FirstRecharge]={layer:l.UI,prefab:"gui/firstRecharge/firstRecharge"},p[n.Setting]={layer:l.PopUp,prefab:"gui/setting/set_playInfo"},p[n.SetCodeGift]={layer:l.PopUp,prefab:"gui/setting/set_codeGift"},p[n.SetReName]={layer:l.PopUp,prefab:"gui/setting/set_reName"},p[n.SetNotice]={layer:l.PopUp,prefab:"gui/setting/set_notice"},p[n.SetServer]={layer:l.PopUp,prefab:"gui/setting/set_server"},p[n.GMOrder]={layer:l.PopUp,prefab:"gui/gm/gm_main"},p[n.GMNum]={layer:l.PopUp,prefab:"gui/gm/gm_num"},p[n.GiftPackLimitTime]={layer:l.PopUp,prefab:"gui/gift/gift_pack_limit_time"},p[n.GiftPackSuperValue]={layer:l.PopUp,prefab:"gui/gift/gift_pack_super_value"},p[n.GiftPackSuperValueSingle]={layer:l.PopUp,prefab:"gui/gift/gift_pack_super_value_single"},p[n.GiftPackSuperValueSingleSelfChoose]={layer:l.PopUp,prefab:"gui/gift/gift_pack_self_choose"},p[n.GiftPackSuperValueSingleSelfChoosePop]={layer:l.PopUp,prefab:"gui/gift/gift_pack_self_choose_pop"},p[n.RankLevel]={layer:l.PopUp,prefab:"gui/rank/rank_main"},p[n.FightRank]={layer:l.PopUp,prefab:"gui/fuben/abyssFight_rank"},p[n.AbyssDragonRank]={layer:l.PopUp,prefab:"gui/fuben/abyssDragon_rank"},p[n.AbyssDragonReward]={layer:l.PopUp,prefab:"gui/fuben/abyssDragon_reward"},p[n.YongBing]={layer:l.UI,prefab:"gui/yongbing/yongbing_main"},p[n.Lock]={layer:l.Notify,prefab:"gui/lock/lock"},p[n.Halo]={layer:l.UI,prefab:"gui/halo/halo_main"},p[n.DemonAbyss]={layer:l.UI,prefab:"gui/fuben/abyssFight_main"},p[n.DemonBuy]={layer:l.PopUp,prefab:"gui/fuben/abyssFight_buy"},p[n.Mercenary]={layer:l.UI,prefab:"gui/mercenary/mercenary_main"},p[n.MercenarySendGift]={layer:l.UI,prefab:"gui/mercenary/mercenary_sendGift"},p[n.MercenaryFight]={layer:l.UI,prefab:"gui/mercenary/mercenary_fight"},p[n.MercenaryFriend]={layer:l.UI,prefab:"gui/mercenary/mercenary_friend"},p[n.MercenaryExchange]={layer:l.PopUp,prefab:"gui/mercenary/mercenary_exchange"},p[n.MercenaryPosInfo]={layer:l.PopUp,prefab:"gui/mercenary/mercenary_posInfo"},p[n.MercenaryTips]={layer:l.PopUp,prefab:"gui/mercenary/mercenary_tips"},p[n.Yishou]={layer:l.UI,prefab:"gui/yishou/yishou_main"},p[n.YishouResonate]={layer:l.UI,prefab:"gui/yishou/yishou_resonate"},p[n.YishouGacha]={layer:l.UI,prefab:"gui/yishou/yishou_gacha"},p[n.YishouDetail]={layer:l.UI,prefab:"gui/yishou/yishou_detail"},p[n.Wrestle]={layer:l.UI,prefab:"gui/wrestle/wrestle_main"},p[n.WrestleCard]={layer:l.UI,prefab:"gui/wrestle/wrestle_card"},p[n.Journey]={layer:l.UI,prefab:"gui/journey/journey_main"},p[n.Chat]={layer:l.UI,prefab:"gui/chat/chat_main"},p[n.Closet]={layer:l.UI,prefab:"gui/closet/closet_main"},p[n.WelfareOpenServer]={layer:l.UI,prefab:"gui/welfareOpenServer/welfareOpenServer_main"},p[n.CQPlay]={layer:l.PopUp,prefab:"gui/caiquan/battle_cq"},p[n.Xunbao]={layer:l.PopUp,prefab:"gui/xunbao/xunbao_main"},p[n.XunbaoSetting]={layer:l.PopUp,prefab:"gui/xunbao/xunbao_setting"},p[n.XunbaoProb]={layer:l.PopUp,prefab:"gui/xunbao/xunbao_prob"},p[n.XunbaoResult]={layer:l.PopUp,prefab:"gui/xunbao/xunbao_result"},p[n.TipSkill]={layer:l.PopUp,prefab:"gui/skill/skill_tip"},p[n.TipEquip]={layer:l.PopUp,prefab:"common/prefab/equip_tip"},p[n.TipItem]={layer:l.PopUp,prefab:"common/prefab/item_tip"},p[n.TipAttr]={layer:l.PopUp,prefab:"common/prefab/attr_tip"},p[n.TipReward]={layer:l.PopUp,prefab:"common/prefab/reward"},p[n.TipLevel]={layer:l.PopUp,prefab:"gui/main/tip_level"},p[n.TipLevel2]={layer:l.PopUp,prefab:"gui/main/tip_level2"},p[n.TipEBoxComp1]={layer:l.PopUp,prefab:"gui/box/ebox_comp_1"},p[n.TipEBoxComp2]={layer:l.PopUp,prefab:"gui/box/ebox_comp_2"},p[n.TipTaskBox]={layer:l.PopUp,prefab:"gui/task/tip_task_box"},p[n.TipPlayerInfo]={layer:l.PopUp,prefab:"gui/equip/tip_player_info"},p[n.TipHelp]={layer:l.PopUp,prefab:"common/prefab/help"},p[n.TipAccess]={layer:l.PopUp,prefab:"common/prefab/tip_access"},p[n.TipBuy]={layer:l.Dialog,prefab:"common/prefab/tip_buy"},p[n.TipMultiBuy]={layer:l.Dialog,prefab:"common/prefab/tip_multiBuy"},p[n.TipStorePay]={layer:l.Dialog,prefab:"gui/store/store_pay"},p[n.ClosetAttr]={layer:l.Dialog,prefab:"gui/closet/closet_attrView"},p[n.TipPlayerInfoCQ]={layer:l.PopUp,prefab:"gui/caiquan/tip_player_info_cq"},p[n.YishouSwitch]={layer:l.PopUp,prefab:"gui/yishou/yishou_switch"},p[n.YishouEdit]={layer:l.PopUp,prefab:"gui/yishou/yishou_edit"},p[n.YishouGachaRatio]={layer:l.PopUp,prefab:"gui/yishou/yishou_gachaRatio"},p[n.YishouSkillInfo]={layer:l.PopUp,prefab:"gui/yishou/yishou_skillInfo"},p[n.YIshouResonateInfo]={layer:l.PopUp,prefab:"gui/yishou/yishou_resonateInfo"},p[n.YishouGachaResult]={layer:l.PopUp,prefab:"gui/yishou/yishou_gachaResult"},p[n.TipYishouSkillDetail]={layer:l.PopUp,prefab:"gui/yishou/yishou_skillDetail"},p[n.NotiZhanli]={layer:l.Notify,prefab:"common/prefab/zhanli_widget"},p[n.TipEquipReplace]={layer:l.Notify,prefab:"gui/main/tip_equipReplace"},p[n.NotiUnlockSystem]={layer:l.Notify,prefab:"gui/guide/guide_unlock"},p[n.DuobaoRank]={layer:l.PopUp,prefab:"gui/duobao/duobao_rank"},p[n.TipDuobaoLuckyDice]={layer:l.PopUp,prefab:"gui/duobao/duobao_tip_lucky_dice"},p[n.TipDuobaoFireUp]={layer:l.PopUp,prefab:"gui/duobao/duobao_tip_fire_up"},p[n.TipDuobaoBuyDice]={layer:l.PopUp,prefab:"gui/duobao/duobao_tip_buy_dice"},p[n.TipDuobaoShipAward]={layer:l.PopUp,prefab:"gui/duobao/duobao_tip_ship_award"},p[n.GuildMain]={layer:l.UI,prefab:"gui/guild/guild_main"},p[n.GuildApply]={layer:l.UI,prefab:"gui/guild/guild_apply"},p[n.GuildCreate]={layer:l.UI,prefab:"gui/guild/guild_create"},p[n.GuildFlag]={layer:l.UI,prefab:"gui/guild/guild_flag"},p[n.GuildInfo]={layer:l.UI,prefab:"gui/guild/guild_info"},p[n.GuildHall]={layer:l.UI,prefab:"gui/guild/guild_hall"},p[n.GuildManage]={layer:l.PopUp,prefab:"gui/guild/guild_manage"},p[n.GuildInfoManage]={layer:l.UI,prefab:"gui/guild/guild_info_manage"},p[n.GuildInfoEdit]={layer:l.PopUp,prefab:"gui/guild/guild_info_edit"},p[n.GuildHistory]={layer:l.PopUp,prefab:"gui/guild/guild_history"},p[n.GuildMember]={layer:l.PopUp,prefab:"gui/guild/guild_member"},p[n.GuildApplyList]={layer:l.PopUp,prefab:"gui/guild/guild_applylist"},p[n.GuildRank]={layer:l.UI,prefab:"gui/guild/guild_rank"},p[n.GuildTask]={layer:l.UI,prefab:"gui/guild/guild_task"},p)),e("DialogAnimation",{onAdded:function(e,a){e.setScale(.1,.1,.1),i(e).to(.5,{scale:new r(1,1,1)},{easing:"backOut"}).start()}});!function(e){e[e.Skill=0]="Skill",e[e.Equip=1]="Equip",e[e.Box=2]="Box",e[e.Battle=3]="Battle",e[e.Fuben=4]="Fuben"}(s||(s=e("DockBtnType",{})));e("CBConfigData",((u={})[s.Skill]={uiId:n.Skill,sysId:o.skill,needCache:!1},u[s.Equip]={uiId:n.Equip,sysId:o.equip,needCache:!1},u[s.Box]={uiId:n.Box,sysId:o.box,needCache:!0},u)),e("LTConfigData",[{sysId:o.welfare,spIcon:"btn_fuli",uiId:n.Welfare},{sysId:o.store,spIcon:"btn_shangcheng",uiId:n.Store},{sysId:o.first_recharge,spIcon:"btn_shouchong",uiId:n.FirstRecharge},{sysId:o.task_daily,spIcon:"btn_renwuan",uiId:n.DailyTask},{sysId:o.yueka,spIcon:"btn_ykjrrk",uiId:n.Yueka},{sysId:o.email,spIcon:"btn_youjiantub",uiId:n.Email},{sysId:o.gift_pack_limit_time,spIcon:"btn_libao",uiId:n.GiftPackLimitTime},{sysId:o.gift_pack_super_value,spIcon:"btn_czlbtb",uiId:n.GiftPackSuperValue},{sysId:o.bazzar,spIcon:"btn_jisirk",uiId:n.Bazzar},{sysId:o.gameRank,spIcon:"btn_phbrk",uiId:n.GameRank},{sysId:o.journey,spIcon:"btn_lichen",uiId:n.Journey},{sysId:o.arenaKF,spIcon:"img_dfjkrk",uiId:n.ArenaKF},{sysId:o.open_server_welfare,spIcon:"btn_kfflrk",uiId:n.WelfareOpenServer},{sysId:o.xunbao,spIcon:"btn_zbmjrk",uiId:n.Xunbao},{sysId:o.guild,spIcon:"btn_ghrktb"}]),e("LBConfigData",[{sysId:o.equip_pos,spIcon:"img_qianghrk",uiId:n.EquipPosUpgrade},{sysId:o.eat_fruit,spIcon:"btn_shiguork",uiId:n.Shiguo},{sysId:o.medal,spIcon:"btn_xunzhangrk",uiId:n.Medal},{sysId:o.aureole,spIcon:"btn_guanghuanrk",uiId:n.Halo},{sysId:o.raremonster,spIcon:"btn_yishourk",uiId:n.Yishou}]),e("RTConfigData",[]),e("ExConfigData",[]),e("FubenItemConfigData",[{sysId:o.elitelevels,uiId:n.EliteLevels,spBG:"s_jytz"},{sysId:o.arena,uiId:n.Arena,spBG:"s_jdc"},{sysId:o.pirateShip,uiId:n.Duobao,spBG:"s_dbdzz"},{sysId:o.abyss_dragon,uiId:n.AbyssDragon,spBG:"s_syjlfb"},{sysId:o.demon_abyss,uiId:n.DemonAbyss,spBG:"s_myzt"},{sysId:o.mercenary,uiId:n.Mercenary,spBG:"s_ybrk"},{sysId:o.wrestle,uiId:n.Wrestle,spBG:"s_wzzb"},{sysId:null,uiId:null,spBG:"s_wzzt",name:"王座之塔",desc:"敬请期待"}]);a._RF.pop()}}}));

System.register("chunks:///_virtual/GiftChooseItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagItem.ts"],(function(e){"use strict";var t,i,n,o,c,r,s,l,a,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,c=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Sprite,a=e.Component},function(e){u=e.BagItem}],execute:function(){var h,f,m,p,d,v,g;r._RF.push({},"489e6701ShMF4tDv7EtJNO2","GiftChooseItem",void 0);var y=s.ccclass,I=s.property;e("GiftChooseItem",(h=y("GiftChooseItem"),f=I(u),m=I(l),h((v=t((d=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,n(t,"item",v,o(t)),n(t,"imgSelect",g,o(t)),t.click=void 0,t.selected=void 0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.imgSelect.node.active=!1,this.selected=!1},r.init=function(e){this.click=e},r.onItemClick=function(){"function"==typeof this.click&&this.click(this)},r.showItem=function(e,t){this.item.node.active=!0,this.item.init(e,t)},r.hideItem=function(){this.item.node.active=!1},r.setItemSelect=function(e){void 0===e&&(e=!1),this.imgSelect.node.active=e,this.selected=e},c(t,[{key:"Selected",get:function(){return this.selected}}]),t}(a)).prototype,"item",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(d.prototype,"imgSelect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/GiftPackLimitTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./StorageKey.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./TableShop.ts","./TableUtil.ts"],(function(t){"use strict";var e,i,n,a,s,r,o,c,u,f,m,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){a=t.oops},function(t){s=t.GameEvent},function(t){r=t.UIID},function(t){o=t.StorageKey},function(t){c=t.smc},function(t){u=t.GameSys},function(t){f=t.GameSysKey},function(t){m=t.TableShop},function(t){l=t.TableUtil}],execute:function(){var h;n._RF.push({},"2b5fb6H/g9G7LBOHT3V0HZq","GiftPackLimitTime",void 0);var g=((h={})[f.medal]={shopId:31},h[f.equip_pos]={shopId:32},h[f.skill]={shopId:33},h),d=t("GiftPackLimitTime",function(t){function n(){var e;return(e=t.call(this,f.gift_pack_limit_time)||this).ENABLED=!0,e._storage=null,e.redotWatchGameEvents=[],e}e(n,t);var u=n.prototype;return u.getValidShopIds=function(){var t=this;return Object.values(g).map((function(t){return t.shopId})).filter((function(e){return t.isGiftLimitValid(e)}))},u.checkGiftLimit=function(t){if(!this.ENABLED)return!1;if(!(t in g))return!1;var e=g[t],i=l.get(m,e.shopId);if(c.store.getBuyTimes(e.shopId,"dailyTag")>=i.dailylimit)return!1;var n=this.getActivateTime(g[t].shopId),o=a.timer.getLocalTime();if(n){var u=new Date(o),f=new Date(n);if(u.getDate()==f.getDate())return!1}return this.setActivateTime(e.shopId,o),a.message.dispatchEvent(s.GiftPackLimitRefresh),a.gui.open(r.GiftPackLimitTime,e.shopId),!0},u.isGiftLimitValid=function(t){var e=l.get(m,t);return e&&this.getGiftLimitLeftSecs(e)>0},u.getGiftLimitLeftSecs=function(t){if(c.store.getBuyTimes(t.id,"dailyTag")>=t.dailylimit)return 0;var e=this.getActivateTime(t.id);if(!e)return 0;var i=e+1e3*t.hidetime-a.timer.getLocalTime();return Math.max(Math.floor(i/1e3),0)},u.getActivateTime=function(t){var e;return null!=(e=this.storage)&&e.activateTime&&this.storage.activateTime[t]||0},u.setActivateTime=function(t,e){this.storage.activateTime[t]=e,a.storage.set(o.GiftPack,this.storage)},u.calRedot=function(){return!1},u.checkOpened=function(t){return!!this.ENABLED&&this.getValidShopIds().length>0},u.needCountdown=function(){return!0},u.calCountdown=function(){var t=this,e=Object.values(g).map((function(t){return t.shopId})).reduce((function(e,i){return Math.max(e,t.getGiftLimitLeftSecs(l.get(m,i)))}),0);return!e&&a.message.dispatchEvent(s.GiftPackLimitRefresh),e},i(n,[{key:"storage",get:function(){return this._storage||(this._storage=a.storage.getJson(o.GiftPack,null)||{activateTime:{}}),this._storage}}]),n}(u));t("giftpack_lt",new d);n._RF.pop()}}}));

System.register("chunks:///_virtual/GiftPackLimitTimeMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ItemsGroup.ts","./SingletonModuleComp.ts","./TableShop.ts","./Util.ts"],(function(t){"use strict";var i,e,n,s,o,r,l,a,c,u,h,p,f,b,d,m,g,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){l=t.cclegacy,a=t._decorator,c=t.Label,u=t.Button,h=t.clamp,p=t.macro,f=t.Component},function(t){b=t.oops},function(t){d=t.ItemsGroup},function(t){m=t.smc},function(t){g=t.TableShop},function(t){y=t.Util}],execute:function(){var k,I,v,T,C,L,S,w,B,R,z,E,G,M,P,_,x;l._RF.push({},"9ba8e+VBk1IOaWJ1yvMyILo","GiftPackLimitTimeMain",void 0);var A=a.ccclass,K=a.property;t("GiftPackLimitTime",(k=A("GiftPackLimitTime"),I=K(c),v=K(d),T=K(u),C=K(c),L=K(u),S=K(u),w=K(u),k((z=i((R=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,n(i,"lblName",z,s(i)),n(i,"items",E,s(i)),n(i,"btnBuy",G,s(i)),n(i,"lblTime",M,s(i)),n(i,"btnL",P,s(i)),n(i,"btnR",_,s(i)),n(i,"btnMask",x,s(i)),i.defaultShopId=0,i.shopIds=null,i.cfg=new g,i}e(i,t);var l=i.prototype;return l.onAdded=function(t){"number"==typeof t&&(this.defaultShopId=t)},l.start=function(){this.shopIds=m.giftpack_lt.getValidShopIds(),this.init(this.defaultShopId||this.shopIds[0]),this.refresh(),this.btnBuy.node.on(u.EventType.CLICK,this.onBuyClick,this),this.btnL.node.on(u.EventType.CLICK,this.onSwitchClick,this),this.btnR.node.on(u.EventType.CLICK,this.onSwitchClick,this),this.btnMask.node.on(u.EventType.CLICK,this.onXClick,this)},l.init=function(t){this.cfg.init(t),this.lblName.string=this.cfg.name,this.items.init(this.cfg.drop[0]),this.btnBuy.getComponentInChildren(c).string="￥"+this.cfg.price,this.doTick()},l.onSwitchClick=function(t){var i=this,e=this.shopIds.findIndex((function(t){return t==i.cfg.id}));e=t==this.btnL?e-1:e+1,e=h(e,0,this.shopIds.length-1),this.init(this.shopIds[e]),this.refresh()},l.refresh=function(){this.shopIds.length<=1?(this.btnL.node.active=!1,this.btnR.node.active=!1):(this.btnL.node.active=this.cfg.id!=this.shopIds[0],this.btnR.node.active=this.cfg.id!=this.shopIds[this.shopIds.length-1])},l.doTick=function(){var t=this;this.lblTime.string="",this.lblTime.unscheduleAllCallbacks(),this.lblTime.schedule((function(){var i=m.giftpack_lt.getGiftLimitLeftSecs(t.cfg);if(i>0){var e=y.getTimeSpan(i);t.lblTime.string=[e.hours,e.minutes,e.seconds].map((function(t){return t.toString().padStart(2,"0")})).join(":")+" 后消失"}else t.lblTime.string="已结束",t.lblTime.unscheduleAllCallbacks()}),1,p.REPEAT_FOREVER,.1)},l.onBuyClick=function(){var t=o(r().mark((function t(){var i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.store.reqBuy(this.cfg.id);case 2:if(null!=(i=t.sent)&&i.ok){t.next=5;break}return t.abrupt("return");case 5:this.isValid&&this.onXClick();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onXClick=function(){b.gui.removeByNode(this.node,!0)},i}(f)).prototype,"lblName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(R.prototype,"items",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(R.prototype,"btnBuy",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(R.prototype,"lblTime",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(R.prototype,"btnL",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(R.prototype,"btnR",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(R.prototype,"btnMask",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=R))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/GiftPackSelfChooseMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./GiftPackSuperValue.ts","./Util.ts","./SuperValueShopItemSelfChoose.ts","./TableUtil.ts"],(function(e){"use strict";var t,i,n,o,l,r,s,a,c,u,f,p,h,d,m,b,y,g,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.Label,c=e.Node,u=e.Prefab,f=e.instantiate,p=e.macro,h=e.Component},function(e){d=e.oops},function(e){m=e.smc},function(e){b=e.GiftSuperConfigData},function(e){y=e.Util},function(e){g=e.SuperValueShopItemSelfChoose},function(e){C=e.TableUtil}],execute:function(){var v,S,T,k,P,I,G,M,R;r._RF.push({},"b92cd/dlLhPCaCn9ofV032V","GiftPackSelfChooseMain",void 0);var V=s.ccclass,_=s.property;e("GiftPackSelfChooseMain",(v=V("GiftPackSelfChooseMain"),S=_(a),T=_(c),k=_(u),v((G=t((I=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"lblTime",G,o(t)),n(t,"nodeContent",M,o(t)),n(t,"shopItem",R,o(t)),t.sysKey=null,t.cfg=null,t}i(t,e);var r=t.prototype;return r.onAdded=function(e){this.sysKey=e,this.cfg=b[e]},r.onLoad=function(){this.lblTime.string=""},r.start=function(){this.init()},r.init=function(){var e=this;this.doTick(),C.getShopIds((function(t){return t.systemid==e.sysKey})).forEach((function(t){var i=f(e.shopItem);i.active=!0,i.parent=e.nodeContent,i.getComponent(g).init(t)}))},r.doTick=function(){var e=this;this.lblTime.unscheduleAllCallbacks(),this.lblTime.schedule((function(){var t=e.service.getRefreshCD(),i=y.getTimeSpan(t);e.lblTime.string="距离刷新时间 "+i}),1,p.REPEAT_FOREVER,.1)},r.onXClick=function(){d.gui.removeByNode(this.node,!0)},l(t,[{key:"service",get:function(){return m.giftpack_sv.getService(this.sysKey)}}]),t}(h)).prototype,"lblTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"nodeContent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"shopItem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=I))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/GiftPackSuperValue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./DailyWelfare.ts","./System.ts","./TableGameSys.ts","./TableUtil.ts"],(function(e){"use strict";var t,n,i,s,r,u,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.GameEvent},function(e){s=e.DailyWelfareService},function(e){r=e.GameSys},function(e){u=e.GameSysKey},function(e){a=e.TableUtil}],execute:function(){var c;n._RF.push({},"e9795aQjudP85A7tM1CluJD","GiftPackSuperValue",void 0);var l=e("GiftSuperConfigData",((c={})[u.gift_pack_super_value_dz]={name:"锻造助力礼包",icon:"img_dzzlli",bg:"img_dzbn",freeShopId:49,shopIds:null},c[u.gift_pack_super_value_qh]={name:"强化助力礼包",icon:"img_qhzllb",bg:"img_qhbn",freeShopId:55,shopIds:null},c[u.gift_pack_super_value_gh]={name:"光环助力礼包",icon:"img_ghzllbg",bg:"img_ghzlbn",freeShopId:61,shopIds:null},c[u.gift_pack_super_value_em]={name:"恶魔果实礼包",icon:"img_emgslb",bg:"img_emgsbn",freeShopId:67,shopIds:null},c[u.gift_pack_super_value_zx]={name:"自选礼包",icon:"img_zxlbtb",bg:"",freeShopId:115,shopIds:null},c)),o=e("GiftPackSuperValue",function(e){function n(){var t;return(t=e.call(this,u.gift_pack_super_value)||this).services={},t.redotWatchGameEvents=[i.Tick1S],Object.entries(l).forEach((function(e){var n=e[0],i=e[1],r=Number(n);t.services[r]=new s(r,i.freeShopId)})),t}t(n,e);var r=n.prototype;return r.getService=function(e){return this.services[e]},r.getShopIds=function(e,t){return a.getShopIds((function(n){return n.systemid==e&&n.free==t}))},n}(r));e("giftpack_sv",new o);n._RF.pop()}}}));

System.register("chunks:///_virtual/GiftPackSuperValueMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./GiftPackSuperValue.ts","./SuperValueEntryItem.ts"],(function(t){"use strict";var e,n,i,r,o,a,u,c,s,l,p,f,h,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,u=t._decorator,c=t.Button,s=t.Node,l=t.Component},function(t){p=t.oops},function(t){f=t.smc},function(t){h=t.GiftSuperConfigData},function(t){y=t.SuperValueEntryItem}],execute:function(){var d,m,b,C,v,g,S;a._RF.push({},"fc394W32UxHhLjbhSn1gJXC","GiftPackSuperValueMain",void 0);var k=u.ccclass,I=u.property;t("GiftPackSuperValueMain",(d=k("GiftPackSuperValueMain"),m=I(c),b=I(s),d((g=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"btnX",g,r(e)),i(e,"nodeContent",S,r(e)),e}n(e,t);var a=e.prototype;return a.start=function(){this.init(),this.btnX.node.on(c.EventType.CLICK,this.onXClick,this)},a.init=function(){var t=this.entryItems;t.forEach((function(t){return t.node.active=!1})),Object.entries(h).forEach((function(e,n){var i=e[0],r=e[1];f.system.checkOpened(Number(i))&&(t[n].node.active=!0,t[n].init(Number(i),r))}))},a.onXClick=function(){p.gui.removeByNode(this.node,!0)},o(e,[{key:"entryItems",get:function(){return this.nodeContent.getComponentsInChildren(y)}}]),e}(l)).prototype,"btnX",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(v.prototype,"nodeContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=v))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/GiftPackSuperValueSingle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./DailyWelfare.ts","./SingletonModuleComp.ts","./Util.ts","./GiftPackSuperValue.ts","./SuperValueShopItem.ts"],(function(e){"use strict";var t,i,n,o,l,r,a,s,u,c,p,f,h,y,b,g,d,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,u=e.Node,c=e.Button,p=e.instantiate,f=e.macro,h=e.Component},function(e){y=e.oops},function(e){b=e.DailyWelfare},function(e){g=e.smc},function(e){d=e.Util},function(e){m=e.GiftSuperConfigData},function(e){v=e.SuperValueShopItem}],execute:function(){var S,k,C,T,G,I,z,P,V,D,E,F,_;r._RF.push({},"645e78eZoFEGIG0M8kbprez","GiftPackSuperValueSingle",void 0);var w=a.ccclass,R=a.property;e("GiftPackSuperValueSingle",(S=w("GiftPackSuperValueSingle"),k=R(s),C=R(b),T=R(u),G=R(v),I=R(c),S((V=t((P=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"lblTime",V,o(t)),n(t,"dailyFreeGift",D,o(t)),n(t,"nodeContent",E,o(t)),n(t,"shopItem",F,o(t)),n(t,"btnX",_,o(t)),t.sysKey=null,t.cfg=null,t}i(t,e);var r=t.prototype;return r.onAdded=function(e){this.sysKey=e,this.cfg=m[e]},r.onLoad=function(){this.lblTime.string="",this.shopItem.node.active=!1},r.start=function(){this.init(),this.btnX.node.on(c.EventType.CLICK,this.onXClick,this)},r.init=function(){var e=this;this.dailyFreeGift.init(this.service),this.doTick(),g.giftpack_sv.getShopIds(this.sysKey,0).forEach((function(t){var i=p(e.shopItem.node);i.active=!0,i.parent=e.nodeContent,i.getComponent(v).init(t)}))},r.doTick=function(){var e=this;this.lblTime.unscheduleAllCallbacks(),this.lblTime.schedule((function(){var t=e.service.getRefreshCD(),i=d.getTimeSpan(t);e.lblTime.string="距离刷新时间 "+i}),1,f.REPEAT_FOREVER,.1)},r.onXClick=function(){y.gui.removeByNode(this.node,!0)},l(t,[{key:"service",get:function(){return g.giftpack_sv.getService(this.sysKey)}}]),t}(h)).prototype,"lblTime",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"dailyFreeGift",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(P.prototype,"nodeContent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(P.prototype,"shopItem",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"btnX",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=P))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/GiftPackSuperValueSingleSelfChoosePop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GiftChooseItem.ts","./GiftSelectItem.ts"],(function(e){"use strict";var t,o,n,s,i,r,c,a,l,h,u,f,m,p,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,c=e._decorator,a=e.Layout,l=e.Node,h=e.Prefab,u=e.instantiate,f=e.Component},function(e){m=e.oops},function(e){p=e.GiftChooseItem},function(e){I=e.GiftSelectItem}],execute:function(){var d,C,g,b,v,S,y,P,k,G,z;r._RF.push({},"894e27lz0VChpCd7WZFBfPl","GiftPackSuperValueSingleSelfChoosePop",void 0);var w=c.ccclass,V=c.property;e("GiftPackSuperValueSingleSelfChoosePop",(d=w("GiftPackSuperValueSingleSelfChoosePop"),C=V(a),g=V(l),b=V(h),v=V(h),d((P=t((y=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(t,"chosenItems",P,s(t)),n(t,"nodeContent",k,s(t)),n(t,"chooseItem",G,s(t)),n(t,"selectItem",z,s(t)),t.params=void 0,t.chooseIds=void 0,t}o(t,e);var r=t.prototype;return r.onAdded=function(e){this.params=e},r.start=function(){this.chooseIds=[];for(var e=0;e<this.params.cfg.num;e++){u(this.chooseItem).parent=this.chosenItems.node}this.refresh()},r.refresh=function(){var e=this;this.nodeContent.removeAllChildren();for(var t=function(t){(n=u(e.selectItem)).parent=e.nodeContent;var o=Object.entries(e.params.cfg.items[t]);n.getComponent(I).init(o[0][0],Number(o[0][1]),(function(o){o.isSelect()?e.onCancel(t):e.onChoose(t)}))},o=0;o<this.params.cfg.items.length;o++){var n;t(o)}},r.onChoose=function(e){this.chooseIds.length>=this.params.cfg.num||(this.selectItems[e].setSelect(!0),this.chooseIds.push(e),this.updateChooseItems())},r.onCancel=function(e){this.selectItems[e].setSelect(!1),this.chooseIds=this.chooseIds.filter((function(t){return t!==e})),this.updateChooseItems()},r.updateChooseItems=function(){var e=this;this.chooseItems.forEach((function(t,o){if(null!=e.chooseIds[o]){var n=Object.entries(e.params.cfg.items[e.chooseIds[o]]);t.showItem(n[0][0],Number(n[0][1]))}else t.hideItem()}))},r.onConfirm=function(){this.chooseIds.length<this.params.cfg.num?m.gui.toast("自选奖励未选择！"):(this.params.parentItem.onChooseComplete(this.chooseIds),this.onXClick())},r.onXClick=function(){m.gui.removeByNode(this.node,!0)},i(t,[{key:"chooseItems",get:function(){return this.chosenItems.getComponentsInChildren(p)}},{key:"selectItems",get:function(){return this.nodeContent.getComponentsInChildren(I)}}]),t}(f)).prototype,"chosenItems",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(y.prototype,"nodeContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(y.prototype,"chooseItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(y.prototype,"selectItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=y))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/GiftSelectItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagItem.ts"],(function(t){"use strict";var e,i,c,n,r,l,a,o,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,c=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,a=t._decorator,o=t.Sprite,s=t.Component},function(t){u=t.BagItem}],execute:function(){var f,p,m,g,h,S,b;l._RF.push({},"aaab3JRGUVI3bB84VUs9gcL","GiftSelectItem",void 0);var y=a.ccclass,v=a.property;t("GiftSelectItem",(f=y("GiftSelectItem"),p=v(u),m=v(o),f((S=e((h=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,c(e,"item",S,n(e)),c(e,"imgSelect",b,n(e)),e.callback=void 0,e}i(e,t);var l=e.prototype;return l.start=function(){},l.update=function(t){},l.init=function(t,e,i){this.item.init(t,e),this.callback=i},l.setSelect=function(t){this.imgSelect.node.active=t},l.isSelect=function(){return this.imgSelect.node.active},l.onClick=function(){"function"==typeof this.callback&&this.callback(this)},r(e,[{key:"isSelesct",get:function(){return this.imgSelect.node.active}}]),e}(s)).prototype,"item",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(h.prototype,"imgSelect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=h))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/GM.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetProtocol.ts","./SingletonModuleComp.ts","./JsonUtil.ts","./TableGameItem.ts"],(function(e){"use strict";var t,n,s,o,i,u,a;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,s=e.instantiate},function(e){o=e.EGameRunState},function(e){i=e.smc},function(e){u=e.JsonUtil},function(e){a=e.TableGameItem}],execute:function(){n._RF.push({},"b77d6Eyu/NDN6SF5ABiwYjs","GM",void 0);var m=e("GM",function(){function e(){var e;this.cfgData=((e={})[0]={Title:"修改夺宝大作战-赛季已开始天数",MsgID:"game-common/gmPSStartDaysDto",Request:{days:1},Response:{}},e[1]={Title:"修改登录天数",MsgID:"game-common/gmChangeLogin",Request:{days:1},Response:{}},e[2]={Title:"添加角色经验",MsgID:"game-common/gmAddRoleExpDto",Request:{exp:0},Response:{}},e[3]={Title:"GM发邮件",MsgID:"game-common/gmSendEmailDto",Request:{items:[{i:1001,n:100}]},Request1:{items:[{i:1001,n:100,q:1}]},Response:{}},e[4]={Title:"竞技场赛季结束",MsgID:"game-common/gmArenaSeasonEndDto",Request:{},Response:{}},e[5]={Title:"完成当前主线任务",MsgID:"game-common/gmFinishTask",Request:{},Response:{}},e)}return e.prototype.getRequestList=function(e,t){var n=e.split(";");if(""!=e&&n.length>=2){var o=3==n.length?t.Request1:t.Request,i=0;for(var u in o)for(var a in o[u][0])n[i]&&(o[u][0][a]=Number(n[i])),i++;return o}if(""!=e&&1==n.length){i=0,o=s(t.Request);for(var m in o)o[m]=Number(n[i]);return o}return t.Request},t(e,[{key:"enabled",get:function(){return i.accdata.subinfo.gameRunState==o.TEST}},{key:"items",get:function(){var e=[],t=u.get(a.TableName);return Object.keys(t).forEach((function(t){Number(t)<2e3&&e.push(t)})),e}}]),e}());e("gm",new m);n._RF.pop()}}}));

System.register("chunks:///_virtual/GMItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameItem.ts","./Oops.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,n,i,r,o,c,a,l,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Label,l=e.Component},function(e){s=e.TableGameItem},function(e){u=e.oops},function(e){p=e.UIID}],execute:function(){var m,f,I,h,b;o._RF.push({},"c58e6VVgxRNJpXYEjAHrGZh","GMItem",void 0);var v=c.ccclass,g=c.property;e("GMItem",(m=v("GMItem"),f=g(a),m((b=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblName",b,r(t)),t._onRecv=null,t.ID=1001,t}n(t,e);var o=t.prototype;return o.initView=function(e){this.ID=e;var t=(new s).init(Number(e));return this.lblName.string=t.name,this},o.onRecv=function(e){this._onRecv=e},o.onClickItem=function(){u.gui.open(p.GMNum,this.ID)},t}(l)).prototype,"lblName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=h))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/GMLeftItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./Oops.ts","./GameEvent.ts"],(function(t){"use strict";var e,n,i,o,r,l,s,a,c,p,u,m,f,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,a=t.Label,c=t.color,p=t.Button,u=t.Component},function(t){m=t.ViewUtil},function(t){f=t.GameResPath},function(t){d=t.oops},function(t){h=t.GameEvent}],execute:function(){var v,b,y,g,I;r._RF.push({},"97ba20FDERA1oBIylWsaESp","GMLeftItem",void 0);var G=l.ccclass,_=l.property;t("GMLeftItem",(v=G("GMLeftItem"),b=_(s),v((I=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"lblTitle",I,o(e)),e.param=void 0,e.selectedIndex=void 0,e}n(e,t);var r=e.prototype;return r.start=function(){},r.initView=function(t,e,n){this.selectedIndex=t,this.param=n,this.lblTitle.getComponent(a).string=n.Title;var i=e==t?c(255,255,255):c(233,180,130),o=e==t?"btn_jnyq_xz":"btn_jnyq_wxz";m.loadButtonFrame(this.node.getComponent(p),f.getSpriteFrameCommon(o)),this.lblTitle.getComponent(a).color=i},r.onClickItem=function(){d.message.dispatchEvent(h.GMOrder,{index:this.selectedIndex})},e}(u)).prototype,"lblTitle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GmMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./HttpChannelManager.ts","./GM.ts","./GMLeftItem.ts","./GMItem.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,l,c,u,d,f,h,m,p,g,b,v,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,c=e.Node,u=e.Label,d=e.EditBox,f=e.instantiate,h=e.Component},function(e){m=e.oops},function(e){p=e.ViewUtil},function(e){g=e.GameEvent},function(e){b=e.httpChannel},function(e){v=e.gm},function(e){y=e.GMLeftItem},function(e){w=e.GMItem}],execute:function(){var C,I,G,M,x,L,D,E,V,z,_,O,S,B,H;a._RF.push({},"e1d6au0+m9A6qVwp/9Hce5n","GmMain",void 0);var R=l.ccclass,T=l.property;e("GmMain",(C=R("GmMain"),I=T(c),G=T(u),M=T(c),x=T(d),L=T(c),D=T(c),C((z=t((V=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"nodeList",z,r(t)),i(t,"lblTitle",_,r(t)),i(t,"nodeEmail",O,r(t)),i(t,"edtitBox",S,r(t)),i(t,"nodeContent",B,r(t)),i(t,"nodeItem",H,r(t)),t.curSelectIndex=3,t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;this.nodeList.removeAllChildren(),Object.entries(v.cfgData).forEach((function(t,n){p.loadPrefabNode("gui/gm/gm_leftItem",(function(i){i.parent=e.nodeList,i.getComponent(y).initView(n,e.curSelectIndex,t[1]),1==e.nodeList.children.length&&e.freshView()}))})),this.nodeContent.removeAllChildren(),Object.keys(v.items).forEach((function(t){f(e.nodeItem).parent=e.nodeContent})),this.refresh(),m.message.on(g.GMOrder,this._eventHandler,this)},a.refresh=function(){var e=0;for(var t in v.items){this.nodeContent.children[e].getComponent(w).initView(v.items[t]).onRecv(this.refresh.bind(this)),e++}},a.onDestroy=function(){m.message.off(g.GMOrder,this._eventHandler,this)},a.freshView=function(e){void 0===e&&(e=this.curSelectIndex),this.curSelectIndex=e,this.lblTitle.string=v.cfgData[e].Title,this.nodeEmail.active=3==Number(this.curSelectIndex),this.nodeList.children.length>0&&Object.entries(this.nodeList.children).forEach((function(t,n){t[1].getComponent(y).initView(n,e,v.cfgData[n])}))},a.onClickRequest=function(){var e=o(s().mark((function e(){var t,n,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.cfgData[this.curSelectIndex],n=this.edtitBox.string,i=v.getRequestList(n,t),e.next=5,b.reqAsync(t.MsgID,i,!1);case 5:(null==(r=e.sent)?void 0:r.msg)&&m.gui.toast(r.msg);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a._eventHandler=function(e,t){e==g.GMOrder&&this.freshView(t.index)},a.onClickClose=function(){m.gui.removeByNode(this.node,!0)},t}(h)).prototype,"nodeList",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(V.prototype,"lblTitle",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(V.prototype,"nodeEmail",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(V.prototype,"edtitBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(V.prototype,"nodeContent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(V.prototype,"nodeItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=V))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/GMNum.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GM.ts","./HttpChannelManager.ts","./Oops.ts"],(function(t){"use strict";var n,e,r,o,s,c,u,i,a;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,c=t.Component},function(t){u=t.gm},function(t){i=t.httpChannel},function(t){a=t.oops}],execute:function(){var l;o._RF.push({},"4e477UaiLZBiIsHQmt8Qzh+","GMNum",void 0);var p=s.ccclass;s.property,t("GMNum",p("GMNum")(l=function(t){function o(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this)._onRecv=null,n.curSelectIndex=3,n.params=void 0,n}n(o,t);var s=o.prototype;return s.onAdded=function(t){this.params=t},s.onClick=function(){var t=e(r().mark((function t(n,e){var o,s,c,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.params+";"+e,s=u.cfgData[this.curSelectIndex],c=u.getRequestList(o,s),t.next=5,i.reqAsync(s.MsgID,c,!1);case 5:(null==(l=t.sent)?void 0:l.msg)&&a.gui.toast(l.msg);case 7:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),s.onClickClose=function(){a.gui.removeByNode(this.node,!0)},o}(c))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Guaji.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,i,a,c,o,u,s,r,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){a=t.oops},function(t){c=t.GameEvent},function(t){o=t.smc},function(t){u=t.GameSys},function(t){s=t.TableGameConfig},function(t){r=t.GameSysKey},function(t){f=t.GuajiTimeSecs}],execute:function(){i._RF.push({},"0ba9dKVqpxDN4K2jCLFvwnA","Guaji",void 0);var l=t("Guaji",function(t){function i(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).redotWatchGameEvents=[c.TimeAwardRedot,c.Tick60S],e}e(i,t);var u=i.prototype;return u.checkValid=function(t){return void 0===t&&(t=!1),0!=o.accdata.gameLevel||(t&&a.gui.toast("关卡等级为0"),!1)},u.calRedot=function(){return this.checkValid()&&this.validSecs>=i.MAX_SECS},n(i,[{key:"info",get:function(){return o.accountData.subinfo.timeAward},set:function(t){o.accountData.subinfo.timeAward=t}},{key:"validSecs",get:function(){if(!this.info)return 0;var t=new Date(this.info.startTime);return Math.min(Math.max(0,Math.ceil((a.timer.getLocalTime()-t.getTime())/1e3)),i.MAX_SECS)}},{key:"maxSecs",get:function(){return i.MAX_SECS}}]),i}(u));l.MAX_SECS=s.time_award_max*f.PER_HOUR;t("guaji",new l(r.timeaward));i._RF.pop()}}}));

System.register("chunks:///_virtual/GuajiMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./CostItem.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TablePrivilegeType.ts","./TableUtil.ts","./Util.ts","./BagItem.ts"],(function(e){"use strict";var t,i,n,r,a,s,o,l,u,c,m,h,p,f,b,d,g,v,T,y,C,D,k,w,E,_,N,x,G,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.extends,s=e.createClass,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,m=e.Label,h=e.Node,p=e.macro,f=e.Button,b=e.Component},function(e){d=e.oops},function(e){g=e.ViewUtil},function(e){v=e.GameEvent},function(e){T=e.CostItem},function(e){y=e.tips},function(e){C=e.httpChannel},function(e){D=e.MsgID},function(e){k=e.smc},function(e){w=e.TableGameConfig},function(e){E=e.PrivilegeTypeKey},function(e){_=e.TableUtil,N=e.GuajiTimeKey,x=e.GuajiTimeSecs},function(e){G=e.Util},function(e){I=e.BagItem}],execute:function(){var F,R,j,M,P,A,z,L,S,H,U,B,V,q,O,K,Q,X,J;u._RF.push({},"b2f608SOSBHc5630AoeRzDq","GuajiMain",void 0);var W=c.ccclass,Y=c.property;e("GuajiMain",(F=W("GuajiMain"),R=Y(m),j=Y(m),M=Y(m),P=Y(m),A=Y(h),z=Y(h),L=Y(h),S=Y(h),F((B=t((U=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"lblTime",B,r(t)),n(t,"lblGold",V,r(t)),n(t,"lblExp",q,r(t)),n(t,"lblFreeTimes",O,r(t)),n(t,"nodeContent",K,r(t)),n(t,"btnFree",Q,r(t)),n(t,"costItem",X,r(t)),n(t,"lblFree",J,r(t)),t.privilegeType=E.timeaward_quickcount,t.CD=0,t.endTime=void 0,t.timeCD=3,t.serverData=void 0,t.costItemId=1002,t}i(t,e);var u=t.prototype;return u.onEnable=function(){this.refresh()},u.refresh=function(){var e=k.accountData.gameLevel;this.doTick();var t=_.getLevelGuajiDrop(e,N.PER_MIN),i=_.getLevelGuajiDrop(e,N.PER_TEN_MIN);t.length>0?(console.assert(t[0].i==w.moneyId_goldcoin,"Error Drop Config"),this.lblGold.string=60*t[0].n+"/小时"):this.lblGold.string="0/小时",i.length>0?this.lblExp.string=6*i[0].n+"/小时":this.lblExp.string="0/小时",this.refreshDrops(),this.getFressTimes()},u.refreshDrops=function(){var e=this,t=k.accountData.gameLevel;this.nodeContent.removeAllChildren(),this.calDrops(t,k.guaji.validSecs).forEach((function(t){var i=g.createPrefabNode("common/prefab/bag_item");i.parent=e.nodeContent,i.getComponent(I).init(t.i,t.n)}))},u.getFressTimes=function(){var e=o(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.reqAsync(D.DiamondAwardInfo,{});case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:this.refreshFreeTimes(t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.refreshFreeTimes=function(e){this.serverData=e;var t=w.time_award_skip_cost;this.lblFreeTimes.string="剩余次数："+e.dailyNum;var i=this.isHasPrivilege?t.length:t.length-1;this.lblFree.getComponent(m).string=0==e.diamond&&e.dailyNum>0?"免费获得":"已领取",this.costItem.active=e.diamond>0&&e.dailyNum>0,this.lblFree.active=0==e.diamond||0==e.dailyNum,e.diamond>0&&e.dailyNum>0&&this.costItem.getComponent(T).init(1002,t[i-e.dailyNum])},u.doTick=function(){var e=this;this.lblTime.unscheduleAllCallbacks(),this.lblTime.schedule((function(t){var i=k.guaji.validSecs;i>0&&i%x.PER_MIN==0&&e.refreshDrops();var n=G.getTimeSpan(i);e.lblTime.string="挂机时间："+[n.hours,n.minutes,n.seconds].map((function(e){return e.toString().padStart(2,"0")})).join(":"),i===k.guaji.maxSecs&&e.lblTime.unscheduleAllCallbacks()}),1,p.REPEAT_FOREVER,.1)},u.calDrops=function(e,t){if(t<x.PER_MIN)return[];var i=_.getLevelGuajiDrop(e,N.PER_MIN),n=_.getLevelGuajiDrop(e,N.PER_TEN_MIN),r=_.getLevelGuajiDrop(e,N.PER_HOUR),s={i:w.itemid_exp,n:_.getLevelGuajiExp(e)},o=Math.floor(t/x.PER_MIN);return i=i.map((function(e){return a({},e,{n:e.n*o})})),s.n*=o,o=Math.floor(t/x.PER_TEN_MIN),n=n.map((function(e){return a({},e,{n:e.n*o})})),o=Math.floor(t/x.PER_HOUR),r=r.map((function(e){return a({},e,{n:e.n*o})})),[s].concat(i,n,r).filter((function(e){return e.n>0}))},u.onFreeClick=function(){var e=o(l().mark((function e(){var t,i,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.guaji.checkValid(!0)){e.next=2;break}return e.abrupt("return");case 2:if(t=k.accountData.getItemCount(this.costItemId),i=w.time_award_skip_cost,n=this.isHasPrivilege?i.length:i.length-1,!(this.serverData.dailyNum<=0)){e.next=8;break}return d.gui.toast("今日奖励已领完"),e.abrupt("return");case 8:if(!(t<i[n-this.serverData.dailyNum])){e.next=11;break}return d.gui.toast("钻石数量不足"),e.abrupt("return");case 11:if(this.endTime=(new Date).getTime()+1e3*this.timeCD,this.CD=this.endTime-(new Date).getTime(),!(this.CD>=0)){e.next=26;break}return this.schedule(this.limitTime,1),e.next=17,C.reqAsync(D.GetQuickTimeAward,{});case 17:if(null!=(r=e.sent)&&r.ok){e.next=20;break}return e.abrupt("return");case 20:k.account.doResChange(r),this.info.dailyNum=r.dailyNum,this.refreshFreeTimes(r),y.reward(r),e.next=27;break;case 26:this.unschedule(this.limitTime);case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onCollectClick=function(){var e=o(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.guaji.checkValid(!0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C.reqAsync(D.GetGuajiAward,{});case 4:if(null!=(t=e.sent)&&t.ok){e.next=7;break}return e.abrupt("return");case 7:if(k.account.doResChange(t),y.reward(t),d.message.dispatchEvent(v.TimeAwardRedot),null!=this&&this.isValid){e.next=12;break}return e.abrupt("return");case 12:this.info.startTime=t.startTime,this.refresh();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.limitTime=function(){this.CD>0?(this.CD=this.endTime-(new Date).getTime(),this.lblFreeTimes.string=Math.ceil(this.CD/1e3)+"可领取"):(this.CD=0,this.lblFreeTimes.string="剩余次数："+this.serverData.dailyNum),g.setGray(this.btnFree,this.CD>0),this.btnFree.getComponent(f).interactable=this.CD<=0},u.onXClick=function(){d.gui.removeByNode(this.node,!1)},s(t,[{key:"info",get:function(){return k.guaji.info}},{key:"isHasPrivilege",get:function(){return k.store.hasPrivilege(this.privilegeType)>0}}]),t}(b)).prototype,"lblTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(U.prototype,"lblGold",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(U.prototype,"lblExp",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(U.prototype,"lblFreeTimes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(U.prototype,"nodeContent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(U.prototype,"btnFree",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(U.prototype,"costItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(U.prototype,"lblFree",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=U))||H));u._RF.pop()}}}));

System.register("chunks:///_virtual/GuajiWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./Util.ts","./MainBtn.ts"],(function(t){"use strict";var i,e,n,s,a,r,o,c,l,u,p,d,f,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.Label,c=t.macro,l=t.Component},function(t){u=t.UIID},function(t){p=t.smc},function(t){d=t.GameSysKey},function(t){f=t.Util},function(t){g=t.MainBtn}],execute:function(){var S,h,m,b,y;a._RF.push({},"5fae5EagFBASp42qSYWWS3m","GuajiWidget",void 0);var v=r.ccclass,j=r.property;t("GuajiWidget",(S=v("GuajiWidget"),h=j(o),S((y=i((b=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"lblSecs",y,s(i)),i}e(i,t);var a=i.prototype;return a.start=function(){this.getComponent(g).init({sysId:d.timeaward,uiId:u.Guaji}),this.doTick()},a.doTick=function(){var t=this;this.lblSecs.string="",this.lblSecs.unscheduleAllCallbacks(),this.lblSecs.schedule((function(i){var e=p.guaji.validSecs,n=f.getTimeSpan(e);t.lblSecs.string=[n.hours,n.minutes,n.seconds].map((function(t){return t.toString().padStart(2,"0")})).join(":"),p.guaji.maxSecs}),1,c.REPEAT_FOREVER,.1)},i}(l)).prototype,"lblSecs",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/GUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var i,e,n,r,s,o,h,a,l,c,g;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.UITransform,s=t.Camera,o=t.view,h=t.math,a=t.screen,l=t.ResolutionPolicy,c=t.Component},function(t){g=t.oops}],execute:function(){var u;e._RF.push({},"9461cd/dGNEGK5I5J24xY6L","GUI",void 0);var p=n.ccclass;n.menu,t("GUI",p("GUI")(u=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).portraitDrz=null,i.landscapeDrz=null,i}i(e,t);var n=e.prototype;return n.onLoad=function(){this.init()},n.init=function(){this.transform=this.getComponent(r),this.camera=this.getComponentInChildren(s),o.getDesignResolutionSize().width>o.getDesignResolutionSize().height?(this.landscapeDrz=o.getDesignResolutionSize(),this.portraitDrz=new h.Size(this.landscapeDrz.height,this.landscapeDrz.width)):(this.portraitDrz=o.getDesignResolutionSize(),this.landscapeDrz=new h.Size(this.portraitDrz.height,this.portraitDrz.width)),this.resize()},n.resize=function(){var t;t=o.getDesignResolutionSize().width>o.getDesignResolutionSize().height?this.landscapeDrz:this.portraitDrz;var i=a.windowSize,e=i.width,n=i.height,r=e,s=n;e/n>t.width/t.height?(r=(s=t.height)*e/n,this.portrait=!1):(s=(r=t.width)*n/e,this.portrait=!0),o.setDesignResolutionSize(r,s,l.UNKNOWN),this.transform.width=r,this.transform.height=s,g.log.logView(t,"设计尺寸"),g.log.logView(i,"屏幕尺寸")},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Guide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./StorageKey.ts","./GameResCache.ts","./System.ts","./TableGameSys.ts","./TableGuide.ts","./TableUtil.ts","./GuideTalk.ts"],(function(e){"use strict";var t,n,i,r,s,u,a,o,c,l,h,f,d,g,p,v,k;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy},function(e){u=e.oops},function(e){a=e.JsonUtil},function(e){o=e.GameEvent},function(e){c=e.UIID},function(e){l=e.StorageKey},function(e){h=e.GameResCache},function(e){f=e.GameSys},function(e){d=e.GameSysKey},function(e){g=e.TableGuide},function(e){p=e.TableUtil},function(e){v=e.GuideTalk,k=e.GuildTalkResult}],execute:function(){e("GuideTypes",void 0),s._RF.push({},"8e770x8Kv1CgbeUNySrk//a","Guide",void 0);var y=e("Guide",function(e){function s(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).redotWatchGameEvents=[],t._storage=null,t._view=null,t._cur=null,t}t(s,e);var f=s.prototype;return f.init=function(){var e=this;s.Cfg=a.get(g.TableName),s.NewbeeAwardShopId=p.getShopIds((function(t){return t.systemid==e.id}))[0],s.NewSysUnlockIds=Object.keys(s.Cfg).filter((function(e){return!b[e]&&e.startsWith(b.UnlockSys_)})).map((function(e){var t,n;return Number(null!=(t=null==(n=e.match(/\d+$/))?void 0:n[0])?t:0)})),u.gui.guide.removeAllChildren();var t=h.instance.createGuide();t.active=!1,this._view=t.getComponent(v),u.gui.guide.addChild(t)},f.test=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 2:this.try(b.SkillBox,!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),f.test2=function(){var e=i(r().mark((function e(){var t,n,i,s,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 2:t=[d.raremonster,d.task_daily],n=0,i=t;case 4:if(!(n<i.length)){e.next=14;break}return s=i[n],e.next=8,u.gui.openModal(c.NotiUnlockSystem,s);case 8:if(a=this.getKey(b.UnlockSys_,s.toString()),!this.try(a,!0)){e.next=11;break}return e.abrupt("break",14);case 11:n++,e.next=4;break;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),f.try=function(){var e=i(r().mark((function e(t,n){var i,s,a,c,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),n||this.check(t)){e.next=3;break}return e.abrupt("return",!1);case 3:this.log(t,"开始引导"),u.message.dispatchEvent(o.GuideStart,t),this._cur=t,this._view.node.active=!0,i=Object.values(this.getCfg(t)),s=null,a=0,c=i;case 10:if(!(a<c.length)){e.next=23;break}return l=c[a],e.next=14,this._view.init(t,l).finished();case 14:if((s=e.sent)!==k.Exit){e.next=17;break}return e.abrupt("break",23);case 17:if(s!==k.Skip){e.next=20;break}return this.log(t,"引导跳过"),e.abrupt("break",23);case 20:a++,e.next=10;break;case 23:if(this._cur=null,this._view.node.active=!1,s!==k.Exit){e.next=29;break}return this.log(t,"引导终止"),e.abrupt("return",!1);case 29:return this.setFinished(t),this.log(t,"引导完成"),u.message.dispatchEvent(o.GuideFinished,t),e.abrupt("return",!0);case 33:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),f.check=function(e){return this.getCfg(e)?this.running?(this.log(e,"其它引导运行中"),!1):!this.isFinished(e)||(this.log(e,"已经引导过"),!1):(this.log(e,"配置不存在"),!1)},f.getKey=function(e,t){void 0===t&&(t=null);var n=e;return e!=b.UnlockSys_&&e!=b.OpenUI_||(n+=""+t),n},f.getCfg=function(e){return s.Cfg[e]&&Object.keys(s.Cfg[e]).length?s.Cfg[e]:null},f.isFinished=function(e){var t;return null==(t=this._storage.finished)?void 0:t.includes(e)},f.setFinished=function(e){this._storage.finished.push(e),u.storage.set(l.Guide,this._storage)},f.exit=function(){var e;this.current&&(null==(e=this._view)||e.exit())},f.onLogin=function(){this._storage=u.storage.getJson(l.Guide,{finished:[]})},f.calRedot=function(e,t){return!1},f.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("[Guide]",t)},n(s,[{key:"current",get:function(){return this._cur}},{key:"running",get:function(){return null!=this._cur}}]),s}(f));y.Cfg=null,y.NewSysUnlockIds=[],y.NewbeeAwardShopId=null;var b;e("guide",new y(d.guide));!function(e){e.FirstEnterGame="FirstEnterGame",e.DuanZao="DuanZao",e.DuanZaoSell="DuanZaoSell",e.DuanZaoSub="DuanZaoSub",e.Equip="Equip",e.GameLevelGo="GameLevelGo",e.GameLevelFinish="GameLevelFinish",e.DuanZaoUp="DuanZaoUp",e.DuanZaoUpCD="DuanZaoUpCD",e.UnlockSys_2011="UnlockSys_2011",e.OpenUI_YishouGachaResult="OpenUI_YishouGachaResult",e.UnlockRole2="UnlockRole2",e.UnlockRole3="UnlockRole3",e.SkillBox="SkillBox",e.RoleLvUp="RoleLvUp",e.UnlockSys_="UnlockSys_",e.OpenUI_="OpenUI_"}(b||(b=e("GuideTypes",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/GuideTalk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameResCache.ts","./RoleUI.ts","./Util.ts","./Guide.ts","./GuideTarget.ts","./Typer.ts"],(function(e){"use strict";var t,i,n,a,l,r,o,s,u,c,d,h,p,b,k,f,g,m,T,v,y,C,_,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,l=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Node,d=e.Button,h=e.UITransform,p=e.absMax,b=e.Widget,k=e.Toggle,f=e.Mask,g=e.BlockInputEvents,m=e.Component},function(e){T=e.GameResCache},function(e){v=e.RoleUILoader},function(e){y=e.delay},function(e){C=e.GuideTypes},function(e){_=e.GuideTarget},function(e){x=e.Typer}],execute:function(){var w,G,R,L,E,M,S,z,I,F,N,P,B,D,U,A,H,K,j,q,O;e("GuildTalkResult",void 0),s._RF.push({},"b50d8QeCldOSq2CzIuCIDyU","GuideTalk",void 0);var Q,W=u.ccclass,Z=u.property;!function(e){e[e.Next=0]="Next",e[e.Skip=1]="Skip",e[e.Exit=2]="Exit"}(Q||(Q=e("GuildTalkResult",{})));e("GuideTalk",(w=W("GuideTalk"),G=Z(c),R=Z(x),L=Z(v),E=Z(x),M=Z(v),S=Z(d),z=Z(d),I=Z(c),F=Z(c),w((B=t((P=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"nodeBG",B,a(t)),n(t,"lblTalkL",D,a(t)),n(t,"roleL",U,a(t)),n(t,"lblTalkR",A,a(t)),n(t,"roleR",H,a(t)),n(t,"btnNext",K,a(t)),n(t,"btnSkip",j,a(t)),n(t,"nodeMask",q,a(t)),n(t,"nodeFinger",O,a(t)),t._ty=null,t._params=null,t._target=null,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.nodeFinger=T.instance.createZhiyin(),this.nodeFinger.parent=this.node,this.reset()},s.start=function(){this.btnNext.node.on(d.EventType.CLICK,this.onNextClick,this),this.btnSkip.node.on(d.EventType.CLICK,this.onSkipClick,this)},s.init=function(e,t){var i=this;return this.reset(),this._ty=e,this._params=t,this.btnSkip.node.active=1==t.enableSkip,this.nodeBG.active=e==C.FirstEnterGame,this.btnNext.interactable=!1,t.target?this.findTarget(t.target).then((function(e){if(e){i._target=e;var t=i._target.getComponent(h);i.nodeFinger.active=!0,i.nodeFinger.worldPosition=e.node.worldPosition,i.nodeMask.worldPosition=e.node.worldPosition,i.nodeMask.getComponent(h).setContentSize(t.contentSize),i.setMaskEnabled(!0),i.showTalk(),i.btnNext.interactable=!0}else i.node.emit("finished",Q.Exit)})):(this._target=null,this.setMaskEnabled(!1),this.showTalk(),this.btnNext.interactable=!0),this},s.reset=function(){this._target=null,this.setMaskEnabled(!1),this.btnSkip.node.active=!1,this.lblTalkL.node.parent.active=!1,this.lblTalkR.node.parent.active=!1,this.nodeFinger&&(this.nodeFinger.active=!1)},s.findTarget=function(){var e=r(o().mark((function e(t,i){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===i&&(i=5e3),n=0,console.log("Guide.findTarget.start",this._ty,t),a=null;case 4:if(!(n<i)){e.next=14;break}if(!(a=_.Find(this._ty,t))||!a.node.activeInHierarchy){e.next=8;break}return e.abrupt("break",14);case 8:return a=null,e.next=11,y(500);case 11:n+=500,e.next=4;break;case 14:return console.log("Guide.findTarget.finished",this._ty,a),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),s.showTalk=function(){if(this._params.talk){var e="L"==this._params.side;this.lblTalkL.node.parent.active=e,this.lblTalkR.node.parent.active=!e,e?this.roleL.initModel(this._params.modelId):this.roleR.initModel(this._params.modelId),this.lblTalk.string=this._params.talk,this.lblTalk.node.parent.getComponent(h).height=p(157,this.lblTalk.height+25),this.lblTalk.getComponent(b).updateAlignment()}},s.onSkipClick=function(){this.node.emit("finished",Q.Skip)},s.onNextClick=function(){if(this._target){var e,t=this._target.getComponent(d);if(null!=t&&null!=(e=t.clickEvents)&&e.length){if(t instanceof k){var i=t;i.isChecked=!i.isChecked}var n=t.clickEvents[0];n.emit([null,n.customEventData])}else this._target.node.emit("click",t)}else if(this.lblTalk.typing)return void this.lblTalk.skip();this.node.emit("finished",Q.Next)},s.finished=function(){var e=this;return new Promise((function(t){e.node.once("finished",(function(e){t(e)}))}))},s.exit=function(){this.node.emit("finished",Q.Exit)},s.setMaskEnabled=function(e){this.nodeMask.getComponent(f).enabled=e,this.nodeMask.getComponentInChildren(g).enabled=e},l(t,[{key:"lblTalk",get:function(){return"L"==this._params.side?this.lblTalkL:this.lblTalkR}}]),t}(m)).prototype,"nodeBG",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"lblTalkL",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(P.prototype,"roleL",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(P.prototype,"lblTalkR",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(P.prototype,"roleR",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(P.prototype,"btnNext",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(P.prototype,"btnSkip",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(P.prototype,"nodeMask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(P.prototype,"nodeFinger",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=P))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/GuideTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,o,a,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.CCString,c=e.CCInteger,s=e.Component}],execute:function(){var p,d,l,g,f,y,T,h;o._RF.push({},"1c902zZM/5AZboTdJ1fw2xn","GuideTarget",void 0);var m=a.ccclass,v=a.property;e("GuideTarget",(p=m("GuideTarget"),d=v({type:u,displayName:"GuideType",tooltip:"指引类型（字符串）"}),l=v({type:[c],displayName:"GuideTarget",tooltip:"指引数字标记"}),p(((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"guideType",y,n(t)),r(t,"guideTarget",T,n(t)),t}i(t,e),t.Add=function(e){t.Targets.push(e)},t.Remove=function(e){var i=t.Targets.indexOf(e);i>=0&&t.Targets.splice(i,1)},t.Find=function(e,t){return this.Targets.find((function(i){return i.match(e,t)}))};var o=t.prototype;return o.onLoad=function(){t.Add(this)},o.onDestroy=function(){t.Remove(this)},o.match=function(e,t){return this.guideType==e&&this.guideTarget==t},t}(s)).Targets=[],y=t((f=h).prototype,"guideType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=t(f.prototype,"guideTarget",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=f))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuideTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerManager.ts","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameSys.ts","./Util.ts","./Guide.ts"],(function(e){"use strict";var t,n,r,i,s,o,a,u,c,l,d,f,h,g,p,v,y,k;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime,i=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,o=e._decorator,a=e.Component},function(e){u=e.LayerType},function(e){c=e.oops},function(e){l=e.GameEvent},function(e){d=e.UIID},function(e){f=e.smc},function(e){h=e.TableGameConfig},function(e){g=e.GameSysKey,p=e.TableGameSys},function(e){v=e.delay},function(e){y=e.GuideTypes,k=e.Guide}],execute:function(){var m;e("GuideTriggerEvents",void 0),s._RF.push({},"8f7c7zyfENFWpsIUXzNKFhb","GuideTrigger",void 0);var x,b=o.ccclass;o.property;!function(e){e[e.OpenUI=0]="OpenUI"}(x||(x=e("GuideTriggerEvents",{})));e("GuideTrigger",b("GuideTrigger")(m=function(e){function s(){return e.apply(this,arguments)||this}t(s,e);var o=s.prototype;return o.start=function(){c.message.on(l.DockBtnActive,this._eventHandler,this),c.message.on(l.GuideFinished,this._eventHandler,this),c.message.on(l.GuideTrigger,this._eventHandler,this),c.message.on(l.HeroLevelUp,this._eventHandler,this),c.message.on(l.TaskMainFinished,this._eventHandler,this)},o.onDestroy=function(){c.message.off(l.DockBtnActive,this._eventHandler,this),c.message.off(l.GuideFinished,this._eventHandler,this),c.message.off(l.GuideTrigger,this._eventHandler,this),c.message.off(l.HeroLevelUp,this._eventHandler,this),c.message.off(l.TaskMainFinished,this._eventHandler,this)},o._eventHandler=function(){var e=n(r().mark((function e(t,n){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=l.DockBtnActive){e.next=5;break}n,d.Box,e.next=19;break;case 5:if(t!=l.GuideFinished){e.next=18;break}if((i=n)!=y.FirstEnterGame){e.next=15;break}if(e.t0=k.NewbeeAwardShopId,!e.t0){e.next=12;break}return e.next=12,f.store.reqBuy(k.NewbeeAwardShopId);case 12:this.try(y.DuanZao,2),e.next=16;break;case 15:i==y.DuanZao&&this.try(y.Equip,2);case 16:e.next=19;break;case 18:t==l.GuideTrigger?this.onTrigger(n):t==l.HeroLevelUp?this.onLevelUp(f.accdata.heroLevel):t==l.TaskMainFinished&&this.onTaskMainFinished(n);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),o.onTrigger=function(e){if(e.event==x.OpenUI){var t=e.args,n=f.guide.getKey(y.OpenUI_,d[t]);f.guide.try(n)}},o.onLevelUp=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(100);case 2:if(t!=h.heroList[1].needlv){e.next=7;break}return e.next=5,f.guide.try(y.UnlockRole2);case 5:e.next=10;break;case 7:if(t!=h.heroList[2].needlv){e.next=10;break}return e.next=10,f.guide.try(y.UnlockRole3);case 10:(n=k.NewSysUnlockIds.filter((function(e){var n;return(null==(n=p[e])?void 0:n.open_rolelevel)==t&&f.system.checkOpened(e)}))).length?this.guideNewSyss(n):t>=p[g.box_equip_auto].open_rolelevel&&!f.ebox.hasTmp()&&this.try(y.UnlockSys_2011,1);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.onTaskMainFinished=function(){var e=n(r().mark((function e(t){var n,i,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(100);case 2:1003!=(null==(i=null==(n=f.task.getMainInfo())?void 0:n.curEntity)?void 0:i.id)||f.task.isFinished(i)?1020==t?f.guide.try(y.RoleLvUp):1054==t?f.guide.try(y.SkillBox):1052==t?f.guide.try("UnlockSys_1003"):(s=k.NewSysUnlockIds.filter((function(e){var n;return(null==(n=p[e])?void 0:n.need_task)==t&&f.system.checkOpened(e)})),this.guideNewSyss(s)):f.guide.try(y.GameLevelGo);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.guideNewSyss=function(){var e=n(r().mark((function e(t){var n,o,a,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=14;break}f.ebox.setAutoReq(null),f.system.goto(g.home),s.ClearUI(),n=i(t);case 5:if((o=n()).done){e.next=14;break}return a=o.value,e.next=9,c.gui.openModal(d.NotiUnlockSystem,a);case 9:if(u=f.guide.getKey(y.UnlockSys_,a.toString()),!this.try(u)){e.next=12;break}return e.abrupt("break",14);case 12:e.next=5;break;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.try=function(e,t){return void 0===t&&(t=.2),!!f.guide.check(e)&&(c.gui.blockInputEvents(),this.scheduleOnce((function(){c.gui.blockInputEvents(!1),f.system.goto(g.home),s.ClearUI(),f.guide.try(e)}),t),!0)},s.ClearUI=function(){c.gui.clear([u.PopUp,u.Dialog],!0)},s}(a))||m);s._RF.pop()}}}));

System.register("chunks:///_virtual/GuideUnlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUIConfig.ts","./PopUpBase.ts","./RoleUI.ts","./TableGameSys.ts","./JourneyItem.ts","./Guide.ts","./GuideTarget.ts","./Typer.ts"],(function(t){"use strict";var e,n,i,o,r,s,l,a,c,u,p,h,d,f,y,b,m,k,g,I,T,v,_,w,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,a=t._decorator,c=t.Button,u=t.Sprite,p=t.Node,h=t.UITransform,d=t.absMax,f=t.Widget,y=t.Vec3,b=t.tween},function(t){m=t.FubenItemConfigData},function(t){k=t.PopUpBase},function(t){g=t.RoleUILoader},function(t){I=t.GameSysKey,T=t.TableGameSys},function(t){v=t.JourneyItem},function(t){_=t.GuideTypes},function(t){w=t.GuideTarget},function(t){C=t.Typer}],execute:function(){var L,G,x,U,z,F,P,S,M,N,R,A,D;l._RF.push({},"51045ih2JhHE6q+xsDu9tkV","GuideUnlock",void 0);var E=a.ccclass,B=a.property;t("GuideUnlock",(L=E("GuideUnlock"),G=B(C),x=B(g),U=B(c),z=B(u),F=B(p),L((M=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"lblTalkL",M,o(e)),i(e,"roleL",N,o(e)),i(e,"btnNext",R,o(e)),i(e,"spIcon",A,o(e)),i(e,"nodeMask",D,o(e)),e._sysId=null,e._params=null,e._target=null,e}n(e,t);var l=e.prototype;return l.onAdded=function(t){this._sysId=t},l.start=function(){t.prototype.start.call(this),this.init(),this.btnNext.node.on(c.EventType.CLICK,this.onNextClick,this)},l.init=function(){var t=this;try{m.find((function(e){return e.sysId==t._sysId}))?(this._target=w.Find(_.UnlockSys_,I.fuben),this.spIcon.getComponent(v).initCommon(T[this._sysId])):(this._target=w.Find(_.UnlockSys_,this._sysId),this.spIcon.sizeMode=u.SizeMode.RAW,this.spIcon.spriteFrame=this._target.getComponent(u).spriteFrame,this.spIcon.node.removeAllChildren()),this.showTalk()}catch(t){(null==this?void 0:this.isValid)&&this.onXClick()}},l.showTalk=function(){var t;null!=(t=this._params)&&t.talk?(this.roleL.initModel(this._params.modelId),this.lblTalkL.string=this._params.talk,this.lblTalkL.node.parent.getComponent(h).height=d(157,this.lblTalkL.height+25),this.lblTalkL.getComponent(f).updateAlignment()):this.lblTalkL.node.parent.active=!1},l.doFly=function(){var t=this._target,e=this.spIcon,n=y.distance(e.node.worldPosition,t.node.worldPosition);return new Promise((function(i){b(e.node).to(n/800,{worldPosition:t.node.worldPosition}).to(.2,{scale:new y(1.2,1.2)},{easing:"sineOut"}).to(.3,{scale:y.ONE},{easing:"sineIn"}).removeSelf().call(i).start()}))},l.onNextClick=function(){var t=r(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.lblTalkL.typing){t.next=3;break}return this.lblTalkL.skip(),t.abrupt("return");case 3:return this.node.off(c.EventType.CLICK,this.onNextClick,this),this.node.children.filter((function(t){return t!=e.spIcon.node&&t!=e.nodeMask})).forEach((function(t){return t.active=!1})),t.next=7,this.doFly();case 7:this.onXClick();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(k)).prototype,"lblTalkL",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(S.prototype,"roleL",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(S.prototype,"btnNext",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(S.prototype,"spIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(S.prototype,"nodeMask",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=S))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/Guild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./TipsManager.ts","./GameEnum.ts","./JsonUtil.ts","./TableGuildTaskAward.ts"],(function(n){"use strict";var t,e,i,r,u,a,s,o,c,l,d,f,p,g,h,G,v,k;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,i=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){u=n.cclegacy,a=n._decorator},function(n){s=n.oops},function(n){o=n.GameEvent},function(n){c=n.UIID},function(n){l=n.httpChannel},function(n){d=n.MsgID},function(n){f=n.smc},function(n){p=n.GameSys},function(n){g=n.GameSysKey},function(n){h=n.tips},function(n){G=n.ETaskState},function(n){v=n.JsonUtil},function(n){k=n.TableGuildTaskAward}],execute:function(){var y;n("EGuildPost",void 0),u._RF.push({},"ae8eegDK5BD+7aA939zLla+","Guild",void 0);var m,I=a.ccclass;a.property;!function(n){n[n.LEADER=1]="LEADER",n[n.MEMBER=5]="MEMBER"}(m||(m=n("EGuildPost",{})));var R=n("Guild",I("Guild")(y=function(n){function u(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))||this).createFlagIndex=1,t.myGuildInfo=void 0,t.redotWatchGameEvents=[o.GuildApplyRed,o.GuildTaskUpdate],t}t(u,n);var a=u.prototype;return a.getMyGuildInfo=function(){return this.myGuildInfo},a.setMyGuildInfo=function(n){this.myGuildInfo=n},a.isGuildMaster=function(n,t){var e;return void 0===t&&(t=f.accdata.id),(null==(e=n.info.member.find((function(n){return t==n.id})))?void 0:e.post)==m.LEADER},a.guildRank=function(){var n=i(r().mark((function n(t){var e,i,u;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=d.GuildRank,i={},n.next=4,l.reqAsync(e,i);case 4:if(null!=(u=n.sent)&&u.ok){n.next=7;break}return n.abrupt("return");case 7:t(u);case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),a.joinGuild=function(){var n=i(r().mark((function n(t,e){var i,u,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=d.GuildJoin,u={gid:t},n.next=4,l.reqAsync(i,u);case 4:if(null!=(a=n.sent)&&a.ok){n.next=7;break}return n.abrupt("return");case 7:e(a);case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),a.openMain=function(){var n=i(r().mark((function n(){var t,e,i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=d.GuildMainInfo,e={},n.next=4,l.reqAsync(t,e);case 4:if(null!=(i=n.sent)&&i.ok){n.next=7;break}return n.abrupt("return");case 7:i.sguild?(f.chat.onGuild("join",i.sguild.guildid),s.gui.open(c.GuildMain,i)):(this.guildRoleInfo=void 0,this.guildRank((function(n){s.gui.open(c.GuildApply,n)})));case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.changeGuildInfo=function(){var n=i(r().mark((function n(t){var e,i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=d.GuildChange,n.next=3,l.reqAsync(e,t);case 3:if(null!=(i=n.sent)&&i.ok){n.next=6;break}return n.abrupt("return");case 6:s.message.dispatchEvent(o.GuildInfoChange,i);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),a.getBoxAward=function(){var n=i(r().mark((function n(t,e){var i,u,a,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=d.GuildLivenessAward,u={id:t},n.next=4,l.reqAsync(i,u);case 4:if(null!=(a=n.sent)&&a.ok){n.next=7;break}return n.abrupt("return");case 7:this.guildTaskInfo.received=a.received,e(),f.account.doResChange(a),s={additem:a.additem},h.reward(s);case 12:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}(),a.getGuildTaskInfo=function(n){return this.guildTaskInfo.tasklist[n]},a.calRedot=function(n,t){return f.system.getRedot(g.guild)?!this.myGuildInfo||(this.taskRed||this.applyRed):this.taskRed},e(u,[{key:"guildRoleInfo",get:function(){return f.accdata.subinfo.guild},set:function(n){f.accdata.subinfo.guild=n}},{key:"guildTaskInfo",get:function(){return f.accdata.subinfo.taskGuild},set:function(n){f.accdata.subinfo.taskGuild=n}},{key:"taskRed",get:function(){if(!this.guildRoleInfo||""==this.guildRoleInfo.guildid)return!1;for(var n in null==(t=this.guildTaskInfo)?void 0:t.tasklist){var t,e=this.getGuildTaskInfo(n);if(e.state==G.NOT_RECEIVE&&f.task.isFinished(e))return!0}if(this.myGuildInfo){var i=v.get(k.TableName);for(var r in i)if(this.myGuildInfo.info.liveness>=i[r].point&&!this.guildTaskInfo.received.includes(Number(r)))return!0}return!1}},{key:"applyRed",get:function(){return!!this.myGuildInfo&&(this.myGuildInfo.info.unMember.length>0&&this.isGuildMaster(this.myGuildInfo))}}]),u}(p))||y);n("guild",new R(g.guild));u._RF.pop()}}}));

System.register("chunks:///_virtual/GuildApply.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GuildApplyItem.ts","./GameUIConfig.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./HttpChannelManager.ts"],(function(t){"use strict";var e,n,i,o,r,l,u,a,s,c,p,d,h,f,g,C,m,y,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass,l=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,c=t.Node,p=t.EditBox,d=t.Prefab,h=t.instantiate,f=t.Component},function(t){g=t.oops},function(t){C=t.GuildApplyItem},function(t){m=t.UIID},function(t){y=t.MsgID},function(t){b=t.smc},function(t){v=t.httpChannel}],execute:function(){var A,G,k,I,x,S,w,D,L;a._RF.push({},"b4759YogQFGXoTvAge5rhuD","GuildApply",void 0);var z=s.ccclass,M=s.property;t("GuildApply",(A=z("GuildApply"),G=M(c),k=M(p),I=M(d),A((w=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"nodeContent",w,o(e)),i(e,"ebSearch",D,o(e)),i(e,"itemApply",L,o(e)),e.params=void 0,e}n(e,t);var a=e.prototype;return a.onAdded=function(t){this.params=t},a.start=function(){this.initGuildList()},a.update=function(t){},a.initGuildList=function(){this.nodeContent.removeAllChildren();for(var t=0;t<this.params.sguild.length;t++){h(this.itemApply).parent=this.nodeContent}this.refresh()},a.refresh=function(){var t=this;this.guildItems.forEach((function(e,n){e.init(t.params.sguild[n])}))},a.onClickClose=function(){g.gui.removeByNode(this.node,!0)},a.onClickSearch=function(){var t=l(u().mark((function t(){var e,n,i,o,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=this.ebSearch.textLabel.string).length>0)){t.next=13;break}return n=y.GuildSearch,i={gid:e},t.next=6,v.reqAsync(n,i);case 6:if(null!=(o=t.sent)&&o.ok){t.next=9;break}return t.abrupt("return");case 9:this.nodeContent.removeAllChildren(),o.guild&&((r=h(this.itemApply)).parent=this.nodeContent,r.getComponent(C).init(o.guild)),t.next=14;break;case 13:this.initGuildList();case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onClickCreate=function(){this.onClickClose(),g.gui.open(m.GuildCreate)},a.onClickRandomJoin=function(){var t=this;b.guild.joinGuild(null,(function(e){e.rguild&&(b.guild.guildRoleInfo=e.rguild,t.onClickClose(),b.guild.openMain())}))},r(e,[{key:"guildItems",get:function(){return this.nodeContent.getComponentsInChildren(C)}}]),e}(f)).prototype,"nodeContent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(S.prototype,"ebSearch",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(S.prototype,"itemApply",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=S))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildApplyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetProtocol.ts","./ViewUtil.ts","./GameResPath.ts","./Oops.ts","./SingletonModuleComp.ts","./GameUIConfig.ts","./HttpChannelManager.ts"],(function(e){"use strict";var i,t,n,l,r,o,a,u,s,p,c,f,g,b,m,h,d,y,v,k;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,s=e.Sprite,p=e.Label,c=e.Button,f=e.Component},function(e){g=e.MsgID},function(e){b=e.ViewUtil},function(e){m=e.GameResPath,h=e.RankIcon},function(e){d=e.oops},function(e){y=e.smc},function(e){v=e.UIID},function(e){k=e.httpChannel}],execute:function(){var R,I,w,C,G,z,A,F,L,N,M,S,x,D,P,_,U,B,V;a._RF.push({},"47068NXEb1B2biVQJ+u7ZiN","GuildApplyItem",void 0);var j=u.ccclass,q=u.property;e("GuildApplyItem",(R=j("GuildApplyItem"),I=q(s),w=q(p),C=q(s),G=q(p),z=q(p),A=q(p),F=q(p),L=q(c),R((S=i((M=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"imgRank",S,l(i)),n(i,"lblRank",x,l(i)),n(i,"imgFlag",D,l(i)),n(i,"lblName",P,l(i)),n(i,"lblLevel",_,l(i)),n(i,"lblLeaderName",U,l(i)),n(i,"lblMemberCount",B,l(i)),n(i,"btnApply",V,l(i)),i.info=void 0,i}t(i,e);var a=i.prototype;return a.start=function(){},a.update=function(e){},a.init=function(e){this.info=e,this.info.rank>3?(this.imgRank.node.active=!1,this.lblRank.node.active=!0,this.lblRank.string=this.info.rank+""):(this.imgRank.node.active=!0,this.lblRank.node.active=!1,b.loadSpriteFrame(this.imgRank.getComponent(s),m.getSpriteFrameCommon(h[this.info.rank]))),b.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+this.info.flag+"/spriteFrame"),this.lblName.string=this.info.gname,this.lblLevel.string=this.info.glv+"级",this.lblLeaderName.string=this.info.leadername,this.lblMemberCount.string=this.info.cur+"/"+this.info.limit,this.refresh()},a.refresh=function(){this.btnApply.getComponent(s).grayscale=this.info.apply},a.onClickApply=function(){var e=this;y.guild.joinGuild(this.info.gid,(function(i){i.rguild?(y.guild.guildRoleInfo=i.rguild,d.gui.remove(v.GuildApply),y.guild.openMain()):(e.info.apply=!0,e.refresh())}))},a.onItemClick=function(){var e=r(o().mark((function e(){var i,t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g.GuildInfo,t={gid:this.info.gid},e.next=4,k.reqAsync(i,t);case 4:if(null!=(n=e.sent)&&n.ok){e.next=7;break}return e.abrupt("return");case 7:d.gui.open(v.GuildInfo,n.sguild);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i}(f)).prototype,"imgRank",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(M.prototype,"lblRank",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(M.prototype,"imgFlag",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(M.prototype,"lblName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(M.prototype,"lblLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(M.prototype,"lblLeaderName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(M.prototype,"lblMemberCount",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(M.prototype,"btnApply",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=M))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildApplyList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GuildApplyListItem.ts","./GameEvent.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,n,i,o,r,l,s,u,p,a,c,d,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Node,u=e.Prefab,p=e.instantiate,a=e.Component},function(e){c=e.oops},function(e){d=e.GuildApplyListItem},function(e){f=e.GameEvent},function(e){h=e.smc}],execute:function(){var y,g,m,v,C,G,b;r._RF.push({},"349dbfyMc5FZLehbPNES1La","GuildApplyList",void 0);var A=l.ccclass,L=l.property;e("GuildApplyList",(y=A("GuildApplyList"),g=L(s),m=L(u),y((G=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nodeContent",G,o(t)),i(t,"itemAppply",b,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.refresh(),c.message.on(f.GuildInfoChange,this._eventHandler,this)},r.onDestroy=function(){c.message.off(f.GuildInfoChange,this._eventHandler,this)},r._eventHandler=function(e,t){void 0===t&&(t=null),e==f.GuildInfoChange&&(h.guild.setMyGuildInfo(t.sguild),this.refresh())},r.refresh=function(){this.nodeContent.removeAllChildren();for(var e=h.guild.getMyGuildInfo().info.unMember,t=0;t<e.length;t++){var n=p(this.itemAppply);n.parent=this.nodeContent,n.getComponent(d).init(e[t],t)}},r.update=function(e){},r.onClickClose=function(){c.gui.removeByNode(this.node,!0)},t}(a)).prototype,"nodeContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(C.prototype,"itemAppply",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildApplyListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetProtocol.ts","./Oops.ts","./GameEvent.ts","./PlayerHead.ts","./HttpChannelManager.ts"],(function(e){"use strict";var t,n,i,r,a,l,o,s,u,c,p,f,d,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,u=e.Label,c=e.Component},function(e){p=e.MsgID},function(e){f=e.oops},function(e){d=e.GameEvent},function(e){h=e.PlayerHead},function(e){y=e.httpChannel}],execute:function(){var m,b,g,v,L,G,w,x,A;o._RF.push({},"ce5588U6GhK84ZyNjlwtNnL","GuildApplyListItem",void 0);var H=s.ccclass,I=s.property;e("GuildApplyListItem",(m=H("GuildApplyListItem"),b=I(h),g=I(u),v=I(u),m((w=t((G=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"itemHead",w,r(t)),i(t,"lblName",x,r(t)),i(t,"lblZL",A,r(t)),t.index=void 0,t}n(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.init=function(e,t){this.index=t,this.itemHead.initView(e.ico),this.lblName.string=e.name,this.lblZL.string=e.fight+""},o.onClickPass=function(){var e=a(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.GuildApplyList,n={index:this.index},e.next=4,y.reqAsync(t,n);case 4:if(null!=(i=e.sent)&&i.ok){e.next=7;break}return e.abrupt("return");case 7:f.message.dispatchEvent(d.GuildInfoChange,i);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(c)).prototype,"itemHead",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(G.prototype,"lblName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(G.prototype,"lblZL",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=G))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildCreate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./ViewUtil.ts","./GameEvent.ts","./NetProtocol.ts","./HttpChannelManager.ts","./TableGameConfig.ts","./GameResPath.ts"],(function(e){"use strict";var t,n,i,o,r,l,a,s,u,c,g,p,m,b,f,h,d,C,y,G,v,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Sprite,c=e.EditBox,g=e.Toggle,p=e.Label,m=e.Component},function(e){b=e.oops},function(e){f=e.UIID},function(e){h=e.smc},function(e){d=e.ViewUtil},function(e){C=e.GameEvent},function(e){y=e.MsgID},function(e){G=e.httpChannel},function(e){v=e.TableGameConfig},function(e){F=e.GameResPath}],execute:function(){var w,x,_,z,I,S,k,A,N,H,D,L,R,M,P,T,U;a._RF.push({},"2fd273pjhNKopHct/JgGHFb","GuildCreate",void 0);var j=s.ccclass,B=s.property;e("GuildCreate",(w=j("GuildCreate"),x=B(u),_=B(c),z=B(c),I=B(c),S=B(g),k=B(p),A=B(u),w((D=t((H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"imgFlag",D,o(t)),i(t,"ebName",L,o(t)),i(t,"ebSlogon",R,o(t)),i(t,"ebAnouncement",M,o(t)),i(t,"tgAuto",P,o(t)),i(t,"lblCost",T,o(t)),i(t,"imgCost",U,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.ebName.maxLength=v.guild_name_length,this.refresh(),b.message.on(C.GuildChooseCreateFlag,this._eventHandler,this)},a.onDestroy=function(){b.message.off(C.GuildChooseCreateFlag,this._eventHandler,this)},a.update=function(e){},a.refresh=function(){var e=Object.entries(v.guild_costitem)[0],t=e[0],n=e[1];d.loadSpriteFrame(this.imgCost,F.getItemSpriteFrame(Number(t))),this.lblCost.string=h.accdata.getItemCount(t)+"/"+n,d.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+h.guild.createFlagIndex+"/spriteFrame")},a.onClickChangeFlag=function(){b.gui.open(f.GuildFlag)},a.onClickCreate=function(){var e=r(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.ebName.textLabel.string),console.log(this.ebSlogon.string),console.log(this.ebAnouncement.string),t=y.GuildCreate,n={name:this.ebName.textLabel.string,flag:h.guild.createFlagIndex,desc:this.ebSlogon.string,notice:this.ebAnouncement.string,open:this.tgAuto.isChecked?1:0},e.next=7,G.reqAsync(t,n);case 7:if(null!=(i=e.sent)&&i.ok){e.next=10;break}return e.abrupt("return");case 10:h.guild.guildRoleInfo=i.rguild,this.onClickClose(),h.guild.openMain();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onClickClose=function(){b.gui.removeByNode(this.node,!0)},a._eventHandler=function(e,t){e==C.GuildChooseCreateFlag&&this.refresh()},t}(m)).prototype,"imgFlag",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(H.prototype,"ebName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(H.prototype,"ebSlogon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(H.prototype,"ebAnouncement",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(H.prototype,"tgAuto",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(H.prototype,"lblCost",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(H.prototype,"imgCost",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=H))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildEditDesc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var e,i,n,o,r,s,l,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Label,a=t.EditBox,c=t.Component},function(t){u=t.oops}],execute:function(){var p,d,b,f,h,m,g;r._RF.push({},"c8459QbTe9J8aYoS4PTiGn6","GuildEditDesc",void 0);var y=s.ccclass,C=s.property;t("GuildEditDesc",(p=y("GuildEditDesc"),d=C(l),b=C(a),p((m=e((h=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"lblTitle",m,o(e)),n(e,"ebContent",g,o(e)),e.params=void 0,e}i(e,t);var r=e.prototype;return r.onAdded=function(t){this.params=t},r.start=function(){this.lblTitle.string=this.params.title,this.ebContent.string=this.params.content},r.update=function(t){},r.onClickClose=function(){u.gui.removeByNode(this.node,!0)},r.onClickConfirm=function(){this.ebContent.string!=this.params.content&&this.params.cb(this.ebContent.string)},e}(c)).prototype,"lblTitle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(h.prototype,"ebContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildFlag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildFlagItem.ts","./Oops.ts","./ViewUtil.ts","./SingletonModuleComp.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,i,o,a,r,l,s,u,c,d,g,h,f,p,m,C,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.Sprite,u=e.Node,c=e.Button,d=e.Prefab,g=e.instantiate,h=e.Component},function(e){f=e.GuildFlagItem},function(e){p=e.oops},function(e){m=e.ViewUtil},function(e){C=e.smc},function(e){v=e.GameEvent}],execute:function(){var F,b,I,y,x,G,w,z,k,_,E;r._RF.push({},"a7a3aAktXJCQqw7du3jl8mQ","GuildFlag",void 0);var A=l.ccclass,D=l.property;e("GuildFlag",(F=A("GuildFlag"),b=D(s),I=D(u),y=D(c),x=D(d),F((z=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"imgFlag",z,o(t)),i(t,"nodeContent",k,o(t)),i(t,"btnChange",_,o(t)),i(t,"itemFlag",E,o(t)),t.params=void 0,t.chooseIndex=void 0,t}n(t,e);var r=t.prototype;return r.onAdded=function(e){this.params=e},r.start=function(){var e=this;this.chooseIndex=this.params?this.params.info.flag:C.guild.createFlagIndex,this.nodeContent.removeAllChildren();for(var t=0;t<6;t++){var n=g(this.itemFlag);n.parent=this.nodeContent,n.getComponent(f).init(t+1,(function(t){e.chooseIndex=t.index,e.refresh()}))}this.refresh()},r.onDestroy=function(){},r.update=function(e){},r.refresh=function(){var e=this;m.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+C.guild.createFlagIndex+"/spriteFrame"),this.flagItems.forEach((function(t){t.setEquiped(e.chooseIndex==t.index)}))},r.onClickClose=function(){p.gui.removeByNode(this.node,!0)},r.onClickChange=function(){if(this.params){var e={flag:this.chooseIndex};C.guild.changeGuildInfo(e)}else C.guild.createFlagIndex=this.chooseIndex,p.message.dispatchEvent(v.GuildChooseCreateFlag);this.onClickClose()},r._eventHandler=function(e,t){},a(t,[{key:"flagItems",get:function(){return this.nodeContent.getComponentsInChildren(f)}}]),t}(h)).prototype,"imgFlag",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(w.prototype,"nodeContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(w.prototype,"btnChange",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(w.prototype,"itemFlag",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=w))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildFlagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts"],(function(i){"use strict";var e,t,l,n,r,a,o,c,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,l=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,o=i.Sprite,c=i.Component},function(i){u=i.ViewUtil}],execute:function(){var s,p,g,d,f,m,b,h,y;r._RF.push({},"8f7a0F9q6tL/aGE+N1dQk4c","GuildFlagItem",void 0);var F=a.ccclass,v=a.property;i("GuildFlagItem",(s=F("GuildFlagItem"),p=v(o),g=v(o),d=v(o),s((b=e((m=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=i.call.apply(i,[this].concat(r))||this,l(e,"imgFlag",b,n(e)),l(e,"imgSelect",h,n(e)),l(e,"imgEquiped",y,n(e)),e.index=void 0,e.callback=void 0,e}t(e,i);var r=e.prototype;return r.start=function(){},r.update=function(i){},r.init=function(i,e){this.index=i,u.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+i+"/spriteFrame"),this.callback=e},r.setEquiped=function(i){this.imgEquiped.node.active=i},r.onClick=function(){"function"==typeof this.callback&&this.callback(this)},e}(c)).prototype,"imgFlag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=e(m.prototype,"imgSelect",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(m.prototype,"imgEquiped",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildHall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildInfo.ts","./ViewUtil.ts","./JsonUtil.ts","./TableGuildLv.ts","./GuildHallItem.ts","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./GameEvent.ts"],(function(e){"use strict";var t,i,n,l,r,o,s,a,u,d,f,c,g,h,m,p,b,G,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,a=e.ProgressBar,u=e.Label,d=e.instantiate},function(e){f=e.GuildInfo},function(e){c=e.ViewUtil},function(e){g=e.JsonUtil},function(e){h=e.TableGuildLv},function(e){m=e.GuildHallItem},function(e){p=e.oops},function(e){b=e.UIID},function(e){G=e.smc},function(e){v=e.GameEvent}],execute:function(){var I,y,C,H,M,_,B;o._RF.push({},"f8729pDph9DRotByxwBzViE","GuildHall",void 0);var D=s.ccclass,w=s.property;e("GuildHall",(I=D("GuildHall"),y=w(a),C=w(u),I((_=t((M=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"bar",_,l(t)),n(t,"lblBar",B,l(t)),t}i(t,e);var o=t.prototype;return o.start=function(){this.refresh(),p.message.on(v.GuildInfoChange,this._eventHandler,this)},o.onDestroy=function(){p.message.off(v.GuildInfoChange,this._eventHandler,this)},o.refresh=function(){var e=G.guild.getMyGuildInfo().info;c.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+e.flag+"/spriteFrame"),this.lblMemberCount.string=e.member.length+"/"+g.get(h.TableName)[e.level].limit,this.lblGuildName.string=G.guild.getMyGuildInfo().name,this.lblGuildLevel.string=e.level+"级",this.lblGuildCode.string="公会编号："+G.guild.getMyGuildInfo().guildid,this.lblGuildSlogon.string=e.desc;var t=g.get(h.TableName)[e.level].needexp;this.bar.progress=e.exp/t,this.lblBar.string=e.exp+"/"+t,this.nodeContent.removeAllChildren();for(var i=0;i<e.member.length;i++){d(this.itemInfo).parent=this.nodeContent}this.hallItems.forEach((function(t,i){t.init(e.member[i])}))},o._eventHandler=function(e,t){void 0===t&&(t=null),e==v.GuildInfoChange&&(G.guild.setMyGuildInfo(t.sguild),this.refresh())},o.onClickManage=function(){p.gui.open(b.GuildManage)},r(t,[{key:"hallItems",get:function(){return this.nodeContent.getComponentsInChildren(m)}}]),t}(f)).prototype,"bar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(M.prototype,"lblBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=M))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildHallItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildInfoItem.ts","./Util.ts"],(function(t){"use strict";var i,e,l,n,r,o,a,u,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,a=t.Label},function(t){u=t.GuildInfoItem},function(t){s=t.Util}],execute:function(){var c,f,b,p,g,m,d;r._RF.push({},"3f73d7kHilCfqVuArWWdqJB","GuildHallItem",void 0);var h=o.ccclass,y=o.property;t("GuildHallItem",(c=h("GuildHallItem"),f=y(a),b=y(a),c((m=i((g=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i=t.call.apply(t,[this].concat(r))||this,l(i,"lblLoginTime",m,n(i)),l(i,"lblContribute",d,n(i)),i}return e(i,t),i.prototype.init=function(t){this.info=t,this.itemHead.initView(t.ico),this.lblName.string=t.name,this.lblZL.string=t.fight+"";var i=new Date(t.llt),e=Date.now()-i.getTime();this.lblLoginTime.string=s.fmtSecs(Math.ceil(e/1e3)),this.lblContribute.string=t.daygx+"/"+t.allgx},i}(u)).prototype,"lblLoginTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(g.prototype,"lblContribute",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GuildHistoryItem.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,l,u,c,p,d,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,l=t.Node,u=t.Prefab,c=t.ScrollView,p=t.instantiate,d=t.Component},function(t){f=t.oops},function(t){y=t.GuildHistoryItem}],execute:function(){var m,h,b,g,v,C,H,G,I;s._RF.push({},"ae35ciME0FGXJpIb3X2IAzC","GuildHistory",void 0);var z=a.ccclass,w=a.property;t("GuildHistory",(m=z("GuildHistory"),h=w(l),b=w(u),g=w(c),m((H=e((C=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"nodeContent",H,o(e)),n(e,"itemHistory",G,o(e)),n(e,"sv",I,o(e)),e.params=void 0,e}i(e,t);var s=e.prototype;return s.onAdded=function(t){this.params=t},s.start=function(){var t=this,e={},i="";this.params.sguild.info.log.forEach((function(t,n){var o=t.time.substring(0,10),r=t.time.substring(11,19);o!=i&&(e[o]=[],i=o),e[o].push(r+" "+t.str)})),this.nodeContent.removeAllChildren(),Object.entries(e).forEach((function(e){var i=p(t.itemHistory);i.parent=t.nodeContent,i.getComponent(y).init(e[0],e[1])}))},s.update=function(t){},s.onClickClose=function(){f.gui.removeByNode(this.node,!0)},r(e,[{key:"historyItems",get:function(){return this.nodeContent.getComponentsInChildren(y)}}]),e}(d)).prototype,"nodeContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(C.prototype,"itemHistory",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(C.prototype,"sv",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/GuildHistoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,n,l,o,a,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,a=t.Label,s=t.Component}],execute:function(){var u,c,p,f,b,y,m;l._RF.push({},"36af1Utkz5PEpQ8in7afktt","GuildHistoryItem",void 0);var d=o.ccclass,h=o.property;t("GuildHistoryItem",(u=d("GuildHistoryItem"),c=h(a),p=h(a),u((y=i((b=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l))||this,r(i,"lblTime",y,n(i)),r(i,"lblInfo",m,n(i)),i}e(i,t);var l=i.prototype;return l.start=function(){},l.update=function(t){},l.init=function(t,i){this.lblTime.string=t,this.lblInfo.string=i.join("\n")},i}(s)).prototype,"lblTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(b.prototype,"lblInfo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=b))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuildInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildInfoItem.ts","./ViewUtil.ts","./JsonUtil.ts","./TableGuildLv.ts","./Oops.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var i,l,t,n,o,r,u,a,s,b,d,c,f,g,m,p,G,h,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,u=e._decorator,a=e.Sprite,s=e.Label,b=e.Node,d=e.Prefab,c=e.instantiate,f=e.Component},function(e){g=e.GuildInfoItem},function(e){m=e.ViewUtil},function(e){p=e.JsonUtil},function(e){G=e.TableGuildLv},function(e){h=e.oops},function(e){y=e.smc}],execute:function(){var C,I,v,w,z,L,M,F,S,N,D,_,x,P,T,U,k,B,Z,A,J;r._RF.push({},"016ddy061xIP7LDpmxyw0BD","GuildInfo",void 0);var R=u.ccclass,V=u.property;e("GuildInfo",(C=R("GuildInfo"),I=V(a),v=V(s),w=V(s),z=V(s),L=V(s),M=V(s),F=V(s),S=V(b),N=V(d),C((x=i((_=function(e){function i(){for(var i,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,t(i,"imgFlag",x,n(i)),t(i,"lblMemberCount",P,n(i)),t(i,"lblGuildName",T,n(i)),t(i,"lblGuildLevel",U,n(i)),t(i,"lblGuildCode",k,n(i)),t(i,"lblGuildSlogon",B,n(i)),t(i,"lblGuildZL",Z,n(i)),t(i,"nodeContent",A,n(i)),t(i,"itemInfo",J,n(i)),i}l(i,e);var r=i.prototype;return r.start=function(){var e=y.guild.getMyGuildInfo().info;m.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+e.flag+"/spriteFrame"),this.lblMemberCount.string=e.member.length+"/"+p.get(G.TableName)[e.level].limit,this.lblGuildName.string=y.guild.getMyGuildInfo().name,this.lblGuildLevel.string=e.level+"级",this.lblGuildCode.string="公会编号："+y.guild.getMyGuildInfo().guildid,this.lblGuildSlogon.string=e.desc,this.lblGuildZL.string=e.af+"",this.nodeContent.removeAllChildren();for(var i=0;i<e.member.length;i++){c(this.itemInfo).parent=this.nodeContent}this.infoItems.forEach((function(i,l){i.init(e.member[l])}))},r.update=function(e){},r.onClickClose=function(){h.gui.removeByNode(this.node,!0)},o(i,[{key:"infoItems",get:function(){return this.nodeContent.getComponentsInChildren(g)}}]),i}(f)).prototype,"imgFlag",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(_.prototype,"lblMemberCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(_.prototype,"lblGuildName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(_.prototype,"lblGuildLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(_.prototype,"lblGuildCode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(_.prototype,"lblGuildSlogon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(_.prototype,"lblGuildZL",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(_.prototype,"nodeContent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(_.prototype,"itemInfo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=_))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerHead.ts","./YongbingTitleItem.ts","./TipsManager.ts"],(function(i){"use strict";var e,t,n,l,r,o,a,u,s,c,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){r=i.cclegacy,o=i._decorator,a=i.Label,u=i.Component},function(i){s=i.PlayerHead},function(i){c=i.YongbingTitleItem},function(i){f=i.tips}],execute:function(){var p,b,m,d,g,h,y,v,I,L,w,z,T;r._RF.push({},"72217dMm6VOioDGNn8ubLJA","GuildInfoItem",void 0);var H=o.ccclass,G=o.property;i("GuildInfoItem",(p=H("GuildInfoItem"),b=G(s),m=G(a),d=G(a),g=G(c),h=G(a),p((I=e((v=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,n(e,"itemHead",I,l(e)),n(e,"lblName",L,l(e)),n(e,"lblLevel",w,l(e)),n(e,"itemTitle",z,l(e)),n(e,"lblZL",T,l(e)),e.info=void 0,e}t(e,i);var r=e.prototype;return r.start=function(){},r.update=function(i){},r.init=function(i){this.info=i,this.itemHead.initView(i.ico),this.lblName.string=i.name,this.lblLevel.string=i.lv+"",this.itemTitle.initView(i.lg),this.lblZL.string=i.fight+""},r.onClickItem=function(){this.info&&this.info.id&&f.player(this.info.id)},e}(u)).prototype,"itemHead",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(v.prototype,"lblName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"lblLevel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(v.prototype,"itemTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(v.prototype,"lblZL",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildInfoManage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildInfo.ts","./JsonUtil.ts","./ViewUtil.ts","./TableGuildLv.ts","./SingletonModuleComp.ts","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts"],(function(i){"use strict";var e,t,n,l,o,u,g,s,r,a,d,c,f,h,G,b,p,I;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){o=i.cclegacy,u=i._decorator,g=i.Toggle,s=i.EditBox,r=i.Label,a=i.EventHandler},function(i){d=i.GuildInfo},function(i){c=i.JsonUtil},function(i){f=i.ViewUtil},function(i){h=i.TableGuildLv},function(i){G=i.smc},function(i){b=i.oops},function(i){p=i.GameEvent},function(i){I=i.UIID}],execute:function(){var m,v,M,y,C,L,k,D,E,w,T;o._RF.push({},"e02bdnbIddPVq41qK3MHh7b","GuildInfoManage",void 0);var _=u.ccclass,z=u.property;i("GuildInfoManage",(m=_("GuildInfoManage"),v=z(g),M=z(s),y=z(r),C=z(r),m((D=e((k=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return e=i.call.apply(i,[this].concat(o))||this,n(e,"tgAuto",D,l(e)),n(e,"ebLimit",E,l(e)),n(e,"lblDesc",w,l(e)),n(e,"lblNotice",T,l(e)),e}t(e,i);var o=e.prototype;return o.start=function(){this.refresh();var i=new a;i.target=this.node,i.component="GuildInfoManage",i.handler="onToggleCheck",i.customEventData="",this.tgAuto.checkEvents.push(i),b.message.on(p.GuildInfoChange,this._eventHandler,this)},o.onDestroy=function(){b.message.off(p.GuildInfoChange,this._eventHandler,this)},o._eventHandler=function(i,e){void 0===e&&(e=null),i==p.GuildInfoChange&&(G.guild.setMyGuildInfo(e.sguild),this.refresh())},o.refresh=function(){var i=G.guild.getMyGuildInfo().info;f.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+i.flag+"/spriteFrame"),this.lblMemberCount.string=i.member.length+"/"+c.get(h.TableName)[i.level].limit,this.lblGuildName.string=G.guild.getMyGuildInfo().name,this.lblGuildLevel.string=i.level+"级",this.lblGuildCode.string="公会编号："+G.guild.getMyGuildInfo().guildid,this.tgAuto.isChecked=1==i.open,this.lblGuildZL.string=i.af+"",this.ebLimit.string=(i.needlv||0)+"",this.lblDesc.string=i.desc,this.lblNotice.string=i.notice},o.onClickChangeDesc=function(){G.guild.isGuildMaster(G.guild.getMyGuildInfo())?b.gui.open(I.GuildInfoEdit,{cb:function(i){var e={desc:i};G.guild.changeGuildInfo(e)},title:"更改公告",content:G.guild.getMyGuildInfo().info.desc}):b.gui.toast("权限不足！")},o.onClickChangeNotice=function(){G.guild.isGuildMaster(G.guild.getMyGuildInfo())?b.gui.open(I.GuildInfoEdit,{cb:function(i){var e={notice:i};G.guild.changeGuildInfo(e)},title:"更改宣言",content:G.guild.getMyGuildInfo().info.notice}):b.gui.toast("权限不足！")},o.onClickToggle=function(i,e){},o.onToggleCheck=function(i,e){if(G.guild.isGuildMaster(G.guild.getMyGuildInfo())){var t={open:i.isChecked?1:0};G.guild.changeGuildInfo(t)}else i.isChecked=1==G.guild.getMyGuildInfo().info.open,b.gui.toast("权限不足！")},o.onEditingReturn=function(){var i=G.guild.getMyGuildInfo().info.needlv||0;if(this.ebLimit.string!=String(i))if(G.guild.isGuildMaster(G.guild.getMyGuildInfo())){var e={needlv:Number(this.ebLimit.string)};G.guild.changeGuildInfo(e)}else this.ebLimit.string=String(i),b.gui.toast("权限不足！")},o.onClickChangeFlag=function(){G.guild.isGuildMaster(G.guild.getMyGuildInfo())?b.gui.open(I.GuildFlag,G.guild.getMyGuildInfo()):b.gui.toast("权限不足！")},e}(d)).prototype,"tgAuto",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(k.prototype,"ebLimit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(k.prototype,"lblDesc",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(k.prototype,"lblNotice",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=k))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./JsonUtil.ts","./TableGuildLv.ts","./GameUIConfig.ts","./GameEvent.ts","./Util.ts","./SingletonModuleComp.ts","./TableGameSys.ts"],(function(e){"use strict";var t,i,n,l,s,o,a,u,r,d,c,p,f,g,m,h,b,y,G,v,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,r=e.Sprite,d=e.Label,c=e.Button,p=e.Component},function(e){f=e.oops},function(e){g=e.ViewUtil},function(e){m=e.JsonUtil},function(e){h=e.TableGuildLv},function(e){b=e.UIID},function(e){y=e.GameEvent},function(e){G=e.Util},function(e){v=e.smc},function(e){k=e.GameSysKey}],execute:function(){var C,T,L,M,U,R,I,_,w,F,H,z,A;a._RF.push({},"416f2KBxhpBuJaLgVg2WXDw","GuildMain",void 0);var D=u.ccclass,S=u.property;e("GuildMain",(C=D("GuildMain"),T=S(r),L=S(d),M=S(d),U=S(c),R=S(c),C((w=t((_=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"imgFlag",w,l(t)),n(t,"lblName",F,l(t)),n(t,"lblMemberCount",H,l(t)),n(t,"btnApplyList",z,l(t)),n(t,"btnTask",A,l(t)),t}i(t,e);var a=t.prototype;return a.onAdded=function(e){v.guild.setMyGuildInfo(e.sguild)},a.start=function(){this.refresh(),f.message.on(y.GuildInfoChange,this._eventHandler,this),f.message.on(y.GuildTaskUpdate,this._eventHandler,this),f.message.on(y.GuildLivenessUpdate,this._eventHandler,this)},a.onDestroy=function(){f.message.off(y.GuildInfoChange,this._eventHandler,this),f.message.off(y.GuildTaskUpdate,this._eventHandler,this),f.message.off(y.GuildLivenessUpdate,this._eventHandler,this)},a._eventHandler=function(e,t){void 0===t&&(t=null),e==y.GuildInfoChange?(v.guild.setMyGuildInfo(t.sguild),this.refresh()):e==y.GuildTaskUpdate?G.setRedot(this.btnTask,v.guild.taskRed):e==y.GuildLivenessUpdate&&(v.guild.getMyGuildInfo().info.liveness=t||0)},a.refresh=function(){var e=v.guild.getMyGuildInfo().info;g.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+e.flag+"/spriteFrame"),this.lblName.string=v.guild.getMyGuildInfo().name,this.lblMemberCount.string=e.member.length+"/"+m.get(h.TableName)[e.level].limit;var t=v.guild.applyRed;G.setRedot(this.btnApplyList,t),v.system.setRedot(k.guild,t),f.message.dispatchEvent(y.GuildApplyRed),G.setRedot(this.btnTask,v.guild.taskRed)},a.update=function(e){},a.onClickClose=function(){f.gui.removeByNode(this.node,!0)},a.oncClickFlag=function(){f.gui.open(b.GuildHall)},a.oncClickApplyList=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.gui.open(b.GuildApplyList);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.oncClickRank=function(){f.gui.open(b.GuildRank)},a.onClickFunc=function(){f.gui.toast("敬请期待！")},a.onClickTask=function(){f.gui.open(b.GuildTask)},t}(p)).prototype,"imgFlag",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"lblName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(_.prototype,"lblMemberCount",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"btnApplyList",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"btnTask",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=_))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildManage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./PlayerHead.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var n,t,i,r,a,u,o,l,s,c,f,p,d,g,h,y,m,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){o=e.cclegacy,l=e._decorator,s=e.Label,c=e.Component},function(e){f=e.oops},function(e){p=e.GameEvent},function(e){d=e.UIID},function(e){g=e.PlayerHead},function(e){h=e.tips},function(e){y=e.httpChannel},function(e){m=e.MsgID},function(e){b=e.smc}],execute:function(){var v,G,k,C,M,I,x,H,w;o._RF.push({},"f401c7ps7FIQKJBQDb9VCZz","GuildManage",void 0);var A=l.ccclass,D=l.property;e("GuildManage",(v=A("GuildManage"),G=D(g),k=D(s),C=D(s),v((x=n((I=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return n=e.call.apply(e,[this].concat(a))||this,i(n,"itemHead",x,r(n)),i(n,"lblName",H,r(n)),i(n,"lblApply",w,r(n)),n}t(n,e);var o=n.prototype;return o.start=function(){this.itemHead.initView(),this.lblName.string=b.accdata.name,this.refresh(),f.message.on(p.GuildInfoChange,this._eventHandler,this)},o.onDestroy=function(){f.message.off(p.GuildInfoChange,this._eventHandler,this)},o._eventHandler=function(e,n){void 0===n&&(n=null),e==p.GuildInfoChange&&(b.guild.setMyGuildInfo(n.sguild),this.refresh())},o.refresh=function(){this.lblApply.string=b.guild.isGuildMaster(b.guild.getMyGuildInfo())?"转移会长":"申请会长"},o.update=function(e){},o.onClickClose=function(){f.gui.removeByNode(this.node,!0)},o.onClickInfo=function(){this.onClickClose(),f.gui.open(d.GuildInfoManage)},o.onClickHistory=function(){var e=a(u().mark((function e(){var n,t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.GuildMainInfo,t={flag:1},e.next=4,y.reqAsync(n,t);case 4:if(null!=(i=e.sent)&&i.ok){e.next=7;break}return e.abrupt("return");case 7:f.gui.open(d.GuildHistory,i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.onClickQuit=function(){var e=a(u().mark((function e(){var n,t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.confirmAsync("确定要退出公会吗？");case 2:if(!e.sent){e.next=15;break}return n=m.GuildQuit,t={},e.next=7,y.reqAsync(n,t);case 7:if(null!=(i=e.sent)&&i.ok){e.next=10;break}return e.abrupt("return");case 10:b.guild.guildRoleInfo.guildid="",b.chat.onGuild("leave",b.guild.getMyGuildInfo().guildid),f.gui.remove(d.GuildMain,!0),f.gui.remove(d.GuildHall,!0),this.onClickClose();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onClickApply=function(){var e=a(u().mark((function e(){var n,t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.guild.isGuildMaster(b.guild.getMyGuildInfo())){e.next=4;break}f.gui.open(d.GuildMember),e.next=12;break;case 4:return n=m.GuildTransfer,t={type:2},e.next=8,y.reqAsync(n,t);case 8:if(null!=(i=e.sent)&&i.ok){e.next=11;break}return e.abrupt("return");case 11:f.message.dispatchEvent(p.GuildInfoChange,i);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(c)).prototype,"itemHead",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(I.prototype,"lblName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(I.prototype,"lblApply",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=I))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildMember.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildMemberItem.ts","./Guild.ts","./Oops.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,n,i,o,r,l,u,s,a,c,p,d,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,u=e.Node,s=e.Prefab,a=e.instantiate,c=e.Component},function(e){p=e.GuildMemberItem},function(e){d=e.EGuildPost},function(e){m=e.oops},function(e){f=e.smc}],execute:function(){var b,h,g,y,M,v,C;r._RF.push({},"342c65IGzhHHaCpReXzFG1D","GuildMember",void 0);var G=l.ccclass,z=l.property;e("GuildMember",(b=G("GuildMember"),h=z(u),g=z(s),b((v=t((M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nodeContent",v,o(t)),i(t,"itemMember",C,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.nodeContent.removeAllChildren();for(var e=f.guild.getMyGuildInfo().info.member.filter((function(e){return e.post!=d.LEADER})),t=0;t<e.length;t++){var n=a(this.itemMember);n.parent=this.nodeContent,n.getComponent(p).init(e[t])}},r.update=function(e){},r.onClickClose=function(){m.gui.removeByNode(this.node,!0)},t}(c)).prototype,"nodeContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(M.prototype,"itemMember",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=M))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildMemberItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerHead.ts","./Oops.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./GameEvent.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,n,r,i,a,o,l,s,u,c,p,f,m,b,d,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Label,c=e.Component},function(e){p=e.PlayerHead},function(e){f=e.oops},function(e){m=e.tips},function(e){b=e.httpChannel},function(e){d=e.MsgID},function(e){h=e.GameEvent},function(e){g=e.UIID}],execute:function(){var y,v,G,I,M,w,x,H,L;l._RF.push({},"d1665pASPRIxa6VMaLzdrXT","GuildMemberItem",void 0);var k=s.ccclass,z=s.property;e("GuildMemberItem",(y=k("GuildMemberItem"),v=z(p),G=z(u),I=z(u),y((x=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"itemHead",x,i(t)),r(t,"lblName",H,i(t)),r(t,"lblZL",L,i(t)),t.info=void 0,t}n(t,e);var l=t.prototype;return l.start=function(){},l.update=function(e){},l.init=function(e){this.info=e,this.itemHead.initView(e.ico),this.lblName.string=e.name,this.lblZL.string=e.fight+""},l.onClickTransfer=function(){var e=a(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.confirmAsync("确定要转让会长吗？");case 2:if(!e.sent){e.next=12;break}return t=d.GuildTransfer,n={leader:this.info.id,type:1},e.next=7,b.reqAsync(t,n);case 7:if(null!=(r=e.sent)&&r.ok){e.next=10;break}return e.abrupt("return");case 10:f.message.dispatchEvent(h.GuildInfoChange,r),f.gui.remove(g.GuildMember,!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(c)).prototype,"itemHead",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(w.prototype,"lblName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(w.prototype,"lblZL",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=w))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuildRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildRankItem.ts","./NetProtocol.ts","./HttpChannelManager.ts","./Oops.ts"],(function(n){"use strict";var e,t,r,i,o,a,u,s,l,c,p,d,f,h,k,m,g;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized,o=n.createClass,a=n.asyncToGenerator,u=n.regeneratorRuntime},function(n){s=n.cclegacy,l=n._decorator,c=n.Node,p=n.Prefab,d=n.Component,f=n.instantiate},function(n){h=n.GuildRankItem},function(n){k=n.MsgID},function(n){m=n.httpChannel},function(n){g=n.oops}],execute:function(){var y,R,C,b,v,G,w,z,I;s._RF.push({},"42ce6hehCBNdLGJbC9dUzdV","GuildRank",void 0);var L=l.ccclass,x=l.property;n("GuildRank",(y=L("GuildRank"),R=x(c),C=x(p),b=x(h),y((w=e((G=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,r(e,"nodeContent",w,i(e)),r(e,"itemRank",z,i(e)),r(e,"myRank",I,i(e)),e}t(e,n);var s=e.prototype;return s.start=function(){this.refreshRankList()},s.refreshRankList=function(){var n=a(u().mark((function n(){var e,t,r,i,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=k.GuildRank,t={},n.next=4,m.reqAsync(e,t);case 4:if(null!=(r=n.sent)&&r.ok){n.next=7;break}return n.abrupt("return");case 7:for(this.nodeContent.removeAllChildren(),i=0;i<r.sguild.length;i++)(o=f(this.itemRank)).parent=this.nodeContent,o.getComponent(h).init(r.sguild[i]);r.guild&&this.myRank.init(r.guild);case 11:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.update=function(n){},s.onClickClose=function(){g.gui.removeByNode(this.node,!0)},o(e,[{key:"rankItems",get:function(){return this.nodeContent.getComponentsInChildren(h)}}]),e}(d)).prototype,"nodeContent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(G.prototype,"itemRank",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(G.prototype,"myRank",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=G))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/GuildRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var i,t,l,a,n,r,o,u,s,b,c,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,o=e.Sprite,u=e.Label,s=e.Component},function(e){b=e.ViewUtil},function(e){c=e.GameResPath,m=e.RankIcon}],execute:function(){var p,g,d,f,h,k,R,y,v,L,z,w,F,G,I,N,D;n._RF.push({},"d2660TzpxFGKKQbcyUD4DUs","GuildRankItem",void 0);var S=r.ccclass,_=r.property;e("GuildRankItem",(p=S("GuildRankItem"),g=_(o),d=_(u),f=_(o),h=_(u),k=_(u),R=_(u),y=_(u),p((z=i((L=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=e.call.apply(e,[this].concat(n))||this,l(i,"imgRank",z,a(i)),l(i,"lblRank",w,a(i)),l(i,"imgFlag",F,a(i)),l(i,"lblName",G,a(i)),l(i,"lblLevel",I,a(i)),l(i,"lblLeaderName",N,a(i)),l(i,"lblZL",D,a(i)),i}t(i,e);var n=i.prototype;return n.start=function(){},n.update=function(e){},n.init=function(e){e.rank>3?(this.imgRank.node.active=!1,this.lblRank.node.active=!0,this.lblRank.string=e.rank+""):(this.imgRank.node.active=!0,this.lblRank.node.active=!1,b.loadSpriteFrame(this.imgRank.getComponent(o),c.getSpriteFrameCommon(m[e.rank]))),b.loadSpriteFrame(this.imgFlag,"gui/guild/texture/img_qz"+e.flag+"/spriteFrame"),this.lblName.string=e.gname,this.lblLevel.string=e.glv+"级",this.lblLeaderName.string=e.leadername,this.lblZL.string=e.af+""},i}(s)).prototype,"imgRank",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(L.prototype,"lblRank",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(L.prototype,"imgFlag",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(L.prototype,"lblName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(L.prototype,"lblLevel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(L.prototype,"lblLeaderName",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(L.prototype,"lblZL",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=L))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/GuildTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildTaskBoxItem.ts","./Oops.ts","./JsonUtil.ts","./TableGuildTaskAward.ts","./SingletonModuleComp.ts","./GuildTaskItem.ts","./GameEvent.ts"],(function(e){"use strict";var t,i,n,s,o,r,a,l,u,c,d,f,p,b,h,m,g,k,v,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Label,l=e.ProgressBar,u=e.Node,c=e.Prefab,d=e.instantiate,f=e.Vec3,p=e.Component},function(e){b=e.GuildTaskBoxItem},function(e){h=e.oops},function(e){m=e.JsonUtil},function(e){g=e.TableGuildTaskAward},function(e){k=e.smc},function(e){v=e.GuildTaskItem},function(e){T=e.GameEvent}],execute:function(){var y,x,G,I,B,_,C,w,S,z,U,E,O,j,H;o._RF.push({},"ad8040xruVEcY4DIv/QYclY","GuildTask",void 0);var L=r.ccclass,N=r.property;e("GuildTask",(y=L("GuildTask"),x=N(a),G=N(l),I=N(u),B=N(u),_=N(c),C=N(c),y((z=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"lblScore",z,s(t)),n(t,"bar",U,s(t)),n(t,"nodeContent",E,s(t)),n(t,"nodeBox",O,s(t)),n(t,"pfbTask",j,s(t)),n(t,"pfbBox",H,s(t)),t._maxScore=0,t.boxItems=void 0,t}i(t,e);var o=t.prototype;return o.start=function(){var e=this,t=k.guild.guildTaskInfo;Object.keys(t.tasklist).forEach((function(t){d(e.pfbTask).parent=e.nodeContent}));var i=m.get(g.TableName),n=Object.keys(i);this._maxScore=i[n[n.length-1]].point,this.boxItems=[],Object.keys(i).forEach((function(t,n){var s=d(e.pfbBox);s.parent=e.nodeBox,e.boxItems.push(s.getComponent(b)),s.setPosition(new f(i[t].point/e._maxScore*587,0,0))})),this.refreshBox(),this.refreshTask(),h.message.on(T.GuildTaskUpdate,this._eventHandler,this),h.message.on(T.GuildLivenessUpdate,this._eventHandler,this)},o.onDestroy=function(){h.message.off(T.GuildTaskUpdate,this._eventHandler,this),h.message.off(T.GuildLivenessUpdate,this._eventHandler,this)},o.update=function(e){},o.refreshBox=function(){var e=this,t=m.get(g.TableName);Object.keys(t).forEach((function(i,n){e.boxItems[n]&&e.boxItems[n].refresh(t[i],Number(i))}));var i=k.guild.getMyGuildInfo().info.liveness||0;this.lblScore.string=i+"",this.bar.progress=i/this._maxScore},o.refreshTask=function(){var e=k.guild.guildTaskInfo,t=Object.keys(e.tasklist).map(Number).sort((function(e,t){var i=k.guild.getGuildTaskInfo(e),n=k.task.isFinished(i)?0:1,s=k.guild.getGuildTaskInfo(t),o=k.task.isFinished(s)?0:1;return i.state==s.state?n!=o?n-o:i.id-s.id:i.state-s.state}));this.nodeContent.getComponentsInChildren(v).forEach((function(e,i){e.init(t[i]).refresh()}))},o.onClickClose=function(){h.gui.removeByNode(this.node,!0)},o._eventHandler=function(e,t){var i=this;e==T.GuildTaskUpdate?this.scheduleOnce((function(){return i.refreshTask()})):e==T.GuildLivenessUpdate&&(k.guild.getMyGuildInfo().info.liveness=t,this.refreshBox())},t}(p)).prototype,"lblScore",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(S.prototype,"bar",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(S.prototype,"nodeContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(S.prototype,"nodeBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(S.prototype,"pfbTask",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(S.prototype,"pfbBox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=S))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildTaskBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./Oops.ts","./GameEvent.ts"],(function(i){"use strict";var t,e,n,o,a,r,s,l,d,u,c,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Label,l=i.Sprite,d=i.Component},function(i){u=i.smc},function(i){c=i.oops},function(i){f=i.GameEvent}],execute:function(){var p,g,h,v,m,I,_;a._RF.push({},"56ffbb0QARNAJcnZ2gphS8s","GuildTaskBoxItem",void 0);var b=r.ccclass,y=r.property;i("GuildTaskBoxItem",(p=b("GuildTaskBoxItem"),g=y(s),h=y(l),p((I=t((m=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"lblPoint",I,o(t)),n(t,"imgRed",_,o(t)),t._info=void 0,t._awardId=void 0,t}e(t,i);var a=t.prototype;return a.start=function(){},a.update=function(i){},a.refresh=function(i,t){this._info=i,this._awardId=t,this.lblPoint.string=i.point+"",u.guild.guildTaskInfo.received.includes(this._awardId)?this.imgRed.node.active=!1:u.guild.getMyGuildInfo().info.liveness>=i.point?this.imgRed.node.active=!0:this.imgRed.node.active=!1},a.onClick=function(){var i=this;u.guild.guildTaskInfo.received.includes(this._awardId)?c.gui.toast("奖励已领取！"):u.guild.getMyGuildInfo().info.liveness>=this._info.point?u.guild.getBoxAward(this._awardId,(function(){i.refresh(i._info,i._awardId),c.message.dispatchEvent(f.GuildTaskUpdate)})):c.gui.toast("活跃度不足！")},t}(d)).prototype,"lblPoint",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(m.prototype,"imgRed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildTaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableTask.ts","./TableTaskTarget.ts","./TableTaskTargetType.ts","./TableUtil.ts","./BagItem.ts","./GameEnum.ts","./NetProtocol.ts","./Oops.ts","./TipsManager.ts","./HttpChannelManager.ts","./GameEvent.ts"],(function(t){"use strict";var e,i,n,a,s,r,l,o,c,u,f,b,p,g,d,h,T,m,v,I,y,k,G,D,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,l=t._decorator,o=t.Label,c=t.Node,u=t.Button,f=t.Prefab,b=t.instantiate,p=t.Component},function(t){g=t.smc},function(t){d=t.TableTask},function(t){h=t.TableTaskTarget},function(t){T=t.TableTaskTargetType},function(t){m=t.TableUtil},function(t){v=t.BagItem},function(t){I=t.ETaskState},function(t){y=t.MsgID},function(t){k=t.oops},function(t){G=t.tips},function(t){D=t.httpChannel},function(t){w=t.GameEvent}],execute:function(){var P,C,E,z,M,R,B,L,S,_,q,x,A,O,U;r._RF.push({},"8d7b1S2xqpM8oX4YdfXbOl0","GuildTaskItem",void 0);var j=l.ccclass,F=l.property;t("GuildTaskItem",(P=j("GuildTaskItem"),C=F(o),E=F(c),z=F(o),M=F(o),R=F(u),B=F(f),P((_=e((S=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"lblDesc",_,a(e)),n(e,"nodeItems",q,a(e)),n(e,"lblProgress",x,a(e)),n(e,"lblDone",A,a(e)),n(e,"btnGet",O,a(e)),n(e,"pfbItem",U,a(e)),e.id=null,e.cfg=new d,e.cfgT=new h,e.cfgTT=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.init=function(t){var e=this;this.id=t,this.cfg.init(t),this.cfgT.init(this.cfg.target[0]),this.cfgTT=T[this.cfgT.type],this.lblDesc.string=this.cfgT.name,this.nodeItems.removeAllChildren();var i=m.getDropItems(this.cfg.drop[0],this.cfg.exp);return Object.entries(i).forEach((function(t){var i=t[0],n=t[1],a=b(e.pfbItem);a.parent=e.nodeItems,a.getComponent(v).init(parseInt(i),n)})),this},r.refresh=function(){var t=g.task.calProgress(this.info,this.cfgT),e=t[0],i=t[1];this.info.state==I.RECEIVED?(this.lblDone.node.active=!0,this.lblProgress.node.active=!1,this.btnGet.node.active=!1):(this.lblDone.node.active=!1,this.lblProgress.node.active=e<i,this.btnGet.node.active=e>=i),this.lblProgress.string=e+"/"+i},r.reqRecv=function(){var t={id:this.info.id};D.req(y.GuildTaskAward,t,(function(t){var e=t.data;if(e.ok){k.message.dispatchEvent(w.GuildLivenessUpdate,e.liveness),g.account.doResChange(e);var i={additem:e.additem};G.reward(i)}else k.gui.toast(e.msg)}))},s(e,[{key:"info",get:function(){return g.guild.getGuildTaskInfo(this.id)}}]),e}(p)).prototype,"lblDesc",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(S.prototype,"nodeItems",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(S.prototype,"lblProgress",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(S.prototype,"lblDone",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(S.prototype,"btnGet",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(S.prototype,"pfbItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=S))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/Halo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableAureole.ts","./TableGameSys.ts","./TableUtil.ts","./TableGameConfig.ts"],(function(e){"use strict";var t,a,o,n,r,i,c,u,l,s,f,d;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){o=e.cclegacy,n=e._decorator},function(e){r=e.JsonUtil},function(e){i=e.GameEvent},function(e){c=e.smc},function(e){u=e.GameSys},function(e){l=e.TableAureole},function(e){s=e.GameSysKey},function(e){f=e.TableUtil},function(e){d=e.TableGameConfig}],execute:function(){var v;e("HaloAttrType",void 0),o._RF.push({},"729ccLqa6hJtIPySiqrORiP","Halo",void 0);var m,h=n.ccclass;n.property;!function(e){e[e.HP=0]="HP",e[e.ATK=1]="ATK",e[e.DEF=2]="DEF",e[e.add_hp_per=3]="add_hp_per",e[e.dec_atkBack_pro=4]="dec_atkBack_pro",e[e.dec_doubleAtk_pro=5]="dec_doubleAtk_pro",e[e.dec_miss=6]="dec_miss",e[e.dec_criticalAtk_pro=7]="dec_criticalAtk_pro",e[e.dec_damage_rate=8]="dec_damage_rate"}(m||(m=e("HaloAttrType",{})));var p=e("Halo",h("Halo")(v=function(e){function o(){for(var t,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).redotWatchGameEvents=[i.ItemBagUpdated],t}t(o,e);var n=o.prototype;return n.haloTable=function(){return r.get(l.TableName)},n.getHaloInfoByLevel=function(e,t){void 0===e&&(e=this.haloInfo.id),void 0===t&&(t=!1);var a=r.get(l.TableName);return t?a[e].nextid>0?a[e+1]:a[e]:a[e]?a[e]:void 0},n.getSameLevelHaloInfo=function(e){var t=this.haloTable(),a=f.get(l,Number(this.haloId));for(var o in t)if(t[o].rank==a.rank&&t[o].lv==a.lv&&Number(d.aureole_type[e])==t[o].type)return t[o];return""},n.isActive=function(e){for(var t in c.halo.haloInfo.act)if(d.aureole_type[e]==c.halo.haloInfo.act[t])return!0;return!1},n.calRedot=function(){var e=f.get(l,Number(this.haloId));for(var t in d.aureole_type){if(!this.getSameLevelHaloInfo(Number(t)))return!1;var a=this.haloTable();for(var o in a)if(a[o].rank==e.rank&&a[o].lv==e.lv&&Number(d.aureole_type[t])==a[o].type)if(this.isActive(Number(t))){Object.entries(a[o].costitem).forEach((function(e,t){r=[e[0],e[1]]}));var n=e.rank<c.accountData.subinfo.upgrade||e.rank==c.accountData.subinfo.upgrade&&e.lv<10;if(Number(c.accountData.getItemCount(r[0]).toString())>=Number(r[1])&&n)return!0}else{var r;if(Object.entries(a[o].actcostitem).forEach((function(e,t){r=[e[0],e[1]]})),Number(c.accountData.getItemCount(r[0]).toString())>=Number(r[1]))return!0}}return!1},a(o,[{key:"haloInfo",get:function(){return c.accountData.subinfo.aureole},set:function(e){c.accountData.subinfo.aureole=e}},{key:"haloId",get:function(){var e,t;return null!=(e=null==(t=this.haloInfo)?void 0:t.id)?e:0}}]),o}(u))||v);e("halo",new p(s.aureole));o._RF.pop()}}}));

System.register("chunks:///_virtual/HaloAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Halo.ts"],(function(e){"use strict";var t,a,r,l,i,u,c,b,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,c=e.Label,b=e.Component},function(e){o=e.HaloAttrType}],execute:function(){var n,s,p,d,_,m,h,N,k,f,g;i._RF.push({},"b0792ni3ElKAq8n7vp8EbK2","HaloAttr",void 0);var A=u.ccclass,y=u.property;e("HaloAttr",(n=A("HaloAttr"),s=y(c),p=y(c),d=y(c),_=y(c),n((N=t((h=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,r(t,"lblCurName",N,l(t)),r(t,"lblCurValue",k,l(t)),r(t,"lblNextName",f,l(t)),r(t,"lblNextValue",g,l(t)),t}a(t,e);var i=t.prototype;return i.initView=function(e,t,a){switch(a){case o.HP:this.updateLabel("生 命：",e.hp,"生 命：",t.hp);break;case o.ATK:this.updateLabel("攻 击：",e.atk,"攻 击：",t.atk);break;case o.DEF:this.updateLabel("防 御：",e.def,"防 御：",t.def);break;case o.add_hp_per:this.updateLabel("治疗效果：",Number(e.add_hp_per/100)+"%","治疗效果：",Number(t.add_hp_per/100)+"%");break;case o.dec_atkBack_pro:this.updateLabel("忽视反击：",Number(e.dec_atkBack_pro/100)+"%","忽视反击：",Number(t.dec_atkBack_pro/100)+"%");break;case o.dec_doubleAtk_pro:this.updateLabel("忽视连击：",Number(e.dec_doubleAtk_pro/100),"忽视连击：",Number(t.dec_doubleAtk_pro/100)+"%");break;case o.dec_miss:this.updateLabel("忽视闪避：",Number(e.dec_miss/100)+"%","忽视闪避：",Number(t.dec_miss/100)+"%");break;case o.dec_criticalAtk_pro:this.updateLabel("忽视暴击：",Number(e.dec_criticalAtk_pro/100)+"%","忽视暴击：",Number(t.dec_criticalAtk_pro/100)+"%");break;case o.dec_damage_rate:this.updateLabel("伤害减免：",Number(e.dec_damage_rate/100)+"%","伤害减免：",Number(t.dec_damage_rate/100)+"%")}},i.updateLabel=function(e,t,a,r){this.lblCurName.string=e,this.lblCurValue.string=t,this.lblNextName.string=a,this.lblNextValue.string=r},t}(b)).prototype,"lblCurName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(h.prototype,"lblCurValue",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(h.prototype,"lblNextName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(h.prototype,"lblNextValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/HaloEfx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameResCache.ts","./TableAureole.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,r,i,a,o,s,c,u,l,p,f,h,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Animation,l=t.Sprite,p=t.Component,f=t.AnimationClip},function(t){h=t.GameResCache},function(t){m=t.TableAureole},function(t){b=t.TableUtil}],execute:function(){var y,d,x,v,g;s._RF.push({},"685efGcG8NOjbSR4YBoF68L","HaloEfx",void 0);var A=c.ccclass,C=c.property;t("HaloEfx",(y=A("HaloEfx"),d=C(u),y((g=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"animation",g,i(e)),e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.reset()},s.init=function(){var t=a(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return this.reset(),t.abrupt("return");case 3:if(n=b.get(m,e).efx){t.next=7;break}return this.reset(),t.abrupt("return");case 7:return t.next=9,h.instance.createAnimClipAsync(n,f.WrapMode.Loop).catch((function(t){return console.error(t)}));case 9:if((r=t.sent)&&null!=this&&this.isValid){t.next=12;break}return t.abrupt("return");case 12:this.animation.getState(n)||this.animation.addClip(r,n),this.animation.play(n);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.reset=function(){this.animation.stop(),this.getComponent(l).spriteFrame=null},e}(p)).prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=v))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/HaloItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableAureole.ts","./TableUtil.ts","./TableGameConfig.ts","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var t,i,o,n,l,a,r,s,c,u,p,h,f,b,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Sprite,s=e.Node,c=e.Label,u=e.Component},function(e){p=e.smc},function(e){h=e.TableAureole},function(e){f=e.TableUtil},function(e){b=e.TableGameConfig},function(e){d=e.ViewUtil},function(e){m=e.GameResPath}],execute:function(){var _,v,y,g,H,I,N,k,w,S,T,x,L;l._RF.push({},"7f3f7+aN3ROj5PrJ3n+pFcN","HaloItem",void 0);var R=a.ccclass,z=a.property;e("HaloItem",(_=R("HaloItem"),v=z(r),y=z(s),g=z(c),H=z(s),I=z(s),_((w=t((k=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,o(t,"spHalo",w,n(t)),o(t,"nodeLock",S,n(t)),o(t,"lblName",T,n(t)),o(t,"spUsed",x,n(t)),o(t,"spSelected",L,n(t)),t._onRecv=null,t._index=void 0,t._curHaloInfo=void 0,t}i(t,e);var l=t.prototype;return l.initView=function(e){this._index=e;var t=p.halo.haloInfo;this._curHaloInfo=f.get(h,Number(t.id));var i="haloType_0"+b.aureole_type[e];return d.loadSpriteFrame(this.spHalo,m.getSpriteFrameHalo(i)),this.spSelected.active=this._curHaloInfo.type==b.aureole_type[e],this.refresh(-1),this},l.refresh=function(e){this.nodeLock.active=this.isLocked(this._index),this.lblName.string=this.haloName(this._index),this.spUsed.active=b.aureole_type[this._index]==f.get(h,Number(p.halo.haloInfo.id)).type,e>=0&&(this.spSelected.active=e==this._index)},l.haloName=function(e){var t=p.halo.haloTable();for(var i in t)if(t[i].rank==this._curHaloInfo.rank&&t[i].lv==this._curHaloInfo.lv&&Number(b.aureole_type[e])==t[i].type)return t[i].name;return""},l.isLocked=function(e){var t=b.aureole_type[e];for(var i in p.halo.haloInfo.act)if(Number(t)==p.halo.haloInfo.act[i])return!1;return!0},l.onClickHalo=function(e){this._onRecv=e},l.onClick=function(){this._onRecv(this._index)},t}(u)).prototype,"spHalo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(k.prototype,"nodeLock",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(k.prototype,"lblName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"spUsed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(k.prototype,"spSelected",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=k))||N));l._RF.pop()}}}));

System.register("chunks:///_virtual/HaloMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./RoleUI.ts","./HttpChannelManager.ts","./NetProtocol.ts","./UMASDK.ts","./SingletonModuleComp.ts","./TableAureole.ts","./TableGameConfig.ts","./TableUtil.ts","./Util.ts","./HaloAttr.ts","./HaloItem.ts"],(function(t){"use strict";var e,n,i,o,r,l,a,s,c,u,h,f,b,p,d,g,v,m,y,w,I,C,A,_,H,L,U,R,z,V,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,c=t.Node,u=t.ScrollView,h=t.Prefab,f=t.Label,b=t.Sprite,p=t.instantiate,d=t.Component},function(t){g=t.oops},function(t){v=t.ViewUtil},function(t){m=t.GameEvent},function(t){y=t.GameResPath},function(t){w=t.RoleUILoader},function(t){I=t.httpChannel},function(t){C=t.MsgID},function(t){A=t.UMASDK,_=t.UMA_EVENT},function(t){H=t.smc},function(t){L=t.TableAureole},function(t){U=t.TableGameConfig},function(t){R=t.TableUtil},function(t){z=t.Util},function(t){V=t.HaloAttr},function(t){k=t.HaloItem}],execute:function(){var x,S,D,G,E,T,N,M,O,P,B,j,F,q,W,K,J,X,Y,Q,Z,$,tt,et,nt,it,ot,rt,lt,at,st;a._RF.push({},"f6675JYw0VHuIdtXVUxl4El","HaloMain",void 0);var ct=s.ccclass,ut=s.property;t("HaloMain",(x=ct("HaloMain"),S=ut(c),D=ut(c),G=ut(w),E=ut(u),T=ut(c),N=ut(h),M=ut(f),O=ut(f),P=ut(c),B=ut(c),j=ut(f),F=ut(b),q=ut(f),W=ut(c),x((X=e((J=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"btnLeft",X,o(e)),i(e,"btnRight",Y,o(e)),i(e,"roleLoader",Q,o(e)),i(e,"scrollView",Z,o(e)),i(e,"nodeContent",$,o(e)),i(e,"pfbHalo",tt,o(e)),i(e,"lblLevel",et,o(e)),i(e,"lblDesp",nt,o(e)),i(e,"nodeAttr",it,o(e)),i(e,"btnUse",ot,o(e)),i(e,"lblUp",rt,o(e)),i(e,"spCost",lt,o(e)),i(e,"lblCost",at,o(e)),i(e,"spRed",st,o(e)),e._selectIndex=0,e._isActive=void 0,e}n(e,t);var a=e.prototype;return a.start=function(){var t=this;this.nodeContent.removeAllChildren(),Object.keys(U.aureole_type).forEach((function(e){p(t.pfbHalo).parent=t.nodeContent})),this.fresh(),this.setHaloScroll()},a.fresh=function(){var t=this;this._isActive=H.halo.isActive(this._selectIndex);var e=H.accdata.heroId;this.roleLoader.init(H.accdata.getRole(e)),this.roleLoader.initHalo(H.halo.haloId),this.nodeContent.getComponentsInChildren(k).forEach((function(e,n){e.initView(n).onClickHalo(t.freshHalo.bind(t))}));var n=R.get(L,Number(H.halo.haloInfo.id));this.lblLevel.string=n.rank+"阶"+n.lv+"级",this.lblDesp.string=n.desc;var i=H.halo.getHaloInfoByLevel(),o=H.halo.getHaloInfoByLevel(H.halo.haloInfo.id,!0);this.nodeAttr.forEach((function(t,e){e<3?t.getComponent(V).initView(i,o,e):t.getComponent(V).initView(i,o,o.type+2)})),this.freshBtn()},a.freshBtn=function(){this.btnUse.active=this._isActive;var t=this._isActive?this.costItem(1):this.costItem(0);this.lblUp.string=this._isActive?"升级":"激活",v.loadSpriteFrame(this.spCost,y.getItemSpriteFrame(Number(t[0]))),this.lblCost.string=H.accountData.getItemCount(t[0]).toString()+"/"+t[1];var e=R.get(L,Number(H.halo.haloInfo.id)),n=e.rank<H.accountData.subinfo.upgrade||e.rank==H.accountData.subinfo.upgrade&&e.lv<10;this.spRed.active=Number(H.accountData.getItemCount(t[0]).toString())>=Number(t[1])&&n,this.btnUse.active=!(U.aureole_type[this._selectIndex]==R.get(L,Number(H.halo.haloInfo.id)).type)},a.costItem=function(t){var e,n=H.halo.getSameLevelHaloInfo(this._selectIndex),i=1==t?n.costitem:n.actcostitem;return Object.entries(i).forEach((function(t,n){e=[t[0],t[1]]})),e},a.freshHalo=function(t){this._selectIndex=t,this._isActive=H.halo.isActive(this._selectIndex),this.freshBtn(),this.nodeContent.getComponentsInChildren(k).forEach((function(e){return e.refresh(t)}))},a.onClickAct=function(){var t=r(l().mark((function t(e){var n,i,o,r,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this._isActive?this.costItem(1):this.costItem(0),H.bag.checkCost(((n={})[i[0]]=i[1],n),!0)){t.next=4;break}return H.bag.showAccess(i[0]),t.abrupt("return",!1);case 4:return z.Btn_doCD(e.currentTarget),o=U.aureole_type[this._selectIndex],r=H.halo.isActive(this._selectIndex)?C.HaloUp:C.HaloAct,a={type:o},t.next=10,I.reqAsync(r,a);case 10:if(null!=(s=t.sent)&&s.ok){t.next=13;break}return t.abrupt("return");case 13:A.doEvent(_.HALO_UPGRADE),H.account.doResChange(s),this.freshWeb(s);case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onClickUse=function(){var t=r(l().mark((function t(){var e,n,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=U.aureole_type[this._selectIndex],n={type:e},t.next=4,I.reqAsync(C.HaloUse,n);case 4:if(null!=(i=t.sent)&&i.ok){t.next=7;break}return t.abrupt("return");case 7:this.freshWeb(i);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.freshWeb=function(t){H.halo.haloInfo=t.aureole;var e=Object.values(t.hero);for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];H.accountData.setRoleInfo(i)}g.message.dispatchEvent(m.EquipPosUpdated),(null==this?void 0:this.isValid)&&this.fresh()},a.onClickLeft=function(){var t=this;this.scrollView.horizontal=!0,this.scrollView.scrollToLeft(0),v.setGray(this.btnLeft,!0),v.setGray(this.btnRight,!1),this.scheduleOnce((function(){return t.handleScroll()}))},a.onClickRight=function(){var t=this;this.scrollView.horizontal=!0,this.scrollView.scrollToRight(0),v.setGray(this.btnLeft,!1),v.setGray(this.btnRight,!0),this.scheduleOnce((function(){return t.handleScroll()}))},a.handleScroll=function(){this.scrollView.horizontal=!1},a.setHaloScroll=function(){var t=this,e=0;for(var n in U.aureole_type)U.aureole_type[n]==R.get(L,Number(H.halo.haloInfo.id)).type&&(e=Number(n));e<=3?(this.scrollView.horizontal=!0,this.scrollView.scrollToLeft(.1),v.setGray(this.btnLeft,!0),v.setGray(this.btnRight,!1),this.scheduleOnce((function(){return t.handleScroll()}))):(this.scrollView.horizontal=!0,this.scrollView.scrollToRight(.1),v.setGray(this.btnLeft,!1),v.setGray(this.btnRight,!0),this.scheduleOnce((function(){return t.handleScroll()})))},a.onClickClose=function(){g.gui.removeByNode(this.node,!0)},e}(d)).prototype,"btnLeft",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(J.prototype,"btnRight",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(J.prototype,"roleLoader",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(J.prototype,"scrollView",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(J.prototype,"nodeContent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(J.prototype,"pfbHalo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(J.prototype,"lblLevel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(J.prototype,"lblDesp",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(J.prototype,"nodeAttr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e(J.prototype,"btnUse",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(J.prototype,"lblUp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(J.prototype,"spCost",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(J.prototype,"lblCost",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(J.prototype,"spRed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=J))||K));a._RF.pop()}}}));

System.register("chunks:///_virtual/HeadPicker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableUtil.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,c,l,u,h,d,f,g,p,v,m,k,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.EventHandler,l=e.CCBoolean,u=e.Sprite,h=e.Label,d=e.ToggleContainer,f=e.Component},function(e){g=e.oops},function(e){p=e.ViewUtil},function(e){v=e.GameEvent},function(e){m=e.GameResPath},function(e){k=e.smc},function(e){y=e.TableGameConfig},function(e){C=e.TableUtil}],execute:function(){var b,_,E,H,S,P,x,I,w,L;a._RF.push({},"2a6aeBmH1pLPrqvqvPnU9RQ","HeadPicker",void 0);var R=s.ccclass,M=s.property;e("HeadPicker",(b=R("HeadPicker"),_=M([c]),E=M(l),H=M(l),b(((L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"clickEvents",x,o(t)),i(t,"playerInfoMode",I,o(t)),i(t,"showLockCondition",w,o(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;y.heroList.map((function(e){return e.id})).forEach((function(t,n){var i=C.getModelCfg(t),o=e.toggles[n],r=o.getComponent(u);r.spriteFrame=null,p.loadSpriteFrame(r,m.getSpriteFrameEquip(i.head.replace(/_xz$/,"_wxz"))),(r=o.checkMark.getComponent(u)).spriteFrame=null,p.loadSpriteFrame(r,m.getSpriteFrameEquip(i.head))}))},a.start=function(){this.playerInfoMode||(this.init(),this.toggles[t._idx].isChecked=!0,this.fireEvent(),g.message.on(v.HeadPickerSync,this._eventHandler,this),g.message.on(v.RoleUnlocked,this._eventHandler,this))},a.onDestroy=function(){this.playerInfoMode||(g.message.off(v.HeadPickerSync,this._eventHandler,this),g.message.off(v.RoleUnlocked,this._eventHandler,this))},a.onEnable=function(){this.playerInfoMode||this.syncStatus()},a.init=function(e){var t=this;e||(e=k.accountData.roles),this.toggles.forEach((function(n,i){var o=n.node.getChildByName("lock");i<=e.length-1?(o.active=!1,n.interactable=!0):(o.active=!0,o.getComponentInChildren(h).string=t.showLockCondition?y.heroList[i].needlv+"级解锁":"",n.interactable=!1)}))},a.syncStatus=function(){var e=this;this.scheduleOnce((function(){var n=e.toggles[t._idx];n.isChecked||(n.isChecked=!0,e.fireEvent())}),0)},a.fireEvent=function(){var e=this;this.clickEvents.forEach((function(n){n.emit([t._idx,e])})),g.message.dispatchEvent(v.HeadPickerSync,this)},a.onRoleTabClick=function(e,n){var i=e.node.getSiblingIndex();this.idx!=i&&(t._idx=i,this.fireEvent())},a._eventHandler=function(e,t){e==v.HeadPickerSync?t!==this&&this.node.active&&this.syncStatus():e==v.RoleUnlocked&&this.init()},a.debugInfo=function(){console.log(this.container.activeToggles());var e=this.toggles.map((function(e){return e.isChecked}));console.log(e)},r(t,[{key:"container",get:function(){return this.getComponent(d)}},{key:"toggles",get:function(){return this.container.toggleItems}},{key:"idx",get:function(){return t._idx},set:function(e){this.onRoleTabClick(this.toggles[e],null)}},{key:"roleId",get:function(){return k.accountData.roles[t._idx]}}]),t}(f))._idx=0,x=t((P=L).prototype,"clickEvents",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(P.prototype,"playerInfoMode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=t(P.prototype,"showLockCondition",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=P))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/HelpBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./TableGameSys.ts","./TableHelp.ts"],(function(t){"use strict";var n,e,i,o,s,a,r,c,p,l,f,u,h,d,g,m,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Enum,c=t.error,p=t.Button,l=t.Sprite,f=t.Component},function(t){u=t.oops},function(t){h=t.ViewUtil},function(t){d=t.GameResPath},function(t){g=t.UIID},function(t){m=t.GameSysKey},function(t){y=t.TableHelp}],execute:function(){var I,b,v,C,G,H;s._RF.push({},"588dcv7aZ1C6YrGiFLmlxQT","HelpBtn",void 0);var S,T=a.ccclass,_=a.property;!function(t){t[t.Default=0]="Default",t[t.Wanfa=1]="Wanfa",t[t.Wanfa2=2]="Wanfa2",t[t.Gonglue=3]="Gonglue"}(S||(S={}));var w=((I={})[S.Wanfa]="btn_wfsmtb",I[S.Wanfa2]="btn_wzwfsm",I[S.Gonglue]="btn_gugl",I);t("HelpBtn",(b=T("HelpBtn"),v=_({type:r(m),displayName:"GameSysKey",tooltip:"设置用于判断系统是否开启"}),b((H=n((G=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,i(n,"sysId",H,o(n)),n.spIcon=void 0,n.cfg=new y,n}e(n,t);var s=n.prototype;return s.onLoad=function(){if(!this.cfg.init(this.sysId)||!this.cfg.title||!this.cfg.content)return c("ERR TableHelp missing: "+this.sysId),void(this.node.active=!1);(this.getComponent(p)||this.addComponent(p)).transition=p.Transition.SCALE,this.spIcon||(this.spIcon=this.getComponent(l)||this.addComponent(l)),this.spIcon.trim=!1,this.spIcon.sizeMode=l.SizeMode.RAW},s.start=function(){this.cfg.valid&&(this.node.on(p.EventType.CLICK,this.onClick,this),this.cfg.btn_type&&h.loadSpriteFrame(this.spIcon,d.getSpriteFrameCommon(w[this.cfg.btn_type])))},s.onClick=function(){u.gui.open(g.TipHelp,this.cfg)},n}(f)).prototype,"sysId",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),C=G))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/HelpUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var e,n,i,l,r,o,a,s,c,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,a=t.Label,s=t.RichText,c=t.Button,p=t.Component},function(t){u=t.oops}],execute:function(){var b,h,f,y,d,g,m,v,C;r._RF.push({},"440f9I/4hJFE5XSOleqvazK","HelpUI",void 0);var I=o.ccclass,z=o.property;t("HelpUI",(b=I("HelpUI"),h=z(a),f=z(s),y=z(c),b((m=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"lblTitle",m,l(e)),i(e,"lblContent",v,l(e)),i(e,"btnX",C,l(e)),e.params=null,e}n(e,t);var r=e.prototype;return r.onAdded=function(t){this.params=t},r.start=function(){this.lblTitle.string=this.params.title,this.lblContent.string=this.params.content,this.btnX.node.on(c.EventType.CLICK,this.onXClick,this)},r.onXClick=function(){u.gui.removeByNode(this.node,!0)},e}(p)).prototype,"lblTitle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(g.prototype,"lblContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(g.prototype,"btnX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Hot.ts",["cc","./Oops.ts"],(function(t){"use strict";var e,s,o,a,n,i;return{setters:[function(t){e=t.cclegacy,s=t.log,o=t.sys,a=t.error,n=t.native},function(t){i=t.oops}],execute:function(){e._RF.push({},"f6377Ckbb9Cg5R2ygFWMOCv","Hot",void 0);t("HotOptions",function(){function t(){this.onVersionInfo=null,this.onNeedToUpdate=null,this.onNoNeedToUpdate=null,this.onUpdateFailed=null,this.onUpdateSucceed=null,this.onUpdateProgress=null}return t.prototype.check=function(){for(var t in this)if("check"!==t&&!this[t])return s("参数HotOptions."+t+"未设置！"),!1;return!0},t}());t("Hot",function(){function t(){this.assetsMgr=null,this.options=null,this.state=t.State.None,this.storagePath="",this.manifest=""}var e=t.prototype;return e.init=function(t){var e=this;o.isNative&&t.check()&&(this.options=t,this.assetsMgr||i.res.load("project",(function(t,s){if(t)a("【热更新界面】缺少热更新配置文件");else{e.showSearchPath(),e.manifest=s.nativeUrl,e.storagePath=n.fileUtils.getWritablePath()+"/oops_framework_remote",e.assetsMgr=new n.AssetsManager(e.manifest,e.storagePath,(function(t,s){var o;console.log("【热更新】客户端版本: "+t+", 当前最新版本: "+s),(null==(o=e.options)?void 0:o.onVersionInfo)&&e.options.onVersionInfo({local:t,server:s});for(var a=t.split("."),n=s.split("."),i=0;i<a.length;++i){var l=parseInt(a[i]),r=parseInt(n[i]||"0");if(l!==r)return l-r}return n.length>a.length?-1:0})),e.assetsMgr.setVerifyCallback((function(t,e){e.compressed,e.md5,e.path,e.size;return!0}));var o=e.assetsMgr.getLocalManifest();console.log("【热更新】热更资源存放路径: "+e.storagePath),console.log("【热更新】本地资源配置路径: "+e.manifest),console.log("【热更新】本地包地址: "+o.getPackageUrl()),console.log("【热更新】远程 project.manifest 地址: "+o.getManifestFileUrl()),console.log("【热更新】远程 version.manifest 地址: "+o.getVersionFileUrl()),e.checkUpdate()}})))},e.clearHotUpdateStorage=function(){n.fileUtils.removeDirectory(this.storagePath)},e.checkUpdate=function(){this.assetsMgr?this.assetsMgr.getState()!==jsb.AssetsManager.State.UNINITED?this.assetsMgr.getLocalManifest().isLoaded()?(this.assetsMgr.setEventCallback(this.onHotUpdateCallBack.bind(this)),this.state=t.State.Check,this.assetsMgr.checkUpdate()):console.log("【热更新】加载本地 manifest 失败 ..."):a("【热更新】未初始化"):console.log("【热更新】请先初始化")},e.hotUpdate=function(){this.assetsMgr?(this.assetsMgr.setEventCallback(this.onHotUpdateCallBack.bind(this)),this.state=t.State.Update,this.assetsMgr.update()):console.log("【热更新】请先初始化")},e.onHotUpdateCallBack=function(e){var s,o,a=e.getEventCode();switch(a){case n.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("【热更新】当前版本与远程版本一致且无须更新"),(null==(s=this.options)?void 0:s.onNoNeedToUpdate)&&this.options.onNoNeedToUpdate(a);break;case n.EventAssetsManager.NEW_VERSION_FOUND:console.log("【热更新】发现新版本,请更新"),(null==(o=this.options)?void 0:o.onNeedToUpdate)&&this.options.onNeedToUpdate(a,this.assetsMgr.getTotalBytes());break;case n.EventAssetsManager.ASSET_UPDATED:console.log("【热更新】资产更新");break;case n.EventAssetsManager.UPDATE_PROGRESSION:var i;if(this.state===t.State.Update)console.log("【热更新】更新中...",e.getDownloadedFiles(),e.getTotalFiles(),e.getPercent()),(null==(i=this.options)?void 0:i.onUpdateProgress)&&this.options.onUpdateProgress(e);break;case n.EventAssetsManager.UPDATE_FINISHED:this.onUpdateFinished();break;default:this.onUpdateFailed(a,e.getMessage()+"\n"+e.getAssetId())}},e.onUpdateFailed=function(t,e){var s;this.assetsMgr.setEventCallback(null),(null==(s=this.options)?void 0:s.onUpdateFailed)&&this.options.onUpdateFailed(t,e)},e.onUpdateFinished=function(){var t;this.assetsMgr.setEventCallback(null);var e=n.fileUtils.getSearchPaths(),s=this.assetsMgr.getLocalManifest().getSearchPaths();Array.prototype.unshift.apply(e,s),o.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(e)),n.fileUtils.setSearchPaths(e),console.log("【热更新】更新成功"),(null==(t=this.options)?void 0:t.onUpdateSucceed)&&this.options.onUpdateSucceed()},e.showSearchPath=function(){console.log("========================搜索路径========================");for(var t=n.fileUtils.getSearchPaths(),e=0;e<t.length;e++)console.log("["+e+"]: "+t[e]);console.log("======================================================")},t}()).State={None:0,Check:1,Update:2},e._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./Hot.ts","./LoadingViewComp.ts"],(function(t){"use strict";var e,o,n,a,i,p,c,s,r,d,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,a=t.sys,i=t.game,p=t.Component},function(t){c=t.oops},function(t){s=t.UIID},function(t){r=t.Hot,d=t.HotOptions},function(t){u=t.LoadingViewComp}],execute:function(){var l;o._RF.push({},"f64deiQLAhLh5HGqUqaI9oA","HotUpdate",void 0);var g=n.ccclass;n.property,t("HotUpdate",g("HotUpdate")(l=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).hot=new r,e.lv=null,e}e(o,t);var n=o.prototype;return n.onLoad=function(){a.isNative&&(this.lv=this.getComponent(u),this.lv.data.prompt=c.language.getLangByID("update_tips_check_update"),this.startHotUpdate())},n.startHotUpdate=function(){var t=this,e=new d;e.onVersionInfo=function(t){},e.onUpdateProgress=function(e){var o,n,a=e.getPercent(),i=e.getTotalBytes(),p=e.getDownloadedBytes();i<1048576?o=(i=Math.ceil(i/1024))+"K":(o=(i/1048576).toFixed(1),o+="M"),p<1048576?n=(p=Math.ceil(p/1024))+"K":(n=(p/1048576).toFixed(1),n+="M"),t.lv.data.prompt="0K"==o?c.language.getLangByID("update_tips_check_update"):c.language.getLangByID("update_tips_update")+n+"/"+o+" ("+parseInt(100*a+"")+"%)",isNaN(e.getPercent())||(t.lv.data.finished=e.getDownloadedFiles(),t.lv.data.total=e.getTotalFiles(),t.lv.data.progress=(100*e.getPercent()).toFixed(2))},e.onNeedToUpdate=function(e,o){t.lv.data.prompt=c.language.getLangByID("update_tips_new_version");var n="";o<1048576?(o=Math.ceil(o/1024),n+="KB"):(n=(o/1048576).toFixed(1),n+="MB"),t.showUpdateDialog(n,(function(){t.hot.hotUpdate()}))},e.onNoNeedToUpdate=function(){t.lv.enter()},e.onUpdateFailed=function(e,o){t.lv.data.prompt=c.language.getLangByID("update_tips_update_fail")+"("+e+")"+o,t.hot.checkUpdate()},e.onUpdateSucceed=function(){t.lv.data.progress=100,t.lv.data.prompt=c.language.getLangByID("update_tips_update_success"),setTimeout((function(){i.restart()}),1e3)},this.hot.init(e)},n.checkForceUpdate=function(t){var e=this,o={title:"common_prompt_title_sys",content:"update_tips_force",okWord:"common_prompt_ok",cancelWord:"common_prompt_cancal",okFunc:function(){e.hot.clearHotUpdateStorage(),t()},cancelFunc:function(){i.end()},needCancel:!0};c.gui.open(s.Window,o)},n.showUpdateDialog=function(t,e){a.getNetworkType(),a.NetworkType.LAN,e()},o}(p))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/HpFly.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,l,o,r,a,s,p,u,c,f,b,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,s=t.Color,p=t.Font,u=t.Label,c=t.Vec3,f=t.UIOpacity,b=t.tween,y=t.Component}],execute:function(){var H,h,S,d,E,g,F,P,v,D,m;t("HpFlyType",void 0),r._RF.push({},"89e73vEuZhPDJmqo1+Wv5yH","HpFly",void 0);var _,L=a.ccclass,w=a.property,I=t("HpFlyColor",{GREEN:new s("73C52E"),RED:new s("E64653"),WHITE:new s("F3E8D6"),ORANGE:new s("FF7E00")});!function(t){t[t.HP_PLUS=0]="HP_PLUS",t[t.HP_MINUS=1]="HP_MINUS",t[t.SKILL_TYPE=2]="SKILL_TYPE"}(_||(_=t("HpFlyType",{})));t("HpFly",(H=L("HpFly"),h=w(p),S=w(p),d=w(p),E=w(u),H((P=i((F=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,n(i,"fntAdd",P,l(i)),n(i,"fntSub",v,l(i)),n(i,"fntSkill",D,l(i)),n(i,"lblHp",m,l(i)),i.boomDuration=.3,i.stayDuration=.3,i.fadeDuration=.2,i}e(i,t);var r=i.prototype;return r.init=function(t,i){void 0===i&&(i=I.RED),this.lblHp.useSystemFont=!0,this.lblHp.string=t.toString(),this.lblHp.color=i},r.init2=function(t,i){this.lblHp.useSystemFont=!1,t==_.HP_MINUS?this.lblHp.font=this.fntSub:t==_.HP_PLUS?this.lblHp.font=this.fntAdd:t==_.SKILL_TYPE&&(this.lblHp.font=this.fntSkill),this.lblHp.color=s.WHITE,this.lblHp.string=i.toString()},r.start=function(){var t=this;this.node.scale=c.ZERO;var i=this.node.getComponent(f);b().target(this.node).to(this.boomDuration,{scale:c.ONE},{easing:"backOut"}).delay(this.stayDuration).call((function(){b().target(i).to(t.fadeDuration,{opacity:0}).start()})).by(this.fadeDuration,{position:new c(0,50,0)}).removeSelf().start()},o(i,[{key:"fontSize",set:function(t){this.lblHp.fontSize=t}}]),i}(y)).prototype,"fntAdd",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(F.prototype,"fntSub",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(F.prototype,"fntSkill",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(F.prototype,"lblHp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=F))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/HttpChannelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AsyncQueue.ts","./HttpRequest.ts","./Main.ts","./TipsManager.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./HttpConfig.ts","./NetProtocol.ts"],(function(t){"use strict";var e,n,o,i,a,r,u,s,l,c,d,g;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){i=t.oops},function(t){a=t.AsyncQueue},function(t){r=t.HttpEvent},function(t){u=t.app},function(t){s=t.tips},function(t){l=t.smc},function(t){c=t.TableGameConfig},function(t){d=t.httpConfig},function(t){g=t.MsgID}],execute:function(){o._RF.push({},"703e9pI2AlOaa3L+ulttsrh","HttpChannelManager",void 0);var p=t("httpChannel",new(function(){function t(){this.reqQueue=new a}var o=t.prototype;return o.setGameServer=function(t){d.gameServer=t},o.setAuthorization=function(t){d.authStr=d.authSign+" "+t},o.req=function(t,o,a,f){var h=this;void 0===f&&(f=null),this.reqQueue.size>=5&&t!=g.Fight&&t!=g.EBoxOpen?a&&a({code:0,message:"BUSY",data:{ok:!1,msg:""}}):(this.reqQueue.push(e(n().mark((function t(e,o){var a,f,v,m,A,y,E;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=o[0],f=o[1],v=o[2],m=o[3],A={"Content-Type":"application/json"},d.authStr&&(A.Authorization=d.authStr),i.log.logNet(a,"REQ.ID"),i.log.logNet(f,"REQ.DATA"),y=function(t){var n;i.log.logNet(t,"RESP.DATA");var o,a=t.data;null!=(n=a.roleAddExp)&&n.addExp&&(a.additem||(a.additem={}),a.additem[c.itemid_exp]=null==(o=a.roleAddExp)?void 0:o.addExp);v(t);var r=t.data;r.newGt&&p.setAuthorization(r.newGt),r.roleAddExp&&l.account.doHeroChange(r.roleAddExp),r.newTask&&l.account.doTaskChange(r.newTask),r.daily&&l.account.doDailyReset(r.daily),r.redDot&&l.account.doRedot(r.redDot),e()},E=function(t){var n;if(console.log(JSON.stringify(t)),"request_error"==t.type)n=t.event==r.TIMEOUT?"请求超时":"连接服务器失败",p.clear(),l.guide.exit(),s.confirm(n,(function(){a==g.Login||a==g.LoginAuth?m&&m(t):u.showLogin()}));else if("status_error"==t.type){var o=t.response;if(401==t.status)l.guide.exit(),s.confirm("登录已过期",(function(){p.clear(),u.showLogin()}));else if(403==t.status){var c;l.guide.exit(),s.confirm(null!=(c=null==o?void 0:o.message)?c:"禁止访问",(function(){p.clear(),u.showLogin()}))}else 429==t.status||i.gui.toast(null==o?void 0:o.message);m&&m(t),e()}},i.http.post(h.getUrl(a),A,f,y,E);case 8:case"end":return t.stop()}}),t)}))),[t,o,a,f]),this.reqQueue.play())},o._req=function(t,e,n,o){void 0===o&&(o=null);var a={"Content-Type":"application/json"};d.authStr&&(a.Authorization=d.authStr),i.log.logNet(t,"REQ.ID"),i.log.logNet(e,"REQ.DATA");i.http.post(this.getUrl(t),a,e,(function(t){var e;i.log.logNet(t,"RESP.DATA");var o,a=t.data;null!=(e=a.roleAddExp)&&e.addExp&&(a.additem||(a.additem={}),a.additem[c.itemid_exp]=null==(o=a.roleAddExp)?void 0:o.addExp);n(t);var r=t.data;r.newGt&&p.setAuthorization(r.newGt),r.roleAddExp&&l.account.doHeroChange(r.roleAddExp),r.newTask&&l.account.doTaskChange(r.newTask),r.daily&&l.account.doDailyReset(r.daily),r.redDot&&l.account.doRedot(r.redDot)}),(function(e){var n;if(console.log(JSON.stringify(e)),"request_error"==e.type)n=e.event==r.TIMEOUT?"请求超时":"连接服务器失败",s.confirm(n,(function(){t==g.Login||t==g.LoginAuth?o&&o(e):u.showLogin()}));else if("status_error"==e.type){if(401==e.status)s.confirm("登录已过期",(function(){u.showLogin()}));else{var a=e.response;i.gui.toast(null==a?void 0:a.message)}o&&o(e)}}))},o.reqAsync=function(t,e,n){var o=this;return void 0===n&&(n=!0),new Promise((function(a,r){o.req(t,e,(function(t){var e=t.data;!e.ok&&n&&i.gui.toast(e.msg),a(e)}),(function(t){return a(null)}))}))},o.getUrl=function(t){return""+d.gameServer.gameUrl+t},o.clear=function(){this.reqQueue.clear()},t}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/HttpConfig.ts",["cc"],(function(t){"use strict";var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"acfd7aCur5ALaILSw9pLLgI","HttpConfig",void 0);t("GameServerConfigData",[{name:"S1.小仙元码",gameUrl:"http://192.168.200.129:891/ln1/",id:1,zkUrl:"http://192.168.200.129:668/backend1/",chatUri:"http://192.168.200.129:4501"},{name:"外网服-hy",gameUrl:"http://192.168.200.129:891/ln1/",id:1,zkUrl:"http://192.168.200.129:668/backend1/"},{name:"外网服-tap",gameUrl:"http://tap.1dao99.com:889/ln1/",id:1,zkUrl:"http://tap.1dao99.com:666/backend1/"},{name:"外网服-白包测试服",gameUrl:"http://tap.1dao99.com:890/ln1/",id:1,zkUrl:"http://tap.1dao99.com:667/backend1/"},{name:"本机",gameUrl:"http://localhost:3001/ln1/",id:1}]),t("httpConfig",new function(){this.authSign="Bearer",this.authStr=null,this.gameServer=null});a._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["cc"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.error,r=e.warn}],execute:function(){e("HttpEvent",void 0),t._RF.push({},"806e5t8UetFy4spn89dnuan","HttpRequest",void 0);var s,u={},a={};!function(e){e.NO_NETWORK="http_request_no_network",e.UNKNOWN_ERROR="http_request_unknown_error",e.TIMEOUT="http_request_timout"}(s||(s=e("HttpEvent",{})));e("HttpRequest",function(){function e(){this.server="http://127.0.0.1/",this.timeout=1e4}var t=e.prototype;return t.get=function(e,t,n){this.sendRequest(e,null,null,!1,t,n)},t.getWithParams=function(e,t,n,r){this.sendRequest(e,null,t,!1,n,r)},t.getByArraybuffer=function(e,t,n){this.sendRequest(e,null,null,!1,t,n,"arraybuffer",!1)},t.getWithParamsByArraybuffer=function(e,t,n,r){this.sendRequest(e,null,t,!1,n,r,"arraybuffer",!1)},t.post=function(e,t,n,r,s){this.sendRequest(e,t,n,!0,r,s)},t.abort=function(e){var t=u[this.server+e];t&&t.abort()},t.getParamString=function(e){var t="";for(var n in e){var r=e[n];if(r instanceof Object)for(var s in r)t+=s+"="+r[s]+"&";else t+=n+"="+r+"&"}return t.substr(0,t.length-1)},t.sendRequest=function(e,t,i,o,f,l,c,p,d){var h,v,R,y=this;if(void 0===p&&(p=!0),void 0===d&&(d=this.timeout),null!=e&&""!=e)if(h=0==e.toLocaleLowerCase().indexOf("http")?e:this.server+e,i?(R=this.getParamString(i),v=h.indexOf("?")>-1?h+"&"+R:h+"?"+R):v=h,null==u[v]||a[v]!=R){var O=new XMLHttpRequest;u[v]=O,a[v]=R,o?O.open("POST",h):O.open("GET",v),t?Object.keys(t).forEach((function(e){O.setRequestHeader(e,t[e])})):O.setRequestHeader("Content-Type","application/json");var _={type:"request_error",url:h,params:i,event:null};p&&(O.timeout=d,O.ontimeout=function(){y.deleteCache(v),_.event=s.TIMEOUT,l&&l(_)}),O.onloadend=function(e){},O.onerror=function(){y.deleteCache(v),null!=l&&(0==O.readyState||1==O.readyState||0==O.status?_.event=s.NO_NETWORK:_.event=s.UNKNOWN_ERROR,l&&l(_))},O.onreadystatechange=function(){if(4==O.readyState)if(y.deleteCache(v),200==O.status||201==O.status){if(f)if("arraybuffer"==c)f&&f(O.response);else{var e=JSON.parse(O.response);f&&f(e)}}else if(l&&O.response){var t={type:"status_error",status:O.status,response:JSON.parse(O.response)};l(t)}},null==i||""==i?O.send():O.send(JSON.stringify(i))}else r("地址【"+h+"】已正在请求中，不能重复请求");else n("请求地址不能为空")},t.deleteCache=function(e){delete u[e],delete a[e]},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/IBattleUI.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3958fNiS1VFA7IW/5lVNCfu","IBattleUI",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IControl.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"58450TyE3JB069KO8P5+hl4","IControl",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Color,r=e.Texture2D}],execute:function(){t._RF.push({},"ebdf3rRnEdIYpKgGdW8gSmZ","ImageUtil",void 0);e("ImageUtil",function(){function e(){}return e.getPixelColor=function(e,t,r){var a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.width,a.height=e.height;var o=e.getHtmlElementObj();i.drawImage(o,0,0,e.width,e.height);var g=i.getImageData(0,0,e.width,e.height),c=(r-1)*e.width*4+4*(t-1),u=g.data.slice(c,c+4),m=new n(u[0],u[1],u[2],u[3]);return o.remove(),a.remove(),m},e.imageToBase64=function(e,t){return new Promise((function(n){var r,a=null==(r=/\.png|\.jpg|\.jpeg/.exec(e))?void 0:r[0];if([".png",".jpg",".jpeg"].includes(a)){var i=document.createElement("canvas"),o=i.getContext("2d"),g=new Image;g.src=e,g.onload=function(){i.height=g.height,i.width=g.width,o.drawImage(g,0,0),a=".jpg"===a?"jpeg":a.replace(".","");var e=i.toDataURL("image/"+a);t&&t(e),n(e),g.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))},e.base64ToTexture=function(e){var t=document.createElement("img");t.src=e;var n=new r;return n.initWithElement(t),t.remove(),n},e.base64ToBlob=function(e){for(var t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],r=window.atob(t[1]),a=new ArrayBuffer(r.length),i=new Uint8Array(a),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);return new Blob([i],{type:n})},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./BehaviorTree.ts","./BranchNode.ts","./Decorator.ts","./BTreeNode.ts","./Priority.ts","./Sequence.ts","./Task.ts","./Selector.ts"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy},function(t){e("BehaviorTree",t.BehaviorTree)},function(t){e("BranchNode",t.BranchNode)},function(t){e("Decorator",t.Decorator)},function(t){e("BTreeNode",t.BTreeNode)},function(t){e("Priority",t.Priority)},function(t){e("Sequence",t.Sequence)},function(t){e("Task",t.Task)},function(t){e("Selector",t.Selector)}],execute:function(){t._RF.push({},"96257XYurdITbWhyEf7Qlbn","index",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Initialize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./InitRes.ts"],(function(t){"use strict";var i,n,e,s,r;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.ecs},function(t){s=t.InitResComp,r=t.InitResSystem}],execute:function(){var c;n._RF.push({},"ffbceQs6Z9IoI5z6mt1avMw","Initialize",void 0);t("Initialize",e.register("Initialize")(c=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.init=function(){this.add(s)},n}(e.Entity))||c),t("EcsInitializeSystem",function(t){function n(){var i;return(i=t.call(this)||this).add(new r),i}return i(n,t),n}(e.System));n._RF.pop()}}}));

System.register("chunks:///_virtual/InitRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AsyncQueue.ts","./ECS.ts","./GameUIConfig.ts","./LoadingViewComp.ts"],(function(e){"use strict";var n,t,o,a,u,s,r,i,c;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){u=e.oops},function(e){s=e.AsyncQueue},function(e){r=e.ecs},function(e){i=e.UIID},function(e){c=e.LoadingViewComp}],execute:function(){var l;a._RF.push({},"2ee0c8+7R9EFKQb+OPn9mlk","InitRes",void 0);var g=e("InitResComp",r.register("InitRes")(l=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.reset=function(){},t}(r.Comp))||l);e("InitResSystem",function(e){function a(){return e.apply(this,arguments)||this}n(a,e);var l=a.prototype;return l.filter=function(){return r.allOf(g)},l.entityEnter=function(e){var n=new s;this.loadBundle(n),this.loadCustom(n),this.loadLanguage(n),this.loadCommon(n),this.onComplete(n,e),n.play()},l.loadBundle=function(e){e.push(t(o().mark((function e(n,t,a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.res.defaultBundleName=u.config.game.bundleName,!u.config.game.bundleEnable){e.next=7;break}return console.log("启用远程资源运行游戏"),e.next=5,u.res.loadBundle(u.config.game.bundleServer,u.config.game.bundleVersion);case 5:e.next=9;break;case 7:return e.next=9,u.res.loadBundle(u.config.game.bundleName);case 9:n();case 10:case"end":return e.stop()}}),e)}))))},l.loadCustom=function(e){},l.loadLanguage=function(e){e.push((function(e,n,t){var o=u.storage.get("language");null==o&&(o="zh",u.storage.set("language",o)),u.language.setAssetsPath(u.config.game.languagePathJson,u.config.game.languagePathTexture),u.language.setLanguage(o,e)}))},l.loadCommon=function(e){e.push((function(e,n,t){u.res.loadDir("common",e)}))},l.onComplete=function(e,n){e.complete=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.gui.openAsync(i.Loading);case 2:(t=e.sent)&&n.add(t.getComponent(c)),n.remove(g);case 5:case"end":return e.stop()}}),e)})))},a}(r.ComblockSystem));a._RF.pop()}}}));

System.register("chunks:///_virtual/IRoleAnimator.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var i;t("RoleAnim",void 0),e._RF.push({},"1bd8cseaJRALqIq4jC5sJem","IRoleAnimator",void 0),function(t){t[t.Stand=0]="Stand",t[t.Walk=1]="Walk",t[t.Attack=2]="Attack",t[t.Hit=3]="Hit",t[t.Skill=4]="Skill",t[t.Dead=5]="Dead"}(i||(i=t("RoleAnim",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemsGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagItem.ts","./TableGameDrop.ts","./TableUtil.ts","./Etem.ts"],(function(t){"use strict";var e,n,i,o,s,r,a,c,l,m,u,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,c=t.Button,l=t.Component},function(t){m=t.BagItem},function(t){u=t.TableGameDrop},function(t){h=t.TableUtil},function(t){p=t.Etem}],execute:function(){var d,f,g,v,I,b,y;r._RF.push({},"2d633MpiZxKx5izmSSZXmxc","ItemsGroup",void 0);var E=a.ccclass,C=a.property;t("ItemsGroup",(d=E("ItemsGroup"),f=C([m]),g=C([p]),d((b=e((I=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"items",b,o(e)),i(e,"etems",y,o(e)),e}n(e,t);var r=e.prototype;return r.init=function(t){0===this.items.length&&(this.items=this.node.getComponentsInChildren(m)),this.items.length>0&&e.loadDropItems(this.items,t)||(0===this.etems.length&&(this.etems=this.node.getComponentsInChildren(p)),this.etems.length>0&&e.loadDropEtems(this.etems,t))},r.initEmailAttachments=function(t){0===this.etems.length&&(this.etems=this.node.getComponentsInChildren(p)),e.loadEmailAttachments(this.etems,t)},r.initItemsRecord=function(t){0===this.items.length&&(this.items=this.node.getComponentsInChildren(m)),e.loadRecordItems(this.items,t)},e.loadDropItems=function(t,n){return e.loadRecordItems(t,h.getDropItems(n))},e.loadRecordItems=function(t,e){var n=Object.entries(e);return t.forEach((function(t,e){n[e]?(t.node.active=!0,t.init.apply(t,n[e])):t.node.active=!1})),(null==t?void 0:t.length)>0},e.loadDropEtems=function(t,e){var n;if("number"==typeof e){var i=h.get(u,e);n=i.drop}return t.forEach((function(t,e){n[e]?(t.node.active=!0,t.init(n[e])):t.node.active=!1})),(null==t?void 0:t.length)>0},e.loadEmailAttachments=function(t,e){return t.forEach((function(t,n){e[n]?(t.node.active=!0,t.initEmailAttachment(e[n])):t.node.active=!1})),(null==t?void 0:t.length)>0},r.showTip=function(){this.items.length>0&&this.items[0].showTip()},s(e,[{key:"interactable",set:function(t){this.items.map((function(t){return t.getComponent(c)})).forEach((function(e){return e&&(e.interactable=t)}))}}]),e}(l)).prototype,"items",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(I.prototype,"etems",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=I))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Journey.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameSys.ts","./System.ts","./GameEvent.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./HttpChannelManager.ts","./TipsManager.ts"],(function(e){"use strict";var n,t,r,o,u,a,s,c,i,f,l,y,p,d,h;return{setters:[function(e){n=e.inheritsLoose,t=e.createForOfIteratorHelperLoose,r=e.createClass,o=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){c=e.TableGameSys,i=e.GameSysKey},function(e){f=e.GameSys},function(e){l=e.GameEvent},function(e){y=e.smc},function(e){p=e.MsgID},function(e){d=e.httpChannel},function(e){h=e.tips}],execute:function(){var v;a._RF.push({},"304f21jiK5EFqPz7u0XZ3mm","Journey",void 0);var m=s.ccclass,g=(s.property,e("Journey",m("Journey")(v=function(e){function a(){var n;return(n=e.call(this,i.journey)||this).redotWatchGameEvents=[l.JourneyGetReward,l.HeroLevelUp],n}n(a,e);var s=a.prototype;return s.getJourneyTable=function(){var e=[];return Object.entries(c).filter((function(e){e[0];return e[1].is_licheng>0})).map((function(e){var n=e[0];e[1];return Number(n)})).forEach((function(n,t){var r={id:n,cfg:c[n]};e.push(r)})),e},s.getAward=function(){var e=o(u().mark((function e(n,t){var r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.JourneyAward,o={sysId:n},e.next=4,d.reqAsync(r,o);case 4:if(null!=(a=e.sent)&&a.ok){e.next=7;break}return e.abrupt("return");case 7:this.JourneyInfo=a.sysOpenAward,y.account.doResChange(a),h.reward(a),null!=t&&t();case 11:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),s.calRedot=function(){for(var e,n=this.JourneyInfo||[],r=this.getJourneyTable(),o=t(r);!(e=o()).done;){var u=e.value;if(!n.includes(u.id)&&y.system.checkOpened(u.id))return!0}return!1},s.onLogin=function(){},r(a,[{key:"JourneyInfo",get:function(){return y.accountData.subinfo.sysOpenAward},set:function(e){y.accountData.subinfo.sysOpenAward=e}}]),a}(f))||v));e("journey",new g);a._RF.pop()}}}));

System.register("chunks:///_virtual/JourneyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableUtil.ts","./BagItem.ts"],(function(t){"use strict";var e,i,n,o,r,l,s,a,c,u,b,p,d,m,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Sprite,a=t.Label,c=t.Button,u=t.Component},function(t){b=t.oops},function(t){p=t.ViewUtil},function(t){d=t.GameEvent},function(t){m=t.smc},function(t){f=t.TableUtil},function(t){h=t.BagItem}],execute:function(){var y,g,v,C,I,G,w,_,z,D,B,J,j,A,F;r._RF.push({},"03b4533//ZIcKAgzf5Ol8uF","JourneyItem",void 0);var L=l.ccclass,O=l.property;t("JourneyItem",(y=L("JourneyItem"),g=O(s),v=O(a),C=O(a),I=O(h),G=O(c),w=O(a),y((D=e((z=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"icon",D,o(e)),n(e,"lblName",B,o(e)),n(e,"lblDesc",J,o(e)),n(e,"item",j,o(e)),n(e,"btnGet",A,o(e)),n(e,"lblCondition",F,o(e)),e._sysId=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.btnGet&&(this.btnGet.node.active=!1),this.lblCondition&&(this.lblCondition.node.active=!1)},r.start=function(){},r.initCommon=function(t){p.loadSpriteFrame(this.icon,"gui/journey/texture/"+t.strKey+"/spriteFrame"),this.lblName.string=t.name,this.lblDesc&&(this.lblDesc.string=t.desc)},r.refresh=function(t){var e=this;this.initCommon(t.cfg);var i=f.getDropItems(t.cfg.drop);Object.entries(i).forEach((function(t){var i=t[0],n=t[1];e.item.init(i,n)})),this.lblCondition.string=m.system.getOpenConditionText(t.id),this._sysId=t.id,this._refreshBtnAndCondition()},r._refreshBtnAndCondition=function(){var t=(m.journey.JourneyInfo||[]).includes(this._sysId),e=m.system.checkOpened(this._sysId);this.btnGet.node.active=e||t,this.btnGet.getComponent(s).grayscale=t,this.btnGet.interactable=!t,this.btnGet.node.getChildByName("Label").getComponent(a).string=t?"已领取":"领取",this.lblCondition.node.active=!e},r.onGetClick=function(){m.journey.getAward(this._sysId,(function(){b.message.dispatchEvent(d.JourneyGetReward)}))},e}(u)).prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(z.prototype,"lblName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(z.prototype,"lblDesc",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(z.prototype,"item",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(z.prototype,"btnGet",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(z.prototype,"lblCondition",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/JourneyMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./JourneyItem.ts","./GameEvent.ts"],(function(e){"use strict";var n,t,r,o,i,a,s,u,c,l,f,h,y,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Node,u=e.Prefab,c=e.instantiate,l=e.Component},function(e){f=e.oops},function(e){h=e.smc},function(e){y=e.JourneyItem},function(e){d=e.GameEvent}],execute:function(){var p,g,m,v,_,b,J;i._RF.push({},"d077bGMwKFBobW87HsoHjOr","JourneyMain",void 0);var C=a.ccclass,j=a.property;e("JourneyMain",(p=C("JourneyMain"),g=j(s),m=j(u),p((b=n((_=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,r(n,"nodeContent",b,o(n)),r(n,"journeyItem",J,o(n)),n}t(n,e);var i=n.prototype;return i.start=function(){this.refresh(),f.message.on(d.JourneyGetReward,this._eventHandler,this)},i.onDestroy=function(){f.message.off(d.JourneyGetReward,this._eventHandler,this)},i._eventHandler=function(e,n){e==d.JourneyGetReward&&this.refresh()},i._calWeight=function(e){return(h.journey.JourneyInfo||[]).includes(e)?0:h.system.checkOpened(e)?2:1},i.refresh=function(){var e=this,n=h.journey.getJourneyTable();n.sort((function(n,t){var r=e._calWeight(n.id),o=e._calWeight(t.id);return r==o?n.cfg.licheng_order-t.cfg.licheng_order:o-r}));var t=n.length;this.nodeContent.removeAllChildren();for(var r=0;r<t;r++){var o=c(this.journeyItem);o.parent=this.nodeContent,o.getComponent(y).refresh(n[r])}},i.update=function(e){},i.onClickClose=function(){f.gui.removeByNode(this.node,!0)},n}(l)).prototype,"nodeContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=n(_.prototype,"journeyItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/JsonOb.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"000b00Lx19Ke4hAFc9/Qlnh","JsonOb",void 0);var e=Object.prototype,o="[object Object]",c="[object Array]",i=["push","pop","shift","unshift","sort","reverse","splice"];t("JsonOb",function(){function t(t,r){this._callback=void 0,e.toString.call(t)!==o&&e.toString.call(t)!==c&&console.error("请传入一个对象或数组"),this._callback=r,this.observe(t)}var r=t.prototype;return r.observe=function(t,r){var i=this;e.toString.call(t)===c&&this.overrideArrayProto(t,r),Object.keys(t).forEach((function(n){var s=i,a=t[n],l=r&&r.slice();l?l.push(n):l=[n],Object.defineProperty(t,n,{get:function(){return a},set:function(t){a!==t&&("[object Object]"===e.toString.call(t)&&s.observe(t,l),s._callback(t,a,l),a=t)}}),e.toString.call(t[n])!==o&&e.toString.call(t[n])!==c||i.observe(t[n],l)}),this)},r.overrideArrayProto=function(t,r){var e,o=Array.prototype,c=Object.create(Array.prototype),n=this;i.forEach((function(t){Object.defineProperty(c,t,{value:function(){var c=this.slice();return e=o[t].apply(this,arguments),n.observe(this,r),n._callback(this,c,r),e}})})),t.__proto__=c},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtil.ts",["cc","./Oops.ts"],(function(e){"use strict";var n,s,t,o;return{setters:[function(e){n=e.cclegacy,s=e.JsonAsset,t=e.error},function(e){o=e.oops}],execute:function(){n._RF.push({},"1a24ank4nRC46jfzaIfOmtQ","JsonUtil",void 0);var r="config/game/",i=new Map;e("JsonUtil",function(){function e(){}return e.get=function(e){if(i.has(e))return i.get(e)},e.load=function(e,n){if(i.has(e))n(i.get(e));else{var a=r+e;o.res.load(a,s,(function(s,o){s&&t(s.message),i.set(e,o.json),n(o.json)}))}},e.loadAsync=function(e){return new Promise((function(n,a){if(i.has(e))n(i.get(e));else{var c=r+e;o.res.load(c,s,(function(s,o){s&&t(s.message),i.set(e,o.json),n(o.json)}))}}))},e.release=function(e){var n=r+e;i.delete(e),o.res.release(n)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LabelChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabelNumber.ts"],(function(i){"use strict";var t,e,n,s,a,r,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator},function(i){c=i.default}],execute:function(){var h,l,u;a._RF.push({},"fff0fLwVNhNe59VirWTCPFJ","LabelChange",void 0);var o=r.ccclass,p=r.property,d=r.menu;i("LabelChange",o("LabelChange")(h=d("ui/label/LabelChange")((u=t((l=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"isInteger",u,s(t)),t.duration=0,t.callback=void 0,t.isBegin=!1,t.speed=0,t.end=0,t}e(t,i);var a=t.prototype;return a.changeTo=function(i,t,e){0!=i?this.playAnim(i,this.num,t,e):e&&e()},a.changeBy=function(i,t,e){0!=i?this.playAnim(i,this.num,this.num+t,e):e&&e()},a.stop=function(i){void 0===i&&(i=!0),this.num=this.end,this.isBegin=!1,i&&this.callback&&this.callback()},a.playAnim=function(i,t,e,n){this.duration=i,this.end=e,this.callback=n,this.speed=(e-t)/i,this.num=t,this.isBegin=!0},a.isEnd=function(i){return this.speed>0?i>=this.end:i<=this.end},a.update=function(i){if(this.isBegin){if(this.num==this.end)return this.isBegin=!1,void(this.callback&&this.callback());var t=this.num+i*this.speed;this.isInteger&&(t=Math.ceil(t)),this.isEnd(t)&&(t=this.end,this.isBegin=!1,this.callback&&this.callback()),this.num=t}},t}(c)).prototype,"isInteger",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=l))||h)||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/LabelNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,u,s,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){u=e.cclegacy,s=e._decorator,a=e.error,l=e.Label}],execute:function(){var p,c,b,m,y,h,f,g;u._RF.push({},"f7b43F70BhPlrz4IPhZGmsL","LabelNumber",void 0);var w=s.ccclass,_=s.property,L=s.menu;e("default",(p=w("LabelNumber"),c=L("ui/label/LabelNumber"),b=_({tooltip:"是否显示货币符号"}),p(m=c((h=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_num",h,i(t)),n(t,"_showSym",f,i(t)),n(t,"useFix",g,i(t)),t}return r(t,e),t.prototype.updateLabel=function(){"number"!=typeof this._num&&a("[LabelNumber] num不是一个合法数字"),this.string=this.num.toString()},o(t,[{key:"num",get:function(){return this._num},set:function(e){this._num=e,this.updateLabel()}},{key:"showSym",get:function(){return this._showSym},set:function(e){e&&(this._showSym=e,this.updateLabel())}}]),t}(l)).prototype,"_num",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=t(y.prototype,"_showSym",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(y.prototype,"num",[_],Object.getOwnPropertyDescriptor(y.prototype,"num"),y.prototype),t(y.prototype,"showSym",[_],Object.getOwnPropertyDescriptor(y.prototype,"showSym"),y.prototype),g=t(y.prototype,"useFix",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=y))||m)||m));u._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTime.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label}],execute:function(){var l,c,u,h,m,p,f,d,b,g,y,v;o._RF.push({},"57786GMN6RPbaAT9b9RmX18","LabelTime",void 0);var D=a.ccclass,S=a.property,z=a.menu;t("default",(l=D("LabelTime"),c=z("ui/label/LabelTime"),u=S({tooltip:"到计时间总时间（单位秒）"}),h=S({tooltip:"天数数据格式化"}),m=S({tooltip:"时间格式化"}),p=S({tooltip:"是否有00"}),l(f=c((b=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"countDown",b,n(e)),r(e,"dayFormat",g,n(e)),r(e,"timeFormat",y,n(e)),r(e,"zeroize",v,n(e)),e.onSecond=null,e.onComplete=null,e}i(e,t);var o=e.prototype;return o.replace=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.replace(/\{(\d+)\}/g,(function(t,e){return i[e]}))},o.format=function(){var t=this.countDown,e=Math.floor(t/86400);t-=86400*e;var i=Math.floor(t/3600);t-=3600*i;var r=Math.floor(t/60),n=t-=60*r;if(this.dateDisable=this.dateDisable||!1,0==e&&0==i&&0==r&&0==n)this.zeroize?this.result=this.replace(this.timeFormat,"00","00","00"):this.result=this.replace(this.timeFormat,"0","0","0");else if(e>0&&!this.dateDisable){var o=this.dayFormat,a=o.indexOf("{1}");0==i&&a>-1&&(o=o.substring(0,a-1));var s=o;e>1&&o.indexOf("days")<0&&(s=s.replace("day","days")),e<2&&(s=s.replace("days","day")),this.result=this.replace(s,e,i)}else i+=24*e,this.zeroize?this.result=this.replace(this.timeFormat,this.coverString(i),this.coverString(r),this.coverString(n)):this.result=this.replace(this.timeFormat,i,r,n);this.string=this.result},o.coverString=function(t){return t<10?"0"+t:t.toString()},o.setDateDisable=function(t){this.dateDisable=t},o.setTime=function(t){this.countDown=t,this.timing_end(),this.timing_start()},o.start=function(){this.timing_start()},o.onScheduleSecond=function(){this.countDown--,this.format(),this.onSecond&&this.onSecond(this.node),0==this.countDown&&this.onScheduleComplete()},o.onScheduleComplete=function(){this.timing_end(),this.onComplete&&this.onComplete(this.node)},o.timing_start=function(){this.schedule(this.onScheduleSecond,1),this.format()},o.timing_end=function(){this.unscheduleAllCallbacks(),this.format()},e}(s)).prototype,"countDown",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),g=e(d.prototype,"dayFormat",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0} day"}}),y=e(d.prototype,"timeFormat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0}:{1}:{2}"}}),v=e(d.prototype,"zeroize",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=d))||f)||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./Logger.ts","./LanguageData.ts","./LanguagePack.ts"],(function(e){"use strict";var n,t,a,u,g,s,r,i,o;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){a=e.cclegacy,u=e.warn,g=e.error},function(e){s=e.EventDispatcher},function(e){r=e.Logger},function(e){i=e.LanguageData},function(e){o=e.LanguagePack}],execute:function(){var c;e("LanguageEvent",void 0),a._RF.push({},"3757cxZqLZObIdvP/gQ6Yuj","Language",void 0),function(e){e.CHANGE="LanguageEvent.CHANGE",e.RELEASE_RES="LanguageEvent.RELEASE_RES"}(c||(c=e("LanguageEvent",{})));e("LanguageManager",function(e){function a(){for(var n,t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return(n=e.call.apply(e,[this].concat(a))||this)._support=["zh","en","tr"],n._languagePack=new o,n}n(a,e);var s=a.prototype;return s.isExist=function(e){return this.languages.indexOf(e)>-1},s.getNextLang=function(){var e=this.languages,n=e.indexOf(i.current);return e[(n+1)%e.length]},s.setLanguage=function(e,n){var t=this;e||(e="zh"),e=e.toLowerCase(),this.languages.indexOf(e)<0&&(u("当前不支持该语种"+e+" 将自动切换到 zh 语种!"),e="zh"),e!==i.current?this.loadLanguageAssets(e,(function(a,u){if(a)return g("语言资源包下载失败",a),void n(!1);r.logConfig("当前语言为【"+e+"】"),i.current=e,t._languagePack.updateLanguage(e),t.dispatchEvent(c.CHANGE,u),n(!0)})):n(!1)},s.setAssetsPath=function(e,n){this._languagePack.setAssetsPath(e,n)},s.getLangByID=function(e){return i.getLangByID(e)},s.loadLanguageAssets=function(e,n){return e=e.toLowerCase(),this._languagePack.loadLanguageAssets(e,n)},s.releaseLanguageAssets=function(e){e=e.toLowerCase(),this._languagePack.releaseLanguageAssets(e),this.dispatchEvent(c.RELEASE_RES,e)},t(a,[{key:"supportLanguages",set:function(e){this._support=e}},{key:"current",get:function(){return i.current}},{key:"languages",get:function(){return this._support}}]),a}(s));a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(t){"use strict";var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"27fb3sjD81JlIP2KFTSWUp4","LanguageData",void 0);var n=t("LanguageData",function(){function t(){}return t.getLangByID=function(a){return t.data[a]||a},t}());n.current="",n.data={},a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){"use strict";var t,a,n,i,r,o,s,p,u,l,c,g,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty,n=e.inheritsLoose,i=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,p=e.CCString,u=e.Label,l=e.RichText,c=e.error,g=e.warn,h=e.Component},function(e){d=e.LanguageData}],execute:function(){var m,f,y,b,L,_,D,v,I,z,C,k,w,S;o._RF.push({},"110c8vEd5NEPL/N9meGQnaX","LanguageLabel",void 0);var U=s.ccclass,P=s.property,F=s.menu,N=e("LangLabelParamsItem",U("LangLabelParamsItem")((y=t((f=function(){a(this,"key",y,this),a(this,"value",b,this)}).prototype,"key",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=t(f.prototype,"value",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=f))||m);e("LanguageLabel",(L=U("LanguageLabel"),_=F("ui/language/LanguageLabel"),D=P({type:N,displayName:"params"}),v=P({type:N,displayName:"params"}),I=P({serializable:!0}),z=P({type:p,serializable:!0}),L(C=_((w=t((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"_params",w,i(t)),a(t,"_dataID",S,i(t)),t.initFontSize=0,t._needUpdate=!1,t}n(t,e);var o=t.prototype;return o.language=function(){this._needUpdate=!0},o.onLoad=function(){this._needUpdate=!0,this.getComponent(u)||this.getComponent(l)?(this.getComponent(l)&&(this.initFontSize=this.getComponent(l).fontSize),this.getComponent(u)&&(this.initFontSize=this.getComponent(u).fontSize)):c(this.node.name,this._dataID)},o.getLabelFont=function(e){switch(e){case"zh":case"tr":return"SimHei"}return"Helvetica"},o.setVars=function(e,t){for(var a=!1,n=0;n<this._params.length;n++){var i=this._params[n];i.key===e&&(i.value=t,a=!0)}if(!a){var r=new N;r.key=e,r.value=t,this._params.push(r)}this._needUpdate=!0},o.update=function(){this._needUpdate&&(this.updateLabel(),this._needUpdate=!1)},o.updateLabel=function(){do{if(!this._dataID)break;var e=this.getComponent(u);if(!e&&!(e=this.getComponent(l))){g("[LanguageLabel], 该节点没有cc.Label || cc.RichText组件");break}e.string=this.string}while(0)},r(t,[{key:"params",get:function(){return this._params||[]},set:function(e){this._params=e,this._needUpdate=!0}},{key:"dataID",get:function(){return this._dataID||""},set:function(e){this._dataID=e,this._needUpdate=!0}},{key:"string",get:function(){var e=d.getLangByID(this._dataID);return e&&this._params.length>0&&this._params.forEach((function(t){e=e.replace("%{"+t.key+"}",t.value)})),e||(g("[LanguageLabel] 未找到语言标识，使用dataID替换"),e=this._dataID),e}}]),t}(h)).prototype,"_params",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(k.prototype,"params",[v],Object.getOwnPropertyDescriptor(k.prototype,"params"),k.prototype),S=t(k.prototype,"_dataID",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(k.prototype,"dataID",[z],Object.getOwnPropertyDescriptor(k.prototype,"dataID"),k.prototype),C=k))||C)||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguagePack.ts",["cc","./Logger.ts","./Oops.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguageSprite.ts"],(function(e){"use strict";var n,t,a,s,g,o,r,i,u,l;return{setters:[function(e){n=e.cclegacy,t=e.JsonAsset,a=e.director,s=e.warn,g=e.error},function(e){o=e.Logger},function(e){r=e.oops},function(e){i=e.LanguageData},function(e){u=e.LanguageLabel},function(e){l=e.LanguageSprite}],execute:function(){n._RF.push({},"2ffebyj59xIc4v4BZty8SDm","LanguagePack",void 0);e("LanguagePack",function(){function e(){this._langjsonPath="lang_json",this._langTexturePath="lang_texture"}var n=e.prototype;return n.setAssetsPath=function(e,n){e&&(this._langjsonPath=e),n&&(this._langTexturePath=n)},n.updateLanguage=function(e){var n=r.res.get(this._langjsonPath+"/"+e,t);if(n&&n.json){i.data=n.json;for(var g=a.getScene().children,o=0;o<g.length;++o){for(var c=g[o].getComponentsInChildren(u),h=0;h<c.length;h++)c[h].language();for(var f=g[o].getComponentsInChildren(l),L=0;L<f.length;L++)f[L].language()}}else s("没有找到指定语言内容配置",e)},n.loadLanguageAssets=function(e,n){var a=this._langTexturePath+"/"+e,s=this._langjsonPath+"/"+e;r.res.loadDir(a,(function(i){if(i)return g(i),void n(i);o.logConfig(a,"下载语言包 textures 资源"),r.res.load(s,t,(function(t){if(t)return g(t),void n(t);o.logConfig(s,"下载语言包 json 资源"),n(t,e)}))}))},n.releaseLanguageAssets=function(e){var n=this._langTexturePath+"/"+e;r.res.releaseDir(n),o.logView(n,"释放语言图片资源");var t=this._langjsonPath+"/"+e;r.res.release(t),o.logView(t,"释放语言文字资源")},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./LanguageData.ts"],(function(t){"use strict";var e,r,a,i,n,o,p,u,s,c,l,g,f,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,p=t._decorator,u=t.CCString,s=t.SpriteFrame,c=t.Sprite,l=t.UITransform,g=t.Component},function(t){f=t.oops},function(t){S=t.LanguageData}],execute:function(){var d,y,h,D,b,m,z,I,L;o._RF.push({},"11b96k/RIZF57Loehxyl6Hs","LanguageSprite",void 0);var v=p.ccclass,_=p.property,w=p.menu;t("LanguageSprite",(d=v("LanguageSprite"),y=w("ui/language/LanguageSprite"),h=_({serializable:!0}),D=_({type:u,serializable:!0}),b=_({tooltip:"是否设置为图片原始资源大小"}),d(m=y((I=e((z=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"_dataID",I,i(e)),a(e,"isRawSize",L,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){this.updateSprite()},o.language=function(){this.updateSprite()},o.updateSprite=function(){var t="language/texture/"+S.current+"/"+this.dataID+"/spriteFrame",e=f.res.get(t,s);if(e){var r=this.getComponent(c);if(r.spriteFrame=e,this.isRawSize){var a,i=e._originalSize;null==(a=r.getComponent(l))||a.setContentSize(i)}}else console.error("[LanguageSprite] 资源不存在 "+t)},n(e,[{key:"dataID",get:function(){return this._dataID||""},set:function(t){this._dataID=t,this.updateSprite()}}]),e}(g)).prototype,"_dataID",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(z.prototype,"dataID",[D],Object.getOwnPropertyDescriptor(z.prototype,"dataID"),z.prototype),L=e(z.prototype,"isRawSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=z))||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/LayerDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./LayerPopup.ts"],(function(e){"use strict";var t,i,u,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){u=e.ViewParams},function(e){s=e.LayerPopUp}],execute:function(){i._RF.push({},"dcad5w8wHlEDJpIKJ4gUxEP","LayerDialog",void 0);e("LayerDialog",function(e){function i(){for(var t,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return(t=e.call.apply(e,[this].concat(u))||this).queue=[],t.queue_params=[],t}t(i,e);var s=i.prototype;return s.add=function(e,t,i){var s=this;this.black.enabled=!0;var n=e.prefab,r=this.getUuid(n),a=this.ui_nodes.get(r);if(null==a){(a=new u).uuid=this.getUuid(n),a.prefabPath=n,a.callbacks=null!=i?i:{};var c=a.callbacks.onRemoved;a.callbacks.onRemoved=function(e,t){c&&c(e,t),setTimeout((function(){s.next()}),0)},a.valid=!0,this.ui_nodes.set(a.uuid,a)}return this.current&&this.current.valid?(this.queue.push(a),this.queue_params.push(t||{})):(a.params=t||{},this.current=a,this.load(a)),r},s.setBlackDisable=function(){0==this.queue.length&&(this.black.enabled=!1)},s.next=function(){this.queue.length>0&&(this.current=this.queue.shift(),this.current.params=this.queue_params.shift(),this.current.node?this.createNode(this.current):this.load(this.current))},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GUI.ts","./DelegateComponent.ts","./LayerDialog.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerUI.ts","./UIMap.ts"],(function(e){"use strict";var t,i,a,n,o,r,s,u,c,p,l,f,h,d,y,g,m,v;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,i=e.createClass,a=e.asyncToGenerator,n=e.regeneratorRuntime,o=e.extends},function(e){r=e.cclegacy,s=e.warn,u=e.Node,c=e.Layers,p=e.Widget,l=e.Camera},function(e){f=e.GUI},function(e){h=e.DelegateComponent},function(e){d=e.LayerDialog},function(e){y=e.LayerNotify},function(e){g=e.LayerPopUp},function(e){m=e.LayerUI},function(e){v=e.UIMap}],execute:function(){var b;e("LayerType",void 0),r._RF.push({},"7ba675xFGdHqIOykTysNzEu","LayerManager",void 0),function(e){e.Game="LayerGame",e.UI="LayerUI",e.PopUp="LayerPopUp",e.Dialog="LayerDialog",e.System="LayerSystem",e.Notify="LayerNotify",e.Guide="LayerGuide"}(b||(b=e("LayerType",{})));e("LayerManager",function(){var e=r.prototype;function r(e){this.configs={},this.root=e,this.camera=this.root.getComponentInChildren(l),this.game=this.create_node(b.Game),this.ui=new m(b.UI),this.popup=new g(b.PopUp),this.dialog=new d(b.Dialog),this.system=new d(b.System),this.notify=new y(b.Notify),this.guide=this.create_node(b.Guide),e.addChild(this.game),e.addChild(this.ui),e.addChild(this.popup),e.addChild(this.dialog),e.addChild(this.system),e.addChild(this.notify),e.addChild(this.guide)}return e.blockInputEvents=function(e){void 0===e&&(e=!0),this.system.black.enabled=e},e.init=function(e){this.configs=e},e.toast=function(e,t){void 0===t&&(t=!1),e&&this.notify.show(e,t)},e.setConfig=function(e,t){this.configs[e]=t},e.setUIMap=function(e){null==this.uiMap&&(this.uiMap=new v),this.uiMap.init(this,e)},e.open=function(e,t,i){void 0===t&&(t=null);var a=this.configs[e];if(null!=a)switch(console.log("OPEN UI>"+e+", "+a.prefab),a.layer){case b.UI:this.ui.add(a,t,i);break;case b.PopUp:this.popup.add(a,t,i);break;case b.Dialog:this.dialog.add(a,t,i);break;case b.System:this.system.add(a,t,i);break;case b.Notify:this.notify.add(a,t,i)}else s("打开编号为【"+e+"】的界面失败，配置信息不存在")},e.openAsync=function(){var e=a(n().mark((function e(t,i){var a=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=null),e.abrupt("return",new Promise((function(e,n){var o={onAdded:function(t,i){e(t)}};a.open(t,i,o)})));case 2:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),e.openModal=function(){var e=a(n().mark((function e(t,i,a){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=null),e.abrupt("return",new Promise((function(e,n){(a=a?o({},a):{}).onRemoved=function(t,i){e()},r.open(t,i,a)})));case 2:case"end":return e.stop()}}),e)})));return function(t,i,a){return e.apply(this,arguments)}}(),e.has=function(e){var t=this.configs[e];if(null==t)return s("编号为【"+e+"】的界面失败，配置信息不存在"),!1;var i=!1;switch(t.layer){case b.UI:i=this.ui.has(t.prefab);break;case b.PopUp:i=this.popup.has(t.prefab);break;case b.Dialog:i=this.dialog.has(t.prefab);break;case b.System:i=this.system.has(t.prefab);break;case b.Notify:i=this.notify.has(t.prefab)}return i},e.get=function(e){var t=this.configs[e];if(null==t)return s("编号为【"+e+"】的界面失败，配置信息不存在"),null;var i=null;switch(t.layer){case b.UI:i=this.ui.get(t.prefab)[0]}return i},e.remove=function(e,t){void 0===t&&(t=!0);var i=this.configs[e];if(null!=i)switch(i.layer){case b.UI:this.ui.remove(i.prefab,t);break;case b.PopUp:this.popup.remove(i.prefab,t);break;case b.Dialog:this.dialog.remove(i.prefab,t);break;case b.System:this.system.remove(i.prefab,t);break;case b.Notify:this.notify.remove(i.prefab,t)}else s("删除编号为【"+e+"】的界面失败，配置信息不存在")},e.removeByNode=function(e,t){if(void 0===t&&(t=!1),e instanceof u){var i,a=e.getComponent(h);if(a&&a.viewParams)null==(i=e.parent)||i.removeByUuid(a.viewParams.uuid,t);else s("当前删除的node不是通过界面管理器添加到舞台上"),e.destroy()}},e.clear=function(e,i){void 0===i&&(i=!1),"all"==e&&(e=[b.UI,b.PopUp,b.Dialog,b.System]);for(var a,n=t(e);!(a=n()).done;){var o=a.value;o==b.UI?this.ui.clear(i):o==b.PopUp?this.popup.clear(i):o==b.Dialog?this.dialog.clear(i):o==b.System&&this.system.clear(i)}},e.create_node=function(e){var t=new u(e);t.layer=c.Enum.UI_2D;var i=t.addComponent(p);return i.isAlignLeft=i.isAlignRight=i.isAlignTop=i.isAlignBottom=!0,i.left=i.right=i.top=i.bottom=0,i.alignMode=2,i.enabled=!0,t},i(r,[{key:"portrait",get:function(){return this.root.getComponent(f).portrait}}]),r}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LayerNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Notify.ts","./Defines.ts","./DelegateComponent.ts","./LayerUI.ts"],(function(t){"use strict";var e,n,o,a,i,r,s,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.error,a=t.instantiate},function(t){i=t.oops},function(t){r=t.Notify},function(t){s=t.ViewParams},function(t){u=t.DelegateComponent},function(t){c=t.LayerUI}],execute:function(){n._RF.push({},"da14ax+B2xNsL2taQFOh7we","LayerNotify",void 0);var f="common/prefab/notify";t("LayerNotify",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var c=n.prototype;return c.show=function(t,e){var n=new s;n.uuid=this.getUuid(f),n.prefabPath=f,n.params={content:t,useI18n:e},n.callbacks={},n.valid=!0,this.ui_nodes.set(n.uuid,n),this.load(n)},c.load=function(t){var e=this;i.res.load(t.prefabPath,(function(n,i){n&&o(n);var r=a(i);t.node=r,r.addComponent(u).viewParams=t,e.createNode(t)}))},c.createNode=function(e){var n=t.prototype.createNode.call(this,e),o=n.getComponent(r);return o&&(n.active=!0,o.toast(e.params.content,e.params.useI18n)),n},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/LayerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerUI.ts"],(function(t){"use strict";var e,i,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Layers,o=t.BlockInputEvents},function(t){a=t.LayerUI}],execute:function(){i._RF.push({},"25d07BQBCFADaSsh/I3GrTX","LayerPopup",void 0);t("LayerPopUp",function(t){function i(e){var i;return(i=t.call(this,e)||this).init(),i}e(i,t);var a=i.prototype;return a.init=function(){this.layer=n.Enum.UI_2D,this.black=this.addComponent(o),this.black.enabled=!1},a.add=function(e,i,n){return this.black.enabled=!0,t.prototype.add.call(this,e,i,n)},a.remove=function(e,i){t.prototype.remove.call(this,e,i),this.setBlackDisable()},a.removeByUuid=function(e,i){t.prototype.removeByUuid.call(this,e,i),this.setBlackDisable()},a.setBlackDisable=function(){this.black.enabled=!1},a.clear=function(e){t.prototype.clear.call(this,e),this.black.enabled=!1},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Defines.ts","./DelegateComponent.ts"],(function(e){"use strict";var t,n,i,r,a,o,u,s,d,c,h,l;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,r=e.warn,a=e.error,o=e.instantiate,u=e.isValid,s=e.Widget,d=e.Node},function(e){c=e.oops},function(e){h=e.ViewParams},function(e){l=e.DelegateComponent}],execute:function(){i._RF.push({},"bc8b86Br9dGeKxeLijkyJKE","LayerUI",void 0);e("LayerUI",function(e){function i(t){var n;(n=e.call(this,t)||this).ui_nodes=new Map,n.ui_cache=new Map;var i=n.addComponent(s);return i.isAlignLeft=i.isAlignRight=i.isAlignTop=i.isAlignBottom=!0,i.left=i.right=i.top=i.bottom=0,i.alignMode=2,i.enabled=!0,n}t(i,e);var d=i.prototype;return d.getUuid=function(e){return(this.name+"_"+e).replace(/\//g,"_")},d.add=function(e,t,n){var i=e.prefab,a=this.getUuid(i),o=this.ui_nodes.get(a);return o&&o.valid?(r("路径为【"+i+"】的预制重复加载"),""):(null==o&&((o=new h).uuid=a,o.prefabPath=i,this.ui_nodes.set(o.uuid,o)),o.params=null!=t?t:{},o.callbacks=null!=n?n:{},o.valid=!0,this.load(o,e.bundle),a)},d.load=function(e,t){var n=this,i=this.ui_nodes.get(e.uuid);i&&i.node?this.createNode(i):(t=t||c.res.defaultBundleName,c.res.load(t,e.prefabPath,(function(t,i){t&&a(t);var r=o(i);e.node=r,r.addComponent(l).viewParams=e,n.createNode(e)})))},d.createNode=function(e){return e.valid=!0,e.node.getComponent(l).add(),e.node.parent=this,e.node},d.remove=function(e,t){t&&this.removeCache(e);for(var n=this.__nodes(),i=0;i<n.length;i++){var r=n[i].viewParams;r.prefabPath===e&&(t?this.ui_nodes.delete(r.uuid):this.ui_cache.set(r.prefabPath,r),n[i].remove(t),r.valid=!1)}},d.removeByUuid=function(e,t){var n=this.ui_nodes.get(e);n&&(t&&this.ui_nodes.delete(n.uuid),n.node.getComponent(l).remove(t))},d.removeCache=function(e){var t=this.ui_cache.get(e);t&&(t.node.getComponent(l).remove(!0),this.ui_nodes.delete(t.uuid),this.ui_cache.delete(e))},d.getByUuid=function(e){for(var t,i=this.__nodes(),r=n(i);!(t=r()).done;){var a=t.value;if(a.viewParams&&a.viewParams.uuid===e)return a.node}return null},d.get=function(e){for(var t,i=[],r=this.__nodes(),a=n(r);!(t=a()).done;){var o=t.value;o.viewParams.prefabPath===e&&i.push(o.node)}return i},d.has=function(e){for(var t,i=this.__nodes(),r=n(i);!(t=r()).done;){var a=t.value;if(a.viewParams.uuid===e||a.viewParams.prefabPath===e)return!0}return!1},d.find=function(e){for(var t,i=[],r=this.__nodes(),a=n(r);!(t=a()).done;){var o=t.value;e.test(o.viewParams.prefabPath)&&i.push(o.node)}return i},d.__nodes=function(){for(var e=[],t=this.children,n=0;n<t.length;n++){var i=t[n].getComponent(l);i&&i.viewParams&&i.viewParams.valid&&u(i)&&e.push(i)}return e},d.size=function(){return this.children.length},d.clear=function(e){var t=this;this.ui_nodes.forEach((function(n,i){t.removeByUuid(n.uuid,e),n.valid=!1})),this.ui_nodes.clear(),e&&this.ui_cache.forEach((function(e,n){t.removeCache(n)}))},i}(d));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b7a864Zpb5N4Zm7onWE1i9D","LayerUtil",void 0);var r=e("LayerItem",function(){function e(e,n){this._value=void 0,this._value=e,this._name=n}return n(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),u=e("LayerUtil",function(){function e(){}return e.setNodeLayer=function(n,t){t.layer=n.mask,t.children.forEach((function(t){t.layer=n.mask,e.setNodeLayer(n,t)}))},e}());u.MAP=new r(0,"MAP"),u.AVATAR=new r(1,"AVATAR"),u.IGNORE_RAYCAST=new r(20,"IGNORE_RAYCAST"),u.GIZMOS=new r(21,"GIZMOS"),u.EDITOR=new r(22,"EDITOR"),u.UI_3D=new r(23,"UI_3D"),u.SCENE_GIZMO=new r(24,"SCENE_GIZMO"),u.UI_2D=new r(25,"UI_2D"),u.PROFILTER=new r(28,"PROFILTER"),u.DEFAULT=new r(30,"DEFAULT"),t._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameEnum.ts","./HttpChannelManager.ts","./NetProtocol.ts","./TableGameChapter.ts","./TableGameLevels.ts","./BattleUIWrestle.ts","./BattleUI.ts","./BattleUI2.ts","./BattleUIAbyssDemon.ts","./BattleUIAbyssDragon.ts","./BattleUIArena.ts","./BattleUIMercenary.ts","./SingletonModuleComp.ts","./Util.ts","./Oops.ts","./GameUIConfig.ts"],(function(t){"use strict";var e,n,r,i,u,o,s,a,c,f,p,l,h,g,d,v,y,b,x,m,w,k,B,_;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){u=t.cclegacy,o=t.assert},function(t){s=t.ViewUtil},function(t){a=t.EFightResults,c=t.EFightType},function(t){f=t.httpChannel},function(t){p=t.MsgID},function(t){l=t.TableGameChapter},function(t){h=t.TableGameLevels},function(t){g=t.BattleUIWrestle},function(t){d=t.BattleUI},function(t){v=t.BattleUI2},function(t){y=t.BattleUIAbyssDemon},function(t){b=t.BattleUIAbyssDragon},function(t){x=t.BattleUIArena},function(t){m=t.BattleUIMercenary},function(t){w=t.smc},function(t){k=t.delay},function(t){B=t.oops},function(t){_=t.UIID}],execute:function(){u._RF.push({},"57ff3pbnKVHwKqjpVuE5/UT","Level",void 0);var I=t("Level",function(){function t(t){this.ty=null,this.ty=t}var e=t.prototype;return e.reqFight=function(){var t=r(i().mark((function t(e){var n,r,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.buildReq(e),r=n[0],u=n[1],t.next=3,f.reqAsync(r,u,!1);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.doSkip=function(t){return t},t}()),A=t("LevelGame",function(t){function u(e,n){var r;return void 0===n&&(n=c.GANME_LEVELS),(r=t.call(this,n)||this).cfg=new h,r.chapter=new l,r._next=null,r.cfg.init(e),r.chapter.init(r.cfg.chapter_id),r}e(u,t);var o=u.prototype;return o.buildReq=function(t){return[p.Fight,{gamelevels:this.id,pos:t||0}]},o.createBattleUI=function(){var t=r(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createPrefabNodeAsync("game/battle_ui");case 2:return e=t.sent,t.abrupt("return",e.getComponent(d));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.chapter.pic_ground,!t.t0){t.next=4;break}return t.next=4,e.init(this.chapter.pic_ground);case 4:if(!this.chapter.is_scrolling){t.next=12;break}if(t.t1=this.chapter.pic_sky,!t.t1){t.next=9;break}return t.next=9,n.init(this.chapter.pic_sky);case 9:return t.abrupt("return",!0);case 12:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),o.getNextStage=function(t){return t.newpos},o.isLastLevelInChapter=function(){return!(this.cfg.nextid>0)||this.nextLevel.chapterId!=this.chapterId},n(u,[{key:"id",get:function(){return this.cfg.id}},{key:"monsters",get:function(){return this.cfg.monster}},{key:"bossId",get:function(){return this.monsters[this.monsters.length-1][0]}},{key:"type",get:function(){return this.cfg.type}},{key:"stages",get:function(){return this.cfg.monster.length}},{key:"chapterId",get:function(){return this.chapter.id}},{key:"nextLevel",get:function(){return this._next||(this._next=this.cfg.nextid>0?new u(this.cfg.nextid,this.ty):this),this._next}}]),u}(I)),U=(t("LevelElite",function(t){function n(e){return t.call(this,e,c.ELITE)||this}e(n,t);var u=n.prototype;return u.buildReq=function(t){return[p.FightElite,{elitelevels:this.id}]},u.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("img_dtbj2");case 2:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n}(A)),t("LevelArena",function(t){function u(e){var n;return(n=t.call(this,c.ARENA)||this).info=null,n.info=e,n}e(u,t);var o=u.prototype;return o.buildReq=function(t){return[p.FightArena,{id:Number(this.info.id),cqid:0}]},o.createBattleUI=function(){var t=r(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createPrefabNodeAsync("game/battle_ui_arena");case 2:return e=t.sent,t.abrupt("return",e.getComponent(x));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("img_jdcbgd");case 2:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.getNextStage=function(t){return 0},n(u,[{key:"id",get:function(){return 0}},{key:"enemyInfo",get:function(){return"info"in this.info?this.info.info:this.info}}]),u}(I)));t("LevelArenaKF",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var u=n.prototype;return u.buildReq=function(t){return[p.FightArenaKF,{flag:1,id:Number(this.info.id),cqid:w.arena.cqType}]},u.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("wzlr");case 2:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u.reqFight=function(){var t=r(i().mark((function t(e){var n,r,u,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.buildReq(e),r=n[0],u=n[1],t.next=3,f.reqAsync(r,u,!1);case 3:if(o=t.sent){t.next=6;break}return t.abrupt("return",null);case 6:if(!o.ok||!o.cqresult){t.next=10;break}return B.gui.open(_.CQPlay,o.cqresult),t.next=10,k(3e3);case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n}(U)),t("LevelAbyssDragon",function(t){function u(){return t.call(this,c.ABYSS_DRAGON)||this}e(u,t);var o=u.prototype;return o.buildReq=function(t){return[p.FightAbyssDragon,{}]},o.createBattleUI=function(){var t=r(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createPrefabNodeAsync("game/battle_ui_abyssDragon");case 2:return e=t.sent,t.abrupt("return",e.getComponent(b));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("img_syjlbg");case 2:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.getNextStage=function(t){return 0},n(u,[{key:"id",get:function(){return 0}}]),u}(I)),t("LevelYongbingUpgrade",function(t){function n(e){return t.call(this,e,c.Demon_ABYSS)||this}e(n,t);var u=n.prototype;return u.buildReq=function(t){return[p.FightYongBingUpgrade,{}]},u.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("wzlr");case 2:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n}(A)),t("LevelDemonAbyss",function(t){function n(e){return t.call(this,e,c.Demon_ABYSS)||this}e(n,t);var u=n.prototype;return u.buildReq=function(t){return[p.FightDemonAbyss,{da_pos:null!=t?t:0}]},u.createBattleUI=function(){var t=r(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createPrefabNodeAsync("game/battle_ui_abyssDemon");case 2:return e=t.sent,t.abrupt("return",e.getComponent(y));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("img_dtcj");case 2:return e.node.setPosition(e.node.position.x,-110),t.next=5,n.init("img_lantian");case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u.getNextStage=function(t){return t.newpos},n}(A)),t("LevelMercenary",function(t){function u(e){var n;return(n=t.call(this,c.Mercenary)||this).type=e,n}e(u,t);var o=u.prototype;return o.buildReq=function(t){return[p.FightMercenary,{type:this.type}]},o.createBattleUI=function(){var t=r(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createPrefabNodeAsync("game/battle_ui_mercenary");case 2:return e=t.sent,t.abrupt("return",e.getComponent(m));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("img_dtbj2");case 2:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.getNextStage=function(t){return 0},n(u,[{key:"id",get:function(){return 0}}]),u}(I)),t("LevelWrestle",function(t){function u(e){var n;return(n=t.call(this,c.WRESTLE)||this).posorder=e,n}e(u,t);var o=u.prototype;return o.buildReq=function(t){return[p.WrestlePK,{turns:t,posorder:this.posorder}]},o.createBattleUI=function(){var t=r(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createPrefabNodeAsync("gui/wrestle/battle_ui_wrestle");case 2:return e=t.sent,t.abrupt("return",e.getComponent(g));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.initBattleBG=function(){var t=r(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init("wzlr");case 2:return e.node.setPosition(e.node.position.x,0),t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.getNextStage=function(t){return t.turns},n(u,[{key:"id",get:function(){return 0}}]),u}(I)),t("LevelGame2",function(t){e(l,t);var u=l.prototype;function l(e){var n;return(n=t.call(this,e,c.GANME_LEVELS2)||this).info=null,n.posOrder=null,n}return u.setPosOrder=function(t){this.posOrder=[].concat(t)},u.getPosOrder=function(){return this.posOrder},u.buildReq=function(t){o(this.posOrder);var e=[].concat(this.posOrder).map((function(t){return t+1}));return[p.Fight2,{gamelevels:this.id,fightGroup:e}]},u.createBattleUI=function(){var t=r(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createPrefabNodeAsync("game/battle_ui_2");case 2:return e=t.sent,t.abrupt("return",e.getComponent(v));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u.reqFight=function(){var t=r(i().mark((function t(e){var n,r,u,o,s,a,c,p,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.info){t.next=5;break}return a=this.buildReq(e),c=a[0],p=a[1],t.next=4,f.reqAsync(c,p,!1);case 4:this.info=t.sent;case 5:if(this.info){t.next=7;break}return t.abrupt("return",null);case 7:return(l=null==(n=this.info)?void 0:n.allfights[e]).ok=null!=(r=null==(u=this.info)?void 0:u.ok)&&r,l.msg=null!=(o=null==(s=this.info)?void 0:s.msg)?o:"",t.abrupt("return",l);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.getNextStage=function(t){var e=this.info.allfights.indexOf(t);return o(e>=0),e+1<this.info.allfights.length?e+1:0},u.doSkip=function(t){return this.info.allfights[this.info.allfights.length-1]},u.getDeadNums=function(t){return this.info.allfights.reduce((function(e,n,r){return r<t&&n.results!==a.WIN&&(e+=1),e}),0)},n(l,[{key:"fightInfo",get:function(){return this.info}}]),l}(A));u._RF.pop()}}}));

System.register("chunks:///_virtual/LevelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameLevels.ts","./TableUtil.ts"],(function(e){"use strict";var t,i,n,o,l,a,r,c,s,u,f,p,g,v,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Node,c=e.Label,s=e.Button,u=e.Component},function(e){f=e.oops},function(e){p=e.ViewUtil},function(e){g=e.UIID},function(e){v=e.smc},function(e){h=e.TableGameLevels},function(e){d=e.TableUtil}],execute:function(){var m,b,L,y,I,C,w,D,G,T,k;l._RF.push({},"3d087kY4g1Awq49ekO4d+Jc","LevelItem",void 0);var x=a.ccclass,z=a.property;e("LevelItem",(m=x("LevelItem"),b=z(r),L=z(r),y=z(r),I=z(c),m((D=t((w=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"nodeIcon",D,o(t)),n(t,"nodeFlag",G,o(t)),n(t,"spLevelBg",T,o(t)),n(t,"lblLevel",k,o(t)),t.cfg=new h,t}i(t,e);var l=t.prototype;return l.start=function(){this.node.on(s.EventType.CLICK,this.onClick,this),this.nodeFlag.on(s.EventType.CLICK,this.onClick,this)},l.init=function(e){var t=this;this.cfg.init(e),this.nodeIcon.children.forEach((function(e,i){e.active=i+1==t.cfg.style})),this.refresh()},l.refresh=function(){var e=this.cfg.id;p.setGray(this.nodeIcon,e<v.accountData.nextGameLevel),this.nodeFlag.active=e==v.accountData.nextGameLevel,this.spLevelBg.active=e==v.accountData.nextGameLevel,this.lblLevel.string=this.cfg.name.substring(2)},l.onClick=function(){var e=this.cfg.id,t=v.accountData.nextGameLevel;if(e<t)f.gui.toast("不能重复挑战关卡");else if(e>t){var i=d.get(h,t);f.gui.toast("请先挑战 "+i.name)}else{var n={additem:d.getDropItems(this.cfg.drop,this.cfg.exp),cfg:this.cfg};f.gui.open(g.TipLevel,n)}},t}(u)).prototype,"nodeIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(w.prototype,"nodeFlag",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(w.prototype,"spLevelBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(w.prototype,"lblLevel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=w))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./Main.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./TableUtil.ts","./Util.ts","./Level.ts","./LevelMap.ts"],(function(e){"use strict";var t,n,i,a,s,l,o,r,c,u,h,v,f,p,m,g,d,b,y,L,M,C,x,G,k,B,T,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass,l=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,u=e.Button,h=e.ScrollView,v=e.Vec3,f=e.Component},function(e){p=e.oops},function(e){m=e.ViewUtil},function(e){g=e.app},function(e){d=e.EFightType},function(e){b=e.GameEvent},function(e){y=e.GameResPath},function(e){L=e.UIID,M=e.DialogAnimation},function(e){C=e.smc},function(e){x=e.GameSys},function(e){G=e.GameSysKey},function(e){k=e.TableUtil},function(e){B=e.delay},function(e){T=e.LevelGame},function(e){D=e.LevelMap}],execute:function(){var w,S,E,R,_,I,P;r._RF.push({},"e2ef6sT11JL0KKxT6b1MWDG","LevelMain",void 0);var A=c.ccclass,F=c.property;e("LevelMain",(w=A("LevelMain"),S=F(u),E=F(h),w((I=t((_=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,i(t,"btnChallenge",I,a(t)),i(t,"svMap",P,a(t)),t.level=null,t.map=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.node.setSiblingIndex(0),this.init()},r.start=function(){this.btnChallenge.node.active=!1,p.message.on(b.DockBtnActive,this._eventHandler,this),p.message.on(b.BattleReady,this._eventHandler,this)},r.onDestroy=function(){p.message.off(b.DockBtnActive,this._eventHandler,this),p.message.off(b.BattleReady,this._eventHandler,this)},r.init=function(){var e=C.accountData.nextGameLevel||C.accountData.gameLevel;this.level=new T(e),this.initMap(),this.onChallengeClick()},r.initMap=function(){this.map&&(this.map.node.destroy(),this.map=null);var e=y.getGameChapterPrefabPath(this.level.chapter),t=m.createPrefabNode(e);t.parent=this.svMap.node.getChildByName("view"),this.svMap.content=t,this.svMap.scrollToBottom(),this.map=t.getComponent(D),this.map.init(this.level.chapter)},r.onChallengeClick=function(){if(!p.gui.has(L.TipLevel)){var e={additem:k.getDropItems(this.level.cfg.drop,this.level.cfg.exp),cfg:this.level.cfg};p.gui.open(L.TipLevel,e)}},r.startBattle=function(){var e=l(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.battle.createAndPlay(this.level);case 2:if(!e.sent){e.next=4;break}this.onBattleFinish();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onBattleFinish=function(){var e=l(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.battle.isWin()){e.next=9;break}return C.account.doResChange(C.battle.fightInfo),C.accountData.gameLevel=this.level.id,e.next=6,p.gui.openModal(L.Win,C.battle.fightInfo,M);case 6:this.level.isLastLevelInChapter()?this.init():(this.level=this.level.nextLevel,this.map.refresh()),e.next=14;break;case 9:return e.next=11,p.gui.openModal(L.Lose,C.battle.level.ty,M);case 11:if(0!=C.recharge.isBuyFirstGift){e.next=14;break}return e.next=14,p.gui.openModal(L.FirstRecharge);case 14:return C.battle.clear(),p.gui.remove(L.Battle,!0),e.next=18,B(200);case 18:this.visible&&this.onChallengeClick();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._eventHandler=function(e,t){if(void 0===t&&(t=null),e==b.DockBtnActive)t==L.Level?(C.battle.playing?g.setTimeScale(C.battle.timescale):this.onChallengeClick(),this.node.scale=v.ONE):(g.setTimeScale(1),this.node.active=!0,this.node.scale=v.ZERO,p.gui.remove(L.TipLevel,!0));else if(e==b.BattleReady){if(!this.node.active)return;t===d.GANME_LEVELS&&this.startBattle()}},s(t,[{key:"visible",get:function(){return this.node.scale.equals(v.ONE)}}]),t}(f)).prototype,"btnChallenge",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(_.prototype,"svMap",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=_))||R));new(function(e){function t(){var t;return(t=e.call(this,G.gamelevels)||this).redotWatchGameEvents=[b.Tick1S],t}return n(t,e),t}(x)),r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableUtil.ts","./LevelItem.ts"],(function(e){"use strict";var t,n,i,r,o,l,a,s,c,p,u,f,v,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Texture2D,s=e.Prefab,c=e.SpriteFrame,p=e.Sprite,u=e.instantiate,f=e.Component},function(e){v=e.TableUtil},function(e){h=e.LevelItem}],execute:function(){var m,b,d,L,I,g,y,M;o._RF.push({},"3b5fcWMWC1J66A65NIepPDK","LevelMap",void 0);var P=l.ccclass,x=l.property;e("LevelMap",(m=P("LevelMap"),b=x(a),d=x(s),m(((M=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"txBG",g,r(t)),i(t,"pfbLevelItem",y,r(t)),t.levelItems=[],t}n(t,e);var o=t.prototype;return o.onLoad=function(){var e=new c;e.texture=this.txBG,this.getComponent(p).spriteFrame=e,this.node.children.forEach((function(e){return e.active=!1}))},o.init=function(e){var n=this;v.getGameLevelIds(e.id).forEach((function(e,i){var r=u(n.pfbLevelItem);r.setParent(n.node),r.setPosition(n.node.children[i].position),r.setSiblingIndex(t.MAX_POS-i);var o=r.getComponent(h);o.init(e),n.levelItems.push(o)}))},o.refresh=function(){this.levelItems.forEach((function(e){return e.refresh()}))},t}(f)).MAX_POS=20,g=t((I=M).prototype,"txBG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(I.prototype,"pfbLevelItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=I))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingIndicator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o,n,r,e,a,l,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){e=t.cclegacy,a=t._decorator,l=t.Node,c=t.Component}],execute:function(){var s,u,d,p,g;e._RF.push({},"95143M/82NCOLKGzw14JlmS","LoadingIndicator",void 0);var h=a.ccclass,f=a.property;t("LoadingIndicator",(s=h("LoadingIndicator"),u=f(l),s((g=i((p=function(t){function i(){for(var i,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return i=t.call.apply(t,[this].concat(e))||this,n(i,"loading",g,r(i)),i.loading_rotate=0,i}return o(i,t),i.prototype.update=function(t){this.loading_rotate+=220*t,this.loading.setRotationFromEuler(0,0,-this.loading_rotate%360),this.loading_rotate>360&&(this.loading_rotate-=360)},i}(c)).prototype,"loading",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingViewComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./ECS.ts","./CCVMParentComp.ts","./GameUIConfig.ts","./PlatformSDK.ts","./UMASDK.ts","./TableAbyssDragonDamageAward.ts","./TableAbyssDragonRankAward.ts","./TableArenaDailyRank.ts","./TableArenaDailyRank_kf.ts","./TableArenaSeasonRank.ts","./TableArenaSeasonRank_kf.ts","./TableAureole.ts","./TableDemonAbyssAchieveAward.ts","./TableDiyShop.ts","./TableFashion.ts","./TableFruitSys.ts","./TableFundEboxAward.ts","./TableFundLevelAward.ts","./TableGameAttrPop.ts","./TableGameBuff.ts","./TableGameChapter.ts","./TableGameDrop.ts","./TableGameEBoxLv.ts","./TableGameEquip.ts","./TableGameEquipPosAttr.ts","./TableGameEquipPosLv.ts","./TableGameEquipQuality.ts","./TableGameHero.ts","./TableGameItem.ts","./TableGameLevels.ts","./TableGameLevelSweep.ts","./TableGameMonster.ts","./TableGameRoleIco.ts","./TableGameSBoxLv.ts","./TableGameSkill.ts","./TableGameSkillQuality.ts","./TableGuide.ts","./TableGuildLv.ts","./TableHelp.ts","./TableMedalUplevel.ts","./TableMercenaryAct.ts","./TableMercenaryFight.ts","./TableMercenaryGo.ts","./TableMercenaryLV.ts","./TableModelConfig.ts","./TableOpenBoxAttr.ts","./TableOpenWelfareAward.ts","./TablePirateShip.ts","./TablePirateShipCell.ts","./TablePirateShipShell.ts","./TablePirateShipWelfare.ts","./TablePrivilegeConfig.ts","./TableRankAwardGL.ts","./TableRankAwards.ts","./TableRareMonster.ts","./TableRareMonsterPark.ts","./TableRareMonsterSuit.ts","./TableRechargeGift.ts","./TableRoleUpgrade.ts","./TableShop.ts","./TableSkillSuit.ts","./TableTask.ts","./TableTaskDailyAward.ts","./TableTaskTarget.ts","./TableTisheng.ts","./TableTitle.ts","./TableWelfareDailyAward.ts","./TableWelfareLevelAward.ts","./TableWelfarePaidDaysAward.ts","./TableWrestleCard.ts","./TableWrestleLevel.ts","./TableWrestlexians.ts","./HotUpdate.ts","./TableGuildTaskAward.ts","./Tablecaiquan.ts"],(function(e){"use strict";var a,n,t,l,s,r,o,c,i,u,T,b,d,m,A,f,y,p,x,N,g,h,G,k,S,v,w,L,R,C,D,P,M,E,W,_,U,F,B,q,I,V,H,O,j,K,Q,J,z,X,Y,Z,$,ee,ae,ne,te,le,se,re,oe,ce,ie,ue,Te,be,de,me,Ae,fe,ye,pe,xe,Ne,ge,he,Ge,ke,Se,ve,we,Le,Re,Ce,De;return{setters:[function(e){a=e.inheritsLoose,n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,r=e.sys,o=e.Prefab},function(e){c=e.oops},function(e){i=e.JsonUtil},function(e){u=e.ecs},function(e){T=e.CCVMParentComp},function(e){b=e.UIID},function(e){d=e.PlatformSDK},function(e){m=e.UMASDK,A=e.UMA_EVENT},function(e){f=e.TableAbyssDragonDamageAward},function(e){y=e.TableAbyssDragonRankAward},function(e){p=e.TableArenaDailyRank},function(e){x=e.TableArenaDailyRank_kf},function(e){N=e.TableArenaSeasonRank},function(e){g=e.TableArenaSeasonRank_kf},function(e){h=e.TableAureole},function(e){G=e.TableDemonAbyssAchieveAward},function(e){k=e.TableDiyShop},function(e){S=e.TableFashion},function(e){v=e.TableFruitSys},function(e){w=e.TableFundEboxAward},function(e){L=e.TableFundLevelAward},function(e){R=e.TableGameAttrPop},function(e){C=e.TableGameBuff},function(e){D=e.TableGameChapter},function(e){P=e.TableGameDrop},function(e){M=e.TableGameEBoxLv},function(e){E=e.TableGameEquip},function(e){W=e.TableGameEquipPosAttr},function(e){_=e.TableGameEquipPosLv},function(e){U=e.TableGameEquipQuality},function(e){F=e.TableGameHero},function(e){B=e.TableGameItem},function(e){q=e.TableGameLevels},function(e){I=e.TableGameLevelSweep},function(e){V=e.TableGameMonster},function(e){H=e.TableGameRoleIco},function(e){O=e.TableGameSBoxLv},function(e){j=e.TableGameSkill},function(e){K=e.TableGameSkillQuality},function(e){Q=e.TableGuide},function(e){J=e.TableGuildLv},function(e){z=e.TableHelp},function(e){X=e.TableMedalUplevel},function(e){Y=e.TableMercenaryAct},function(e){Z=e.TableMercenaryFight},function(e){$=e.TableMercenaryGo},function(e){ee=e.TableMercenaryLV},function(e){ae=e.TableModelConfig},function(e){ne=e.TableOpenBoxAttr},function(e){te=e.TableOpenWelfareAward},function(e){le=e.TablePirateShip},function(e){se=e.TablePirateShipCell},function(e){re=e.TablePirateShipShell},function(e){oe=e.TablePirateShipWelfare},function(e){ce=e.TablePrivilegeConfig},function(e){ie=e.TableRankAwardGL},function(e){ue=e.TableRankAwards},function(e){Te=e.TableRareMonster},function(e){be=e.TableRareMonsterPark},function(e){de=e.TableRareMonsterSuit},function(e){me=e.TableRechargeGift},function(e){Ae=e.TableRoleUpgrade},function(e){fe=e.TableShop},function(e){ye=e.TableSkillSuit},function(e){pe=e.TableTask},function(e){xe=e.TableTaskDailyAward},function(e){Ne=e.TableTaskTarget},function(e){ge=e.TableTisheng},function(e){he=e.TableTitle},function(e){Ge=e.TableWelfareDailyAward},function(e){ke=e.TableWelfareLevelAward},function(e){Se=e.TableWelfarePaidDaysAward},function(e){ve=e.TableWrestleCard},function(e){we=e.TableWrestleLevel},function(e){Le=e.TableWrestlexians},function(e){Re=e.HotUpdate},function(e){Ce=e.TableGuildTaskAward},function(e){De=e.Tablecaiquan}],execute:function(){var Pe;l._RF.push({},"92429ykTnxFCrcGyW58JWjj","LoadingViewComp",void 0);var Me=s.ccclass;s.property,e("LoadingViewComp",Me("LoadingViewComp")(Pe=u.register("LoadingView",!1)(Pe=function(e){function l(){for(var a,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return(a=e.call.apply(e,[this].concat(t))||this).data={finished:0,total:0,progress:"0",prompt:""},a.progress=0,a}a(l,e);var s=l.prototype;return s.reset=function(){this.data.prompt=c.language.getLangByID("loading_load_player"),c.gui.open(b.Login),c.gui.remove(b.Loading)},s.start=function(){r.isNative&&!d.isSkipHotUpdate()?(m.doEvent(A.HOTUPDATE_START),this.addComponent(Re)):this.enter()},s.enter=function(){m.doEvent(A.LOAD_START),this.loadRes()},s.loadRes=function(){var e=n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data.progress=0,e.next=3,this.loadCustom();case 3:this.loadGameRes();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.loadCustom=function(){return this.data.prompt=c.language.getLangByID("loading_load_json"),new Promise(n(t().mark((function e(a,n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.loadAsync(ae.TableName);case 2:return e.next=4,i.loadAsync(F.TableName);case 4:return e.next=6,i.loadAsync(V.TableName);case 6:return e.next=8,i.loadAsync(j.TableName);case 8:return e.next=10,i.loadAsync(C.TableName);case 10:return e.next=12,i.loadAsync(q.TableName);case 12:return e.next=14,i.loadAsync(P.TableName);case 14:return e.next=16,i.loadAsync(j.TableName);case 16:return e.next=18,i.loadAsync(E.TableName);case 18:return e.next=20,i.loadAsync(U.TableName);case 20:return e.next=22,i.loadAsync(M.TableName);case 22:return e.next=24,i.loadAsync(K.TableName);case 24:return e.next=26,i.loadAsync(B.TableName);case 26:return e.next=28,i.loadAsync(_.TableName);case 28:return e.next=30,i.loadAsync(W.TableName);case 30:return e.next=32,i.loadAsync(D.TableName);case 32:return e.next=34,i.loadAsync(Ge.TableName);case 34:return e.next=36,i.loadAsync(ke.TableName);case 36:return e.next=38,i.loadAsync(Se.TableName);case 38:return e.next=40,i.loadAsync(pe.TableName);case 40:return e.next=42,i.loadAsync(Ne.TableName);case 42:return e.next=44,i.loadAsync(xe.TableName);case 44:return e.next=46,i.loadAsync(fe.TableName);case 46:return e.next=48,i.loadAsync(ce.TableName);case 48:return e.next=50,i.loadAsync(w.TableName);case 50:return e.next=52,i.loadAsync(L.TableName);case 52:return e.next=54,i.loadAsync(le.TableName);case 54:return e.next=56,i.loadAsync(se.TableName);case 56:return e.next=58,i.loadAsync(re.TableName);case 58:return e.next=60,i.loadAsync(oe.TableName);case 60:return e.next=62,i.loadAsync(X.TableName);case 62:return e.next=64,i.loadAsync(p.TableName);case 64:return e.next=66,i.loadAsync(N.TableName);case 66:return e.next=68,i.loadAsync(x.TableName);case 68:return e.next=70,i.loadAsync(g.TableName);case 70:return e.next=72,i.loadAsync(ge.TableName);case 72:return e.next=74,i.loadAsync(I.TableName);case 74:return e.next=76,i.loadAsync(ne.TableName);case 76:return e.next=78,i.loadAsync(ie.TableName);case 78:return e.next=80,i.loadAsync(ue.TableName);case 80:return e.next=82,i.loadAsync(me.TableName);case 82:return e.next=84,i.loadAsync(H.TableName);case 84:return e.next=86,i.loadAsync(f.TableName);case 86:return e.next=88,i.loadAsync(y.TableName);case 88:return e.next=90,i.loadAsync(v.TableName);case 90:return e.next=92,i.loadAsync(z.TableName);case 92:return e.next=94,i.loadAsync(Ae.TableName);case 94:return e.next=96,i.loadAsync(h.TableName);case 96:return e.next=98,i.loadAsync(G.TableName);case 98:return e.next=100,i.loadAsync(Y.TableName);case 100:return e.next=102,i.loadAsync(ee.TableName);case 102:return e.next=104,i.loadAsync($.TableName);case 104:return e.next=106,i.loadAsync(Z.TableName);case 106:return e.next=108,i.loadAsync(Te.TableName);case 108:return e.next=110,i.loadAsync(de.TableName);case 110:return e.next=112,i.loadAsync(be.TableName);case 112:return e.next=114,i.loadAsync(we.TableName);case 114:return e.next=116,i.loadAsync(ve.TableName);case 116:return e.next=118,i.loadAsync(Le.TableName);case 118:return e.next=120,i.loadAsync(he.TableName);case 120:return e.next=122,i.loadAsync(S.TableName);case 122:return e.next=124,i.loadAsync(te.TableName);case 124:return e.next=126,i.loadAsync(k.TableName);case 126:return e.next=128,i.loadAsync(J.TableName);case 128:return e.next=130,i.loadAsync(O.TableName);case 130:return e.next=132,i.loadAsync(R.TableName);case 132:return e.next=134,i.loadAsync(ye.TableName);case 134:return e.next=136,i.loadAsync(Q.TableName);case 136:return e.next=138,i.loadAsync(Ce.TableName);case 138:return e.next=140,i.loadAsync(De.TableName);case 140:a(null);case 141:case"end":return e.stop()}}),e)}))))},s.loadGameRes=function(){this.data.prompt=c.language.getLangByID("loading_load_game"),c.res.loadDir("gui/main",o,this.onProgressCallback.bind(this),this.onCompleteCallback.bind(this))},s.onProgressCallback=function(e,a,n){this.data.finished=e,this.data.total=a;var t=e/a;t>this.progress&&(this.progress=t,this.data.progress=(100*t).toFixed(2))},s.onCompleteCallback=function(){var e=this,a=0;c.timer.schedule((function(n){a+=1,e.onProgressCallback(a,1,null),a>=1&&(c.timer.unscheduleAllCallbacks(),e.ent.remove(l))}),0,1)},l}(T))||Pe)||Pe);l._RF.pop()}}}));

System.register("chunks:///_virtual/LockUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Main.ts","./SingletonModuleComp.ts"],(function(i){"use strict";var e,t,o,n,l,s,r,a,c,u,p,h,d,f,b,y,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){l=i.cclegacy,s=i._decorator,r=i.sp,a=i.Label,c=i.Slider,u=i.Button,p=i.macro,h=i.Node,d=i.UIOpacity,f=i.Component},function(i){b=i.oops},function(i){y=i.app},function(i){g=i.smc}],execute:function(){var m,E,L,T,k,w,v,M,I,S,D,P,z,C,H;l._RF.push({},"4c531akuIhLSpghbDLfxvYC","LockUI",void 0);var U=s.ccclass,_=s.property;i("LockUI",(m=U("LockUI"),E=_(r.Skeleton),L=_(a),T=_(a),k=_(a),w=_(c),v=_(u),m((S=e((I=function(i){function e(){for(var e,t=arguments.length,l=new Array(t),s=0;s<t;s++)l[s]=arguments[s];return e=i.call.apply(i,[this].concat(l))||this,o(e,"display",S,n(e)),o(e,"lblTime",D,n(e)),o(e,"lblInfo",P,n(e)),o(e,"lblDesc",z,n(e)),o(e,"sliderLock",C,n(e)),o(e,"btnHandle",H,n(e)),e.audioMusicPlaying=!1,e.audioEffectPlaying=!1,e}t(e,i);var l=e.prototype;return l.onLoad=function(){this.audioMusicPlaying=b.audio.switchMusic,b.audio.switchMusic=!1,this.audioEffectPlaying=b.audio.switchEffect,b.audio.switchEffect=!1},l.start=function(){this.onTick(),this.schedule(this.onTick,1,p.REPEAT_FOREVER,0),this.sliderLock.node.pauseSystemEvents(!1),this.btnHandle.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.btnHandle.node.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},l.onDestroy=function(){b.audio.switchMusic=this.audioMusicPlaying,b.audio.switchEffect=this.audioEffectPlaying,this.audioMusicPlaying&&y.playBGM()},l.refresh=function(){this.lblDesc.getComponent(d).opacity=Math.floor(255*(1-this.sliderLock.progress))},l.onSlide=function(i){this.refresh()},l.onTick=function(){var i=new Date(b.timer.getLocalTime());this.lblTime.string=[i.getHours(),i.getMinutes()].map((function(i){return i.toString().padStart(2,"0")})).join(":"),g.ebox.isAuto()&&!g.ebox.hasTmp()?(this.lblInfo.string="装备铸造中...",this.display.timeScale=1):(this.lblInfo.string="装备铸造已停止",this.display.timeScale=0)},l.onTouchEnd=function(i){console.log(i),1==this.sliderLock.progress?b.gui.removeByNode(this.node,!0):(this.sliderLock.progress=0,this.refresh())},e}(f)).prototype,"display",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(I.prototype,"lblTime",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(I.prototype,"lblInfo",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(I.prototype,"lblDesc",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(I.prototype,"sliderLock",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(I.prototype,"btnHandle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=I))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/lodash.ts",["cc"],(function(r){"use strict";var n,t;return{setters:[function(r){n=r.cclegacy,t=r._decorator}],execute:function(){var e,i;n._RF.push({},"96e62N4h/JJvadx8NVA9w5s","lodash",void 0);var u=t.ccclass;r("lodash",u("lodash")(((i=function(){function r(){}return r.find=function(r,n){var t;if(Array.isArray(r)||(r=this.toArray(r)),(t=r.filter(n)).length)return t[0]},r.forEach=function(r,n){Array.isArray(r)?r.forEach(n):this.toArrayKey(r).forEach((function(t,e,i){var u=t.key,o=t.value;n(o,u,r)}))},r.cloneDeep=function(r){if(null===r||"object"!=typeof r)return r;var n={};for(var t in r.constructor===Array&&(n=[]),r)r.hasOwnProperty(t)&&(n[t]=this.cloneDeep(r[t]));return n},r.map=function(r,n){Array.isArray(r)||(r=this.toArray(r));var t=[];return r.forEach((function(r,e,i){t.push(n(r,e,i))})),t},r.random=function(r,n){var t=Math.random()*(n-r+1)+r;return Math.floor(t)},r.toArrayKey=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({key:t,value:r[t]});return n},r.toArray=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push(r[t]);return n},r.filter=function(r,n){return Array.isArray(r)||(r=this.toArray(r)),r.filter(n)},r.isEqual=function(r,n){if(!(r instanceof Object)||!(n instanceof Object))return r===n;if(Object.keys(r).length!==Object.keys(n).length)return!1;for(var t in r){var e=r[t]instanceof Object,i=n[t]instanceof Object;if(e&&i)return this.isEqual(r[t],n[t]);if(r[t]!==n[t])return!1}return!0},r.pullAllWith=function(r,n,t){return n.forEach((function(n){r.filter((function(r){return t(r,n)})).forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)}))})),r},r.now=function(){return Date.now()},r.pullAll=function(r,n){return n.forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)})),r},r.forEachRight=function(r,n){Array.isArray(r)||(r=this.toArray(r));for(var t=r.length-1;t>=0;t--){if(!n(r[t]))break}},r.startsWith=function(r,n,t){return(r=r.substr(t)).startsWith(n)},r.endsWith=function(r,n,t){return(r=r.substr(t)).endsWith(n)},r.remove=function(r,n){var t=[],e=[];return r.forEach((function(r,i){n(r)&&(t.push(r),e.push(i))})),this.basePullAt(r,e),t},r.basePullAt=function(r,n){for(var t,e=r?n.length:0,i=e-1;e--;){var u=n[e];e!==i&&u===t||(t=u,Array.prototype.splice.call(r,u,1))}return r},r.findIndex=function(r,n,t){var e;if(r=r.slice(t),"function"==typeof n){for(e=0;e<r.length;e++)if(n(r[e]))return e}else if(Array.isArray(n))for(e=0;e<r.length;e++){var i=n[0],u=!0;if(n.length>1&&(u=n[1]),r[e][i]===u)return e}else for(e=0;e<r.length;e++)if(r[e]===n)return e;return-1},r.concat=function(){var r=arguments.length;if(!r)return[];for(var n=arguments[0],t=1;t<r;)n=n.concat(arguments[t]),t++;return n},r.isNumber=function(r){return"number"==typeof r},r.indexOf=function(r,n,t){return(r=r.slice(t)).indexOf(n)},r.join=function(r,n){if(null===r)return"";var t="";return r.forEach((function(r){t+=r+n})),t.substr(0,t.length-1)},r.split=function(r,n,t){return r.split(n,t)},r.max=function(r){if(r&&r.length){for(var n,t=0;t<r.length;t++)0===t?n=r[0]:n<r[t]&&(n=r[t]);return n}},r.drop=function(r,n){return(null===r?0:r.length)?r.slice(n):[]},r.flattenDeep=function(r){return r.reduce((function(r,n){return r.concat(n)}))},r.uniq=function(r){var n=[];return r.forEach((function(r){-1===n.indexOf(r)&&n.push(r)})),n},r.isNaN=function(r){return this.isNumber(r)&&r!==+r},r.chunk=function(r,n){if(!(null===r?0:r.length)||n<1)return[];for(var t=[];r.length>n;)t.push(r.slice(0,n)),r=r.slice(n);return t.push(r),t},r.toFinite=function(r){var n=1/0;return r?(r=Number(r))===n||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0},r.baseRange=function(r,n,t,e){for(var i=-1,u=(0,Math.max)((0,Math.ceil)((n-r)/(t||1)),0),o=Array(u);u--;)o[e?u:++i]=r,r+=t;return o},r.isObject=function(r){var n=typeof r;return null!==r&&("object"===n||"function"===n)},r.isLength=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r.MAX_SAFE_INTEGER},r.isArrayLike=function(r){return null!==r&&this.isLength(r.length)},r.eq=function(r,n){return r===n||r!=r&&n!=n},r.isIndex=function(n,t){var e=typeof n;return!!(t=null===t?r.MAX_SAFE_INTEGER:t)&&("number"===e||"symbol"!==e&&/^(?:0|[1-9]\d*)$/.test(n))&&n>-1&&n%1==0&&n<t},r.isIterateeCall=function(r,n,t){if(!this.isObject(t))return!1;var e=typeof n;return!!("number"===e?this.isArrayLike(t)&&this.isIndex(n,t.length):"string"===e&&n in t)&&this.eq(t[n],r)},r.createRange=function(r){var n=this;return function(t,e,i){return i&&"number"!=typeof i&&n.isIterateeCall(t,e,i)&&(e=i=void 0),t=n.toFinite(t),void 0===e?(e=t,t=0):e=n.toFinite(e),i=void 0===i?t<e?1:-1:n.toFinite(i),n.baseRange(t,e,i,r)}.bind(this)},r.maxBy=function(r,n){if(r&&r.length){for(var t=-1,e=-1,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t<r[i]&&(t=r[i],e=r[i]);return e}},r.minBy=function(r,n){if(r&&r.length){for(var t=-1,e=-1,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t>r[i]&&(t=n(r[i]),e=r[i]);return e}},r.sumBy=function(r,n){var t=0;for(var e in r)t+=n(r[e]);return t},r.countBy=function(r){var n={};for(var t in r){var e=r[t];n.hasOwnProperty(e)?n[e]+=1:n[e]=1}return n},r}()).MAX_SAFE_INTEGER=9007199254740991,e=i))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(t){"use strict";var n,i,e;return{setters:[function(t){n=t.cclegacy,i=t.sys,e=t.log}],execute:function(){var s;t("LogType",void 0),n._RF.push({},"479cdJANP5KaJgU+8z0DdSE","Logger",void 0),function(t){t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace"}(s||(s=t("LogType",{})));var o={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志"},c=t("Logger",function(){function t(){}return t.init=function(){this.tags=s.Net|s.Model|s.Business|s.View|s.Config|s.Trace},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.table=function(t,n){this.isOpen(s.Trace)&&console.table(t)},t.trace=function(t,n){(void 0===n&&(n="color:#000000;"),this.isOpen(s.Trace))&&(console.log||e).call(null,"%c%s%s",n,this.getDateString(),t)},t.logNet=function(t,n){this.orange(s.Net,t,n)},t.logModel=function(t,n){this.violet(s.Model,t,n)},t.logBusiness=function(t,n){this.blue(s.Business,t,n)},t.logView=function(t,n){this.green(s.View,t,n)},t.logConfig=function(t,n){this.gray(s.Config,t,n)},t.orange=function(t,n,i){this.print(t,n,"color:#ee7700;",i)},t.violet=function(t,n,i){this.print(t,n,"color:Violet;",i)},t.blue=function(t,n,i){this.print(t,n,"color:#3a5fcd;",i)},t.green=function(t,n,i){this.print(t,n,"color:green;",i)},t.gray=function(t,n,i){this.print(t,n,"color:gray;",i)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,n,s,c){if(this.isOpen(t)){var r=console.log||e,l=o[t];c?i.isNative?("object"==typeof n&&(n=JSON.stringify(n)),r.call(null,"%c%s%s%s:%s%o",s,this.getDateString(),"["+l+"]",this.stack(5),c,n)):r.call(null,"%c%s%s%s:%s%o",s,this.getDateString(),"["+l+"]",this.stack(5),c,n):i.isNative?("object"==typeof n&&(n=JSON.stringify(n)),r.call(null,"%c%s%s%s:%o",s,this.getDateString(),"["+l+"]",this.stack(5),n)):r.call(null,"%c%s%s%s:%o",s,this.getDateString(),"["+l+"]",this.stack(5),n)}},t.stack=function(t){var n=(new Error).stack.split("\n"),i=[];n.forEach((function(t){var n,e=(t=t.substring(7)).split(" ");e.length<2?i.push(e[0]):i.push(((n={})[e[0]]=e[1],n))}));var e,s=[],o=[];if(t<i.length-1)for(var c in i[t]){if(2==(o=c.split(".")).length)s=o.concat();else{var r=(e=i[t][c]).lastIndexOf("/"),l=e.lastIndexOf(".");if(r>-1&&l>-1){var g=e.substring(r+1,l);s.push(g)}else s.push(e)}}return 1==s.length?"["+s[0]+".ts]":2==s.length?"["+s[0]+".ts->"+s[1]+"]":""},t.getDateString=function(){var t=new Date,n=t.getHours().toString(),i="";return i+=(1==n.length?"0"+n:n)+":",i+=(1==(n=t.getMinutes().toString()).length?"0"+n:n)+":",i+=(1==(n=t.getSeconds().toString()).length?"0"+n:n)+":",1==(n=t.getMilliseconds().toString()).length&&(n="00"+n),2==n.length&&(n="0"+n),i="["+(i+=n)+"]"},t}());c.tags=0,c.init(),n._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Main.ts","./GameEvent.ts","./GameUIConfig.ts","./StorageKey.ts","./MWComboBox.ts","./RoleUI.ts","./TipsManager.ts","./HttpChannelManager.ts","./HttpConfig.ts","./ZKChannelManager.ts","./PlatformSDK.ts","./UMASDK.ts","./SingletonModuleComp.ts","./Setting.ts","./funsdk_wx_2.1.ts"],(function(e){"use strict";var t,n,r,i,o,a,s,c,u,l,g,f,h,p,d,m,v,b,y,L,x,k,S,U,w,C,P,A,_,E,N,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,l=e.EditBox,g=e.Label,f=e.Node,h=e.Toggle,p=e.sys,d=e.Component},function(e){m=e.oops},function(e){v=e.app},function(e){b=e.GameEvent},function(e){y=e.UIID},function(e){L=e.StorageKey},function(e){x=e.MWComboBox},function(e){k=e.RoleUILoader},function(e){S=e.tips},function(e){U=e.httpChannel},function(e){w=e.GameServerConfigData},function(e){C=e.zkChannel},function(e){P=e.PlatformSDK,A=e.SubmitTypes},function(e){_=e.UMASDK,E=e.UMA_EVENT},function(e){N=e.smc},function(e){T=e.SetNoticeType},null],execute:function(){var M,D,z,H,I,G,R,K,W,B,V,q,O,F,Z;c._RF.push({},"e88baqZEepE4aOJQLldv/cW","Login",void 0);var j=u.ccclass,J=u.property;e("Login",(M=j("Login"),D=J(l),z=J(g),H=J(k),I=J(x),G=J(f),R=J(h),M((B=t((W=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"edtAccount",B,i(t)),r(t,"lblIP",V,i(t)),r(t,"loader",q,i(t)),r(t,"comboS",O,i(t)),r(t,"nodeUsePolicy",F,i(t)),r(t,"tglUsePolicy",Z,i(t)),t.efxRole=null,t._inLoading=!1,t}n(t,e);var c=t.prototype;return c.onLoad=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.doEvent(E.LOAD_END),this.lblIP.string=m.config.game.version,m.message.on(b.LoginSuccess,this._eventHandler,this),m.message.on(b.LoginError,this._eventHandler,this),e.next=6,this.loader.initModel(1);case 6:this.efxRole=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.start=function(){var e=a(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.isTestChannel()?((t=m.storage.get(L.Account))&&(this.edtAccount.string=t),n=w.map((function(e){return e.name})),this.comboS.setItems(n),null!=(r=C.getStoredServer())&&r.name&&w.some((function(e){return e.name==(null==r?void 0:r.name)}))?this.comboS.setCurrentText(null==r?void 0:r.name):this.comboS.setCurrentText(n[0])):(this.edtAccount.node.active=!1,this.comboS.node.active=!1,m.storage.getNumber(L.LoginUsePolicy,0)&&P.doLogin()),this.initView();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onDestroy=function(){m.message.off(b.LoginSuccess,this._eventHandler,this),m.message.off(b.LoginError,this._eventHandler,this)},c.initView=function(){var e=m.storage.get(L.LoginUsePolicy);""!=e&&1==Number(e)?(this.nodeUsePolicy.active=!1,m.gui.open(y.SetNotice,{tag:T.NormalNotice})):this.nodeUsePolicy.active=!0},c._eventHandler=function(){var e=a(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=b.LoginSuccess){e.next=8;break}return P.doSubmit(A.EnterGame),e.next=5,m.gui.openAsync(y.Main);case 5:m.gui.remove(y.Login,!0),e.next=9;break;case 8:t==b.LoginError&&(this.loading=!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),c.onLoginClick=function(){P.isTestChannel()?this.testLogin():p.platform===p.Platform.WECHAT_GAME?this.wechatLogin():this.sdkLogin()},c.testLogin=function(){var e=a(s().mark((function e(){var t,n,r,i,o=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:if(!((n=this.edtAccount.string.trim()).length>0)){e.next=7;break}m.storage.set(L.Account,n),e.next=9;break;case 7:return m.gui.toast("账号输入为空"),e.abrupt("return");case 9:r=w.find((function(e){return e.name==o.comboS.getCurrentText()})),U.setGameServer(r),r.zkUrl&&C.setUrl(r.zkUrl),r.chatUri&&C.setChatUri(r.chatUri),i={username:n,password:"123123",serverid:null!=(t=r.id)?t:1},N.account.login(i),C.setStoredServer({name:r.name}),this.loading=!0;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.sdkLogin=function(){var e=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,P.doLogin();case 4:if((t=e.sent)&&null!=this&&this.isValid){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.serverLogin(t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.wechatLogin=function(){var e=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this,P.doWeChatLogin(a(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.serverLogin(n);case 2:case"end":return e.stop()}}),e)}))),(function(e){var t;m.gui.toast(null!=(t=null==e?void 0:e.msg)?t:"登录失败"),this.loading=!1}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.serverLogin=function(){var e=a(s().mark((function e(t){var n,r,i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,C.reqAuthSDK(t.uid,t.token);case 3:if(null!=(n=e.sent)&&n.success){e.next=8;break}return m.gui.toast(null!=(r=null==n?void 0:n.message)?r:"登录失败"),this.loading=!1,e.abrupt("return");case 8:if(i=C.getPreferServerId()){e.next=13;break}return m.gui.toast("服务器维护中"),this.loading=!1,e.abrupt("return");case 13:return e.next=15,C.reqAuthServer(i);case 15:if(null!=(o=e.sent)&&o.success){e.next=20;break}return m.gui.toast(o.message),this.loading=!1,e.abrupt("return");case 20:U.setGameServer({name:"",gameUrl:o.data.gameUrl}),a={userid:t.uid,gameLoginToken:o.data.gameLoginToken,serverid:i,channelType:P.cfg.channel_type},N.account.loginAuth(a);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.onNoticeClick=function(e,t){m.gui.open(y.SetNotice,{tag:Number(t)})},c.onClearClick=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.confirmAsync("是否清空并修复下载资源，清空后将重启游戏");case 2:if(!e.sent){e.next=4;break}v.clearHotUpdate();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.onClickUsePolocy=function(){this.nodeUsePolicy.active=!0;var e=m.storage.get(L.LoginUsePolicy);""!=e&&1==Number(e)?this.tglUsePolicy.isChecked=!0:this.tglUsePolicy.isChecked=!1},c.onClickSure=function(){0!=this.tglUsePolicy.isChecked?(m.storage.getNumber(L.LoginUsePolicy,0)||(m.storage.set(L.LoginUsePolicy,1),p.platform===p.Platform.WECHAT_GAME?this.wechatLogin():P.doLogin()),this.nodeUsePolicy.active=!1,m.gui.open(y.SetNotice,{tag:T.NormalNotice})):m.gui.toast("请认真阅读隐私协议并勾选同意按钮！")},c.onClickCancel=function(){v.exit()},o(t,[{key:"loading",get:function(){return this._inLoading},set:function(e){var t,n;(this._inLoading=e,e)?null==(t=this.efxRole)||t.run():null==(n=this.efxRole)||n.stand()}}]),t}(d)).prototype,"edtAccount",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(W.prototype,"lblIP",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(W.prototype,"loader",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(W.prototype,"comboS",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(W.prototype,"nodeUsePolicy",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(W.prototype,"tglUsePolicy",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=W))||K));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoseArena.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./PlayerHead.ts"],(function(e){"use strict";var n,i,t,l,a,r,o,f,s,p,u,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,o=e._decorator,f=e.Node,s=e.Label,p=e.Component},function(e){u=e.smc},function(e){h=e.PlayerHead}],execute:function(){var c,b,d,m,g,y,v,S,J,O,w,A,H,I,z,L,N,C,D;r._RF.push({},"452c4so7vtMWaJvb+XoHn8G","LoseArena",void 0);var P=o.ccclass,_=o.property;e("LoseArena",(c=P("LoseArena"),b=_(f),d=_(f),m=_(s),g=_(s),y=_(s),v=_(s),S=_(s),J=_(s),c((A=n((w=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,t(n,"nodeSelfHead",A,l(n)),t(n,"nodeOtherHead",H,l(n)),t(n,"lblNameSelf",I,l(n)),t(n,"lblJifenSelf",z,l(n)),t(n,"lblAddJifenSelf",L,l(n)),t(n,"lblNameOther",N,l(n)),t(n,"lblJifenOther",C,l(n)),t(n,"lblAddJifenOther",D,l(n)),n.params=null,n}i(n,e);var r=n.prototype;return r.onAdded=function(e){this.params=e},r.start=function(){if(this.nodeSelfHead.getComponent(h).initView(u.accountData.roleHead),this.params.level&&(this.nodeOtherHead.getComponent(h).initView(this.params.level.enemyInfo.c),this.lblNameSelf.string=u.accountData.name,this.lblNameOther.string=this.level.enemyInfo.n||""),this.params.fightInfo.arenainfo){this.nodeOtherHead.getComponent(h).initView(this.level.enemyInfo.c),this.lblJifenSelf.string=this.params.fightInfo.arenainfo.ourpoint;var e=this.params.fightInfo.arenainfo.ourchangepoint>=0?"+":"";this.lblAddJifenSelf.string="("+e+this.params.fightInfo.arenainfo.ourchangepoint+")";var n=this.params.fightInfo.arenainfo.foechangepoint>=0?"+":"";this.lblJifenOther.string=this.params.fightInfo.arenainfo.foepoint,this.lblAddJifenOther.string="("+n+this.params.fightInfo.arenainfo.foechangepoint+")"}},a(n,[{key:"level",get:function(){return u.battle.level}}]),n}(p)).prototype,"nodeSelfHead",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(w.prototype,"nodeOtherHead",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(w.prototype,"lblNameSelf",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(w.prototype,"lblJifenSelf",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(w.prototype,"lblAddJifenSelf",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(w.prototype,"lblNameOther",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(w.prototype,"lblJifenOther",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(w.prototype,"lblAddJifenOther",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=w))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/LossItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./Oops.ts","./GameEvent.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,l,c,p,u,m,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Sprite,l=t.Label,c=t.Button,p=t.Component},function(t){u=t.ViewUtil},function(t){m=t.GameResPath},function(t){h=t.oops},function(t){f=t.GameEvent}],execute:function(){var d,v,y,b,g,I,L;s._RF.push({},"4d5a1YCLzFERryIBeU6D+Q9","LossItem",void 0);var G=r.ccclass,C=r.property;t("LossItem",(d=G("LossItem"),v=C(a),y=C(l),d((I=e((g=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"spIcon",I,o(e)),n(e,"lblTitle",L,o(e)),e.param=void 0,e}i(e,t);var s=e.prototype;return s.start=function(){},s.initItemView=function(t){this.param=t,u.loadSpriteFrame(this.spIcon,m.getSpriteFrameSettlement(""+t.iconRes)),this.lblTitle.string=t.name,this.node.getChildByName("go").on(c.EventType.CLICK,this.onClickGo.bind(this))},s.onClickGo=function(){h.message.dispatchEvent(f.GameOver),h.message.dispatchEvent(f.Goto,this.param.sysId)},e}(p)).prototype,"spIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(g.prototype,"lblTitle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/LTPart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./PlayerHead.ts","./SingletonModuleComp.ts","./TableGameHero.ts","./TableGameSys.ts","./TableUtil.ts","./YongbingTitleItem.ts","./MainBtn.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,l,d,h,p,c,f,u,g,b,m,E,v,H,B,x,y,k,L,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Label,l=e.Node,d=e.Button,h=e.Prefab,p=e.Sprite,c=e.ProgressBar,f=e.instantiate,u=e.Animation,g=e.Component},function(e){b=e.oops},function(e){m=e.GameEvent},function(e){E=e.LTConfigData,v=e.UIID},function(e){H=e.PlayerHead},function(e){B=e.smc},function(e){x=e.TableGameHero},function(e){y=e.GameSysKey},function(e){k=e.TableUtil},function(e){L=e.YongbingTitleItem},function(e){_=e.MainBtn}],execute:function(){var U,C,T,P,R,z,w,I,D,S,A,G,M,N,Y,F,Z,q,O,K,V,j,J,Q,W,X,$,ee;o._RF.push({},"e59c3t9MeFGd6pS9RIsExNE","LTPart",void 0);var te=s.ccclass,ne=s.property;e("LTPart",(U=te("LTPart"),C=ne(r),T=ne(r),P=ne(r),R=ne(l),z=ne(l),w=ne(d),I=ne(h),D=ne(p),S=ne(r),A=ne(c),G=ne(l),M=ne(l),U(((ee=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblName",F,a(t)),i(t,"lblLv",Z,a(t)),i(t,"lblZhanli",q,a(t)),i(t,"nodePlayerHead",O,a(t)),i(t,"nodeBtnRoot",K,a(t)),i(t,"btnEx",V,a(t)),i(t,"pfbMainBtn",j,a(t)),i(t,"spExpAni",J,a(t)),i(t,"lblExp",Q,a(t)),i(t,"progBarExp",W,a(t)),i(t,"btnUpgradeRed",X,a(t)),i(t,"nodeYBLevel",$,a(t)),t.zhanli=0,t}n(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;E.forEach((function(t){var n=f(e.pfbMainBtn);n.getComponent(_).init(t),n.parent=e.nodeBtnRoot})),this.btnEx.node.setSiblingIndex(this.nodeBtnRoot.children.length)},o.start=function(){this.btnEx.getComponentInChildren(u).play(t.BtnExCollapse),this.refresh(),this.refreshBtn(),this.btnEx.node.on(d.EventType.CLICK,this.onExClick,this),b.message.on(m.DockBtnActive,this._dockEventHandler,this),b.message.on(m.RoleUpdated,this._dockEventHandler,this),b.message.on(m.EquipPosUpdated,this._dockEventHandler,this),b.message.on(m.HeroLevelUp,this._dockEventHandler,this),b.message.on(m.TaskMainFinished,this._dockEventHandler,this),b.message.on(m.GiftPackLimitRefresh,this._dockEventHandler,this),b.message.on(m.NewSystem,this._dockEventHandler,this),b.message.on(m.HeroExpUpdated,this._dockEventHandler,this),b.message.on(m.HeroHead,this._dockEventHandler,this),b.message.on(m.TaskUpgradeUpdated,this._dockEventHandler,this),b.message.on(m.RefreshBtnLTpart,this._dockEventHandler,this)},o.refresh=function(){this.lblName.string=B.accountData.name,this.lblLv.string="Lv."+B.accountData.heroLevel,this.refreshExp();var e=B.accountData.getZhanli();this.lblZhanli.string="战力："+e,this.zhanli?this.zhanli!=e&&(!b.gui.has(v.NotiZhanli)&&b.gui.open(v.NotiZhanli,{old:this.zhanli,new:e}),this.zhanli=e):this.zhanli=e},o.onExClick=function(){var e=this.btnEx.getComponentInChildren(u),n=e.getState(t.BtnExCollapse).isPlaying;e.play(n?t.BtnExExtend:t.BtnExCollapse),this.refreshBtn()},o.refreshBtn=function(){var e=this.btnEx.getComponentInChildren(u).getState(t.BtnExCollapse).isPlaying;this.nodeBtnRoot.getComponentsInChildren(_).forEach((function(t){t.node.active=e&&B.system.checkOpened(t.getSysID(),!1)}))},o.onDestroy=function(){b.message.off(m.DockBtnActive,this._dockEventHandler,this),b.message.off(m.RoleUpdated,this._dockEventHandler,this),b.message.off(m.EquipPosUpdated,this._dockEventHandler,this),b.message.off(m.HeroLevelUp,this._dockEventHandler,this),b.message.off(m.TaskMainFinished,this._dockEventHandler,this),b.message.off(m.GiftPackLimitRefresh,this._dockEventHandler,this),b.message.off(m.NewSystem,this._dockEventHandler,this),b.message.off(m.HeroExpUpdated,this._dockEventHandler,this),b.message.off(m.HeroHead,this._dockEventHandler,this),b.message.off(m.TaskUpgradeUpdated,this._dockEventHandler,this),b.message.off(m.RefreshBtnLTpart,this._dockEventHandler,this)},o.refreshExp=function(e){var t=this;void 0===e&&(e=null);var n=B.accdata.heroExp,i=k.get(x,B.accdata.heroId).costexp;this.progBarExp.progress=n/i,this.lblExp.string="经验值："+n+"/"+i,e&&(this.spExpAni.node.active=!0,this.scheduleOnce((function(){t.spExpAni.node.active=!1}),3))},o.refreshYB=function(){this.nodeYBLevel.getComponent(L).initView()},o._dockEventHandler=function(e,t){if(e===m.DockBtnActive){var n=t==v.Box;this.node.active=n}else e===m.RoleUpdated||e==m.EquipPosUpdated?this.refresh():e===m.HeroLevelUp||e===m.TaskMainFinished||e===m.GiftPackLimitRefresh||e===m.NewSystem?this.refreshBtn():e===m.HeroExpUpdated?this.refreshExp(e):e==m.HeroHead?this.nodePlayerHead.getComponent(H).initView(B.accdata.roleHead):e==m.TaskUpgradeUpdated?(this.btnUpgradeRed.active=B.system.calRedot(y.upgrade),this.refreshYB()):e==m.RefreshBtnLTpart&&this.refreshBtn()},t}(g)).BtnExCollapse="mainBtnAni1",ee.BtnExExtend="mainBtnAni2",F=t((Y=ee).prototype,"lblName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(Y.prototype,"lblLv",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(Y.prototype,"lblZhanli",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(Y.prototype,"nodePlayerHead",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(Y.prototype,"nodeBtnRoot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(Y.prototype,"btnEx",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(Y.prototype,"pfbMainBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(Y.prototype,"spExpAni",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(Y.prototype,"lblExp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(Y.prototype,"progBarExp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(Y.prototype,"btnUpgradeRed",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(Y.prototype,"nodeYBLevel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=Y))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Main.ts","./Account.ts","./AccountData.ts","./ArenaKFChallenge.ts","./ArenaKFChallengeItem.ts","./ArenaKFLog.ts","./ArenaKFMain.ts","./ArenaKFPalyItem.ts","./ArenaKFReward.ts","./ArenaKFRewardItem.ts","./Arena.ts","./ArenaChallenge.ts","./ArenaLog.ts","./ArenaLogItem.ts","./ArenaMain.ts","./ArenaPlayItem.ts","./ArenaReward.ts","./ArenaRewardItem.ts","./ArenachallengeItem.ts","./LoseArena.ts","./WinArena.ts","./BoxAccelerate.ts","./BoxEquip.ts","./BoxMain.ts","./BoxSkill.ts","./BoxSkinFore.ts","./BoxUpgrade.ts","./EBox.ts","./EBoxCompare.ts","./EBoxCompareItem.ts","./EBoxSetting.ts","./EboxBuyTip.ts","./SabiEfx.ts","./SpecItemEfx.ts","./CQPlay.ts","./Caiquan.ts","./TipPlayerInfoCQ.ts","./Chat.ts","./ChatEmojis.ts","./ChatItem.ts","./ChatMain.ts","./ChatProtocal.ts","./ChatWidget.ts","./ClosetAttrBtn.ts","./ClosetAttrView.ts","./ClosetChange.ts","./ClosetChangeItem.ts","./ClosetMain.ts","./ClosetTitle.ts","./ClosetTitleItem.ts","./Title.ts","./GameResCache.ts","./SingletonModuleComp.ts","./System.ts","./TableUtil.ts","./Util.ts","./ZhiyinTarget.ts","./GameConst.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./StorageKey.ts","./CostItem.ts","./DailyWelfare.ts","./Draggable.ts","./Etem.ts","./HeadPicker.ts","./HelpBtn.ts","./HelpUI.ts","./ItemsGroup.ts","./MWComboBox.ts","./MWComboBoxEx.ts","./MainBG.ts","./NumPicker.ts","./PlayerHead.ts","./PopUpBase.ts","./RoleUI.ts","./TabBar.ts","./TipAccess.ts","./TipAccessItem.ts","./TipAttr.ts","./TipBuy.ts","./TipItem.ts","./TipMultiBuy.ts","./TipPlayerInfo.ts","./TipReward.ts","./TipsManager.ts","./lodash.ts","./HttpChannelManager.ts","./HttpConfig.ts","./NetProtocol.ts","./ZKChannelManager.ts","./PlatformSDK.ts","./PlatformSDKNative.ts","./PlatformSDKTest.ts","./PlatformSDKWeChat.ts","./UMASDK.ts","./funsdk_wx_2.1.ts","./TableAbyssDragonDamageAward.ts","./TableAbyssDragonRankAward.ts","./TableAnimConfig.ts","./TableArenaDailyRank.ts","./TableArenaDailyRank_kf.ts","./TableArenaRankAward.ts","./TableArenaRobot.ts","./TableArenaSeasonRank.ts","./TableArenaSeasonRank_kf.ts","./TableAureole.ts","./TableDemonAbyssAchieveAward.ts","./TableDiyShop.ts","./TableEnum.ts","./TableFashion.ts","./TableFruitSys.ts","./TableFundEboxAward.ts","./TableFundLevelAward.ts","./TableGameAttr.ts","./TableGameAttrPop.ts","./TableGameBuff.ts","./TableGameChapter.ts","./TableGameConfig.ts","./TableGameDrop.ts","./TableGameEBoxLv.ts","./TableGameEquip.ts","./TableGameEquipAdd.ts","./TableGameEquipPos.ts","./TableGameEquipPosAttr.ts","./TableGameEquipPosLv.ts","./TableGameEquipQuality.ts","./TableGameHero.ts","./TableGameItem.ts","./TableGameLevelSweep.ts","./TableGameLevels.ts","./TableGameMonster.ts","./TableGameRobot.ts","./TableGameRoleIco.ts","./TableGameSBoxLv.ts","./TableGameSkill.ts","./TableGameSkillQuality.ts","./TableGameSys.ts","./TableGuide.ts","./TableGuildLv.ts","./TableGuildTaskAward.ts","./TableHelp.ts","./TableMedalUplevel.ts","./TableMercenaryAct.ts","./TableMercenaryFight.ts","./TableMercenaryGo.ts","./TableMercenaryLV.ts","./TableModelConfig.ts","./TableOpenBoxAttr.ts","./TableOpenWelfareAward.ts","./TablePirateShip.ts","./TablePirateShipCell.ts","./TablePirateShipDailyRank.ts","./TablePirateShipItems.ts","./TablePirateShipSeasonRank.ts","./TablePirateShipShell.ts","./TablePirateShipWelfare.ts","./TablePrivilegeConfig.ts","./TablePrivilegeType.ts","./TableRankAwardGL.ts","./TableRankAwards.ts","./TableRareMonster.ts","./TableRareMonsterPark.ts","./TableRareMonsterSuit.ts","./TableRechargeGift.ts","./TableRobotHero.ts","./TableRobotRole.ts","./TableRoleName.ts","./TableRoleUpgrade.ts","./TableShop.ts","./TableSkillSuit.ts","./TableStatus.ts","./TableTask.ts","./TableTaskDailyAward.ts","./TableTaskTarget.ts","./TableTaskTargetType.ts","./TableTisheng.ts","./TableTitle.ts","./TableWelfareDailyAward.ts","./TableWelfareLevelAward.ts","./TableWelfarePaidDaysAward.ts","./TableWrestleCard.ts","./TableWrestleLevel.ts","./TableWrestlexians.ts","./TableXunBaoAward.ts","./Tablecaiquan.ts","./Demo.ts","./BuyDiceItem.ts","./Duobao.ts","./DuobaoCell.ts","./DuobaoDice.ts","./DuobaoFire.ts","./DuobaoHero.ts","./DuobaoMain.ts","./DuobaoMap.ts","./DuobaoRank.ts","./DuobaoRankItem.ts","./DuobaoShip.ts","./DuobaoUI.ts","./FireUpItem.ts","./ShipAwardItem.ts","./TipBuyDice.ts","./TipFireUp.ts","./TipLuckyDice.ts","./TipShipAward.ts","./Email.ts","./EmailInfo.ts","./EmailItem.ts","./EmailMain.ts","./AttrItem.ts","./AttrItemNew.ts","./AttrItemNewSub.ts","./Bag.ts","./BagItem.ts","./Equip.ts","./EquipAttrView.ts","./EquipBag.ts","./EquipItem.ts","./EquipMain.ts","./EquipPos.ts","./EquipPosUpgrade.ts","./EquipRoleAttrView.ts","./EquipSell.ts","./RoleInfoPanel.ts","./RoleLevelUp.ts","./RoleLevelUpItem.ts","./TipEquip.ts","./FirstRecharge.ts","./Recharge.ts","./ADSettlement.ts","./AbyssDemonRewardItem.ts","./AbyssDragon.ts","./AbyssDragonDamageItem.ts","./AbyssDragonRank.ts","./AbyssDragonReward.ts","./AbyssFightBuy.ts","./AbyssFightMain.ts","./AbyssFightRank.ts","./AbyssFightRankLevel.ts","./AbyssFightReward.ts","./AbyssFightTaofa.ts","./Demon.ts","./Dragon.ts","./EliteLevel.ts","./Fuben.ts","./FubenEliteItem.ts","./FubenEliteLevels.ts","./FubenItem.ts","./FubenMain.ts","./GiftChooseItem.ts","./GiftPackLimitTime.ts","./GiftPackLimitTimeMain.ts","./GiftPackSelfChooseMain.ts","./GiftPackSuperValue.ts","./GiftPackSuperValueMain.ts","./GiftPackSuperValueSingle.ts","./GiftPackSuperValueSingleSelfChoosePop.ts","./GiftSelectItem.ts","./SuperValueEntryItem.ts","./SuperValueEntryItemSelfChoose.ts","./SuperValueShopItem.ts","./SuperValueShopItemSelfChoose.ts","./GM.ts","./GMItem.ts","./GMLeftItem.ts","./GMNum.ts","./GmMain.ts","./Guaji.ts","./GuajiMain.ts","./GuajiWidget.ts","./Guide.ts","./GuideTalk.ts","./GuideTarget.ts","./GuideTrigger.ts","./GuideUnlock.ts","./Typer.ts","./Guild.ts","./GuildApply.ts","./GuildApplyItem.ts","./GuildApplyList.ts","./GuildApplyListItem.ts","./GuildCreate.ts","./GuildEditDesc.ts","./GuildFlag.ts","./GuildFlagItem.ts","./GuildHall.ts","./GuildHallItem.ts","./GuildHistory.ts","./GuildHistoryItem.ts","./GuildInfo.ts","./GuildInfoItem.ts","./GuildInfoManage.ts","./GuildMain.ts","./GuildManage.ts","./GuildMember.ts","./GuildMemberItem.ts","./GuildRank.ts","./GuildRankItem.ts","./GuildTask.ts","./GuildTaskBoxItem.ts","./GuildTaskItem.ts","./Halo.ts","./HaloAttr.ts","./HaloItem.ts","./HaloMain.ts","./Initialize.ts","./InitRes.ts","./Hot.ts","./HotUpdate.ts","./LoadingViewComp.ts","./Journey.ts","./JourneyItem.ts","./JourneyMain.ts","./LockUI.ts","./Login.ts","./CBPart.ts","./LTPart.ts","./MainBtn.ts","./MainBtnRedot.ts","./MainUI.ts","./MoneyItem.ts","./PosOrderEdit.ts","./PosOrderItem.ts","./RTPart.ts","./TipEquipReplace.ts","./TipLevel.ts","./TipLevel2.ts","./ZhanliWidget.ts","./Medal.ts","./MedalAttr.ts","./MedalItem.ts","./MedalMain.ts","./MedalStageInfo.ts","./Mercenary.ts","./MercenaryAttr.ts","./MercenaryExchange.ts","./MercenaryFight.ts","./MercenaryFightItem.ts","./MercenaryFriend.ts","./MercenaryFriendAttr.ts","./MercenaryFriendAttrItem.ts","./MercenaryFriendTilent.ts","./MercenaryFriendTilentItem.ts","./MercenaryMain.ts","./MercenaryPosInfo.ts","./MercenarySendGift.ts","./MercenaryTips.ts","./MercenaryXB.ts","./MercenaryYB.ts","./MercenaryYbItem.ts","./MonsterHead.ts","./Battle.ts","./BattleDebug.ts","./BattleEfx.ts","./BattleEvent.ts","./BattleEventHandler.ts","./BattleMain.ts","./BattleUI.ts","./BattleUI2.ts","./BattleUIAbyssDemon.ts","./BattleUIAbyssDragon.ts","./BattleUIArena.ts","./BattleUICommon.ts","./BattleUIMercenary.ts","./BattleUIYishou.ts","./BloodBar.ts","./HaloEfx.ts","./HpFly.ts","./IBattleUI.ts","./IRoleAnimator.ts","./Level.ts","./LevelItem.ts","./LevelMain.ts","./LevelMap.ts","./Role.ts","./RoleAnimator.ts","./RoleAnimatorD2.ts","./RoleAnimatorS.ts","./RoleAnimatorS2.ts","./RoleAnimatorS3.ts","./RoleAttackBullet.ts","./RoleLoader.ts","./ScrollBG.ts","./GameRank.ts","./GameRankItem.ts","./Rank.ts","./RankMain.ts","./RankNormalLevel.ts","./RankPlayInfoDetals.ts","./RankPlayInfoItem.ts","./RankReward.ts","./RankRewardItem.ts","./SetCodeGift.ts","./SetNotice.ts","./SetNoticeItem.ts","./SetPlayInfo.ts","./SetReName.ts","./SetServer.ts","./SetServerLeftItem.ts","./SetServerRightItem.ts","./Setting.ts","./LossItem.ts","./Settlement.ts","./Shiguo.ts","./ShiguoItem.ts","./ShiguoMain.ts","./Skill.ts","./SkillAttrItem.ts","./SkillHandbook.ts","./SkillHandbookInfo.ts","./SkillHandbookInfoItem.ts","./SkillHandbookItem.ts","./SkillItem.ts","./SkillMain.ts","./SkillPosItem.ts","./SkillSell.ts","./TipSkill.ts","./Bazzar.ts","./BazzarItem.ts","./BazzarMain.ts","./Store.ts","./StoreCoinItem.ts","./StoreDailyWelfareItem.ts","./StoreDailygiftItem.ts","./StoreDiamondItem.ts","./StoreMain.ts","./StorePay.ts","./Task2.ts","./TaskDailyBox.ts","./TaskDailyItem.ts","./TaskDailyMain.ts","./TaskMainWidget.ts","./WelfareOpenServer.ts","./WelfareOpenServerExchange.ts","./WelfareOpenServerExchangeItem.ts","./WelfareOpenServerGift.ts","./WelfareOpenServerGiftItem.ts","./WelfareOpenServerMain.ts","./WelfareOpenServerMisson.ts","./WelfareOpenServerMissonItem.ts","./WelfareOpenServerScoreRewardItem.ts","./Welfare.ts","./WelfareAccuItem.ts","./WelfareAccumulate.ts","./WelfareDaygift.ts","./WelfareDaygiftItem.ts","./WelfareLevel.ts","./WelfareLevelItem.ts","./WelfareMain.ts","./WelfareRecharge.ts","./WelfareRechargeItem.ts","./BattleUIWrestle.ts","./Wrestle.ts","./WrestleCard.ts","./WrestleCardItem.ts","./WrestleChange.ts","./WrestleDW.ts","./WrestleDuanweiItem.ts","./WrestleMain.ts","./WrestleZB.ts","./WrestleZBPlayerItem.ts","./WrestledwRewardItem.ts","./Xunbao.ts","./XunbaoMain.ts","./XunbaoProb.ts","./XunbaoResult.ts","./XunbaoSetting.ts","./XunbaoTimesItem.ts","./TipYishouSkillDetail.ts","./Yishou.ts","./YishouDetail.ts","./YishouEdit.ts","./YishouEditItem.ts","./YishouGacha.ts","./YishouGachaItem.ts","./YishouGachaRatio.ts","./YishouGachaResult.ts","./YishouItem.ts","./YishouMain.ts","./YishouPlayerInfoItem.ts","./YishouResonate.ts","./YishouResonateInfo.ts","./YishouResonateInfoItem.ts","./YishouResonateItem.ts","./YishouSkillInfo.ts","./YishouSkillItem.ts","./YishouSwitch.ts","./YishouSwitchItem.ts","./Yongbing.ts","./YongbingAttr.ts","./YongbingMain.ts","./YongbingTask.ts","./YongbingTitleItem.ts","./Yueka.ts","./YuekaItem.ts","./YuekaLifeTime.ts","./YuekaLifeTimeItem.ts","./YuekaMain.ts","./YuekaWelfare.ts","./YuekaWelfareItem.ts","./YuekaXTLevel.ts","./YuekaXTLevelItem.ts","./YuekaZsLevel.ts","./YuekaZsLevelItem.ts","./Oops.ts","./Root.ts","./AudioEffect.ts","./AudioManager.ts","./AudioMusic.ts","./EventDispatcher.ts","./EventMessage.ts","./MessageManager.ts","./ResLoader.ts","./Logger.ts","./RandomManager.ts","./StorageManager.ts","./Timer.ts","./TimerManager.ts","./GameCollision.ts","./GameComponent.ts","./GameManager.ts","./GUI.ts","./Defines.ts","./DelegateComponent.ts","./LayerDialog.ts","./LayerManager.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerUI.ts","./UIMap.ts","./CommonPrompt.ts","./LoadingIndicator.ts","./Notify.ts","./ArrayUtil.ts","./CameraUtil.ts","./EncryptUtil.ts","./ImageUtil.ts","./JsonUtil.ts","./LayerUtil.ts","./MathUtil.ts","./ObjectUtil.ts","./PhysicsUtil.ts","./PlatformUtil.ts","./RegexUtil.ts","./RotateUtil.ts","./StringUtil.ts","./Vec3Util.ts","./ViewUtil.ts","./Ambilight.ts","./FlashSpine.ts","./FlashSprite.ts","./SpineFinishedRelease.ts","./NavLine.ts","./DrawMeshSector.ts","./Effect2DFollow3D.ts","./EffectDelayRelease.ts","./EffectEvent.ts","./EffectFinishedRelease.ts","./EffectSingleCase.ts","./MoveRigidBody.ts","./MoveTo.ts","./MoveTranslate.ts","./AnimatorAnimation.ts","./AnimatorCustomization.ts","./AnimatorDragonBones.ts","./AnimatorSkeletal.ts","./AnimatorSpine.ts","./AnimatorSpineSecondary.ts","./AnimatorBase.ts","./AnimatorCondition.ts","./AnimatorController.ts","./AnimatorParams.ts","./AnimatorState.ts","./AnimatorStateLogic.ts","./AnimatorTransition.ts","./BTreeNode.ts","./BehaviorTree.ts","./BranchNode.ts","./Decorator.ts","./IControl.ts","./Priority.ts","./Selector.ts","./Sequence.ts","./Task.ts","./index.ts","./FreeFlightCamera.ts","./OrbitCamera.ts","./AsyncQueue.ts","./Collection.ts","./ECS.ts","./ECSComp.ts","./ECSEntity.ts","./ECSGroup.ts","./ECSMask.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts","./Badge.ts","./RoundRectMask.ts","./ButtonEffect.ts","./ButtonSimple.ts","./ButtonTouchLong.ts","./LabelChange.ts","./LabelNumber.ts","./LabelTime.ts","./Language.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguagePack.ts","./LanguageSprite.ts","./JsonOb.ts","./StringFormat.ts","./VMBase.ts","./VMCompsEdit.ts","./VMCustom.ts","./VMEnv.ts","./VMEvent.ts","./VMLabel.ts","./VMModify.ts","./VMParent.ts","./VMProgress.ts","./VMState.ts","./ViewModel.ts","./BhvButtonGroup.ts","./BhvFrameIndex.ts","./BhvRollNumber.ts","./BhvSwitchPage.ts","./HttpRequest.ts","./NetInterface.ts","./NetManager.ts","./NetNode.ts","./NetProtocolPako.ts","./NetProtocolProtobuf.ts","./WebSock.ts","./RtToModel.ts","./RtToSprite.ts","./CCComp.ts","./CCVMParentComp.ts","./BuildTimeConstants.ts","./Config.ts","./GameConfig.ts","./GameQueryConfig.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Root.ts","./ECS.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./PlatformSDK.ts","./SingletonModuleComp.ts","./Initialize.ts"],(function(t){"use strict";var e,i,n,o,s,c,a,u,r,l,f,p,d,E,g,h,y,m,v,S,_,R,k,C;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,s=t.sys,c=t.profiler,a=t.input,u=t.Input,r=t.macro,l=t.KeyCode,f=t.game,p=t.native,d=t.director},function(t){E=t.oops},function(t){g=t.Root},function(t){h=t.ecs},function(t){y=t.GameEvent},function(t){m=t.AudioClipMusic},function(t){v=t.UIConfigData,S=t.UIID},function(t){_=t.PlatformSDK},function(t){R=t.smc},function(t){k=t.Initialize,C=t.EcsInitializeSystem}],execute:function(){var D;n._RF.push({},"0eec0s4qrZF7onPlYBrD+y+","Main",void 0);var K=o.ccclass;o.property,t("Main",K("Main")(D=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.start=function(){s.isNative&&c.hideStats(),_.init(),a.on(u.EventType.KEY_DOWN,this.onKeyDown,this),this.schedule((function(){E.message.dispatchEvent(y.Tick1S)}),1,r.REPEAT_FOREVER,.1),this.schedule((function(){E.message.dispatchEvent(y.Tick5S)}),5,r.REPEAT_FOREVER,.1),this.schedule((function(){E.message.dispatchEvent(y.Tick60S)}),60,r.REPEAT_FOREVER,.1)},n.onDestroy=function(){_.destroy(),a.off(u.EventType.KEY_DOWN,this.onKeyDown,this),this.unscheduleAllCallbacks()},n.run=function(){R.initialize=h.getEntity(k)},n.initGui=function(){E.gui.init(v)},n.initEcsSystem=function(){E.ecs.add(new C)},n.onKeyDown=function(t){switch(t.keyCode){case l.MOBILE_BACK:_.doExit();break;case l.KEY_C:E.gui.open(S.Chat);break;case l.KEY_G:R.guide.test2();break;case l.KEY_H:R.guide.test()}},i}(g))||D),t("app",new(function(){function t(){}var e=t.prototype;return e.exit=function(){f.end()},e.showLogin=function(){this.setTimeScale(1),R.guide.exit(),R.battle.clear(),R.account.logout(),E.storage.setUser(""),E.gui.clear("all",!0),E.gui.open(S.Login)},e.playBGM=function(t){void 0===t&&(t=null),t||(t=R.battle.playing?m.Game:m.Main),E.audio.playMusicLoop(t)},e.clearHotUpdate=function(){if(s.isNative){var t=p.fileUtils.getWritablePath()+"/oops_framework_remote";p.fileUtils.removeDirectory(t),setTimeout((function(){f.restart()}),100)}},e.setTimeScale=function(t){d.getScheduler().setTimeScale(t)},i(t,[{key:"sVer",get:function(){var t;return null==(t=R.accdata.subinfo)?void 0:t.ver}},{key:"cVer",get:function(){return E.config.game.version}}]),t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/MainBG.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts"],(function(n){"use strict";var t,e,s,o,i,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,s=n._decorator,o=n.Component},function(n){i=n.oops},function(n){c=n.GameEvent}],execute:function(){var r;e._RF.push({},"755fc/61TRMeI+Tum522M0p","MainBG",void 0);var u=s.ccclass;s.property,n("MainBG",u("MainBG")(r=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var s=e.prototype;return s.start=function(){i.message.on(c.LoginSuccess,this._eventHandler,this)},s.onDestroy=function(){i.message.off(c.LoginSuccess,this._eventHandler,this)},s._eventHandler=function(n,t){n==c.LoginSuccess&&this.node.destroy()},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/MainBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./UMASDK.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./Util.ts","./Guide.ts","./GuideTarget.ts","./GuideTrigger.ts"],(function(t){"use strict";var e,n,i,s,o,r,a,u,c,l,h,d,f,p,g,y,m,v,I,b,C,U,S,G,w,E,D,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,u=t.Enum,c=t.CCString,l=t.EventHandler,h=t.Label,d=t.Button,f=t.assert,p=t.Sprite,g=t.macro,y=t.Component},function(t){m=t.oops},function(t){v=t.ViewUtil},function(t){I=t.GameEvent},function(t){b=t.GameResPath},function(t){C=t.UIID},function(t){U=t.UMASDK},function(t){S=t.smc},function(t){G=t.GameSysKey},function(t){w=t.Util},function(t){E=t.GuideTypes},function(t){D=t.GuideTarget},function(t){M=t.GuideTriggerEvents}],execute:function(){var _,k,H,K,B,T,R,L,z,O,A;r._RF.push({},"72c36Y22I1DWqriMzfnIwYK","MainBtn",void 0);var F=a.ccclass,P=a.property;a.requireComponent,t("MainBtn",(_=F("MainBtn"),k=P({type:u(G),displayName:"GameSysKey",tooltip:"设置用于判断系统是否开启"}),H=P({type:c,displayName:"UIID",tooltip:"打开界面"}),K=P([l]),B=P(h),_((L=e((R=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"sysId",L,s(e)),i(e,"uiKey",z,s(e)),i(e,"clickEvents",O,s(e)),i(e,"lblCountdown",A,s(e)),e.cfg=null,e}n(e,t);var r=e.prototype;return r.getSysID=function(){return this.cfg?this.cfg.sysId:this.sysId},r.onLoad=function(){D.Add(this);this.getComponent(d)||this.addComponent(d);if(this.sysId){var t={sysId:this.sysId};this.uiKey&&this.uiKey.length>0&&(f(C[this.uiKey]),t.uiId=C[this.uiKey]),this.init(t)}},r.init=function(t){if(this.cfg=t,t.spIcon){var e=this.node.getComponent(p),n=b.getSpriteFrameMain(t.spIcon);v.loadSpriteFrame(e,n)}},r.start=function(){var t,e=this;S.system.checkEnabled(this.getSysID())?(this.refresh(),null!=(t=this.service)&&t.needCountdown()?this.schedule((function(){if(e.lblCountdown){var t=e.service.calCountdown();if(t>0){var n=w.getTimeSpan(t);e.lblCountdown.string=[n.hours,n.minutes,n.seconds].map((function(t){return t.toString().padStart(2,"0")})).join(":")}else e.lblCountdown.string=""}}),1,g.REPEAT_FOREVER,.1):this.lblCountdown&&(this.lblCountdown.string=""),this.node.on(d.EventType.CLICK,this.onBtnClick.bind(this)),m.message.on(I.GotoMain,this._eventHandler,this),m.message.on(I.HeroLevelUp,this._eventHandler,this),m.message.on(I.ItemBagUpdated,this._eventHandler,this)):this.node.active=!1},r.onDestroy=function(){D.Remove(this),m.message.off(I.GotoMain,this._eventHandler,this),m.message.off(I.HeroLevelUp,this._eventHandler,this),m.message.off(I.ItemBagUpdated,this._eventHandler,this)},r.refresh=function(){v.setGray(this.node,!S.system.checkOpened(this.getSysID(),!1))},r.onBtnClick=function(){this.openUI()},r.openUI=function(t){if(S.system.checkOpened(this.cfg.sysId,!0))if(this.clickEvents.length>0)this.clickEvents.forEach((function(t){t.emit([])}));else{var e=this.cfg.uiId;if(e)U.onOpenUI(e),m.gui.open(e,t),m.message.dispatchEvent(I.GuideTrigger,{event:M.OpenUI,args:e});else{if(this.cfg.sysId==G.guild)return void S.guild.openMain();m.gui.toast("暂未开放")}}},r.match=function(t,e){return t.startsWith(E.UnlockSys_)&&e==this.getSysID()},r._eventHandler=function(t,e){if(t==I.GotoMain){var n=e;n.sysId==this.cfg.sysId&&this.openUI(n.target)}else t==I.HeroLevelUp?this.refresh():t==I.ItemBagUpdated&&S.system.calRedot(G.equip_hero)},o(e,[{key:"service",get:function(){return S.system.get(this.getSysID())}}]),e}(y)).prototype,"sysId",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),z=e(R.prototype,"uiKey",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=e(R.prototype,"clickEvents",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(R.prototype,"lblCountdown",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=R))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainBtnRedot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameResCache.ts","./SingletonModuleComp.ts","./MainBtn.ts"],(function(e){"use strict";var t,n,s,i,o,r,a,c,d,l,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Node,c=e.Component},function(e){d=e.oops},function(e){l=e.GameResCache},function(e){u=e.smc},function(e){h=e.MainBtn}],execute:function(){var f,p,y,v,m;o._RF.push({},"a11f4081NtPd4af0uN9w/km","MainBtnRedot",void 0);var R=r.ccclass,g=r.property;r.requireComponent,e("MainBtnRedot",(f=R("MainBtnRedot"),p=g(a),f((m=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,s(t,"nodeRedot",m,i(t)),t.sysId=null,t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.nodeRedot||(this.nodeRedot=l.instance.createRedot(),this.nodeRedot.parent=this.node),this.nodeRedot.active=!1},o.init=function(e){u.system.isRegistered(e)?this.sysId=e:this.enabled=!1},o.start=function(){var e,t,n=this;if(!this.sysId){var s=this.getComponent(h);if(null==s||!s.enabled||!s.getSysID())return void(this.enabled=!1);this.init(s.getSysID())}this.refresh(),null==(e=u.system.get(this.sysId))||null==(t=e.redotWatchGameEvents)||t.forEach((function(e){d.message.on(e,n._eventHandler,n)}))},o.onDestroy=function(){var e,t,n=this;null==(e=u.system.get(this.sysId))||null==(t=e.redotWatchGameEvents)||t.forEach((function(e){d.message.off(e,n._eventHandler,n)}))},o.refresh=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.nodeRedot.active=u.system.calRedot(this.sysId,e,t)},o._eventHandler=function(e,t){this.scheduleOnce(this.refresh.bind(this,e,t),.5)},t}(c)).prototype,"nodeRedot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/MainUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Main.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./Guide.ts","./CBPart.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,l,u,c,d,f,p,g,y,v,m,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Label,l=e.Component},function(e){u=e.oops},function(e){c=e.app},function(e){d=e.GameEvent},function(e){f=e.CBConfigData,p=e.FubenItemConfigData},function(e){g=e.smc},function(e){y=e.TableGameSys,v=e.GameSysKey},function(e){m=e.GuideTypes},function(e){I=e.CBPart}],execute:function(){var h,b,G,D,M,_,C;a._RF.push({},"4a5e6DzdzdNloAMKZf6AHRD","MainUI",void 0);var k=s.ccclass,S=s.property;e("MainUI",(h=k("MainUI"),b=S(r),G=S(I),h((_=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lblId",_,o(t)),i(t,"dock",C,o(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){g.guide.init(),1==g.accdata.heroLevel&&g.guide.try(m.FirstEnterGame)},a.start=function(){c.playBGM();var e=["ID:"+g.accountData.id,"S:v"+c.sVer,"C:v"+c.cVer];this.lblId.string=e.join("|"),u.message.on(d.Goto,this._eventHandler,this)},a.onDestroy=function(){u.message.off(d.Goto,this._eventHandler,this)},a.goto=function(e){for(var t=this,n=e.sysId,i=[n],o=y[n];null!=(a=o)&&a.parent_id;){var a;i.unshift(o.parent_id),o=y[o.parent_id]}u.log.logView(i.toString());var s=i[0],r=i[1],l=i[2];if(s==v.home)this.dock.show(I.Home),r&&u.message.dispatchEvent(d.GotoMain,{sysId:r,target:e.target});else if(s==v.dock)Object.entries(f).find((function(n){var i=n[0];if(n[1].sysId==r)return t.dock.show(parseInt(i),{sysId:null!=l?l:r,target:e.target}),!0}));else if(s==v.fuben){var c,m=null==(c=p.find((function(e){return e.sysId==r})))?void 0:c.uiId;m&&g.system.checkOpened(r,!0)&&u.gui.open(m,e.target)}else{if(s!=v.gamelevels)return void u.gui.toast("配置跳转暂不支持");u.gui.open(g.battle.getGameLevelUIID(),e.target)}},a._eventHandler=function(e,t){if(e==d.Goto){var n=null;n="number"==typeof t?{sysId:t}:"string"==typeof t?{sysId:v[t]}:t,console.assert(v[n.sysId],"跳转参数错误："+t),this.goto(n)}},t}(l)).prototype,"lblId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(M.prototype,"dock",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=M))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8c615ZS4PRMPKPA9ZqKjiJC","MathUtil",void 0);var r=t("MathUtil",function(){function t(){}return t.sign=function(t){return t>0?1:t<0?-1:0},t.progress=function(t,n,r){return t+(n-t)*r},t.lerp=function(t,n,r){return r>1?r=1:r<0&&(r=0),t*(1-r)+n*r},t.lerpAngle=function(n,r,e){var u=(r%=360)-(n%=360);return u>180?r=n-(360-u):u<-180&&(r=n+(360+u)),(t.lerp(n,r,e)%360+360)%360},t.angleTowards=function(t,n,r){var e=(n%=360)-(t%=360);e>180?n=t-(360-e):e<-180&&(n=t+(360+e));var u=n-t;return r>Math.abs(u)?n:((t+r*Math.sign(u))%360+360)%360},t.clamp=function(t,n,r){return t<n?n:t>r?r:t},t.probability=function(t){return Math.random()<t},t}());r.deg2Rad=Math.PI/180,r.rad2Deg=180/Math.PI,n._RF.pop()}}}));

System.register("chunks:///_virtual/Medal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./JsonUtil.ts","./TableMedalUplevel.ts","./System.ts","./TableGameSys.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,a,r,o,u,i,l,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy},function(e){r=e.smc},function(e){o=e.JsonUtil},function(e){u=e.TableMedalUplevel},function(e){i=e.GameSys},function(e){l=e.GameSysKey},function(e){s=e.GameEvent}],execute:function(){a._RF.push({},"3948bFljENGyKaLqbKhDOX1","Medal",void 0);var c=e("Medal",function(e){function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).redotWatchGameEvents=[s.ItemBagUpdated],t}return t(a,e),a.prototype.calRedot=function(){return this.meadlCostRedot},n(a,[{key:"medalInfo",get:function(){return r.accountData.subinfo.medalInfo?r.accountData.subinfo.medalInfo:{exp:0,mid:1}},set:function(e){r.accountData.subinfo.medalInfo=e}},{key:"rank",get:function(){var e,t=o.get(u.TableName),n=4;for(var a in t){var r=t[a];if(Number(a)==this.medalInfo.mid&&(e=r.rank,n=Number(a)),r.rank>e)return Number(a)}return n||0}},{key:"medalRank",get:function(){var e=o.get(u.TableName);for(var t in e){var n=e[t];if(Number(t)==this.medalInfo.mid)return n.rank}return 1}},{key:"meadlCostRedot",get:function(){var e,t,n=o.get(u.TableName);for(var a in n)Number(a)==this.medalInfo.mid&&(e=n[a].costitem),t=a;if(Number(t)<=this.medalInfo.mid)return!1;var i=!0;for(var l in e)r.accountData.getItemCount(Number(l))<e[l]&&(i=!1);return i}}]),a}(i));e("medal",new c(l.medal));a._RF.pop()}}}));

System.register("chunks:///_virtual/MedalAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameAttr.ts","./SingletonModuleComp.ts","./TableMedalUplevel.ts"],(function(t){"use strict";var e,r,i,l,a,s,n,c,o,b,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,n=t.Label,c=t.Component},function(t){o=t.GameAttrKey,b=t.TableGameAttr},function(t){u=t.smc},function(t){p=t.TableMedalUplevel}],execute:function(){var h,g,d,A,m,_,f,k,v,N;a._RF.push({},"5c59ejGujhMw7yudPlEbX0g","MedalAttr",void 0);var y=s.ccclass,x=s.property,C=s.integer;t("MedalAttr",(h=y("MedalAttr"),g=x(n),d=x(n),A=x(n),h((f=e((_=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"lblName",f,l(e)),i(e,"lblCurAttr",k,l(e)),i(e,"lblNextAttr",v,l(e)),e.cfg=new p,i(e,"attrType",N,l(e)),e}r(e,t);var a=e.prototype;return a.start=function(){},a.init=function(t,e){var r,i;switch("lv"==e?(r=1,i="",this.cfg.init(t.nextid>0?t.nextid:t.id)):"rank"==e&&(r=100,i="%",this.cfg.init(u.medal.rank)),this.attrType){case o.hp:var l=b[o.hp];this.lblName.string=l.name,this.lblCurAttr.string=t.hp/r+i,this.lblNextAttr.string=this.cfg.hp/r+i;break;case o.atk:var a=b[o.atk];this.lblName.string=a.name,this.lblCurAttr.string=t.atk/r+i,this.lblNextAttr.string=this.cfg.atk/r+i;break;case o.def:var s=b[o.def];this.lblName.string=s.name,this.lblCurAttr.string=t.def/r+i,this.lblNextAttr.string=this.cfg.def/r+i;break;case o.dec_atkBack_pro:var n=b[o.dec_atkBack_pro];this.lblName.string=n.name,this.lblCurAttr.string=t.dec_atkBack_pro/r+i,this.lblNextAttr.string=this.cfg.dec_atkBack_pro/r+i;break;case o.dec_doubleAtk_pro:var c=b[o.dec_doubleAtk_pro];this.lblName.string=c.name,this.lblCurAttr.string=t.dec_doubleAtk_pro/r+i,this.lblNextAttr.string=this.cfg.dec_doubleAtk_pro/r+i;break;case o.dec_miss:var p=b[o.dec_miss];this.lblName.string=p.name,this.lblCurAttr.string=t.dec_miss/r+i,this.lblNextAttr.string=this.cfg.dec_miss/r+i;break;case o.dec_criticalAtk_pro:var h=b[o.dec_criticalAtk_pro];this.lblName.string=h.name,this.lblCurAttr.string=t.dec_criticalAtk_pro/r+i,this.lblNextAttr.string=this.cfg.dec_criticalAtk_pro/r+i}},e}(c)).prototype,"lblName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(_.prototype,"lblCurAttr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(_.prototype,"lblNextAttr",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(_.prototype,"attrType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=_))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/MedalItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameItem.ts","./SingletonModuleComp.ts","./BagItem.ts"],(function(t){"use strict";var e,i,n,r,o,l,a,s,u,c,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Sprite,s=t.Label,u=t.Component},function(t){c=t.TableGameItem},function(t){f=t.smc},function(t){p=t.BagItem}],execute:function(){var h,b,m,g,I,y,d,C,D,v;o._RF.push({},"6aebb+YlTpLkLtq1M+VRb9p","MedalItem",void 0);var M=l.ccclass,w=l.property,z=l.integer;t("MedalItem",(h=M("MedalItem"),b=w(a),m=w(s),g=w(p),h((d=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"spIcon",d,r(e)),n(e,"lblCount",C,r(e)),n(e,"item",D,r(e)),e._cfg=new c,n(e,"ID",v,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.ID>0&&(this.initCfg(this.ID),this.refresh(0))},o.refresh=function(t){this.ID>0?this.lblCount.string=f.accountData.getItemCount(this.ID).toString():this.lblCount.string=t},o.updateCost=function(t){this.initCfg(t[0]),this.refresh(t[1])},o.initCfg=function(t){this._cfg.init(t),this.refresh(t),this.item.init(t)},e}(u)).prototype,"spIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"lblCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(y.prototype,"item",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(y.prototype,"ID",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=y))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/MedalMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./TableMedalUplevel.ts","./Util.ts","./MedalAttr.ts","./MedalItem.ts"],(function(e){"use strict";var t,n,i,l,a,r,o,s,c,u,p,f,b,d,m,g,h,v,y,M,w,C,x,I,k,z,E,R,T,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,c=e.Node,u=e.Sprite,p=e.Label,f=e.ProgressBar,b=e.Toggle,d=e.instantiate,m=e.tween,g=e.Vec3,h=e.Component},function(e){v=e.oops},function(e){y=e.ViewUtil},function(e){M=e.GameEvent},function(e){w=e.GameResPath},function(e){C=e.UIID},function(e){x=e.httpChannel},function(e){I=e.MsgID},function(e){k=e.smc},function(e){z=e.GameSysKey},function(e){E=e.TableMedalUplevel},function(e){R=e.Util},function(e){T=e.MedalAttr},function(e){U=e.MedalItem}],execute:function(){var L,A,N,D,G,O,P,S,F,_,V,j,B,q,H,Z,J,K,Q,W,X,Y,$,ee,te,ne,ie,le,ae,re,oe,se,ce;o._RF.push({},"57f2bmxh69FLpeRI641cv2J","MedalMain",void 0);var ue=s.ccclass,pe=s.property;e("MedalMain",(L=ue("MedalMain"),A=pe(c),N=pe(c),D=pe(u),G=pe(p),O=pe(p),P=pe(p),S=pe(c),F=pe(c),_=pe(c),V=pe(f),j=pe(p),B=pe(c),q=pe(c),H=pe(c),Z=pe(b),L((Q=t((K=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"nodeitem1",Q,l(t)),i(t,"nodeitem2",W,l(t)),i(t,"spMedalIcon",X,l(t)),i(t,"lblMedalName",Y,l(t)),i(t,"lblMedalLv",$,l(t)),i(t,"lblUpLevel",ee,l(t)),i(t,"nodeAttrContent",te,l(t)),i(t,"nodeTween",ne,l(t)),i(t,"spTween",ie,l(t)),i(t,"barExp",le,l(t)),i(t,"lblExp",ae,l(t)),i(t,"nodeCostMoney",re,l(t)),i(t,"nodeCostItem",oe,l(t)),i(t,"spRedot",se,l(t)),i(t,"tglAll",ce,l(t)),t.cfg=new E,t}n(t,e);var o=t.prototype;return o.start=function(){this.initView()},o.initView=function(){var e=this,t=k.medal.medalInfo;this.cfg.init(null==t?void 0:t.mid),y.loadSpriteFrame(this.spMedalIcon,w.getSpriteFrameMedal("medalStage_"+this.cfg.rank)),this.lblMedalName.string=this.cfg.name,this.lblMedalLv.string=this.cfg.rank+"阶"+this.cfg.lv+"级",this.lblUpLevel.string=this.cfg.desc,this.nodeAttrContent.forEach((function(t){t.getComponent(T).init(e.cfg,"lv")})),this.barExp.progress=Number(t.exp)/Number(this.cfg.costexp),this.lblExp.string=t.exp+"/"+this.cfg.costexp,Object.entries(this.cfg.costitem).forEach((function(t,n){0==Number(n)?e.nodeCostMoney.getComponent(U).updateCost(t):e.nodeCostItem.getComponent(U).updateCost(t)})),this.spRedot.active=k.medal.meadlCostRedot},o.onClickLevelUp=function(){var e=a(r().mark((function e(t){var n,i,l,a,o,s,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=this.cfg)&&n.valid){e.next=2;break}return e.abrupt("return");case 2:(null==t?void 0:t.currentTarget)&&R.Btn_doCD(t.currentTarget),e.t0=r().keys(this.cfg.costitem);case 4:if((e.t1=e.t0()).done){e.next=13;break}if(i=e.t1.value,k.bag.checkCost(((l={})[i]=this.cfg.costitem[i],l),!0)){e.next=11;break}if(k.bag.showAccess(i),!k.giftpack_lt.checkGiftLimit(z.medal)){e.next=10;break}return e.abrupt("return");case 10:return e.abrupt("return");case 11:e.next=4;break;case 13:return a={all:this.tglAll.isChecked},e.next=16,x.reqAsync(I.MedalLevelUp,a);case 16:if(null!=(o=e.sent)&&o.ok){e.next=19;break}return e.abrupt("return");case 19:for(c in s=Object.values(o.herolist))Object.prototype.hasOwnProperty.call(s,c)&&(u=s[c],k.accountData.setRoleInfo(u));v.message.dispatchEvent(M.EquipPosUpdated),k.account.doResChange(o),k.medal.medalInfo=o.info,this.initView(),this.onFresh(),1==(null==o?void 0:o.baoji)&&this.freshExp();case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.onFresh=function(){var e=this.nodeitem1.getComponent(U);e.initCfg(e.ID);var t=this.nodeitem2.getComponent(U);t.initCfg(t.ID)},o.freshExp=function(){var e=d(this.spTween);e.active=!0,e&&(e.parent=this.nodeTween,m(e).set({scale:g.ZERO,active:!0}).to(.1,{scale:g.ONE,easing:"sineOutIn"}).delay(1).to(.5,{scale:g.ZERO}).repeat(2).call((function(){e.removeFromParent()})).start())},o.onClickMedalInfo=function(){v.gui.open(C.MedalStageInfo,this.cfg)},o.onClickClose=function(){v.gui.removeByNode(this.node,!0)},t}(h)).prototype,"nodeitem1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(K.prototype,"nodeitem2",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(K.prototype,"spMedalIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(K.prototype,"lblMedalName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(K.prototype,"lblMedalLv",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(K.prototype,"lblUpLevel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(K.prototype,"nodeAttrContent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(K.prototype,"nodeTween",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(K.prototype,"spTween",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(K.prototype,"barExp",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(K.prototype,"lblExp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(K.prototype,"nodeCostMoney",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(K.prototype,"nodeCostItem",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(K.prototype,"spRedot",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(K.prototype,"tglAll",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=K))||J));o._RF.pop()}}}));

System.register("chunks:///_virtual/MedalStageInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./MedalAttr.ts"],(function(t){"use strict";var e,n,r,i,o,a,l,s,c,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Node,c=t.Component},function(t){p=t.oops},function(t){u=t.MedalAttr}],execute:function(){var d,f,b,h,v,g,y,m,M;o._RF.push({},"4fa60lEyc9HEK5nXyk9TXwa","MedalStageInfo",void 0);var L=a.ccclass,A=a.property;t("MedalStageInfo",(d=L("MedalStageInfo"),f=A(l),b=A(l),h=A(s),d((y=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"lblMedalLv",y,i(e)),r(e,"lblUpLevel",m,i(e)),r(e,"nodeAttrContent",M,i(e)),e.params=void 0,e}n(e,t);var o=e.prototype;return o.onAdded=function(t){this.params=t},o.start=function(){var t=this;this.lblMedalLv.string=this.params.rank+"阶"+this.params.lv+"级",this.lblUpLevel.string=this.params.desc,this.nodeAttrContent.forEach((function(e){e.getComponent(u).init(t.params,"rank")}))},o.update=function(t){},o.onClickClose=function(){p.gui.removeByNode(this.node,!0)},e}(c)).prototype,"lblMedalLv",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(g.prototype,"lblUpLevel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(g.prototype,"nodeAttrContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=g))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/Mercenary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./System.ts","./TableGameSys.ts","./GameEvent.ts","./SingletonModuleComp.ts","./JsonUtil.ts","./TableMercenaryAct.ts","./TableMercenaryLV.ts","./TableMercenaryGo.ts","./TableMercenaryFight.ts","./TableUtil.ts","./TableGameConfig.ts","./Oops.ts","./TableGameAttr.ts"],(function(e){"use strict";var t,n,r,a,i,c,o,u,s,m,y,f,l,v,d,g,T,h;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator},function(e){i=e.GameSys},function(e){c=e.GameSysKey},function(e){o=e.GameEvent},function(e){u=e.smc},function(e){s=e.JsonUtil},function(e){m=e.TableMercenaryAct},function(e){y=e.TableMercenaryLV},function(e){f=e.TableMercenaryGo},function(e){l=e.TableMercenaryFight},function(e){v=e.TableUtil},function(e){d=e.TableGameConfig},function(e){g=e.oops},function(e){T=e.TableGameAttr,h=e.GameAttrKey}],execute:function(){e({MercenaryCfg:void 0,MercenaryStatus:void 0,XunBaoOperationTypes:void 0}),r._RF.push({},"2f70aC7uZBJ1a0znrCnA8kg","Mercenary",void 0);var b,p,I;a.ccclass,a.property;!function(e){e[e.Reduce=0]="Reduce",e[e.Add=1]="Add"}(b||(b=e("XunBaoOperationTypes",{}))),function(e){e[e.Lock=0]="Lock",e[e.Ready=1]="Ready",e[e.Active=2]="Active",e[e.Done=3]="Done"}(p||(p=e("MercenaryStatus",{}))),function(e){e[e.costItemId=1040]="costItemId",e[e.exChangeItemId=1038]="exChangeItemId",e[e.MaxTLCount=d.mercenary_max]="MaxTLCount",e[e.AddTLTime=60*d.mercenary_time]="AddTLTime",e[e.BingGanShopId=92]="BingGanShopId"}(I||(I=e("MercenaryCfg",{})));var A=e("Mercenary",function(e){function r(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).AttrNameType=((t={})[0]="陌生",t[1]="相识",t[2]="友好",t[3]="互助",t[4]="同伴",t[5]="携手",t[6]="共济",t[7]="挚友",t[8]="知己",t[9]="真挚",t[10]="手足",t[11]="同心",t),n.redotWatchGameEvents=[o.ItemBagUpdated],n}t(r,e);var a=r.prototype;return a.getMercenaryLvByID=function(e){return(new y).init(e)},a.getPosInfoByID=function(e){return(new f).init(e)},a.TableMercenaryFight=function(e){var t=[],n=s.get(l.TableName);for(var r in n){var a=n[r];e==a.type&&(a.id=r,t.push(a))}return t},a.mercenaryStatus=function(e,t){var n=this.mercenaryInfo.mlv[t];return this.isActiveGameLevel(e,t)?n.fid==Number(e)?p.Ready:n.fid>Number(e)?p.Done:p.Active:p.Lock},a.isActiveGameLevel=function(e,t){var n=this.mercenaryInfo.mlv[t].id,r=v.get(y,n),a=v.get(l,e);return!(r.lv<a.mlv)&&!(u.accdata.heroId<a.rlv)},a.isActive=function(e){var t,n=null==(t=u.mercenary.mercenaryInfo)?void 0:t.mlv;for(var r in n)if(Number(e)==Number(r))return!0;return!1},a.getItemsByType=function(e){var t=u.mercenary.mercenaryInfo.mlv[e];if(t)var n=v.get(y,t.id).cost;return n||[]},a.clearTiliCD=function(){this.mercenaryInfo.flag_time=null},a.getTiliCD=function(){if(!this.mercenaryInfo.flag_time)return null;var e=new Date(this.mercenaryInfo.flag_time).getTime()/1e3+I.AddTLTime;return Math.max(Math.ceil(e-g.timer.getLocalTime()/1e3),0)},a.showRedByType=function(e){var t=this.getItemsByType[e];for(var n in t){if(Number(u.accountData.getItemCount(n).toString())<t[n])return!1}return!0},a.getAllCfgByName=function(e,t){var n=[],r=s.get(y.TableName),a=!1;for(var i in r)if(e==r[i].name&&t==r[i].type)n.push(r[i]),a=!0;else if(1==a)break;return n},a.getTilentListByType=function(e){var t,n=[],r=0;for(var a in this.AttrNameType){var i=this.getAllCfgByName(this.AttrNameType[a],e);for(var c in i)i[c].lv>r&&(t=i[c],r=i[c].lv);var o=""+t.name+t.lv+"级",u=T[h[h[t.xianshi]]],s="";if(u){var m="";m=1e4===parseInt(u.per_unit)?(t[h[t.xianshi]]/100).toFixed(1)+"%":t[h[t.xianshi]]+"",s="战斗天赋："+u.name+"+"+m}else s="战斗天赋："+T[t.xianshi].name+"+"+t[h[t.xianshi]];n.push({maxLevel:r,titleStr:o,titleDesc:s}),r=0}return n},a.getAttrListByType=function(e){var t=[],n=s.get(y.TableName);for(var r in n)e==n[r].type&&t.push(r);return t},a.mercenaryRedByType=function(e){if(!u.mercenary.mercenaryInfo.mlv[e])return!1;var t=this.TableMercenaryFight(e);for(var n in t){if(this.mercenaryStatus(t[n].id,e)==p.Ready)return!0}return!1},a.redByType=function(e){var t=this.getItemsByType(e);for(var n in t)if(u.accountData.getItemCount(n)>0)return!0;return!1},a.redLockByType=function(e){if(!this.isActive(e))return!1;var t=(new m).init(e);switch(Number(e)){case 2:return Number(u.duobao.killedShip)>=t.shipnum;case 3:return Number(u.ebox.info.lv)>=t.boxlv;case 4:return Number(u.dragon.todayDamage)>=t.damage;case 5:return Number(u.mercenary.mercenaryInfo.actinfo.an)>=t.arena_winnum;case 6:var n=0==u.fuben.eliteLevel?0:u.fuben.eliteLevel-d.init_elitelevels+1;return Number(n)>=t.elitelv-d.init_elitelevels}},a.calRedot=function(){return this.RedCostItem||this.RedTili||this.RedLock||this.RedFight},n(r,[{key:"mercenaryInfo",get:function(){return u.accountData.subinfo.mercenary},set:function(e){u.accountData.subinfo.mercenary=e}},{key:"TableMercenaryAct",get:function(){return s.get(m.TableName)}},{key:"TableMercenaryGo",get:function(){return s.get(f.TableName)}},{key:"ownTiliCount",get:function(){return u.accountData.getItemCount(I.costItemId)}},{key:"RedCostItem",get:function(){var e=this.TableMercenaryAct;for(var t in e)if(this.mercenaryInfo.mlv[t]&&this.redByType(Number(t)))return!0;return!1}},{key:"RedTili",get:function(){return u.accountData.getItemCount(I.costItemId)>=1}},{key:"RedLock",get:function(){var e=s.get(m.TableName),t=1;for(var n in e){if(!this.isActive(Number(n))&&this.redLockByType(t))return!0;t++}}},{key:"RedFight",get:function(){var e=s.get(m.TableName),t=1;for(var n in e){if(this.isActive(Number(n))&&this.mercenaryRedByType(t))return!0;t++}return!1}}]),r}(i));e("mercenary",new A(c.mercenary));r._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameAttr.ts"],(function(e){"use strict";var t,r,i,n,a,l,o,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,c=e.Component},function(e){u=e.TableGameAttr}],execute:function(){var s,p,b,y,f,m,h;a._RF.push({},"fae7bIOadlHZYmj0s32cZbR","MercenaryAttr",void 0);var g=l.ccclass,d=l.property;e("MercenaryAttr",(s=g("MercenaryAttr"),p=d(o),b=d(o),s((m=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lblName",m,n(t)),i(t,"lblValue",h,n(t)),t}return r(t,e),t.prototype.initView=function(e,t){this.lblName.string=u[Number(t)].name;var r=u[Number(t)];this.lblValue.string=1e4===parseInt(r.per_unit)?"+"+(e/100).toFixed(1)+"%":"+"+e},t}(c)).prototype,"lblName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(f.prototype,"lblValue",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryExchange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./BagItem.ts","./TableUtil.ts","./Mercenary.ts","./SingletonModuleComp.ts","./TableGameItem.ts","./NetProtocol.ts","./HttpChannelManager.ts","./TipsManager.ts"],(function(e){"use strict";var t,n,r,a,i,o,u,s,l,c,g,m,p,h,b,f,I,C,d,y,N,v,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,l=e.Label,c=e.Node,g=e.ProgressBar,m=e.Slider,p=e.Component},function(e){h=e.oops},function(e){b=e.BagItem},function(e){f=e.TableUtil},function(e){I=e.MercenaryCfg,C=e.XunBaoOperationTypes},function(e){d=e.smc},function(e){y=e.TableGameItem},function(e){N=e.MsgID},function(e){v=e.httpChannel},function(e){x=e.tips}],execute:function(){var B,w,M,D,T,k,z,S,E,O,R,A,G;u._RF.push({},"55a7avo96lI4pAVfy3eSixh","MercenaryExchange",void 0);var P=s.ccclass,_=s.property;e("MercenaryExchange",(B=P("MercenaryExchange"),w=_(l),M=_(b),D=_(l),T=_(c),k=_(l),B((E=t((S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"lblName",E,a(t)),r(t,"item",O,a(t)),r(t,"lblOwnNum",R,a(t)),r(t,"pgBar",A,a(t)),r(t,"lblNum",G,a(t)),t.cfg=new y,t}n(t,e);var u=t.prototype;return u.start=function(){var e=f.get(y,I.exChangeItemId);this.cfg.init(Number(I.exChangeItemId)),this.lblName.string=e.name,this.item.getComponent(b).init(Number(I.exChangeItemId));var t=d.accountData.getItemCount(I.exChangeItemId);this.fresh(),this.lblNum.string=t+""},u.fresh=function(){var e=d.accountData.getItemCount(I.exChangeItemId);this.lblOwnNum.string="拥有："+e},u.freshItemNum=function(e){this.lblNum.string=e+"";var t=e/d.accountData.getItemCount(I.exChangeItemId);this.pgBar.getComponent(g).progress=t,this.pgBar.getComponent(m).progress=t},u.onSliderEvent=function(){var e=d.accountData.getItemCount(I.exChangeItemId);this.pgBar.getComponent(g).progress=this.pgBar.getComponent(m).progress,this.lblNum.string=Math.ceil(e*this.pgBar.getComponent(m).progress)+""},u.onClickOp=function(e,t){var n=Number(this.lblNum.string);Number(t)==C.Add?++n>d.accountData.getItemCount(I.exChangeItemId)&&(n=d.accountData.getItemCount(I.exChangeItemId)):Number(t)==C.Reduce&&--n<0&&(n=0),this.freshItemNum(n)},u.onClickExchange=function(){var e=i(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={shopid:Number(I.BingGanShopId),num:Number(this.lblNum.string)},e.next=3,v.reqAsync(N.StoreBuyItem,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:d.account.doResChange(n),x.reward(n),d.store.buyTagInfo=n.buyItemTag,this.fresh();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onClickBack=function(){h.gui.removeByNode(this.node,!0)},t}(p)).prototype,"lblName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(S.prototype,"item",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(S.prototype,"lblOwnNum",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(S.prototype,"pgBar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(S.prototype,"lblNum",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=S))||z));u._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryFight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./MercenaryFightItem.ts","./Oops.ts"],(function(e){"use strict";var t,n,r,i,o,a,c,s,l,u,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,s=e.instantiate,l=e.Component},function(e){u=e.smc},function(e){h=e.MercenaryFightItem},function(e){p=e.oops}],execute:function(){var d,f,y,m,g,b,v;o._RF.push({},"446bbuMLKNNYZsOO0wb3hW+","MercenaryFight",void 0);var M=a.ccclass,C=a.property;e("MercenaryFight",(d=M("MercenaryFight"),f=C(c),y=C(c),d((b=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nodeContent",b,i(t)),r(t,"nodeItem",v,i(t)),t.params=void 0,t}n(t,e);var o=t.prototype;return o.onAdded=function(e){this.params=e},o.start=function(){this.initView()},o.initView=function(){var e=this,t=u.mercenary.TableMercenaryFight(this.params.type);this.nodeContent.removeAllChildren(),Object.keys(t).forEach((function(t){s(e.nodeItem).parent=e.nodeContent})),this.refresh()},o.refresh=function(){var e=u.mercenary.TableMercenaryFight(this.params.type),t=0;for(var n in e){this.nodeContent.children[t].getComponent(h).initView(e[n]).onRecv(this.refresh.bind(this)),t++}},o.onClickBack=function(){p.gui.removeByNode(this.node,!0)},t}(l)).prototype,"nodeContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(g.prototype,"nodeItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryFightItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./ItemsGroup.ts","./SingletonModuleComp.ts","./TableGameLevels.ts","./TableMercenaryFight.ts","./TableUtil.ts","./Level.ts","./MonsterHead.ts","./ViewUtil.ts","./Mercenary.ts","./Util.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,c,s,u,b,p,d,h,f,g,v,y,m,w,M,F,L,C,R,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Node,u=e.Label,b=e.Button,p=e.Component},function(e){d=e.oops},function(e){h=e.UIID,f=e.DialogAnimation},function(e){g=e.ItemsGroup},function(e){v=e.smc},function(e){y=e.TableGameLevels},function(e){m=e.TableMercenaryFight},function(e){w=e.TableUtil},function(e){M=e.LevelMercenary},function(e){F=e.MonsterHead},function(e){L=e.ViewUtil},function(e){C=e.MercenaryStatus},function(e){R=e.Util},function(e){I=e.GameEvent}],execute:function(){var k,z,G,A,D,x,T,U,_,B,H,S,V,E,P,j,Q,W,J,N,O;l._RF.push({},"e4e3fjMpHtD8JlwSQQa6kfd","MercenaryFightItem",void 0);var q=c.ccclass,K=c.property;e("MercenaryFightItem",(k=q("MercenaryFightItem"),z=K(s),G=K(u),A=K(s),D=K(s),x=K(u),T=K(u),U=K(s),_=K(s),B=K(u),k((V=t((S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"nodeMonsterHead",V,r(t)),i(t,"lblLevel",E,r(t)),i(t,"nodeReward",P,r(t)),i(t,"nodeLock",j,r(t)),i(t,"lblConditoin1",Q,r(t)),i(t,"lblConditoin2",W,r(t)),i(t,"nodeActive",J,r(t)),i(t,"btnFight",N,r(t)),i(t,"lblBtnDesc",O,r(t)),t.cfg=null,t._onRecv=null,t}n(t,e);var l=t.prototype;return l.initView=function(e){this.cfg=e,this.nodeMonsterHead.getComponent(F).initView("mcn_"+e.type),this.lblLevel.string=e.mlv+"级";var t=w.get(y,e.id);this.nodeReward.addComponent(g).init(t.drop),this.nodeActive.active=!1,this.nodeLock.active=!1,R.setRedot(this.btnFight,!1);var n=v.mercenary.mercenaryStatus(this.cfg.id,e.type);if(n==C.Lock){this.nodeLock.active=!0;var i=w.get(m,e.id);this.lblConditoin1.string="好感度"+i.mlv+"级解锁",this.lblConditoin2.string="角色"+i.rlv+"级解锁"}else n==C.Ready?(this.nodeActive.active=!0,L.setGray(this.btnFight,!1),R.setRedot(this.btnFight,!0),this.btnFight.getComponent(b).interactable=!0):n==C.Active?(this.nodeActive.active=!0,L.setGray(this.btnFight,!0),this.btnFight.getComponent(b).interactable=!1):n==C.Done&&(this.nodeActive.active=!0,this.lblBtnDesc.string="已挑战",L.setGray(this.btnFight,!0));return this},l.onClickBattle=function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new M(this.cfg.type),e.next=3,v.battle.createAndPlay(t);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(v.account.doResChange(v.battle.fightInfo),!v.battle.isWin()){e.next=16;break}return n=v.battle.fightInfo,v.mercenary.mercenaryInfo=n.mercenary,this._onRecv(),d.message.dispatchEvent(I.MercenaryRed),e.next=14,d.gui.openModal(h.Win,n,f);case 14:e.next=18;break;case 16:return e.next=18,d.gui.openModal(h.Lose,t.ty,f);case 18:v.battle.clear(),d.gui.remove(h.Battle,!0);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onRecv=function(e){this._onRecv=e},t}(p)).prototype,"nodeMonsterHead",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(S.prototype,"lblLevel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(S.prototype,"nodeReward",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(S.prototype,"nodeLock",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(S.prototype,"lblConditoin1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(S.prototype,"lblConditoin2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(S.prototype,"nodeActive",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(S.prototype,"btnFight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(S.prototype,"lblBtnDesc",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=S))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryFriend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./MercenaryFriendTilent.ts","./MercenaryFriendAttr.ts"],(function(e){"use strict";var t,r,i,n,o,l,a,c,s,p,u,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,c=e.Label,s=e.color,p=e.Component},function(e){u=e.oops},function(e){b=e.MercenaryFriendTilent},function(e){f=e.MercenaryFriendAttr}],execute:function(){var d,y,h,g,m,T,v,A,F,C,M;o._RF.push({},"9d9a1u+tudPrK8P6CgDhNDc","MercenaryFriend",void 0);var k=l.ccclass,w=l.property;e("MercenaryFriend",(d=k("MercenaryFriend"),y=w(a),h=w(a),g=w(c),m=w(c),d((A=t((v=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"pfbTilent",A,n(t)),i(t,"pfbAttr",F,n(t)),i(t,"lblTilent",C,n(t)),i(t,"lblAttr",M,n(t)),t.params=void 0,t}r(t,e);var o=t.prototype;return o.start=function(){this.pfbTilent.getComponent(b).initView(this.params.type),this.pfbAttr.getComponent(f).initView(this.params.type)},o.onAdded=function(e){this.params=e},o.onClickToggle=function(e,t){this.pfbTilent.active=0==Number(t),this.pfbAttr.active=1==Number(t)},o.onCheckToggle=function(e,t){0==parseInt(t)?this.lblTilent.color=e.isChecked?s(255,223,99):s(155,140,109):1==parseInt(t)&&(this.lblAttr.color=e.isChecked?s(255,223,99):s(155,140,109))},o.onClickBack=function(){u.gui.removeByNode(this.node,!0)},t}(p)).prototype,"pfbTilent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(v.prototype,"pfbAttr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(v.prototype,"lblTilent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(v.prototype,"lblAttr",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=v))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryFriendAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./MercenaryFriendAttrItem.ts"],(function(e){"use strict";var t,n,r,i,o,a,c,l,s,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.instantiate,s=e.Component},function(e){p=e.smc},function(e){u=e.MercenaryFriendAttrItem}],execute:function(){var d,y,f,m,h,A,v;o._RF.push({},"26a92kGBntNCo/tdfnW9QmL","MercenaryFriendAttr",void 0);var g=a.ccclass,C=a.property;e("MercenaryFriendAttr",(d=g("MercenaryFriendAttr"),y=C(c),f=C(c),d((A=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nodeContent",A,i(t)),r(t,"nodeAttrItem",v,i(t)),t.type=void 0,t}return n(t,e),t.prototype.initView=function(e){this.type=e;var t=p.mercenary.getAttrListByType(e);for(var n in this.nodeContent.removeAllChildren(),t){var r=l(this.nodeAttrItem);r.parent=this.nodeContent,r.getComponent(u).initView(t[n])}},t}(s)).prototype,"nodeContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(h.prototype,"nodeAttrItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryFriendAttrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableMercenaryLV.ts","./TableGameAttr.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,r,n,i,l,a,c,o,u,s,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,c=e.Label,o=e.Component},function(e){u=e.TableMercenaryLV},function(e){s=e.TableGameAttr,p=e.GameAttrKey},function(e){b=e.smc}],execute:function(){var y,m,g,f,h,v,d,L,M;l._RF.push({},"8c81eg4RHdOsLZQcMctOoPE","MercenaryFriendAttrItem",void 0);var A=a.ccclass,F=a.property;e("MercenaryFriendAttrItem",(y=A("MercenaryFriendAttrItem"),m=F(c),g=F(c),f=F(c),y((d=t((v=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"lblLevel",d,i(t)),n(t,"lblName",L,i(t)),n(t,"lblValue",M,i(t)),t.cfg=new u,t}return r(t,e),t.prototype.initView=function(e){var t=b.mercenary.getMercenaryLvByID(e);this.lblLevel.string=t.lv+"级",this.lblName.string=s[t.shuxing].name;var r=s[t.shuxing];this.lblValue.string=1e4===parseInt(r.per_unit)?"+"+(t[p[t.shuxing]]/100).toFixed(1)+"%":"+"+t[p[t.shuxing]]},t}(o)).prototype,"lblLevel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(v.prototype,"lblName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(v.prototype,"lblValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryFriendTilent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./MercenaryFriendTilentItem.ts"],(function(e){"use strict";var t,n,r,i,o,a,l,c,s,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,c=e.instantiate,s=e.Component},function(e){p=e.smc},function(e){u=e.MercenaryFriendTilentItem}],execute:function(){var y,d,f,h,m,v,g;o._RF.push({},"67f5feZavBFvbGWPC69cEce","MercenaryFriendTilent",void 0);var C=a.ccclass,F=a.property;e("MercenaryFriendTilent",(y=C("MercenaryFriendTilent"),d=F(l),f=F(l),y((v=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nodeContent",v,i(t)),r(t,"nodeAttrItem",g,i(t)),t.type=void 0,t}return n(t,e),t.prototype.initView=function(e){this.type=e;var t=p.mercenary.getTilentListByType(this.type);this.nodeContent.removeAllChildren();var n=0;for(var r in t){var i=c(this.nodeAttrItem);i.parent=this.nodeContent,i.getComponent(u).initView(t[r],n,this.type),n++}},t}(s)).prototype,"nodeContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(m.prototype,"nodeAttrItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryFriendTilentItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableMercenaryAct.ts"],(function(e){"use strict";var i,t,r,n,l,a,o,c,s,u,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Node,c=e.Label,s=e.Component},function(e){u=e.smc},function(e){b=e.TableMercenaryAct}],execute:function(){var p,d,m,y,v,h,f,g,F,L,w,z,M,D,I,N,T;l._RF.push({},"19060uX+YVHErSq2uvR4IrR","MercenaryFriendTilentItem",void 0);var _=a.ccclass,x=a.property;e("MercenaryFriendTilentItem",(p=_("MercenaryFriendTilentItem"),d=x(o),m=x(o),y=x(o),v=x(o),h=x(c),f=x(c),g=x(c),p((w=i((L=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,r(i,"nodeFirst",w,n(i)),r(i,"nodeNormal",z,n(i)),r(i,"nodeFinishedFirst",M,n(i)),r(i,"nodeFinished",D,n(i)),r(i,"lblLevel",I,n(i)),r(i,"lblName",N,n(i)),r(i,"lblDesc",T,n(i)),i._actCfg=new b,i}return t(i,e),i.prototype.initView=function(e,i,t){var r=u.mercenary.mercenaryInfo.mlv[t]||this._actCfg.init(t),n=u.mercenary.getMercenaryLvByID(r.id);this.lblLevel.string=n.lv+"",this.lblLevel.string=e.maxLevel,this.nodeFirst.active=0==i,this.nodeNormal.active=0!=i,this.nodeFinished.active=n.lv>=e.maxLevel,this.nodeFinishedFirst.active=n.lv>=e.maxLevel,this.lblName.string=e.titleStr,this.lblDesc.string=e.titleDesc},i}(s)).prototype,"nodeFirst",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(L.prototype,"nodeNormal",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(L.prototype,"nodeFinishedFirst",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(L.prototype,"nodeFinished",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(L.prototype,"lblLevel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(L.prototype,"lblName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(L.prototype,"lblDesc",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=L))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./TableMercenaryLV.ts","./MercenaryAttr.ts","./TableUtil.ts","./GameEvent.ts"],(function(e){"use strict";var t,r,n,i,a,o,l,c,s,u,p,b,f,d,m,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,c=e.Label,s=e.instantiate,u=e.color,p=e.Component},function(e){b=e.oops},function(e){f=e.smc},function(e){d=e.TableMercenaryLV},function(e){m=e.MercenaryAttr},function(e){h=e.TableUtil},function(e){y=e.GameEvent}],execute:function(){var g,v,B,M,R,w,C,z,I,k,A,X,Y,_,N,T,H,L,V,S,U;a._RF.push({},"1881cg1r5JEi7OP/kn2fRkw","MercenaryMain",void 0);var D=o.ccclass,E=o.property;e("MercenaryMain",(g=D("MercenaryMain"),v=E(l),B=E(l),M=E(c),R=E(c),w=E(l),C=E(l),z=E(l),I=E(l),k=E(l),g((Y=t((X=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"pfbYB",Y,i(t)),n(t,"pfbXB",_,i(t)),n(t,"lblYB",N,i(t)),n(t,"lblXB",T,i(t)),n(t,"nodeScrollView",H,i(t)),n(t,"nodeContent",L,i(t)),n(t,"nodeAttrItem",V,i(t)),n(t,"spRedYB",S,i(t)),n(t,"spRedXB",U,i(t)),t}r(t,e);var a=t.prototype;return a.start=function(){var e=this.getAttr();for(var t in this.nodeContent.removeAllChildren(),e){var r=s(this.nodeAttrItem);r.parent=this.nodeContent,r.getComponent(m).initView(e[t],t)}this.refresh(),b.message.on(y.ItemBagUpdated,this._eventHandler,this),b.message.on(y.MercenaryRed,this._eventHandler,this)},a.onDestroy=function(){b.message.off(y.ItemBagUpdated,this._eventHandler,this),b.message.off(y.MercenaryRed,this._eventHandler,this)},a.refresh=function(){this.spRedYB.active=f.mercenary.RedCostItem||f.mercenary.RedLock||f.mercenary.RedFight,this.spRedXB.active=f.mercenary.RedTili},a.onClickToggle=function(e,t){this.pfbYB.active=0==Number(t),this.pfbXB.active=1==Number(t),this.nodeScrollView.active=0==Number(t)},a.onCheckToggle=function(e,t){0==parseInt(t)?this.lblYB.color=e.isChecked?u(255,223,99):u(155,140,109):1==parseInt(t)&&(this.lblXB.color=e.isChecked?u(255,223,99):u(155,140,109))},a.getAttr=function(){var e=[],t=f.mercenary.mercenaryInfo.mlv;for(var r in t){var n=h.get(d,t[r].id),i=h.extractAttrs(n);e.push(i)}var a=e[0];for(var o in e){if(t=e[Number(o)+1])for(var l in t)a[l]=Number(a[l])+Number(t[l])}return a},a._eventHandler=function(e,t){e!=y.ItemBagUpdated&&e!=y.MercenaryRed||this.refresh()},a.onClickBack=function(){b.gui.removeByNode(this.node,!0)},t}(p)).prototype,"pfbYB",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(X.prototype,"pfbXB",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(X.prototype,"lblYB",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(X.prototype,"lblXB",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(X.prototype,"nodeScrollView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(X.prototype,"nodeContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(X.prototype,"nodeAttrItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(X.prototype,"spRedYB",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(X.prototype,"spRedXB",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=X))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryPosInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleUI.ts","./Oops.ts","./SingletonModuleComp.ts","./ItemsGroup.ts","./TableUtil.ts","./TableMercenaryAct.ts","./TableGameLevels.ts","./TableGameMonster.ts"],(function(e){"use strict";var t,o,r,n,i,a,l,s,c,u,d,p,f,b,m,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Label,s=e.Node,c=e.Component},function(e){u=e.RoleUILoader},function(e){d=e.oops},function(e){p=e.smc},function(e){f=e.ItemsGroup},function(e){b=e.TableUtil},function(e){m=e.TableMercenaryAct},function(e){y=e.TableGameLevels},function(e){h=e.TableGameMonster}],execute:function(){var g,v,M,T,I,L,w,G,P;i._RF.push({},"3cdadGy84VEnb+ihoJJxwpM","MercenaryPosInfo",void 0);var R=a.ccclass,z=a.property;e("MercenaryPosInfo",(g=R("MercenaryPosInfo"),v=z(l),M=z(s),T=z(u),g((w=t((L=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"lblTitle",w,n(t)),r(t,"nodeReward",G,n(t)),r(t,"roleLoader",P,n(t)),t.params=null,t}o(t,e);var i=t.prototype;return i.onAdded=function(e){this.params=e},i.start=function(){var e=p.mercenary.getPosInfoByID(this.params.id);for(var t in this.lblTitle.string=e.name,this.nodeReward.addComponent(f).init(e.drop[0]),this.roleLoader)if(e.prob[t]){this.roleLoader[t].node.active=!0;var o=b.get(m,e.prob[t].t).fid,r=b.get(y,o),n=b.get(h,Number(r.monster[0][0]));this.roleLoader[t].initModel(n.model_id)}},i.onClickBack=function(){d.gui.removeByNode(this.node,!0)},t}(c)).prototype,"lblTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(L.prototype,"nodeReward",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(L.prototype,"roleLoader",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=L))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/MercenarySendGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./RoleUI.ts","./TableUtil.ts","./TableGameLevels.ts","./TableGameMonster.ts","./SingletonModuleComp.ts","./GameUIConfig.ts","./HttpChannelManager.ts","./NetProtocol.ts","./GameEvent.ts","./ViewUtil.ts","./GameResPath.ts","./TableGameItem.ts","./TableGameAttr.ts","./TableMercenaryAct.ts","./TableGameConfig.ts","./Util.ts"],(function(e){"use strict";var t,r,i,n,a,s,o,c,l,p,u,h,m,f,d,b,y,g,v,k,L,R,w,x,I,C,D,B,T,_,P,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,l=e.Node,p=e.Label,u=e.ProgressBar,h=e.Toggle,m=e.Sprite,f=e.Component},function(e){d=e.oops},function(e){b=e.RoleUILoader},function(e){y=e.TableUtil},function(e){g=e.TableGameLevels},function(e){v=e.TableGameMonster},function(e){k=e.smc},function(e){L=e.UIID},function(e){R=e.httpChannel},function(e){w=e.MsgID},function(e){x=e.GameEvent},function(e){I=e.ViewUtil},function(e){C=e.GameResPath},function(e){D=e.TableGameItem},function(e){B=e.TableGameAttr,T=e.GameAttrKey},function(e){_=e.TableMercenaryAct},function(e){P=e.TableGameConfig},function(e){S=e.Util}],execute:function(){var M,N,G,z,A,F,U,E,O,H,V,j,q,K,W,X,Y,Z,J,Q,$,ee,te,re,ie,ne,ae,se,oe,ce,le,pe,ue,he,me,fe,de,be,ye,ge,ve;o._RF.push({},"4e287aPDZROPLXOYsSFW0Ij","MercenarySendGift",void 0);var ke=c.ccclass,Le=c.property;e("MercenarySendGift",(M=ke("MercenarySendGift"),N=Le(l),G=Le(b),z=Le(p),A=Le(u),F=Le(p),U=Le(p),E=Le(p),O=Le(p),H=Le(l),V=Le(l),j=Le(p),q=Le(p),K=Le(h),W=Le(m),X=Le(p),Y=Le(l),Z=Le(l),J=Le(l),Q=Le(l),M((te=t((ee=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"nodeFight",te,n(t)),i(t,"roleLoader",re,n(t)),i(t,"lblLevel",ie,n(t)),i(t,"progBar",ne,n(t)),i(t,"lblProgBar",ae,n(t)),i(t,"lblNextDesc1",se,n(t)),i(t,"lblNextDesc2",oe,n(t)),i(t,"lblNextDesc3",ce,n(t)),i(t,"nodeActive",le,n(t)),i(t,"nodeLock",pe,n(t)),i(t,"lblLockDesc",ue,n(t)),i(t,"lblLockProgress",he,n(t)),i(t,"tglSend",me,n(t)),i(t,"nodeReward",fe,n(t)),i(t,"lblReward",de,n(t)),i(t,"nodeSelected",be,n(t)),i(t,"nodeRed",ye,n(t)),i(t,"btnRed",ge,n(t)),i(t,"btnRedLock",ve,n(t)),t.params=void 0,t.selectedIndex=0,t._cfg=new D,t._actCfg=new _,t.isActive=void 0,t}r(t,e);var o=t.prototype;return o.onAdded=function(e){this.params=e},o.start=function(){this.initView(),d.message.on(x.ItemBagUpdated,this._eventHandler,this),d.message.on(x.MercenaryRed,this._eventHandler,this)},o.onDestroy=function(){d.message.off(x.ItemBagUpdated,this._eventHandler,this),d.message.off(x.MercenaryRed,this._eventHandler,this)},o.initView=function(){var e=k.mercenary.isActive(this.params.type);this._actCfg.init(this.params.type),this.isActive=e,this.nodeFight.active=e;var t=k.mercenary.mercenaryInfo.mlv[this.params.type]||this._actCfg.init(this.params.type),r=y.get(g,t.fid),i=y.get(v,Number(r.monster[0][0]));if(this.roleLoader.initModel(i.model_id),this.nodeActive.active=e,this.nodeLock.active=!e,e){var n=k.mercenary.getItemsByType(this.params.type),a=0;for(var s in n)this._cfg.init(Number(s)),I.loadSpriteFrame(this.nodeReward[a].getComponent(m),C.getItemSpriteFrame(this._cfg)),a++;this.freshSelectedStatus(),this.freshRed()}else this.lblLockDesc.string=this._actCfg.shuoming,this.btnRedLock.active=k.mercenary.redLockByType(Number(this.params.type));this.refresh()},o.refresh=function(){this.freshFightRed();var e=k.mercenary.isActive(this.params.type),t=k.mercenary.mercenaryInfo.mlv[this.params.type]||this._actCfg.init(this.params.type),r=k.mercenary.getMercenaryLvByID(t.id);if(this.lblLevel.string=r.lv+"",e?(this.progBar.progress=k.mercenary.mercenaryInfo.mlv[this.params.type].exp/r.exp,this.lblProgBar.string=k.mercenary.mercenaryInfo.mlv[this.params.type].exp+" / "+r.exp):(this.progBar.progress=0,this.lblProgBar.string="0/"+r.exp),r.nextid>0){var i=k.mercenary.getMercenaryLvByID(r.nextid),n=B[T[T[i.xianshi]]];n?this.lblNextDesc3.string="下一级好感度："+n.name+this.attrPercent(i,n):this.lblNextDesc1.string=r.nextid>0?"下一级好感度："+B[i.xianshi].name+"+"+i[T[i.xianshi]]:"已升至满级"}else this.lblNextDesc1.string="已升至满级";this.lblNextDesc2.string="好感度等级达到"+r.lv+"级";var a=B[T[T[r.xianshi]]];this.lblNextDesc3.string=a?"战斗天赋："+a.name+this.attrPercent(r,a):"战斗天赋："+B[r.xianshi].name+r[T[r.xianshi]];var s=k.mercenary.getItemsByType(this.params.type),o=0;for(var c in s)this.lblReward[o].string=k.accountData.getItemCount(Number(c))+"",o++;this.freshProgress()},o.attrPercent=function(e,t){return 1e4===parseInt(t.per_unit)?(e[T[e.xianshi]]/100).toFixed(1)+"%":e[T[e.xianshi]]+""},o.freshFightRed=function(){S.setRedot(this.nodeFight,k.mercenary.mercenaryRedByType(this.params.type))},o.freshProgress=function(){switch(Number(this.params.type)){case 2:this.lblLockProgress.string="("+k.duobao.killedShip+"/"+this._actCfg.shipnum+")",this.btnRedLock.active=k.mercenary.redLockByType(this.params.type);break;case 3:this.lblLockProgress.string="("+k.ebox.info.lv+"/"+this._actCfg.boxlv+")",this.btnRedLock.active=k.mercenary.redLockByType(this.params.type);break;case 4:this.lblLockProgress.string=k.dragon.todayDamage+"/"+this._actCfg.damage,this.btnRedLock.active=k.mercenary.redLockByType(this.params.type);break;case 5:this.lblLockProgress.string=k.mercenary.mercenaryInfo.actinfo.an+"/"+this._actCfg.arena_winnum,this.btnRedLock.active=k.mercenary.redLockByType(this.params.type);break;case 6:var e=0==k.fuben.eliteLevel?0:k.fuben.eliteLevel-P.init_elitelevels+1;this.lblLockProgress.string=e+"/"+(this._actCfg.elitelv-P.init_elitelevels),this.btnRedLock.active=k.mercenary.redLockByType(this.params.type)}},o.freshSelectedStatus=function(){var e=this;this.nodeSelected.forEach((function(t,r){t.active=e.selectedIndex==r}))},o.onClickItems=function(e,t){this.selectedIndex=Number(t),this.freshSelectedStatus(),this.freshRed()},o.getItemId=function(e){var t=this,r=1001;return Object.entries(e).forEach((function(e,i){i==t.selectedIndex&&(r=Number(e[0]))})),r},o.onClickSendGift=function(){var e=a(s().mark((function e(){var t,r,i,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.tglSend.isChecked?10:1,r=k.mercenary.getItemsByType(this.params.type),i={type:Number(this.params.type),itemid:this.getItemId(r),count:t},e.next=5,R.reqAsync(w.MercenaryUp,i);case 5:if(null!=(n=e.sent)&&n.ok){e.next=8;break}return e.abrupt("return");case 8:this.updateData(n),this.refresh(),this.freshRed(),d.message.dispatchEvent(x.MercenaryRed);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.freshRed=function(){var e=!1,t=k.mercenary.getItemsByType(this.params.type),r=0;for(var i in t){var n=Number(k.accountData.getItemCount(i).toString());this.nodeRed[r].active=n>0,this.selectedIndex==r&&(e=n>0),r++}this.btnRed.active=e},o.onClickActive=function(){var e=a(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:Number(this.params.type)},e.next=3,R.reqAsync(w.MercenaryAct,t);case 3:if(null!=(r=e.sent)&&r.ok){e.next=6;break}return e.abrupt("return");case 6:k.mercenary.mercenaryInfo=r.mercenary,this.updateData(r),this.initView(),d.message.dispatchEvent(x.MercenaryRed);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onClickOpenList=function(){d.gui.open(L.MercenaryFight,this.params)},o.updateData=function(e){if(e.hero){var t=Object.values(e.hero);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];k.accountData.setRoleInfo(i)}d.message.dispatchEvent(x.EquipPosUpdated)}k.account.doResChange(e),k.mercenary.mercenaryInfo=e.mercenary},o.onClickChangeMercenary=function(e,t){this.params.type+=Number(t),this.params.type>6?this.params.type=1:this.params.type<1&&(this.params.type=6),this.initView()},o.onClickShowAttr=function(){d.gui.open(L.MercenaryFriend,this.params)},o._eventHandler=function(e,t){e==x.ItemBagUpdated?this.refresh():e==x.MercenaryRed&&this.freshFightRed()},o.onClickBack=function(){d.gui.removeByNode(this.node,!0)},t}(f)).prototype,"nodeFight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(ee.prototype,"roleLoader",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(ee.prototype,"lblLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(ee.prototype,"progBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(ee.prototype,"lblProgBar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(ee.prototype,"lblNextDesc1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(ee.prototype,"lblNextDesc2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(ee.prototype,"lblNextDesc3",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(ee.prototype,"nodeActive",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(ee.prototype,"nodeLock",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(ee.prototype,"lblLockDesc",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(ee.prototype,"lblLockProgress",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(ee.prototype,"tglSend",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(ee.prototype,"nodeReward",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=t(ee.prototype,"lblReward",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(ee.prototype,"nodeSelected",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=t(ee.prototype,"nodeRed",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=t(ee.prototype,"btnRed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(ee.prototype,"btnRedLock",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=ee))||$));o._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./RoleUI.ts","./TableMercenaryGo.ts","./TableUtil.ts","./TableMercenaryAct.ts","./TableGameLevels.ts","./TableGameMonster.ts"],(function(e){"use strict";var t,i,n,r,a,l,o,s,c,p,u,b,m,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,s=e.Component},function(e){c=e.oops},function(e){p=e.RoleUILoader},function(e){u=e.TableMercenaryGo},function(e){b=e.TableUtil},function(e){m=e.TableMercenaryAct},function(e){f=e.TableGameLevels},function(e){y=e.TableGameMonster}],execute:function(){var d,h,g,M,T,v,w,G,x,z,L;a._RF.push({},"948a4VkIPhK1J/G8gkSCQCi","MercenaryTips",void 0);var P=l.ccclass,k=l.property;e("MercenaryTips",(d=P("MercenaryTips"),h=k(p),g=k(o),M=k(o),T=k(o),d((G=t((w=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"tipsMonster",G,r(t)),n(t,"lblPlace",x,r(t)),n(t,"lblName",z,r(t)),n(t,"lblExp",L,r(t)),t.params=void 0,t}i(t,e);var a=t.prototype;return a.onAdded=function(e){this.params=e},a.start=function(){var e=(new m).init(this.params.info.meet[this.params.index]),t=b.get(f,e.fid),i=b.get(y,Number(t.monster[0][0]));this.tipsMonster.initModel(i.model_id);var n=(new u).init(this.params.info.goid);this.lblPlace.string=n.name,this.lblName.string=i.name,this.lblExp.string="好感度 +"+n.prob[this.params.index].e},a.onClickBack=function(){c.gui.removeByNode(this.node,!0)},t}(s)).prototype,"tipsMonster",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(w.prototype,"lblPlace",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"lblName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(w.prototype,"lblExp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryXB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./RoleUI.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./UMASDK.ts","./SingletonModuleComp.ts","./Util.ts","./Mercenary.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,c,l,u,f,h,m,d,p,b,g,y,T,v,C,k,w,x,M,I,L,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,u=e.Label,f=e.Toggle,h=e.Component,m=e.instantiate,d=e.Vec3,p=e.tween},function(e){b=e.oops},function(e){g=e.GameEvent},function(e){y=e.UIID,T=e.DialogAnimation},function(e){v=e.RoleUILoader},function(e){C=e.tips},function(e){k=e.httpChannel},function(e){w=e.MsgID},function(e){x=e.UMASDK,M=e.UMA_EVENT},function(e){I=e.smc},function(e){L=e.Util},function(e){R=e.MercenaryCfg}],execute:function(){var U,D,G,_,B,z,E,N,P,X,A,O,H,S,q,V,F,Z,K,j,J;s._RF.push({},"bcf40dhVrFHJZC4194Gvrz4","MercenaryXB",void 0);var Y=c.ccclass,Q=c.property;e("MercenaryXB",(U=Y("MercenaryXB"),D=Q(l),G=Q(u),_=Q(u),B=Q(f),z=Q(v),E=Q(l),N=Q(l),P=Q(l),X=Q(l),U((H=t((O=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"nodePos",H,r(t)),i(t,"lblTLTime",S,r(t)),i(t,"lblCount",q,r(t)),i(t,"tglGo",V,r(t)),i(t,"roleLoader",F,r(t)),i(t,"nodeEfx",Z,r(t)),i(t,"btnXunbao",K,r(t)),i(t,"nodeTili",j,r(t)),i(t,"spRed",J,r(t)),t.liTimer=null,t}n(t,e);var s=t.prototype;return s.start=function(){this.initView(),b.message.on(g.ItemBagUpdated,this._eventHandler,this)},s.onDestroy=function(){this.liTimer&&b.timer.unRegister(this.liTimer.id),b.message.off(g.ItemBagUpdated,this._eventHandler,this)},s.initView=function(){var e=I.accdata.heroId;this.roleLoader.init(I.accdata.getRole(e)),this.roleLoader.node.active=!1;var t=I.mercenary.TableMercenaryGo;for(var n in t){if(this.nodePos[Number(n)-1])this.nodePos[Number(n)-1].getChildByName("lbl_name").getComponent(u).string=t[n].name}this.refresh(),this.refreshTime()},s.refresh=function(){this.spRed.active=I.mercenary.RedTili,this.lblCount.string="体力 "+I.mercenary.ownTiliCount+"/"+R.MaxTLCount,L.setRedot(this.nodeTili,I.accountData.getItemCount(R.exChangeItemId)>0)},s.refreshTime=function(){var e=this;if(I.mercenary.ownTiliCount>=R.MaxTLCount)return this.lblTLTime.string="",I.mercenary.clearTiliCD(),this.liTimer&&b.timer.unRegister(this.liTimer.id),void(this.liTimer=null);var t=I.mercenary.getTiliCD();if(!t)return this.lblTLTime.string="",void this.reqUpdate();this.liTimer||(this.liTimer={id:null,secs:t},this.liTimer.id=b.timer.register(this.liTimer,"secs",this.doDiceTick.bind(this),(function(){e.reqUpdate(),e.liTimer=null})),this.doDiceTick())},s.reqUpdate=function(){var e=a(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,k.reqAsync(w.MercenaryFresh,t);case 3:if(null!=(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return");case 6:I.mercenary.mercenaryInfo.flag_time=n.flag_time,I.account.doResChange(n),this.refreshTime();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.doDiceTick=function(){var e=this.liTimer.secs;this.lblTLTime.string="恢复："+L.fmtSecs(e)},s.doGet=function(){var e=a(o().mark((function e(t){var n,i,r,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=this.nodePos[t-1]||this.nodePos[0],500,(i=m(this.roleLoader.node)).parent=this.nodeEfx,r=d.distance(i.position,n.position),e.abrupt("return",new Promise((function(e){p(i).set({active:!0,scale:d.ZERO}).to(.5,{scale:d.ONE},{easing:"backOut"}).delay(.5).to(r/500,{position:n.position,scale:new d(.5,.5)},{easing:"cubicIn"}).to(.7,{scale:d.ZERO}).removeSelf().call(a.refresh.bind(a)).call(e).start()})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onClickXunBao=function(){var e=a(o().mark((function e(){var t,n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.tglGo.isChecked?10:1,!(I.mercenary.ownTiliCount<=0)){e.next=4;break}return b.gui.toast("体力不足!"),e.abrupt("return");case 4:return this.btnXunbao.active=!1,n={count:t},e.next=8,k.reqAsync(w.MercenaryXB,n);case 8:if(null!=(i=e.sent)&&i.ok){e.next=11;break}return e.abrupt("return");case 11:if(x.doEvent(M.YONGBING_XUNBAO,n),i.flag_time&&(I.mercenary.mercenaryInfo.flag_time=i.flag_time),I.account.doResChange(i),0!=this.tglGo.isChecked){e.next=19;break}return e.next=17,this.doGet(i.goid);case 17:e.next=20;break;case 19:this.refresh();case 20:if(!i.meet){e.next=29;break}e.t0=o().keys(i.meet);case 22:if((e.t1=e.t0()).done){e.next=28;break}return r=e.t1.value,e.next=26,b.gui.openModal(y.MercenaryTips,{info:i,index:r},T);case 26:e.next=22;break;case 28:I.mercenary.mercenaryInfo=i.mercenary;case 29:C.reward(i),this.btnXunbao.active=!0,this.refreshTime();case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.exChangeTiLi=function(){b.gui.open(y.MercenaryExchange)},s.CheckInfo=function(e,t){b.gui.open(y.MercenaryPosInfo,{id:Number(t)})},s.onCheckToggle=function(){I.mercenary.ownTiliCount<10&&(b.gui.toast("体力不足10个"),this.tglGo.isChecked=!1)},s._eventHandler=function(e,t){e==g.ItemBagUpdated&&this.refresh()},t}(h)).prototype,"nodePos",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(O.prototype,"lblTLTime",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(O.prototype,"lblCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(O.prototype,"tglGo",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(O.prototype,"roleLoader",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(O.prototype,"nodeEfx",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(O.prototype,"btnXunbao",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(O.prototype,"nodeTili",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(O.prototype,"spRed",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=O))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryYB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MercenaryYbItem.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var n,t,r,i,o,a,c,l,s,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.instantiate,s=e.Component},function(e){u=e.MercenaryYbItem},function(e){p=e.smc}],execute:function(){var y,f,d,h,m,b,v;o._RF.push({},"672a1U/f2FP5JEgJr8NxW2y","MercenaryYB",void 0);var g=a.ccclass,C=a.property;e("MercenaryYB",(y=g("MercenaryYB"),f=C(c),d=C(c),y((b=n((m=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,r(n,"nodeContent",b,i(n)),r(n,"nodeYBItem",v,i(n)),n}t(n,e);var o=n.prototype;return o.start=function(){this.initView()},o.initView=function(){var e=this,n=p.mercenary.TableMercenaryAct;this.nodeContent.removeAllChildren(),Object.keys(n).forEach((function(n){l(e.nodeYBItem).parent=e.nodeContent}));var t=0;for(var r in n){this.nodeContent.children[t].getComponent(u).initView(r,n[r]),t++}},n}(s)).prototype,"nodeContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(m.prototype,"nodeYBItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/MercenaryYbItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableUtil.ts","./TableGameLevels.ts","./TableGameMonster.ts","./RoleUI.ts","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./ViewUtil.ts","./TableMercenaryAct.ts","./TableGameAttr.ts","./GameEvent.ts"],(function(e){"use strict";var r,t,n,i,a,o,l,s,c,y,m,u,p,f,b,d,h,g,v,T,M;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,s=e.Label,c=e.Component},function(e){y=e.TableUtil},function(e){m=e.TableGameLevels},function(e){u=e.TableGameMonster},function(e){p=e.RoleUILoader},function(e){f=e.oops},function(e){b=e.UIID},function(e){d=e.smc},function(e){h=e.ViewUtil},function(e){g=e.TableMercenaryAct},function(e){v=e.TableGameAttr,T=e.GameAttrKey},function(e){M=e.GameEvent}],execute:function(){var I,_,G,L,U,w,A,B,z,N,R,C,D;a._RF.push({},"f7a72kNixBMzLf1rgFChndb","MercenaryYbItem",void 0);var H=o.ccclass,k=o.property;e("MercenaryYbItem",(I=H("MercenaryYbItem"),_=k(l),G=k(p),L=k(s),U=k(s),w=k(l),I((z=r((B=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,n(r,"bg",z,i(r)),n(r,"roleLoader",N,i(r)),n(r,"lblMonsterName",R,i(r)),n(r,"lblAttr",C,i(r)),n(r,"sp_red",D,i(r)),r.mercenaryType=void 0,r._actCfg=new g,r}t(r,e);var a=r.prototype;return a.onDestroy=function(){f.message.off(M.MercenaryRed,this._eventHandler,this),f.message.off(M.ItemBagUpdated,this._eventHandler,this)},a.initView=function(e,r){this.mercenaryType=e;var t=y.get(m,r.fid),n=y.get(u,Number(t.monster[0][0]));this.roleLoader.initModel(n.model_id),this.lblMonsterName.string=r.name,this.refresh(),f.message.on(M.MercenaryRed,this._eventHandler,this),f.message.on(M.ItemBagUpdated,this._eventHandler,this)},a.refresh=function(){d.mercenary.mercenaryInfo.mlv[this.mercenaryType]?this.sp_red.active=d.mercenary.redByType(this.mercenaryType)||d.mercenary.mercenaryRedByType(this.mercenaryType):this.sp_red.active=d.mercenary.redLockByType(Number(this.mercenaryType));var e=d.mercenary.mercenaryInfo.mlv[this.mercenaryType]||this._actCfg.init(this.mercenaryType),r=d.mercenary.getMercenaryLvByID(e.id);this.lblAttr.string=v[r.xianshi].name+":+"+r[T[r.xianshi]]/100+"%",h.setGray(this.bg,!d.mercenary.isActive(this.mercenaryType))},a.onClickItem=function(){var e={type:Number(this.mercenaryType)};f.gui.open(b.MercenarySendGift,e)},a._eventHandler=function(e,r){e!=M.MercenaryRed&&e!=M.ItemBagUpdated||this.refresh()},r}(c)).prototype,"bg",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=r(B.prototype,"roleLoader",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=r(B.prototype,"lblMonsterName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=r(B.prototype,"lblAttr",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(B.prototype,"sp_red",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/MessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,s,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e.warn,o=e.log}],execute:function(){n._RF.push({},"a401fY+wj9NsqOACoZ7Zy/R","MessageManager",void 0);var i=function(){this.object=void 0},r=(e("MessageEventData",function(){function e(){this.events={}}var n=e.prototype;return n.on=function(e,t,n){var s=this.events[e];null==s&&(s=[],this.events[e]=s);var o=new i;o.event=e,o.listener=t,o.object=n,s.push(o),r.Instance.on(e,t,n)},n.off=function(e){var n=this.events[e];if(n){for(var s,o=t(n);!(s=o()).done;){var i=s.value;r.Instance.off(e,i.listener,i.object)}delete this.events[e]}},n.dispatchEvent=function(e,t){void 0===t&&(t=null),r.Instance.dispatchEvent(e,t)},n.clear=function(){for(var e in this.events)this.off(e)},e}()),e("MessageManager",function(){function e(){this.events={}}var t=e.prototype;return t.on=function(e,t,n){if(e&&t){var o=this.events[e];null==o&&(o=[],this.events[e]=o);for(var r=o.length,a=0;a<r;a++){var c=o[a];c.listener==t&&c.object==n&&s("名为【"+e+"】的事件重复注册侦听器")}var v=new i;v.event=e,v.listener=t,v.object=n,o.push(v)}else s("注册【"+e+"】事件的侦听器函数为空")},t.once=function(e,t,n){var s=this,o=function(i,r){s.off(e,o,n),o=null,t.call(n,i,r)};this.on(e,o,n)},t.off=function(e,t,n){var s=this.events[e];if(s){for(var i=s.length,r=0;r<i;r++){var a=s[r];if(a.listener==t&&a.object==n){s.splice(r,1);break}}0==s.length&&delete this.events[e]}else o("名为【"+e+"】的事件不存在")},t.dispatchEvent=function(e,t){void 0===t&&(t=null);var n=this.events[e];if(null!=n)for(var s=n.concat(),o=s.length,i=0;i<o;i++){var r=s[i];r.listener.call(r.object,e,t)}},e}()));r.Instance=new r,n._RF.pop()}}}));

System.register("chunks:///_virtual/MoneyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,l,c,u,p,f,m,h,I,d,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Sprite,l=t.Label,c=t.Node,u=t.Component},function(t){p=t.oops},function(t){f=t.ViewUtil},function(t){m=t.EItemType},function(t){h=t.GameEvent},function(t){I=t.GameResPath},function(t){d=t.UIID},function(t){g=t.smc},function(t){b=t.TableUtil}],execute:function(){var y,D,v,U,C,S,w,z,G,M;r._RF.push({},"65feeI3YINECLsGo04Ugpol","MoneyItem",void 0);var _=s.ccclass,E=s.property,F=s.integer;t("MoneyItem",(y=_("MoneyItem"),D=E(a),v=E(l),U=E(c),y((w=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"spIcon",w,o(e)),i(e,"lblCount",z,o(e)),i(e,"btnAdd",G,o(e)),i(e,"ID",M,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.ID>0?(f.loadSpriteFrame(this.spIcon,I.getItemSpriteFrame(this.ID)),this.refresh()):console.error("ID not initlized!"),p.message.on(h.ItemBagUpdated,this._eventHandler,this)},r.onDestroy=function(){p.message.off(h.ItemBagUpdated,this._eventHandler,this)},r.init=function(t){this.ID=t,f.loadSpriteFrame(this.spIcon,I.getItemSpriteFrame(this.ID)),this.refresh()},r.refresh=function(){this.lblCount.string=g.accountData.getItemCount(this.ID).toString()},r.onAddClick=function(){b.getItemType(this.ID)==m.MONEY?p.gui.open(d.Store):g.bag.showAccess(this.ID)},r._eventHandler=function(t,e){this.node.active&&t==h.ItemBagUpdated&&this.refresh()},e}(u)).prototype,"spIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"lblCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(S.prototype,"btnAdd",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(S.prototype,"ID",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=S))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var i,t,a,r,o,s,n,l,c,p,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,n=e.Node,l=e.Sprite,c=e.Component},function(e){p=e.ViewUtil},function(e){d=e.GameResPath}],execute:function(){var h,u,H,f,b,m,w,M,y,S,k,g,v,R,_;o._RF.push({},"fc3fcW9p8dOqLo5TWOBALK9","MonsterHead",void 0);var z=s.ccclass,B=s.property,G=s.boolean;e("MonsterHead",(h=z("MonsterHead"),u=B(n),H=B(n),f=B(n),b=B(l),m=B(l),h((y=i((M=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,a(i,"spHeadBG",y,r(i)),a(i,"headMaskRoot",S,r(i)),a(i,"headNormalRoot",k,r(i)),a(i,"spHeadNormal",g,r(i)),a(i,"spHeadMask",v,r(i)),a(i,"isShowHeadBG",R,r(i)),a(i,"isShowHeadMask",_,r(i)),i.icon_str=void 0,i}t(i,e);var o=i.prototype;return o.start=function(){this.initView(this.icon_str)},o.initView=function(e){void 0===e&&(e="mcn_1"),this.icon_str=e,this.headMaskRoot.active=this.isShowHeadMask,this.headNormalRoot.active=!this.isShowHeadMask,this.spHeadBG.active=this.isShowHeadBG,this.refreshHead()},o.refreshHead=function(){this.isShowHeadMask&&this.spHeadMask?p.loadSpriteFrame(this.spHeadMask,d.getSpriteFrameHeadMonster(this.icon_str)):!this.isShowHeadMask&&this.spHeadNormal&&p.loadSpriteFrame(this.spHeadNormal,d.getSpriteFrameHeadMonster(this.icon_str))},i}(c)).prototype,"spHeadBG",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(M.prototype,"headMaskRoot",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(M.prototype,"headNormalRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(M.prototype,"spHeadNormal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(M.prototype,"spHeadMask",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(M.prototype,"isShowHeadBG",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=i(M.prototype,"isShowHeadMask",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=M))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRigidBody.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,n,s,a,p,l,c,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){s=t.cclegacy,a=t._decorator,p=t.Vec3,l=t.RigidBody,c=t.EPSILON,y=t.Component}],execute:function(){var d,u,h,g,_,f,v,m,b,B,M;s._RF.push({},"4e8cedkWeJDEZoUMtauac/M","MoveRigidBody",void 0);var w=a.ccclass,A=a.property,S=new p,z=new p;t("MoveRigidBody",(d=w("MoveRigidBody"),u=A({tooltip:"阻尼"}),h=A({tooltip:"重力"}),g=A({tooltip:"移动速度"}),_=A({tooltip:"速度比率"}),d((m=e((v=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(e,"damping",m,o(e)),r(e,"gravity",b,o(e)),r(e,"_speed",B,o(e)),r(e,"_ratio",M,o(e)),e._rigidBody=null,e._grounded=!0,e._curMaxSpeed=0,e._prevAngleY=0,e._stateX=0,e._stateZ=0,e._velocity=new p,e}i(e,t);var s=e.prototype;return s.start=function(){this._rigidBody=this.getComponent(l),this._prevAngleY=this.node.eulerAngles.y},s.stop=function(){this._stateX=0,this._stateZ=0,this._rigidBody.clearVelocity()},s.update=function(t){this.applyGravity(),this.applyDamping(t),this.grounded&&this.applyLinearVelocity(S,1)},s.applyGravity=function(){var t=this.gravity,e=this._rigidBody.mass;z.set(0,e*t,0),this._rigidBody.applyForce(z)},s.applyDamping=function(t){this._rigidBody.getLinearVelocity(z),z.lengthSqr()>c&&(z.multiplyScalar(Math.pow(1-this.damping,t)),this._rigidBody.setLinearVelocity(z))},s.applyLinearVelocity=function(t,e){if(this._stateX||this._stateZ){S.set(this._stateX,0,this._stateZ),S.normalize(),this._rigidBody.getLinearVelocity(z),p.scaleAndAdd(z,z,t,e);var i=this._curMaxSpeed,r=1;z.lengthSqr()>i&&(Math.abs(this.node.eulerAngles.y-this._prevAngleY)>=10&&(r=2),this._prevAngleY=this.node.eulerAngles.y,z.normalize(),z.multiplyScalar(i/r)),this._rigidBody.setLinearVelocity(z)}},n(e,[{key:"speed",get:function(){return this._speed},set:function(t){this._speed=t,this._curMaxSpeed=t*this.ratio}},{key:"ratio",get:function(){return this._ratio},set:function(t){this._ratio=t,this._curMaxSpeed=this.speed*t}},{key:"grounded",get:function(){return this._grounded}},{key:"velocity",get:function(){return this._velocity},set:function(t){this._velocity=t;var e=t.x,i=t.z;(e>0&&this._stateX<0||e<0&&this._stateX>0||i>0&&this._stateZ<0||i<0&&this._stateZ>0)&&this._rigidBody.clearVelocity(),this._stateX=e,this._stateZ=i}}]),e}(y)).prototype,"damping",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=e(v.prototype,"gravity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-10}}),B=e(v.prototype,"_speed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),e(v.prototype,"speed",[g],Object.getOwnPropertyDescriptor(v.prototype,"speed"),v.prototype),M=e(v.prototype,"_ratio",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(v.prototype,"ratio",[_],Object.getOwnPropertyDescriptor(v.prototype,"ratio"),v.prototype),f=v))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveTo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Timer.ts","./Vec3Util.ts"],(function(t){"use strict";var e,i,s,o,n,r,l,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,o=t.Node,n=t.Vec3,r=t.Component},function(t){l=t.Timer},function(t){h=t.Vec3Util}],execute:function(){var a;i._RF.push({},"5e22a+qWUpI6ZHSVRRj2DYT","MoveTo",void 0);var c=s.ccclass;s.property,t("MoveTo",c("MoveTo")(a=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).target=null,e.velocity=h.zero,e.speed=0,e.hasYAxis=!0,e.ns=o.NodeSpace.LOCAL,e.offset=0,e.offsetVector=null,e.onStart=null,e.onComplete=null,e.onChange=null,e.timer=new l,e.end=null,e}e(i,t);var s=i.prototype;return s.update=function(t){var e;if(console.assert(this.speed>0,"移动速度必须要大于零"),null!=(e=this.target instanceof o?this.ns==o.NodeSpace.WORLD?this.target.worldPosition:this.target.position:this.target)){if(null==this.end||!this.end.strictEquals(e)){var i,s=e.clone();this.offsetVector&&(s=s.add(this.offsetVector)),0==this.hasYAxis&&(s.y=0);var r=this.ns==o.NodeSpace.WORLD?this.node.worldPosition:this.node.position;this.velocity=h.sub(s,r).normalize();var l,a=n.distance(r,s)-this.offset;if(null==(i=this.onChange)||i.call(this),a<=0)return void this.exit();null==(l=this.onStart)||l.call(this),this.timer.step=a/this.speed,this.end=e.clone()}if(this.speed>0){var c=h.mul(this.velocity,this.speed*t);this.ns==o.NodeSpace.WORLD?this.node.worldPosition=h.add(this.node.worldPosition,c):this.node.position=h.add(this.node.position,c)}this.timer.update(t)&&(0==this.offset&&(this.ns==o.NodeSpace.WORLD?this.node.worldPosition=this.end:this.node.position=this.end),this.exit())}else this.exit()},s.exit=function(){var t;null==(t=this.onComplete)||t.call(this),this.destroy()},i}(r))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/MoveTranslate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vec3Util.ts"],(function(e){"use strict";var t,o,r,n,c,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,n=e.Vec3,c=e.Node,s=e.Component},function(e){i=e.Vec3Util}],execute:function(){var a;o._RF.push({},"e626612zClLO4OZDEWvT+fr","MoveTranslate",void 0);var l=r.ccclass;r.property,e("MoveTranslate",l("MoveTranslate")(a=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).velocity=i.zero,t.speed=0,t.vector=new n,t}return t(o,e),o.prototype.update=function(e){this.speed>0&&(n.multiplyScalar(this.vector,this.velocity,this.speed*e),this.node.translate(this.vector,c.NodeSpace.WORLD))},o}(s))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/MWComboBox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,s,c,r,l,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Node,s=t.instantiate,c=t.Button,r=t.Label,l=t.Layout,h=t.Component}],execute:function(){var _,u;n._RF.push({},"2a394d8p5pGH4AX9UQdc5Ra","MWComboBox",void 0);var a,g=i.ccclass;i.property;!function(t){t.COMBOBOX_CLICK="combobox_click"}(a||(a={}));t("MWComboBox",g("MWComboBox")(((u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._itemsTextArray=[],e._openSignAngle=0,e._closeSignAngle=270,e._currentLabel=new o,e._btnSign=new o,e._scrollView=new o,e._content=new o,e._item=new o,e}e(n,t);var i=n.prototype;return i.onLoad=function(){this._init()},i.start=function(){},i._init=function(){this._initChildNode(),this._initEvent()},i._initChildNode=function(){this._currentLabel=this.node.children[0],this._btnSign=this.node.children[1],this._scrollView=this.node.children[2],this._content=this._scrollView.children[0].children[0],this._item=s(this._content.children[0]),this._content.removeAllChildren()},i._initEvent=function(){this.node.on(c.EventType.CLICK,this._openCloseComboBox,this)},i._bugFix=function(){var t=this;this.scheduleOnce((function(){t._scrollView.active=!0}),.1),this.scheduleOnce((function(){t._scrollView.active=!1}),.2)},i.setItems=function(t){this._recycle(),this._itemsTextArray=t,this.setCurrentText(this._itemsTextArray[0]),this._spawnItems()},i._recycle=function(){this._itemsTextArray=[],this._content.removeAllChildren()},i._spawnItems=function(){for(var t=0;t<this._itemsTextArray.length;t++){var e=new o;e=s(this._item),this._content.addChild(e),this._setItemText(e,this._itemsTextArray[t]),e.on(c.EventType.CLICK,this._itemClicked,this)}},i._setItemText=function(t,e){new r;t.children[0].getComponent(r).string=e},i._openCloseComboBox=function(){var t=this;this._scrollView.active?(this._scrollView.active=!1,this._btnSign.angle=this._closeSignAngle):(this._scrollView.active=!0,this.scheduleOnce((function(){t._content.getComponent(l).updateLayout(!0)})),this._btnSign.angle=this._openSignAngle)},i.getCurrentText=function(){var t;return null==(t=this._currentLabel.getComponent(r))?void 0:t.string},i.setCurrentText=function(t){new r;this._currentLabel.getComponent(r).string=t},i.setOpenSignAngle=function(t){this._openSignAngle=t},i.setClosedSignAngle=function(t){this._closeSignAngle=t},i._itemClicked=function(t){this._currentLabel.getComponent(r).string=t.node.children[0].getComponent(r).string,this._openCloseComboBox(),this.node.emit(a.COMBOBOX_CLICK,this)},n}(h)).EventType=a,_=u))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/MWComboBoxEx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MWComboBox.ts"],(function(t){"use strict";var e,o,n,r,i,s,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.Node,i=t.instantiate,s=t.Button,a=t.Label},function(t){c=t.MWComboBox}],execute:function(){var h;o._RF.push({},"e98b8i2MZ9F3phOvLVewbcD","MWComboBoxEx",void 0);var l=n.ccclass;n.property,t("MWComboBoxEx",l("MWComboBoxEx")(h=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._itemsDataArray=[],e}e(o,t);var n=o.prototype;return n.setItemsEx=function(t){this._recycle(),this._itemsDataArray=t,this.setCurrentTextEx(this._itemsDataArray[0]),this._spawnItemsEx()},n._spawnItemsEx=function(){for(var t=0;t<this._itemsDataArray.length;t++){var e=new r;e=i(this._item),this._content.addChild(e),this._setItemTextEx(e,this._itemsDataArray[t]),e.on(s.EventType.CLICK,this._itemClicked,this)}},n._setItemTextEx=function(t,e){var o=new a;(o=t.children[0].getComponent(a)).string=e.name,e.color&&(o.color=e.color)},n.setCurrentTextEx=function(t){var e=new a;(e=this._currentLabel.getComponent(a)).string=t.name,t.color&&(e.color=t.color)},n._itemClicked=function(t){var e=t.node.getSiblingIndex();this.setCurrentTextEx(this._itemsDataArray[e]),this._openCloseComboBox(),this.node.emit(c.EventType.COMBOBOX_CLICK,this)},o}(c))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/NavLine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,s,a,o,l,p,h,c,u,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,o=t.Node,l=t.MeshRenderer,p=t.Vec3,h=t.Vec2,c=t.v2,u=t.macro,d=t.Component,y=t.Color}],execute:function(){var f,m,b,v,g,w,N,_,z,P,x,D,M,E,L,R,C;s._RF.push({},"41dce0XCUNII74J0zSeaDUf","NavLine",void 0);var F=a.ccclass,O=a.property;t("NavLine",(f=F("NavLine - 导航钱组件"),m=O({type:o,displayName:"玩家模型节点"}),b=O({type:l,displayName:"箭头网格",tooltip:"拖MeshRenderer组件到这里"}),v=O({displayName:"导航线颜色"}),g=O({displayName:"执行间隔",tooltip:"多少帧执行一次，数值越大动画越流程，建议3-5",min:1}),w=O({displayName:"箭头速度",tooltip:"控制材质texture位移，数值越大动画播放越快",min:.1}),N=O({displayName:"箭头密度",tooltip:"控制箭头的密度，数值越大越密",min:.1}),_=O({displayName:"角度变化",tooltip:"箭头是否有 x 欧拉角度变化，有高度的地形引导开启"}),f((x=e((P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,r(e,"player",x,n(e)),r(e,"mesh",D,n(e)),r(e,"color",M,n(e)),r(e,"interval",E,n(e)),r(e,"speed",L,n(e)),r(e,"density",R,n(e)),r(e,"xEuler",C,n(e)),e.mat=null,e.inited=!1,e.distance=0,e.frame=0,e.start_pos=new p,e.target_pos=new p,e.tOffset=new h(1,1),e}i(e,t);var s=e.prototype;return s.start=function(){this.mat=this.mesh.material,this.mat.setProperty("textureMoveSpeed",c(0,this.speed)),this.hide()},s.show=function(t){this.node.setRotationFromEuler(0,this.player.eulerAngles.y,0),this.mesh.node.active=!0,this.frame=0,this.inited=!0,this.mat.setProperty("mainColor",this.color),this.start_pos.set(this.player.worldPosition),this.target_pos.set(t),this.setDistance()},s.hide=function(){this.inited=!1,this.mesh.node.active=!1},s.setDistance=function(){this.distance=p.distance(this.target_pos,this.player.worldPosition),this.node.setScale(this.node.scale.x,this.node.scale.y,this.distance),this.node.setWorldPosition(this.player.worldPosition),this.tOffset.y=this.distance*this.density,this.mat.setProperty("tilingOffset",this.tOffset),this.xEuler&&this.rotation(this.start_pos,this.target_pos)},s.rotation=function(t,e){var i=Math.asin(Math.sin(Math.abs(e.y-t.y)/this.distance))*u.DEG%360,r=e.y-t.y>0?-i:i;this.node.setRotationFromEuler(r,this.player.eulerAngles.y,0)},s.update=function(t){this.inited&&(this.frame++,this.frame>=this.interval&&(this.setDistance(),this.frame=0))},e}(d)).prototype,"player",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(P.prototype,"mesh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(P.prototype,"color",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(255,0,0,255)}}),E=e(P.prototype,"interval",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),L=e(P.prototype,"speed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(P.prototype,"density",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=e(P.prototype,"xEuler",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=P))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/NetInterface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d9f8b+CV69FyKwnUdCjOtad","NetInterface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/NetManager.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"d8cd5el6GBGTYTW+N8b8EuJ","NetManager",void 0),n("NetManager",function(){function n(){this._channels={}}n.getInstance=function(){return this._instance||(this._instance=new n),this._instance};var e=n.prototype;return e.setNetNode=function(n,e){void 0===e&&(e=0),this._channels[e]=n},e.removeNetNode=function(n){delete this._channels[n]},e.connect=function(n,e){return void 0===e&&(e=0),!!this._channels[e]&&this._channels[e].connect(n)},e.send=function(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=0);var i=this._channels[t];return i?i.send(n,e):-1},e.request=function(n,e,t,i,s){void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===s&&(s=0);var c=this._channels[s];c&&c.request(n,e,t,i)},e.requestUnique=function(n,e,t,i,s){void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===s&&(s=0);var c=this._channels[s];return!!c&&c.requestUnique(n,e,t,i)},e.close=function(n,e,t){if(void 0===t&&(t=0),this._channels[t])return this._channels[t].closeSocket(n,e)},n}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/NetNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var t,s,i,n,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,i=e.error,n=e.warn},function(e){o=e.Logger}],execute:function(){e({NetNodeState:void 0,NetTipsType:void 0}),s._RF.push({},"57f0fB90kNBUJ98yyu+jxjx","NetNode",void 0);var c,r,l=["已关闭","连接中","验证中","可传输数据"];!function(e){e[e.Connecting=0]="Connecting",e[e.ReConnecting=1]="ReConnecting",e[e.Requesting=2]="Requesting"}(c||(c=e("NetTipsType",{}))),function(e){e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Checking=2]="Checking",e[e.Working=3]="Working"}(r||(r=e("NetNodeState",{})));e("NetNode",function(){function e(){this._connectOptions=null,this._autoReconnect=0,this._isSocketInit=!1,this._isSocketOpen=!1,this._state=r.Closed,this._socket=null,this._networkTips=null,this._protocolHelper=null,this._connectedCallback=null,this._disconnectCallback=null,this._callbackExecuter=null,this._keepAliveTimer=null,this._receiveMsgTimer=null,this._reconnectTimer=null,this._heartTime=1e4,this._receiveTime=6e6,this._reconnetTimeOut=8e6,this._requests=Array(),this._listener={}}var s=e.prototype;return s.init=function(e,t,s,i){void 0===s&&(s=null),void 0===i&&(i=null),o.logNet("网络初始化"),this._socket=e,this._protocolHelper=t,this._networkTips=s,this._callbackExecuter=i||function(e,t){e.callback.call(e.target,t)}},s.connect=function(e){return!(!this._socket||this._state!=r.Closed)&&(this._isSocketInit||this.initSocket(),this._state=r.Connecting,this._socket.connect(e)?(null==this._connectOptions&&"number"==typeof e.autoReconnect&&(this._autoReconnect=e.autoReconnect),this._connectOptions=e,this.updateNetTips(c.Connecting,!0),!0):(this.updateNetTips(c.Connecting,!1),!1))},s.initSocket=function(){var e=this;this._socket&&(this._socket.onConnected=function(t){e.onConnected(t)},this._socket.onMessage=function(t){e.onMessage(t)},this._socket.onError=function(t){e.onError(t)},this._socket.onClosed=function(t){e.onClosed(t)},this._isSocketInit=!0)},s.updateNetTips=function(e,t){this._networkTips&&(e==c.Requesting?this._networkTips.requestTips(t):e==c.Connecting?this._networkTips.connectTips(t):e==c.ReConnecting&&this._networkTips.reconnectTips(t))},s.onConnected=function(e){var t=this;o.logNet("网络已连接"),this._isSocketOpen=!0,null!==this._connectedCallback?(this._state=r.Checking,this._connectedCallback((function(){t.onChecked()}))):this.onChecked(),o.logNet("网络已连接当前状态为【"+l[this._state]+"】")},s.onChecked=function(){o.logNet("连接验证成功，进入工作状态"),this._state=r.Working,this.updateNetTips(c.Connecting,!1),this.updateNetTips(c.ReConnecting,!1);var e=this._requests.concat();if(e.length>0){o.logNet("请求【"+this._requests.length+"】个待发送的信息");for(var t=0;t<e.length;){var s=e[t];this._socket.send(s.buffer),null==s.rspObject||""!=s.rspCmd?e.splice(t,1):++t}this.updateNetTips(c.Requesting,this._requests.length>0)}},s.onMessage=function(e){var s=JSON.parse(e);if(this._protocolHelper.checkResponsePackage(s)){this._protocolHelper.handlerResponsePackage(s)||this._networkTips&&this._networkTips.responseErrorCode(s.code),this.resetReceiveMsgTimer(),this.resetHearbeatTimer();var n=this._protocolHelper.getPackageId(s);if(o.logNet("接受到命令【"+n+"】的消息"),this._requests.length>0){for(var r in this._requests){var l=this._requests[r];if(l.rspCmd==n&&l.rspObject){o.logNet("触发请求命令【"+n+"】的回调"),this._callbackExecuter(l.rspObject,s.data),this._requests.splice(parseInt(r),1);break}}0==this._requests.length?this.updateNetTips(c.Requesting,!1):o.logNet("请求队列中还有【"+this._requests.length+"】个请求在等待")}var h=this._listener[n];if(null!=h)for(var u,a=t(h);!(u=a()).done;){var _=u.value;o.logNet("触发监听命令【"+n+"】的回调"),this._callbackExecuter(_,s.data)}}else i("校验接受消息数据异常")},s.onError=function(e){i(e)},s.onClosed=function(e){var t=this;this.clearTimer(),!this._disconnectCallback||this._disconnectCallback()?this.isAutoReconnect()?(this.updateNetTips(c.ReConnecting,!0),this._reconnectTimer=setTimeout((function(){t._socket.close(),t._state=r.Closed,t.connect(t._connectOptions),t._autoReconnect>0&&(t._autoReconnect-=1)}),this._reconnetTimeOut)):this._state=r.Closed:o.logNet("断开连接")},s.close=function(e,t){this.clearTimer(),this._listener={},this._requests.length=0,this._networkTips&&(this._networkTips.connectTips(!1),this._networkTips.reconnectTips(!1),this._networkTips.requestTips(!1)),this._socket?this._socket.close(e,t):this._state=r.Closed},s.closeSocket=function(e,t){this._socket&&this._socket.close(e,t)},s.send=function(e,t){return void 0===t&&(t=!1),this._state==r.Working||t?this._socket.send(e):this._state==r.Checking||this._state==r.Connecting?(this._requests.push({buffer:e,rspCmd:"",rspObject:null}),o.logNet("当前状态为【"+l[this._state]+"】,繁忙并缓冲发送数据"),0):(i("当前状态为【"+l[this._state]+"】,请求错误"),-1)},s.request=function(e,t,s,i){void 0===s&&(s=!0),void 0===i&&(i=!1);var n=this._protocolHelper.handlerRequestPackage(e);this.base_request(e,n,t,s,i)},s.requestUnique=function(e,t,s,i){void 0===s&&(s=!0),void 0===i&&(i=!1);for(var n=this._protocolHelper.handlerRequestPackage(e),c=0;c<this._requests.length;++c)if(this._requests[c].rspCmd==n)return o.logNet("命令【"+n+"】重复请求"),!1;return this.base_request(e,n,t,s,i),!0},s.base_request=function(e,t,s,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var l=JSON.stringify(e);(this._state==r.Working||n)&&this._socket.send(l),o.logNet("队列命令为【"+t+"】的请求，等待请求数据的回调"),this._requests.push({buffer:l,rspCmd:t,rspObject:s}),i&&this.updateNetTips(c.Requesting,!0)},s.setResponeHandler=function(e,t,s){return null==t?(i("命令为【"+e+"】设置响应处理程序错误"),!1):(this._listener[e]=[{target:s,callback:t}],!0)},s.addResponeHandler=function(e,t,s){if(null==t)return i("命令为【"+e+"】添加响应处理程序错误"),!1;var n={target:s,callback:t};null==this._listener[e]?this._listener[e]=[n]:-1==this.getNetListenersIndex(e,n)&&this._listener[e].push(n);return!0},s.removeResponeHandler=function(e,t,s){if(null!=this._listener[e]&&null!=t){var i=this.getNetListenersIndex(e,{target:s,callback:t});-1!=i&&this._listener[e].splice(i,1)}},s.cleanListeners=function(e){void 0===e&&(e=""),""==e?this._listener={}:delete this._listener[e]},s.getNetListenersIndex=function(e,t){for(var s=-1,i=0;i<this._listener[e].length;i++){var n=this._listener[e][i];if(n.callback==t.callback&&n.target==t.target){s=i;break}}return s},s.resetReceiveMsgTimer=function(){var e=this;null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),this._receiveMsgTimer=setTimeout((function(){n("接收消息定时器关闭网络连接"),e._socket.close()}),this._receiveTime)},s.resetHearbeatTimer=function(){var e=this;null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),this._keepAliveTimer=setTimeout((function(){o.logNet("网络节点保持活跃发送心跳信息"),e.send(e._protocolHelper.getHearbeat())}),this._heartTime)},s.clearTimer=function(){null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),null!==this._reconnectTimer&&clearTimeout(this._reconnectTimer)},s.isAutoReconnect=function(){return 0!=this._autoReconnect},s.rejectReconnect=function(){this._autoReconnect=0,this.clearTimer()},e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/NetProtocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameSys.ts"],(function(i){"use strict";var t,e;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy},null],execute:function(){var o;i({EGameRunState:void 0,MsgID:void 0}),e._RF.push({},"84329S+j3ZBMrG9979hfNso","NetProtocol",void 0),function(i){i.Login="login",i.LoginAuth="login/gameLoginAuth",i.Fight="fight/gamelevels",i.Fight2="fight/gamelevels2",i.FightElite="fight/elite",i.FightArena="fight/arena",i.FightAbyssDragon="fight/abyssDragon",i.FightYongBingUpgrade="upgrade/goto",i.FightDemonAbyss="fight/demonAbyssFight",i.FightMercenary="mercenary/pk",i.FightSweep="fight/elitesweep",i.FightRank="fight/glrank",i.FightRoleInfo="fight/roleinfo",i.FightADAward="fight/adDamageAward",i.FightADRank="fight/getADRank",i.WorldRank="fight/allrank",i.DemonAbyssDailyAwards="fight/demonAbyssDailyAwards",i.DemonAbyssGetAwards="fight/demonAbyssGetAwards",i.DemonAbyssDailyBuyItem="fight/demonAbyssDailyBuyItem",i.SKillPosActive="skill/active",i.SkillEquip="skill/setup",i.SkillUp="skill/lvup",i.SkillSuit="skill/suit",i.EquipSetup="equip/setup",i.EquipSetupAuto="equip/autoSetup",i.EquipSell="equip/sell",i.EquipSellBatch="equip/quickSell",i.EquipPosUp="hero/equipPosUp",i.EquipPosUpAll="hero/allEquipPosUp",i.HeroLvUp="hero/heroLvUp",i.RoleHead="hero/roleUpico",i.RoleReName="hero/roleUpname",i.EBoxOpen="box/openEBox",i.EBoxSell="box/sellTmpEquip",i.EBoxSave="box/saveTmpEquip",i.EBoxSub="box/setUpTmpEquip",i.EBoxUp="box/lvUpEBox",i.EBoxAccelerate="box/quickenEBoxCD",i.EBoxCheckCD="box/checkLvUpEBox",i.SBoxOpen="box/openSBox",i.XBAward="box/xbaward",i.GetGuajiAward="time-award/getTimeAward",i.GetQuickGuajiAward="time-award/getQuickTimeAward",i.GetQuickTimeAward="time-award/getDiamondAward",i.DiamondAwardInfo="time-award/getDiamondAwardInfo",i.FuliGetDailyAward="welfare/getWelFareDailyAward",i.FuliGetLevelAward="welfare/getWelFareLevelAward",i.FuliGetPaidDaysAward="welfare/getWelFarePaidDaysAward",i.TaskGetMainAward="task/getTaskMainAward",i.TaskGetDailyAward="task/getTaskDailyAward",i.TaskGetDailyBoxAward="task/getTaskDailyBoxAward",i.TaskGradeAward="task/getTaskGradeAward",i.StoreBuyItemSp="shop/buyItemSp",i.StoreBuyItem="shop/buyItem",i.StoreDeliver="shop/notifyRechargePayShop",i.MonthCardAward="shop/getMonthCardAward",i.FundLevelGetAward="shop/fundLevelGetAward",i.FundEboxGetAward="shop/fundEboxGetAward",i.ForeverCardAward="shop/getForeverCardAward",i.RechargeGift="shop/rechargeGift",i.DuobaoUpdate="pirate-ship/psUpdateDate",i.DuobaoAct="pirate-ship/psGoAct",i.DuobaoGetFuli="pirate-ship/psGetWelFareAward",i.DuobaoFireUp="pirate-ship/psSellLvUpDto",i.DuobaoGetRank="pirate-ship/psGetRank",i.DuobaoFresh="pirate-ship/psFresh",i.MedalLevelUp="medal/lvup",i.ArenaRank="arena/rank",i.ArenaChallenge="arena/show",i.ArenaLog="arena/log",i.ArenaRoleInfo="arena/roleinfo",i.FightArenaKF="arena/fight",i.EmailUIData="email/getData",i.EmailReceive="email/receive",i.EmailReceivaAll="email/autoReceive",i.EmailDeleteAll="email/autoDelete",i.ShiguoEat="fruit/eat",i.ShiguoEatAll="fruit/eatall",i.HaloUp="aureole/up",i.HaloAct="aureole/act",i.HaloUse="aureole/use",i.MercenaryAct="mercenary/act",i.MercenaryUp="mercenary/up",i.MercenaryXB="mercenary/go",i.MercenaryFresh="mercenary/upData",i.RareMonsterLevelUp="raremonster/levelup",i.RareMonsterFight="raremonster/fihgt",i.RareMonsterChange="raremonster/change",i.RareMonsterLottery="raremonster/lottery",i.RaremonsterSuit="raremonster/suit",i.WrestleChange="wrestle/change",i.WrestlePK="wrestle/pk",i.WrestleAward="wrestle/getaward",i.WrestleCard="wrestle/card",i.JourneyAward="game-common/getSysOpenAward",i.TitleActive="title/active",i.TitleDress="title/dress",i.TitleUndress="title/undress",i.TitleExpire="title/expired",i.FashionActive="fashion/active",i.FashionDress="fashion/dress",i.FashionUndress="fashion/undress",i.FashionExpire="fashion/expired",i.WelfareOpenServerPointAward="/task/getOpenWelfarePointAward",i.WelfareOpenServerTaskAward="/task/getTaskOpenWelfareAward",i.GuildCreate="guild/create",i.GuildRank="guild/rank",i.GuildJoin="guild/join",i.GuildInfo="guild/getGuild",i.GuildMainInfo="guild/info",i.GuildChange="guild/change",i.GuildQuit="guild/leave",i.GuildTransfer="guild/setLeader",i.GuildApplyList="guild/applyList",i.GuildSearch="guild/search",i.GuildLivenessAward="task/getGuildLivenessAward",i.GuildTaskAward="task/getGuildTaskAward",i.CQUpgrade="cq/levelup"}(o||(o=i("MsgID",{})));i("ArenaFightInfo",(function(){this.ourpoint=void 0,this.ourchangepoint=void 0,this.foepoint=void 0,this.foechangepoint=void 0,this.wincount=void 0})),i("CQResult",(function(){this.cqid=void 0,this.enemy=void 0,this.win=void 0,this.skill=void 0})),i("AureoleInfo",(function(){this.id=1001,this.act=[1]})),i("DemonAbyssEntity",(function(){this.da_levels=0,this.da_awards_tag=0,this.da_fight_lost=!1,this.da_pos=0})),i("EmailItemsEntity",(function(){this.i=void 0,this.n=void 0,this.q=void 0,this.einfo=void 0})),i("EmailEntity",(function(){this.id=void 0,this.serverid=void 0,this.title=void 0,this.content=void 0,this.items=void 0,this.state=void 0,this.sender=void 0,this.owner=void 0,this.time=void 0,this.needSave=void 0})),i("WrestleFightEntity",(function(){this.daynum=0,this.pkgroup=0,this.turns=0,this.monhp=0,this.posorder=[],this.opos=0,this.epos=0,this.wincount=0})),i("WrestleEntity",(function(){this.exp=0,this.id=1,this.fight=void 0,this.isget=void 0})),i("RoleAddExp",(function(){this.addExp=void 0,this.newExp=void 0,this.newLevel=void 0,this.newHero=void 0,this.newActiveHeros=void 0,this.newSystem=void 0,this.newTmpEquips=void 0})),i("FightCampEntity",(function(){this.our=void 0,this.enemy=void 0})),i("CampInfoEntity",(function(){this.aureole=void 0,this.rareMonster=void 0,this.wrestl=void 0})),i("WrestleCampEntity",(function(){this.order=[],this.pos=0})),i("FightActEntity",(function(){this.t=void 0,this.sid=void 0,this.bid=void 0,this.ap=void 0,this.tp=void 0,this.v=void 0,this.miss=void 0,this.no_damage=void 0,this.crite=void 0,this.st=void 0,this.sub=void 0})),i("BuffEntity",(function(){this.id=void 0,this.data=void 0,this.rounds=void 0,this.val=0}));var s,d=i("RoleBaseEntity",(function(){this.id=void 0,this.name=void 0}));i("RoleEntity",function(i){function e(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this).name="游客",t.userid=void 0,t.serverid=void 0,t}return t(e,i),e}(d)),i("EquipEntity",(function(){this.id=void 0,this.qid=void 0,this.bper=void 0,this.eid=void 0,this.battr=void 0,this.add=void 0,this.tmphid=void 0,this.pos=void 0})),i("HeroEntity",(function(){this.id=void 0,this.skill=void 0,this.equip=void 0,this.poslv=void 0,this.fruit=void 0,this.tAttr=void 0,this.fight=void 0,this.pkcards=void 0,this.fashion=0})),i("SkillPosEntity",(function(){this.sid=void 0})),i("SkillEntity",(function(){this.hid=void 0})),i("SkillSystemEntity",(function(){this.list=void 0,this.suit=void 0})),i("EBoxEntity",(function(){this.lv=void 0,this.lvUpCount=void 0,this.cd=void 0,this.speCount=void 0,this.interval=void 0})),i("SBoxEntity",(function(){this.speCount=void 0}));!function(i){i[i.NORMAL=0]="NORMAL",i[i.TEST=1]="TEST"}(s||(s=i("EGameRunState",{})));i("RoleInfoEntity",(function(){this.rolelevel=void 0,this.exp=void 0,this.gamelevels=void 0,this.glpos=void 0,this.info=void 0})),i("SetDailyEntity",(function(){this.timeAward_dailyNum=void 0,this.taskDaiy=void 0,this.reSetItem={},this.welfareDaily=void 0,this.welfarePaidDays=void 0,this.status=void 0,this.dailyTag=void 0,this.alwayTag=void 0,this.monsthCard_daily=void 0,this.foreverCard_daily=void 0,this.pirateShip=void 0,this.reDayInfo=void 0,this.rechargeGift=void 0})),i("ReDayInfo",(function(){this.elitesweepcount=0,this.ad_damage=0,this.ad_awardTag=0,this.da_awards=!1,this.da_buytag=0,this.raremst_daily=0})),i("TimeAwardEntity",(function(){this.startTime=void 0,this.dailyNum=void 0})),i("WelfareDaily",(function(){this.receivedDays=0,this.todayReceived=!1})),i("WelfarePaidDays",(function(){this.receivedPaidDays=0,this.dailyReceived=!1})),i("TaskEntity",(function(){this.id=void 0,this.count=void 0,this.state=void 0})),i("TaskMainEntity",(function(){this.lastId=0,this.curEntity=void 0})),i("TaskDailyEntity",(function(){this.tasklist=void 0,this.received=0})),i("NewTaskEntity",(function(){this.newTaskMain=void 0,this.newTaskDaily=void 0,this.newTaskUpgrade=void 0,this.newTaskOpenWelfare=void 0,this.newTaskGuild=void 0})),i("BuyItemTag",(function(){this.dailyTag={},this.alwayTag={},this.doubleTag={},this.timeTag={}})),i("RechargeShop",(function(){this.monsthCard_daily=void 0,this.foreverCard_daily=void 0,this.fundLevel_Lv=void 0,this.fundLevel_HLv=void 0,this.fundEbox_Lv=void 0,this.fundEbox_HLv=void 0})),i("MedalInfo",(function(){this.exp=0,this.mid=1})),i("ArenaInfo",(function(){this.sTime=void 0,this.season=void 0,this.challenge=3,this.point=1e3,this.rank=void 0,this.show=void 0,this.log=void 0})),i("ArenaLogEntity",(function(){this.id=void 0,this.seasonid=void 0,this.serverid=void 0,this.roleid=void 0,this.atkid=void 0,this.point=void 0,this.time=void 0,this.state=void 0,this.info=void 0,this.save=void 0}));var a=i("RoleCommonEntity",(function(){this.c=void 0,this.f=void 0,this.n=void 0,this.lv=void 0,this.title=void 0,this.sid=void 0})),n=i("RoleShowInfoEntity",function(i){function e(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this).rh=void 0,t.m=void 0,t.lg=void 0,t.gh=void 0,t.rmon=void 0,t}return t(e,i),e}(a)),h=i("RoleFightEntity",function(i){function e(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this).obj=void 0,t}return t(e,i),e}(a));i("ArenaEntity",function(i){function e(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this).id=void 0,t.r=void 0,t.p=void 0,t}return t(e,i),e}(h)),i("PirateShipRoleEntity",(function(){this.sTime=void 0,this.season=1,this.rank=void 0,this.pos=1,this.act_count=0,this.posList={},this.adddice_time=void 0,this.damage=0,this.shipId=void 0,this.shellInfo=void 0,this.fireEnergy=0,this.fightInfo=void 0,this.welfare_lv=0,this.welfare_Hlv=0,this.killNum=0,this.rankDAT=void 0})),i("PSActEntity",(function(){this.act=void 0,this.newpos=void 0,this.newpos_itemid=void 0,this.change_energy=void 0,this.additmes=void 0,this.new_shipId=void 0,this.damage=void 0,this.damage_itemid=void 0,this.add_buff=void 0,this.remove_buff=void 0,this.new_fightInfo=void 0})),i("PSFightEntity",(function(){this.hp=0,this.buff=void 0,this.buff_idtag=0})),i("PSBuffEntity",(function(){this.id=void 0,this.type=void 0,this.lv=void 0,this.count=void 0,this.once=void 0})),i("SPSRankEntity",(function(){this.id=void 0,this.n=void 0,this.f=void 0,this.d=void 0,this.c=void 0,this.t=void 0})),i("RankInfoEntity",function(i){function e(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this).r=void 0,t}return t(e,i),e}(n)),i("GameRankEntity",(function(){this.id=void 0,this.type=void 0,this.roleid=void 0,this.serverid=void 0,this.val=void 0,this.info=void 0,this.save=void 0})),i("RoleRechargeInfo",(function(){this.total6Days=0,this.today6IsPaid=!1,this.dailyAmounts=0,this.totalAmounts=0})),i("MercenaryLvEntity",(function(){this.id=void 0,this.exp=void 0,this.fid=void 0})),i("MercenaryActEntity",(function(){this.pn=0,this.an=0,this.dam=0})),i("MercenaryDataEntity",(function(){this.mlv=void 0,this.actinfo=void 0,this.flag_time=void 0})),i("RareMonsterEntity",(function(){this.id=[],this.fight=[[0,0,0],[0,0,0],[0,0,0]],this.use=0,this.suit=[],this.num=0})),i("TitleEntity",(function(){this.id={},this.show=0})),i("TitleMsg",(function(){this.update=!1,this.id=void 0,this.title=void 0,this.hero=void 0})),i("FashionEntity",(function(){this.id={}})),i("FashionMsg",(function(){this.update=!1,this.id=[],this.fashion=void 0,this.hero=void 0})),i("OpenWelfareEntity",(function(){this.tasklist={},this.totalPoint=0,this.received=0})),i("XBoxEntity",(function(){this.speCount=void 0,this.total=void 0,this.times=void 0,this.award=void 0})),i("GuildRoleinfo",(function(){this.guildid=void 0,this.joinTime=void 0,this.leaveTime=void 0})),i("GuildEntity",(function(){this.id=void 0,this.serverid=void 0,this.crossServerid=void 0,this.guildid=void 0,this.name=void 0,this.info=void 0,this.needSave=void 0})),i("GuildInfoEntity",(function(){this.level=void 0,this.exp=void 0,this.flag=void 0,this.member=void 0,this.open=void 0,this.desc=void 0,this.notice=void 0,this.needlv=void 0,this.log=void 0,this.af=void 0,this.unMember=void 0,this.rank=void 0,this.liveness=void 0})),i("mInfo",(function(){this.post=void 0,this.id=void 0,this.name=void 0,this.lv=void 0,this.lg=void 0,this.ico=void 0,this.daygx=void 0,this.allgx=void 0,this.fight=void 0,this.llt=void 0})),i("guildLog",(function(){this.time=void 0,this.str=void 0})),i("GuildRankinfo",(function(){this.gid=void 0,this.gname=void 0,this.glv=void 0,this.flag=void 0,this.af=void 0,this.leadername=void 0,this.cur=void 0,this.limit=void 0,this.apply=void 0,this.rank=void 0})),i("TaskGuildEntity",(function(){this.tasklist={},this.received=[]})),i("CQEntity",(function(){this.lv=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/NetProtocolPako.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"88ae0lIg5BFWb1O1E8/Etwi","NetProtocolPako",void 0);t("NetProtocolPako",function(){function t(){}var e=t.prototype;return e.getHeadlen=function(){return 0},e.getHearbeat=function(){return""},e.getPackageLen=function(t){return t.toString().length},e.checkResponsePackage=function(t){return!0},e.handlerResponsePackage=function(t){return 1==t.code&&(t.isCompress&&(t.data=(e=t.data,n=e.split("").map((function(t){return t.charCodeAt(0)})),a=new Uint8Array(n),pako.inflate(a,{to:"string"}))),t.data=JSON.parse(t.data),!0);var e,n,a},e.handlerRequestPackage=function(t){var e,n=t.action+"_"+t.method;return t.callback=n,t.isCompress&&(t.data=(e=t.data,pako.gzip(e,{to:"string"}))),n},e.getPackageId=function(t){return t.callback},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/NetProtocolProtobuf.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5714auyGttOSrOXeVsvIAUz","NetProtocolProtobuf",void 0);t("NetProtocolProtobuf",function(){function t(){}var e=t.prototype;return e.getHeadlen=function(){return 0},e.getHearbeat=function(){return""},e.getPackageLen=function(t){return t.toString().length},e.checkResponsePackage=function(t){return!0},e.handlerResponsePackage=function(t){return 1==t.code&&(t.isCompress,t.data=JSON.parse(t.data),!0)},e.handlerRequestPackage=function(t){var e=t.action+"_"+t.method;return t.callback=e,t.isCompress,e},e.getPackageId=function(t){return t.callback},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Notify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts"],(function(t){"use strict";var n,i,e,o,a,r,l,c,s,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Label,c=t.Animation,s=t.Component},function(t){u=t.LanguageLabel}],execute:function(){var p,f,h,y,b,d,g;a._RF.push({},"01391Mp6X1Gn554rkzavN4K","Notify",void 0);var v=r.ccclass,m=r.property;t("Notify",(p=v("Notify"),f=m(l),h=m(c),p((d=n((b=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"lab_content",d,o(n)),e(n,"animation",g,o(n)),n}i(n,t);var a=n.prototype;return a.onLoad=function(){this.animation&&this.animation.on(c.EventType.FINISHED,this.onFinished,this)},a.onFinished=function(){this.node.destroy()},a.toast=function(t,n){var i,e=null==(i=this.lab_content)?void 0:i.getComponent(u);n?e.dataID=t:(e&&(e.dataID=""),this.lab_content.string=t)},n}(s)).prototype,"lab_content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(b.prototype,"animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/NumPicker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,r,o,u,c,a,s,l,h,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){u=t.cclegacy,c=t._decorator,a=t.Label,s=t.Button,l=t.EventHandler,h=t.math,b=t.Component}],execute:function(){var p,f,m,d,C,_,y,g,v,k,x;u._RF.push({},"5d631R3GH5MOq4UjCj28d9g","NumPicker",void 0);var E=c.ccclass,z=c.property;t("NumPicker",(p=E("NumPicker"),f=z(a),m=z(s),d=z(s),C=z([l]),p((g=n((y=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return(n=t.call.apply(t,[this].concat(o))||this)._cur=0,n._max=0,i(n,"lblCount",g,r(n)),i(n,"btnSub",v,r(n)),i(n,"btnAdd",k,r(n)),i(n,"clickEvents",x,r(n)),n}e(n,t);var u=n.prototype;return u.start=function(){this.btnAdd.node.on(s.EventType.CLICK,this.onChangeCount.bind(this,1)),this.btnSub.node.on(s.EventType.CLICK,this.onChangeCount.bind(this,-1))},u.init=function(t,n){this._cur=t,this._max=n,this.onChangeCount()},u.refresh=function(){this.lblCount.string=this._cur+"/"+this._max},u.onChangeCount=function(t){var n=this;void 0===t&&(t=0),this._cur=h.clamp(this._cur+t,1,this._max),this.refresh(),this.clickEvents.forEach((function(t){t.emit([n.num])}))},o(n,[{key:"num",get:function(){return this._cur}},{key:"max",set:function(t){this._max=t,this._cur=Math.min(this._cur,t),this.refresh()}}]),n}(b)).prototype,"lblCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(y.prototype,"btnSub",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(y.prototype,"btnAdd",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(y.prototype,"clickEvents",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=y))||_));u._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"86827QLFSRM7Zojsx0WqWuQ","ObjectUtil",void 0);t("ObjectUtil",function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var e=null;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=this.deepCopy(t[c]));return e}console.warn("不支持的类型："+e)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Oops.ts",["cc","./ECS.ts","./HttpRequest.ts","./Config.ts","./MessageManager.ts","./ResLoader.ts","./Logger.ts","./StorageManager.ts"],(function(e){"use strict";var t,n,o,s,i,a,g,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ecs},function(e){o=e.HttpRequest},function(e){s=e.Config},function(e){i=e.MessageManager},function(e){a=e.ResLoader},function(e){g=e.Logger},function(e){c=e.StorageManager}],execute:function(){t._RF.push({},"cbae5wzfSZGzZMuyeAetSfg","Oops",void 0);e("version","1.1.3");var r=e("oops",(function(){}));r.config=new s,r.log=g,r.message=i.Instance,r.storage=new c,r.timer=void 0,r.audio=void 0,r.gui=void 0,r.game=void 0,r.res=new a,r.language=void 0,r.http=new o,r.ecs=new n.RootSystem,t._RF.pop()}}}));

System.register("chunks:///_virtual/OrbitCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,r,a,n,s,u,l,h,c,p,g,R,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){n=t.cclegacy,s=t._decorator,u=t.Vec3,l=t.Quat,h=t.Node,c=t.input,p=t.Input,g=t.lerp,R=t.Component,_=t.Vec2}],execute:function(){var d,f,b,y,w,m,S,T,v,x,z,E,O,C,D,M,P,Y,A,k,U,j,H,W,F,Q,L,N,V,B,I;n._RF.push({},"4e454G/OQ1NB7tjzAUf269U","OrbitCamera",void 0);var X=s.ccclass,G=s.property,q=new u,J=new u,K=new l;t("OrbitCamera",(d=X("OrbitCamera"),f=G({tooltip:"是否启动触摸控制"}),b=G({tooltip:"是否开启启用缩放半径（鼠标滚轮控制摄像机与目标距离）"}),y=G({tooltip:"摄像机与目标的半径缩放速度",visible:function(){return!0===this.enableScaleRadius}}),w=G({tooltip:"摄像机与目标的半径最小值",visible:function(){return!0===this.enableScaleRadius}}),m=G({tooltip:"摄像机与目标的半径最大值",visible:function(){return!0===this.enableScaleRadius}}),S=G({tooltip:"自动旋转是否开启"}),T=G({tooltip:"自动旋转速度",visible:function(){return!0===this.autoRotate}}),v=G({tooltip:"旋转速度"}),x=G({tooltip:"跟随速度"}),z=G({tooltip:"X轴旋转范围（人物上下看的角度控制）"}),E=G({tooltip:"摄像机与目标的距离（以玩家为中心环绕球半径）"}),O=G({type:h,tooltip:"跟随目标"}),C=G({type:u,tooltip:"目标旋转偏移量（初始旋转向量）"}),D=G({tooltip:"是否跟随目标 Y 轴旋转"}),d((Y=e((P=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,o(e,"enableTouch",Y,r(e)),o(e,"enableScaleRadius",A,r(e)),o(e,"radiusScaleSpeed",k,r(e)),o(e,"minRadius",U,r(e)),o(e,"maxRadius",j,r(e)),o(e,"autoRotate",H,r(e)),o(e,"autoRotateSpeed",W,r(e)),o(e,"rotateSpeed",F,r(e)),o(e,"followSpeed",Q,r(e)),o(e,"xRotationRange",L,r(e)),o(e,"_targetRadius",N,r(e)),o(e,"_target",V,r(e)),o(e,"_startRotation",B,r(e)),o(e,"followTargetRotationY",I,r(e)),e._center=new u,e._targetCenter=new u,e._touched=!1,e._targetRotation=new u,e._rotation=new l,e._radius=10,e}i(e,t);var n=e.prototype;return n.start=function(){this.enableTouch&&(c.on(p.EventType.TOUCH_START,this.onTouchStart,this),c.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),c.on(p.EventType.TOUCH_END,this.onTouchEnd,this)),this.enableScaleRadius&&c.on(p.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.target&&this.resetTargetRotation(),l.fromEuler(this._rotation,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),this.target&&(this._targetCenter.set(this.target.worldPosition),this._center.set(this._targetCenter)),this._radius=this.radius,this.limitRotation()},n.resetTargetRotation=function(){var t=this._targetRotation.set(this._startRotation);this.followTargetRotationY&&(t=J.set(t),l.toEuler(q,this.target.worldRotation),t.add(q))},n.limitRotation=function(){var t=this._targetRotation;t.x<this.xRotationRange.x?t.x=this.xRotationRange.x:t.x>this.xRotationRange.y&&(t.x=this.xRotationRange.y),t.z=0},n.onTouchStart=function(){this._touched=!0},n.onTouchMove=function(t){if(this._touched){var e=t.touch.getDelta();l.fromEuler(K,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),l.rotateX(K,K,.005*-e.y),l.rotateY(K,K,.005*-e.x),l.toEuler(this._targetRotation,K),this.limitRotation()}},n.onTouchEnd=function(){this._touched=!1},n.onMouseWheel=function(t){var e=t.getScrollY();this._targetRadius+=this.radiusScaleSpeed*-Math.sign(e),this._targetRadius=Math.min(this.maxRadius,Math.max(this.minRadius,this._targetRadius))},n.update=function(t){var e=this._targetRotation;this.autoRotate&&!this._touched&&(e.y+=this.autoRotateSpeed*t),this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(e=J.set(e),l.toEuler(q,this.target.worldRotation),e.y+=q.y)),l.fromEuler(K,e.x,e.y,e.z),l.slerp(this._rotation,this._rotation,K,7*t*this.rotateSpeed),u.lerp(this._center,this._center,this._targetCenter,5*t*this.followSpeed),this._radius=g(this._radius,this._targetRadius,5*t),u.transformQuat(q,u.FORWARD,this._rotation),u.multiplyScalar(q,q,this._radius),q.add(this._center),this.node.position=q,this.node.lookAt(this._center)},n.follow=function(){var t=this._targetRotation;this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(t=J.set(t),l.toEuler(q,this.target.worldRotation),t.y+=q.y)),l.fromEuler(K,t.x,t.y,t.z),this._rotation=K,this._center=this._targetCenter,this._radius=this._targetRadius,u.transformQuat(q,u.FORWARD,this._rotation),u.multiplyScalar(q,q,this._radius),q.add(this._center),this.node.position=q,this.node.lookAt(this._center)},a(e,[{key:"radius",get:function(){return this._targetRadius},set:function(t){this._targetRadius=t}},{key:"target",get:function(){return this._target},set:function(t){this._target=t,this._targetRotation.set(this._startRotation),this._targetCenter.set(t.worldPosition)}},{key:"targetRotation",get:function(){return this._startRotation.set(this._targetRotation),this._startRotation},set:function(t){this._targetRotation.set(t),this._startRotation.set(t)}}]),e}(R)).prototype,"enableTouch",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=e(P.prototype,"enableScaleRadius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=e(P.prototype,"radiusScaleSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(P.prototype,"minRadius",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),j=e(P.prototype,"maxRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),H=e(P.prototype,"autoRotate",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=e(P.prototype,"autoRotateSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),F=e(P.prototype,"rotateSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q=e(P.prototype,"followSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=e(P.prototype,"xRotationRange",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(5,70)}}),N=e(P.prototype,"_targetRadius",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(P.prototype,"radius",[E],Object.getOwnPropertyDescriptor(P.prototype,"radius"),P.prototype),V=e(P.prototype,"_target",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(P.prototype,"target",[O],Object.getOwnPropertyDescriptor(P.prototype,"target"),P.prototype),B=e(P.prototype,"_startRotation",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),e(P.prototype,"targetRotation",[C],Object.getOwnPropertyDescriptor(P.prototype,"targetRotation"),P.prototype),I=e(P.prototype,"followTargetRotationY",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=P))||M));n._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"c1584nuvI9HtJ5IHcmFEBzR","PhysicsUtil",void 0);var u=e("GroupItem",function(){function e(e,t){this._value=void 0,this._value=e,this._name=t}return t(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),i=e("PhysicsUtil",function(){function e(){}return e.setNodeLayer=function(t,n){n.layer=t.mask,n.children.forEach((function(n){n.layer=t.mask,e.setNodeLayer(t,n)}))},e}());i.DEFAULT=new u(0,"DEFAULT"),i.GAME_OBJECT_SELECT=new u(1,"GAME_OBJECT_SELECT"),i.GAME_OWNER=new u(2,"GAME_OWNER"),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZKChannelManager.ts","./PlatformSDKNative.ts","./PlatformSDKTest.ts","./PlatformSDKWeChat.ts"],(function(t){"use strict";var n,e,r,i,a,o,u,s;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t.sys},function(t){a=t.zkChannel},function(t){o=t.PlatformSDKNative},function(t){u=t.PlatformSDKTest},function(t){s=t.PlatformSDKWeChat}],execute:function(){var c,p,l;t({Cmds:void 0,Code:void 0,EChannelType:void 0,SubmitTypes:void 0}),r._RF.push({},"a54a3DfI4lNDLAakXL/dZHp","PlatformSDK",void 0),function(t){t.TEST="test",t.YL="youlong",t.YLTAP="yltaptap",t.QIPA="qipa",t.BR="brsdk",t.FY_WeChat="FYWeChat"}(c||(c=t("EChannelType",{}))),function(t){t.InitPlatform="InitPlatform",t.InitSDK="InitSDK",t.Login="Login",t.Logout="Logout",t.Pay="Pay",t.Submit="Submit",t.Exit="Exit",t.QipaGMStore="QipaGMStore",t.OpenRecharge="OpenRecharge",t.UMAProfile="UMAProfile",t.UMAEvent="UMAEvent"}(p||(p=t("Cmds",{}))),function(t){t[t.OK=0]="OK",t[t.ERR=1]="ERR",t[t.NOT_SUPPORT=2]="NOT_SUPPORT",t[t.BUSY=3]="BUSY",t[t.TIMEOUT=4]="TIMEOUT"}(l||(l=t("Code",{})));var f,h=t("PlatformSDK",function(){function t(){}return t.getChannelType=function(){var t;return(null==(t=this.cfg)?void 0:t.channel_type)||c.TEST},t.isTestChannel=function(){return this.getChannelType()==c.TEST},t.getZKUrl=function(){var t;return null==(t=this.cfg)?void 0:t.zk_url},t.isSkipHotUpdate=function(){var t;return 1==(null==(t=this.cfg)?void 0:t.skip_hot_update)},t.init=function(){var t=n(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.TEST_MODE){t.next=7;break}return this._impl=new u,t.next=4,this._impl.init();case 4:this.cfg=t.sent,t.next=20;break;case 7:if(!i.isNative){t.next=14;break}return this._impl=new o,t.next=11,this._impl.init();case 11:this.cfg=t.sent,t.next=20;break;case 14:if(i.platform!==i.Platform.WECHAT_GAME){t.next=19;break}this._impl=new s,this.cfg={app_name:"深渊突击",app_id:1,app_sku:"HY_FY_WECHAT",channel_type:c.FY_WeChat,zk_url:"https://wx.1dao99.com:668/backend1/",skip_hot_update:1,apk_version:"1.0.0",device_os:i.platform,device_vender:"device_vender",device_id:"device_id",device_type:"device_type",cmd:p.InitSDK,code:l.OK},t.next=20;break;case 19:return t.abrupt("return");case 20:a.setUrl(this.cfg.zk_url);case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.destroy=function(){var t=n(e().mark((function t(){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=this._impl)||n.destroy();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.doLogin=function(){var t=n(e().mark((function t(){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.loginData,t.t0){t.next=5;break}return t.next=4,null==(n=this._impl)?void 0:n.doLogin();case 4:t.t0=t.sent;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.doWeChatLogin=function(){var t=n(e().mark((function t(n,r){var i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(i=this._impl)||i.doWeChatLogin(n,r);case 1:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),t.doCheckDirtyWord=function(){var t=n(e().mark((function t(n,r,i,a){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(o=this._impl)||o.doCheckDirtyWord(n,r,i,a);case 1:case"end":return t.stop()}}),t,this)})));return function(n,e,r,i){return t.apply(this,arguments)}}(),t.doPay=function(){var t=n(e().mark((function t(n,r){var i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null==(i=this._impl)?void 0:i.doPay(n,r));case 1:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),t.doSubmit=function(){var t=n(e().mark((function t(n){var r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(r=this._impl)||r.doSubmit(n);case 1:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),t.doExit=function(){var t=n(e().mark((function t(){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=this._impl)||n.doExit();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.doUMAProfile=function(){var t=n(e().mark((function t(n,r){var i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(i=this._impl)||i.doUMAProfile(n,r);case 1:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),t.doUMAEvent=function(){var t=n(e().mark((function t(n,r){var i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(i=this._impl)||i.doUMAEvent(n,r);case 1:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),t}());h.TEST_MODE=!1,h._impl=null,h.cfg=null,h.loginData=null,function(t){t[t.SelectServer=0]="SelectServer",t[t.CreateRole=1]="CreateRole",t[t.EnterGame=2]="EnterGame",t[t.LevelUp=3]="LevelUp",t[t.Pay=4]="Pay",t[t.Exit=5]="Exit"}(f||(f=t("SubmitTypes",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformSDKNative.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MessageManager.ts","./Oops.ts","./Main.ts","./GameUIConfig.ts","./ZKChannelManager.ts","./SingletonModuleComp.ts","./PlatformSDK.ts"],(function(t){"use strict";var e,n,r,i,a,o,s,c,u,d,m,p,f;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t.native},function(t){a=t.MessageManager},function(t){o=t.oops},function(t){s=t.app},function(t){c=t.UIID},function(t){u=t.zkChannel},function(t){d=t.smc},function(t){m=t.Cmds,p=t.PlatformSDK,f=t.Code}],execute:function(){r._RF.push({},"6f6c3R4QSBC+KHAqlXb0FmI","PlatformSDKNative",void 0);t("PlatformSDKNative",function(){function t(){this.messenger=new a,this.waitingCmds=[]}var r=t.prototype;return r.doCheckDirtyWord=function(t,e,n,r){throw new Error("Method not implemented.")},r.doWeChatLogin=function(t,e){throw new Error("Method not implemented.")},r.init=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.jsbBridgeWrapper.addNativeEventListener("onNative",this.onNative.bind(this)),t.next=3,this.doNative({cmd:m.InitPlatform});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.destroy=function(){i.jsbBridgeWrapper.removeAllListeners()},r.doLogin=function(){var t=e(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.doNative({cmd:m.InitSDK});case 2:if(t.sent.code==f.OK){t.next=6;break}return p.loginData=null,t.abrupt("return",null);case 6:return t.next=8,this.doNative({cmd:m.Login},!0);case 8:if((e=t.sent).code==f.OK){t.next=13;break}return e.msg&&o.gui.toast(e.msg),p.loginData=null,t.abrupt("return",null);case 13:return p.loginData=e,t.abrupt("return",e);case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.doPay=function(){var t=e(n().mark((function t(e,r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.doNative({cmd:m.Pay,order_id:e,shop_id:r.id,shop_name:r.name,shop_desc:r.name,price:r.price},!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.doSubmit=function(){var t=e(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.doNative({cmd:m.Submit,event:e,role_id:d.accdata.id,role_name:d.accdata.name,role_level:d.accdata.heroLevel,role_exp:d.accdata.heroExp,role_vip:0,role_zhanli:d.accdata.getZhanli(),role_party:"暂无",server_id:u.getCurServerId(),server_name:u.getCurServerName(),bag_goldcoin:d.bag.getGoldCoin(),bag_diamond:d.bag.getDiamond()});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.doExit=function(){this.doNative({cmd:m.Exit})},r.doUMAProfile=function(t,e){this.doNative({cmd:m.UMAProfile,key:t,value:e},!0)},r.doUMAEvent=function(t,e){this.doNative({cmd:m.UMAEvent,event:t,data:e},!0)},r.doNative=function(){var t=e(n().mark((function t(e,r){var a=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=!1),!this.isWaiting(e.cmd)){t.next=8;break}if(!r){t.next=6;break}this.messenger.dispatchEvent(e.cmd,{cmd:e.cmd,code:f.TIMEOUT}),t.next=8;break;case 6:return o.log.logBusiness(e,"NATIVE.REQ.BUSY"),t.abrupt("return",{cmd:e.cmd,code:f.BUSY});case 8:return this.waitingCmds.push(e.cmd),t.abrupt("return",new Promise((function(t){a.messenger.once(e.cmd,(function(n,r){t(r),a.waitingCmds=a.waitingCmds.filter((function(t){return t!=e.cmd}))}),a);var n=JSON.stringify(e);o.log.logBusiness(n,"NATIVE.REQ"),i.jsbBridgeWrapper.dispatchEventToNative("doNative",n)})));case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.onNative=function(t){o.log.logBusiness(t,"NATIVE.RESP");try{var e=JSON.parse(t);if(this.isWaiting(e.cmd))return void this.messenger.dispatchEvent(e.cmd,e);e.cmd==m.Login?p.loginData=e:e.cmd==m.Logout?(this.waitingCmds=[],p.loginData=null,s.showLogin()):e.cmd==m.OpenRecharge&&o.gui.open(c.Store)}catch(t){console.error(t)}},r.isWaiting=function(t){return-1!=this.waitingCmds.indexOf(t)},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformSDKTest.ts",["cc","./Oops.ts","./PlatformSDK.ts"],(function(t){"use strict";var e,o,n,i,r;return{setters:[function(t){e=t.cclegacy},function(t){o=t.oops},function(t){n=t.EChannelType,i=t.Cmds,r=t.Code}],execute:function(){e._RF.push({},"26d51pXX4tCr7pKIjsNtRoS","PlatformSDKTest",void 0);t("PlatformSDKTest",function(){function t(){}var e=t.prototype;return e.doCheckDirtyWord=function(t,e,o,n){throw new Error("Method not implemented.")},e.doWeChatLogin=function(t,e){throw new Error("Method not implemented.")},e.init=function(){return Promise.resolve({app_name:"圣物英雄",app_id:1,app_sku:"HY_QIPA",zk_url:"http://tap.1dao99.com:668/backend1/",skip_hot_update:1,channel_type:n.QIPA,apk_version:"1.0",device_os:"9",device_vender:"Xiaomi",device_id:"4e0068a7-351f-4adf-abf2-aad05da119d0",device_type:"Redmi 7A",cmd:i.InitPlatform,code:0,msg:""})},e.doLogin=function(){return Promise.resolve({uid:"52873118",token:"rw628sid5ua5Vof3lplQ2wX3O40Us4PNxSMNV3yfQOboFoP8CtcN2RzTaJwFI-eD1OgqDbpjedCiVxE_a70_OhPZp3T9GrCzusY1kE943o-m9XsH0f2bbwuUy7_h50PADa_F-kFBzLMYlwnBHC_kUzKWEsxrlfR3BHoBMsDSny0",cmd:i.Login,code:0,msg:""})},e.doPay=function(t,e){return o.gui.toast("Native Test Mode"),Promise.resolve({cmd:i.Pay,code:r.NOT_SUPPORT})},e.doSubmit=function(t){o.gui.toast("Native Test Mode")},e.doExit=function(){o.gui.toast("Native Test Mode")},e.doUMAProfile=function(t,e){},e.doUMAEvent=function(t,e){},e.destroy=function(){o.gui.toast("Native Test Mode")},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformSDKWeChat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformSDK.ts","./funsdk_wx_2.1.ts","./ZKChannelManager.ts","./SingletonModuleComp.ts"],(function(o){"use strict";var n,e,t,r,i,l,a,c,s,u,d,f,g;return{setters:[function(o){n=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){t=o.cclegacy,r=o._decorator,i=o.sys},function(o){l=o.Cmds,a=o.Code,c=o.PlatformSDK,s=o.SubmitTypes,u=o.EChannelType},function(o){d=o.default},function(o){f=o.zkChannel},function(o){g=o.smc}],execute:function(){var p;o("wordsSceneType",void 0),t._RF.push({},"bd6c92rkD5GFpPf0VWgGTIn","PlatformSDKWeChat",void 0);var _,m=new d,h=r.ccclass,v=(r.property,"100X8Skt5M"),y="100E6AEpdC";!function(o){o[o.ERR=0]="ERR",o[o.PROFILE=1]="PROFILE",o[o.CHAT=2]="CHAT",o[o.BBS=3]="BBS",o[o.SOCIAL_LOG=4]="SOCIAL_LOG"}(_||(_=o("wordsSceneType",{})));o("PlatformSDKWeChat",h("PlatformSDKWeChat")(p=function(){function o(){this.info=void 0,this.loginInfo=void 0}var t=o.prototype;return t.doCheckDirtyWord=function(o,n,e,t){var r,i,l,a=wx.getSystemInfoSync(),c={host_url:null!=(r=this.loginInfo)&&r.host_url?this.loginInfo.host_url:"https://xcx.62cs.com",game_key:"ios"===a.platform?y:v,account:null!=(i=this.loginInfo)&&null!=(l=i.data)&&l.openid?this.loginInfo.data.openid:"",scene:n,content:o};m.checkWords(c,(function(o){console.log("敏感词检查成功",o),e(o)}),(function(o){console.log("敏感词检查失败",o),t(o)}))},t.init=function(){var o=n(e().mark((function o(){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n={app_name:"深渊突击",app_id:1,app_sku:"HY_FY_WECHAT",channel_type:u.FY_WeChat,zk_url:"https://wx.1dao99.com:668/backend1/",skip_hot_update:1,apk_version:"1.0.0",device_os:i.platform,device_vender:"device_vender",device_id:"device_id",device_type:"device_type",cmd:l.InitSDK,code:a.OK},o.abrupt("return",new Promise((function(){return n})));case 2:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),t.destroy=function(){throw new Error("Method not implemented.")},t.doWeChatLogin=function(o,n){var e=this,t={game_key:"ios"===wx.getSystemInfoSync().platform?y:v};m.game(t,(function(r){console.log("funsdk初始化成功",r),e.info=r;var i={host_url:r.data.host_url,game_key:t.game_key};m.gameLogin(i,(function(n){console.log("授权登录成功",n),e.loginInfo=n;var t={uid:n.data.openid,token:n.data.session_key,cmd:l.Login,code:a.OK,msg:n.msg};c.loginData=t,o(t)}),(function(o){console.log("授权登录失败",o),n(o)}))}),(function(o){console.log("funsdk初始化失败",o)}))},t.doLogin=function(){return new Promise((function(){}))},t.doPay=function(o,n){var e=this;return new Promise((function(){var t,r,i,l=wx.getSystemInfoSync(),a={host_url:null!=(t=e.loginInfo)&&t.host_url?e.loginInfo.host_url:"https://xcx.62cs.com",game_key:"ios"===l.platform?y:v,account:null!=(r=e.loginInfo)&&null!=(i=r.data)&&i.openid?e.loginInfo.data.openid:"",server:f.getCurServerId().toString(),role:g.accdata.id,amount:100*n.price,extend:o},c=e;m.order(a,(function(o){console.log("下单成功",o);var e=wx.getSystemInfoSync();if(console.log(e),"ios"===e.platform)console.log("拉起客服"),m.openCustomerService();else{var t,r,i,l,a,s,u,d,p,_,h;console.log("米大师支付");var y={game_env:null!=(t=c.info)&&null!=(r=t.data)&&r.game_env?c.info.data.game_env:"0",offer_id:null!=(i=c.info)&&null!=(l=i.data)&&null!=(a=l.app_secret)&&a.offer_id?c.info.data.app_secret.offer_id:"0",currency_type:null!=(s=c.info)&&null!=(u=s.data)&&null!=(d=u.app_secret)&&d.currency_type?c.info.data.app_secret.currency_type:"CNY",amount:100*n.price,host_url:null!=(p=c.loginInfo)&&p.host_url?c.loginInfo.host_url:"https://xcx.62cs.com",game_key:v,account:null!=(_=c.loginInfo)&&null!=(h=_.data)&&h.openid?c.loginInfo.data.openid:"",server:f.getCurServerId().toString(),role:g.accdata.id,order:o.data.order};m.midas2Notice(y,(function(o){console.log("米大师支付成功",o)}),(function(o){console.log("米大师支付失败",o)}))}}),(function(o){console.log("下单失败",o)}))}))},t.doSubmit=function(o){var n,e=((n={})[s.EnterGame]=3,n[s.CreateRole]=5,n[s.LevelUp]=7,n);if(e[o]){var t,r,i;console.log("loginInfo",this.loginInfo);var l=wx.getSystemInfoSync(),a={host_url:this.loginInfo?this.loginInfo.host_url:"https://xcx.62cs.com",game_key:"ios"===l.platform?y:v,account:null!=(t=this.loginInfo)&&null!=(r=t.data)&&r.openid?this.loginInfo.data.openid:"",server:f.getCurServerId().toString(),server_name:f.getCurServerName(),role:g.accdata.id,role_name:g.accdata.name,level:g.accdata.heroLevel,type:e[o],code:null!=(i=this.loginInfo)&&i.channel_code?this.loginInfo.channel_code:""};console.log("roleData",a),m.role(a,(function(o){console.log("上报成功",o)}),(function(o){console.log("上报失败",o)}))}},t.doExit=function(){throw new Error("Method not implemented.")},t.doUMAProfile=function(o,n){console.log("doUMAProfile is no need of wechat")},t.doUMAEvent=function(o,n){console.log("doUMAEvent is no need of wechat")},o}())||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformUtil.ts",["cc"],(function(t){"use strict";var i,n,r;return{setters:[function(t){i=t.cclegacy,n=t.native,r=t.sys}],execute:function(){i._RF.push({},"c08229jnmdPP5vR721N6GG9","PlatformUtil",void 0);t("PlatformUtil",function(){function t(){}return t.isNativeAndroid=function(){return void 0!==n&&!(!r.isNative||r.platform!==r.Platform.ANDROID)},t.isNativeIOS=function(){return void 0!==n&&!(!r.isNative||r.os!==r.OS.IOS)},t.getPlateform=function(){return this.isNativeAndroid()?"android":this.isNativeIOS()?"ios":"h5"},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var i,a,t,r,o,s,n,l,d,c,p,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,n=e.Node,l=e.Sprite,d=e.Component},function(e){c=e.smc},function(e){p=e.ViewUtil},function(e){u=e.GameResPath}],execute:function(){var h,H,m,f,b,w,y,g,S,M,k,v,R,z,x;o._RF.push({},"7d8c69cA5FKc5lcLcDVKCEC","PlayerHead",void 0);var G=s.ccclass,N=s.property,P=s.boolean;e("PlayerHead",(h=G("PlayerHead"),H=N(n),m=N(n),f=N(n),b=N(l),w=N(l),h((S=i((g=function(e){function i(){for(var i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,t(i,"spHeadBG",S,r(i)),t(i,"headMaskRoot",M,r(i)),t(i,"headNormalRoot",k,r(i)),t(i,"spHeadNormal",v,r(i)),t(i,"spHeadMask",R,r(i)),t(i,"isShowHeadBG",z,r(i)),t(i,"isShowHeadMask",x,r(i)),i.index=void 0,i}a(i,e);var o=i.prototype;return o.start=function(){this.initView(this.index)},o.initView=function(e){void 0===e&&(e=c.accdata.roleHead),this.index=e,this.headMaskRoot.active=this.isShowHeadMask,this.headNormalRoot.active=!this.isShowHeadMask,this.spHeadBG.active=this.isShowHeadBG,this.refreshHead()},o.refreshHead=function(){this.isShowHeadMask&&this.spHeadMask?p.loadSpriteFrame(this.spHeadMask,u.getSpriteFrameHead("img_tx"+this.index)):!this.isShowHeadMask&&this.spHeadNormal&&p.loadSpriteFrame(this.spHeadNormal,u.getSpriteFrameHead("img_tx"+this.index))},i}(d)).prototype,"spHeadBG",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(g.prototype,"headMaskRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(g.prototype,"headNormalRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(g.prototype,"spHeadNormal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(g.prototype,"spHeadMask",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(g.prototype,"isShowHeadBG",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=i(g.prototype,"isShowHeadMask",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){"use strict";var n,e,o,i,r,s,a,p,c,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Button,p=t.BlockInputEvents,c=t.Component},function(t){l=t.oops}],execute:function(){var u,h,d,f,v;r._RF.push({},"b198125GadAkL8gi/Zm+2VG","PopUpBase",void 0);var y=s.ccclass,b=s.property;t("PopUpBase",(u=y("PopUpBase"),h=b(a),u((v=n((f=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(n,"btnX",v,i(n)),n}e(n,t);var r=n.prototype;return r.onLoad=function(){this.getComponent(p)||this.addComponent(p)},r.start=function(){var t,n;this.btnX||(this.btnX=null==(t=this.node.getChildByName("x"))?void 0:t.getComponent(a)),null==(n=this.btnX)||n.node.on(a.EventType.CLICK,this.onXClick,this)},r.onXClick=function(){l.gui.removeByNode(this.node,!0)},n}(c)).prototype,"btnX",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/PosOrderEdit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./PosOrderItem.ts"],(function(e){"use strict";var o,t,r,n,s,i,d,h,c,a,u,l;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createClass},function(e){i=e.cclegacy,d=e._decorator,h=e.Node,c=e.Button,a=e.Component},function(e){u=e.smc},function(e){l=e.PosOrderItem}],execute:function(){var f,C,p,m,v;i._RF.push({},"87629ujEipP6Lu95i+Fd+4x","PosOrderEdit",void 0);var I=d.ccclass,_=d.property;e("PosOrderEdit",(f=I("PosOrderEdit"),C=_(h),f((v=o((m=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return o=e.call.apply(e,[this].concat(s))||this,r(o,"nodeChooser",v,n(o)),o._fromIdx=null,o._orders=null,o}t(o,e);var i=o.prototype;return i.load=function(e){this._orders=e},i.start=function(){this.init(),this.refresh()},i.init=function(){var e=this;this.orderItems.forEach((function(o,t){o.node.active=t<e.orders.length,o.setPos(t),o.node.on(c.EventType.CLICK,e.onOrderPosClick.bind(e,t))})),this.choodeItems.forEach((function(o,t){o.node.active=t<e.orders.length,o.node.on(c.EventType.CLICK,e.onEditPosClick.bind(e,t))})),this.hideChooser(),this.nodeChooser.on(c.EventType.CLICK,this.hideChooser,this)},i.refresh=function(){var e=this;this.orderItems.forEach((function(o,t){if(!(t>=e._orders.length)){var r=u.accdata.roles[e._orders[t]];o.setZhanli(u.accdata.getRole(r).fight),o.setHead(e._orders[t])}}))},i.onOrderPosClick=function(e){var o=this._orders[e];this._fromIdx=e,this.showChooser(e,o)},i.onEditPosClick=function(e){if(this.hideChooser(),e!=this._fromIdx){var o=this._orders,t=[o[e],o[this._fromIdx]];o[this._fromIdx]=t[0],o[e]=t[1],this.refresh()}},i.showChooser=function(e,o){this.nodeChooser.active=!0,this.choodeItems.forEach((function(t,r){r==e?(t.setCurrentPos(),t.setHead(o)):(t.setPos(r),t.setHead(null))}))},i.hideChooser=function(){this.nodeChooser.active=!1},s(o,[{key:"orderItems",get:function(){return this.node.getComponentsInChildren(l)}},{key:"choodeItems",get:function(){return this.nodeChooser.getComponentsInChildren(l)}},{key:"orders",get:function(){return this._orders}}]),o}(a)).prototype,"nodeChooser",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/PosOrderItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var t,i,r,n,l,s,o,a,u,c,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,o=e.Sprite,a=e.Label,u=e.Component},function(e){c=e.StringUtil},function(e){p=e.ViewUtil},function(e){h=e.GameResPath}],execute:function(){var d,b,f,m,g,P,y,v,H;l._RF.push({},"4911dqA0NtJ8L+s58pstj9l","PosOrderItem",void 0);var w=s.ccclass,S=s.property;e("PosOrderItem",(d=w("PosOrderItem"),b=S(o),f=S(a),m=S(a),d((y=t((P=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,r(t,"spHead",y,n(t)),r(t,"lblPos",v,n(t)),r(t,"lblZhanli",H,n(t)),t}i(t,e);var l=t.prototype;return l.setHead=function(e){null==e?this.spHead.node.active=!1:(this.spHead.node.active=!0,p.loadSpriteFrame(this.spHead,h.getSpriteFrameHead("img_tx"+(e+1))))},l.setPos=function(e){this.lblPos.string=e+1+"号出场位"},l.setCurrentPos=function(){this.lblPos.string="当前"},l.setZhanli=function(e){this.lblZhanli&&(this.lblZhanli.string="战力："+c.numberToTenThousand(e))},t}(u)).prototype,"spHead",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(P.prototype,"lblPos",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(P.prototype,"lblZhanli",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/Priority.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){"use strict";var i,s,c;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy},function(t){c=t.BranchNode}],execute:function(){s._RF.push({},"f7555DSpj9LbYpRDi8/UKdN","Priority",void 0);t("Priority",function(t){function s(){return t.apply(this,arguments)||this}i(s,t);var c=s.prototype;return c.success=function(){t.prototype.success.call(this),this._control.success()},c.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/RandomManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3e09eJBwfZBsLPqFszZLvMS","RandomManager",void 0),t("RandomManager",function(){function t(){}var e=t.prototype;return e.getRandom=function(){return this.seedrandom?this.seedrandom.quick():Math.random()},e.setSeed=function(t){this.seedrandom=new Math.seedrandom(t)},e.getRandomFloat=function(t,n){return this.getRandom()*(n-t)+t},e.getRandomInt=function(t,n,e){switch(void 0===e&&(e=2),t=Math.ceil(t),n=Math.floor(n),e){case 1:return Math.floor(this.getRandom()*(n-t))+t;case 2:return Math.floor(this.getRandom()*(n-t+1))+t;case 3:return Math.floor(this.getRandom()*(n-t-1))+t+1}return 0},e.getRandomByMinMaxList=function(t,n,e){for(var o=[],a=0;a<e;a++)o.push(this.getRandomInt(t,n));return o},e.getRandomByObjectList=function(t,n){for(var e=t.slice(),o=[],a=0;a<n;a++){var r=this.getRandomInt(0,t.length,n);o.push(e.splice(r,1)[0])}return o},e.getRandomBySumList=function(t,n){for(var e=n,o=0,a=[],r=0;r<t;r++)o=this.getRandomInt(0,e,3),r==t-1?o=e:e-=o,a.push(o);return a},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Rank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./TableRankAwards.ts"],(function(n){"use strict";var e,t,a,r,c;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,a=n._decorator},function(n){r=n.JsonUtil},function(n){c=n.TableRankAwards}],execute:function(){var s;t._RF.push({},"889f7bpvoJEO7Z00BEu/ETR","Rank",void 0);var o=a.ccclass,u=(a.property,n("Rank",o("Rank")(s=function(){function n(){}return e(n,[{key:"rankRewardTable",get:function(){return r.get(c.TableName)}}]),n}())||s));n("rank",new u);t._RF.pop()}}}));

System.register("chunks:///_virtual/RankMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var t,i,o,r,n,a,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,c=e.Node,l=e.Component},function(e){s=e.oops}],execute:function(){var u,p,f,v,h,d,y;n._RF.push({},"36eb2zJ5+VH67fJrJBaEhKK","RankMain",void 0);var R=a.ccclass,b=a.property;e("RankMain",(u=R("RankMain"),p=b(c),f=b(c),u((d=t((h=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"rootLevel",d,r(t)),o(t,"rootReward",y,r(t)),t}i(t,e);var n=t.prototype;return n.start=function(){this.initView()},n.initView=function(){this.rootLevel.active=!0,this.rootReward.active=!1},n.onClickTab=function(e,t){this.rootLevel.active=0==parseInt(t),this.rootReward.active=1==parseInt(t)},n.onClickClose=function(){s.gui.removeByNode(this.node,!0)},t}(l)).prototype,"rootLevel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(h.prototype,"rootReward",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=h))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/RankNormalLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./RankPlayInfoItem.ts"],(function(e){"use strict";var t,n,r,i,o,a,l,s,u,c,f,p,m,h,y,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,c=e.Prefab,f=e.instantiate,p=e.Component},function(e){m=e.httpChannel},function(e){h=e.MsgID},function(e){y=e.smc},function(e){b=e.RankPlayInfoItem}],execute:function(){var v,d,g,I,C,L,k,w,R,P,D;l._RF.push({},"3e9639OW7ZMtbClgNovVQQp","RankNormalLevel",void 0);var N=s.ccclass,z=s.property;e("RankNormalLevel",(v=N("RankNormalLevel"),d=z(u),g=z(u),I=z(u),C=z(c),v((w=t((k=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"playerInfoList",w,i(t)),r(t,"nodeContentList",R,i(t)),r(t,"nodeSelfInfo",P,i(t)),r(t,"prefabPlayerInfoItem",D,i(t)),t}n(t,e);var l=t.prototype;return l.start=function(){this.getUIData()},l.getUIData=function(){var e=o(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.reqAsync(h.FightRank,{});case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:n=Object.values(t.ranklist).sort((function(e,t){return e.info.r-t.info.r})),r={info:{r:t.rank||0,n:y.accountData.name},val:t.val||0,roleid:y.accountData.id},this.initView(n,r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.initView=function(e,t){for(var n in this.nodeContentList.removeAllChildren(),e)if(Number(e[n].info.r)<=this.playerInfoList.length)this.playerInfoList[n].getComponent(b).initView(e[n]);else{var r=f(this.prefabPlayerInfoItem);if(!r)return;this.nodeContentList.addChild(r),r.getComponent(b).initView(e[n])}var i=this.nodeSelfInfo.getComponent(b);i&&i.getComponent(b).initView(t)},t}(p)).prototype,"playerInfoList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(k.prototype,"nodeContentList",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(k.prototype,"nodeSelfInfo",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(k.prototype,"prefabPlayerInfoItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=k))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/RankPlayInfoDetals.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts"],(function(e){"use strict";var t,n,a,r,i,o,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Label,s=e.Component},function(e){c=e.EGameRankType}],execute:function(){var p,u,y,f,h,b;i._RF.push({},"2e5b490AAdAGJHFR5dFV/o9","RankPlayInfoDetals",void 0);var k=o.ccclass,D=o.property,R=o.boolean;e("RankPlayInfoDetals",(p=k("RankPlayInfoDetals"),u=D(l),p((h=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"lblRank",h,r(t)),a(t,"isDesp",b,r(t)),t.rankType=c.LEVEL,t}n(t,e);var i=t.prototype;return i.start=function(){},i.initView=function(e,t){this.rankType=t;var n=e;this.rankType===c.ELITE?n=Math.max(n-1e4,0):this.rankType===c.DEMONABYSS&&(n=Math.max(n-5e4,0));var a=this.isDesp?"第"+n+"关":n;this.lblRank.string=a},t}(s)).prototype,"lblRank",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(f.prototype,"isDesp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=f))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/RankPlayInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameEnum.ts","./GameResPath.ts","./PlayerHead.ts","./TipsManager.ts","./RankPlayInfoDetals.ts"],(function(e){"use strict";var n,t,i,a,r,l,o,s,p,f,u,c,b,h,y,m,k,d,R,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,p=e.Node,f=e.Label,u=e.Button,c=e.Sprite,b=e.Component},function(e){h=e.ViewUtil},function(e){y=e.EGameRankType},function(e){m=e.GameResPath,k=e.RankIcon},function(e){d=e.PlayerHead},function(e){R=e.tips},function(e){g=e.RankPlayInfoDetals}],execute:function(){var I,P,v,w,z,C,D,H,L,T,V,E,G,N,x;o._RF.push({},"7db2b3zQexDlLz+7RijV+HG","RankPlayInfoItem",void 0);var F=s.ccclass,S=s.property;e("RankPlayInfoItem",(I=F("RankPlayInfoItem"),P=S(p),v=S(p),w=S(p),z=S(f),C=S(p),D=S(f),I((T=n((L=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=e.call.apply(e,[this].concat(r))||this,i(n,"spRank",T,a(n)),i(n,"lblRank",V,a(n)),i(n,"pfbPlayerHead",E,a(n)),i(n,"lblName",G,a(n)),i(n,"nodeDetail",N,a(n)),i(n,"lblZhanli",x,a(n)),n.playInfo=void 0,n.rankType=y.LEVEL,n}t(n,e);var o=n.prototype;return o.start=function(){this.node.on(u.EventType.CLICK,this.onClickItem,this)},o.initView=function(e,n){(this.playInfo=e,this.rankType=n||y.LEVEL,this.spRank&&(this.spRank.active=0<e.info.r&&e.info.r<=3,0<e.info.r&&e.info.r<=3&&h.loadSpriteFrame(this.spRank.getComponent(c),m.getSpriteFrameCommon(k[Number(e.info.r)]))),this.lblRank&&(this.lblRank.active=e.info.r>3||0==e.info.r,this.lblRank.getComponent(f).string=0==e.info.r?"500+":e.info.r),this.lblName&&(this.lblName.string=e.info.n),this.nodeDetail)&&this.nodeDetail.getComponent(g).initView(e.val,this.rankType);this.pfbPlayerHead&&this.pfbPlayerHead.active&&this.pfbPlayerHead.getComponent(d).initView(e.info.c),this.lblZhanli&&(this.lblZhanli.string=e.info.f)},o.onClickItem=function(){var e=r(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.playInfo&&this.playInfo.roleid){e.next=2;break}return e.abrupt("return");case 2:R.player(this.playInfo.roleid);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n}(b)).prototype,"spRank",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(L.prototype,"lblRank",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(L.prototype,"pfbPlayerHead",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(L.prototype,"lblName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(L.prototype,"nodeDetail",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(L.prototype,"lblZhanli",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=L))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/RankReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./SingletonModuleComp.ts","./RankRewardItem.ts"],(function(e){"use strict";var t,n,r,i,a,o,s,l,p,c,u,R,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Prefab,p=e.instantiate,c=e.Component},function(e){u=e.EGameRankType},function(e){R=e.smc},function(e){d=e.RankRewardItem}],execute:function(){var h,y,f,k,b,g,m;a._RF.push({},"2613c6OLF5IZIbrlFNRAROE","RankReward",void 0);var w=o.ccclass,v=o.property;e("RankReward",(h=w("RankReward"),y=v(s),f=v(l),h((g=t((b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"nodeContentList",g,i(t)),r(t,"prefabRewardItem",m,i(t)),t.rankType=u.LEVEL,t.abyssFightRank=null,t}n(t,e);var a=t.prototype;return a.start=function(){this.abyssFightRank=this.node.parent.getComponent("AbyssFightRank"),this.rankType=this.getRankType(),this.initView()},a.getRankType=function(){return this.abyssFightRank?this.abyssFightRank.getParam().type:u.LEVEL},a.initView=function(){this.nodeContentList.removeAllChildren();var e=R.rank.rankRewardTable,t=new Array;for(var n in e){e[n].type==this.rankType&&(t[t.length]=e[n])}for(var r in t){var i=p(this.prefabRewardItem);if(!i)return;this.nodeContentList.addChild(i),i.getComponent(d).initView(t[r])}},t}(c)).prototype,"nodeContentList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(b.prototype,"prefabRewardItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=b))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./ItemsGroup.ts"],(function(e){"use strict";var t,i,n,a,r,o,l,s,c,p,u,m,R,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,s=e.Sprite,c=e.Label,p=e.Component},function(e){u=e.ViewUtil},function(e){m=e.GameResPath,R=e.RankIcon},function(e){b=e.ItemsGroup}],execute:function(){var h,k,d,f,g,v,w,y,I;r._RF.push({},"59575VIBZVLq7t40ga9jtV7","RankRewardItem",void 0);var N=o.ccclass,C=o.property;e("RankRewardItem",(h=N("RankRewardItem"),k=C(l),d=C(l),f=C(l),h((w=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"lblRank",w,a(t)),n(t,"spRank",y,a(t)),n(t,"Nodeitems",I,a(t)),t}i(t,e);var r=t.prototype;return r.start=function(){},r.initView=function(e){this.spRank.active=!1,this.lblRank.active=!1,Number(e.min)==Number(e.max)?Number(e.min)<=3?(u.loadSpriteFrame(this.spRank.getComponent(s),m.getSpriteFrameCommon(R[Number(e.min)])),this.spRank.active=!0):(this.lblRank.active=!0,this.lblRank.getComponent(c).string=e.min):(this.lblRank.active=!0,this.lblRank.getComponent(c).string=e.min+"~"+e.max),this.Nodeitems.addComponent(b).init(e.award)},t}(p)).prototype,"lblRank",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(v.prototype,"spRank",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"Nodeitems",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Recharge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./StorageKey.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./TableUtil.ts","./Store.ts"],(function(e){"use strict";var t,r,a,n,s,i,o,c,g,u,y;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){a=e.cclegacy},function(e){n=e.oops},function(e){s=e.GameEvent},function(e){i=e.StorageKey},function(e){o=e.smc},function(e){c=e.GameSys},function(e){g=e.GameSysKey},function(e){u=e.TableUtil},function(e){y=e.GoodsType}],execute:function(){var f;e("RechargeType",void 0),a._RF.push({},"23a20QbV1JOC470bLMhQGmZ","Recharge",void 0),function(e){e[e.FirstRecharge=7]="FirstRecharge"}(f||(f=e("RechargeType",{})));var h=e("Recharge",function(e){function a(){for(var t,r,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(r=e.call.apply(e,[this].concat(n))||this).GoodsInfo=((t={})[21]={shopType:f.FirstRecharge,iconStr:"img_scwqtp",desp1:"",desp2:"",desp3:"极品专属时装",desp4:"攻击加成：+2%  防御加成：+2%\n生命加成：+2%",eff:11},t[22]={shopType:f.FirstRecharge,iconStr:"img_scjptjtp",desp1:"2700%返利",desp2:"送85级",desp3:"顶级灭世戒指",desp4:"攻击：+8751  防御+855\n血量：+53106  速度：+338"},t),r.redotWatchGameEvents=[s.FirstRechargeRed],r}t(a,e);var c=a.prototype;return c.getCurrentData=function(){var e=new Date,t={years:e.getFullYear(),month:e.getMonth(),day:e.getDay()};return JSON.stringify(t)},c.setStorage=function(){var e=this.getCurrentData();n.storage.set(i.FirstRechargeKey,e,!0)},c.getStoreageRed=function(){return n.storage.get(i.FirstRechargeKey,null,!0)!=this.getCurrentData()},c.calRedot=function(){return this.getStoreageRed()},c.checkOpened=function(e){return this.isShowFirstGift},r(a,[{key:"isBuyFirstGift",get:function(){if(0==o.system.checkOpened(g.first_recharge,!1))return!0;var e=o.store.buyTagInfo,t=u.getGoodsByType(y.firstRechargeType),r=0;for(var a in t)e.alwayTag&&e.alwayTag[Number(t[a].id)]&&r++;return r>=1}},{key:"isShowFirstGift",get:function(){var e=o.store.buyTagInfo,t=u.getGoodsByType(y.firstRechargeType),r=0;for(var a in t)e.alwayTag&&e.alwayTag[Number(t[a].id)]&&r++;return r<2}},{key:"buyFirstGiftTimes",get:function(){if(0==o.system.checkOpened(g.first_recharge,!1))return 0;var e=o.store.buyTagInfo,t=u.getGoodsByType(y.firstRechargeType),r=0;for(var a in t)e.alwayTag&&e.alwayTag[Number(t[a].id)]&&r++;return r}}]),a}(c));e("recharge",new h(g.first_recharge));a._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"dec9bVPigFCmKy5NVk+0y7h","RegexUtil",void 0);t("RegexUtil",function(){function t(){}return t.isDoubleWord=function(t){return/[^\x00-\xff]/.test(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["cc"],(function(e){"use strict";var n,s,t,r,l,o,a;return{setters:[function(e){n=e.cclegacy,s=e.assetManager,t=e.error,r=e.Prefab,l=e.js,o=e.Asset,a=e.resources}],execute:function(){n._RF.push({},"1a2e4jFffpHrYjrpxbnC760","ResLoader",void 0);e("ResLoader",function(){function e(){this.defaultBundleName="resources"}var n=e.prototype;return n.loadRemote=function(e){var n=null,t=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2]):t=arguments.length<=1?void 0:arguments[1],s.loadRemote(e,n,t)},n.loadBundle=function(e,n){return new Promise((function(r,l){s.loadBundle(e,{version:n},(function(e,n){if(e)return t(e);r(n)}))}))},n.load=function(e,n,s,t,r){var l=null;"string"==typeof n||n instanceof Array?(l=this.parseLoadResArgs(n,s,t,r)).bundle=e:(l=this.parseLoadResArgs(e,n,s,t)).bundle=this.defaultBundleName,this.loadByArgs(l)},n.loadAsync=function(e,n,s){var r=this;return new Promise((function(l,o){r.load(e,n,s,(function(e,n){e&&t(e.message),l(n)}))}))},n.loadDir=function(e,n,s,t,r){var l=null;"string"==typeof n?(l=this.parseLoadResArgs(n,s,t,r)).bundle=e:(l=this.parseLoadResArgs(e,n,s,t)).bundle=this.defaultBundleName,l.dir=l.paths,this.loadByArgs(l)},n.release=function(e,n){null==n&&(n=this.defaultBundleName);var t=s.getBundle(n);if(t){var r=t.get(e);r&&this.releasePrefabtDepsRecursively(r._uuid)}},n.releaseDir=function(e,n){var t=this;null==n&&(n=this.defaultBundleName);var r=s.getBundle(n);if(r){var l=r.getDirWithPath(e);l&&l.map((function(e){t.releasePrefabtDepsRecursively(e.uuid)})),""==e&&"resources"!=n&&s.removeBundle(r)}},n.releasePrefabtDepsRecursively=function(e){var n=s.assets.get(e);(s.releaseAsset(n),n instanceof r)&&s.dependUtil.getDepsRecursively(e).forEach((function(e){s.assets.get(e).decRef()}))},n.get=function(e,n,t){return null==t&&(t=this.defaultBundleName),s.getBundle(t).get(e,n)},n.dump=function(){s.assets.forEach((function(e,n){console.log(s.assets.get(n))})),console.log("当前资源总数:"+s.assets.count)},n.parseLoadResArgs=function(e,n,s,t){var r=e,a=n,u=s,i=t;if(void 0===t){var d=l.isChildClassOf(n,o);s?(i=s,d&&(u=null)):void 0!==s||d||(i=n,u=null,a=null),void 0===s||d||(u=n,a=null)}return{paths:r,type:a,onProgress:u,onComplete:i}},n.loadByBundleAndArgs=function(e,n){n.dir?e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):(n.paths,e.load(n.paths,n.type,n.onProgress,n.onComplete))},n.loadByArgs=function(e){var n=this;if(e.bundle)if(s.bundles.has(e.bundle)){var t=s.bundles.get(e.bundle);this.loadByBundleAndArgs(t,e)}else s.loadBundle(e.bundle,(function(s,t){s||n.loadByBundleAndArgs(t,e)}));else this.loadByBundleAndArgs(a,e)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Role.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameConst.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./SingletonModuleComp.ts","./TableFashion.ts","./TableGameAttr.ts","./TableGameBuff.ts","./TableGameConfig.ts","./TableGameHero.ts","./TableGameMonster.ts","./TableGameSkill.ts","./TableModelConfig.ts","./TableUtil.ts","./Util.ts","./BattleEfx.ts","./BattleEventHandler.ts","./HaloEfx.ts","./HpFly.ts","./IRoleAnimator.ts","./RoleAttackBullet.ts","./RoleLoader.ts"],(function(t){"use strict";var e,n,i,o,a,r,s,l,f,u,c,h,d,p,g,m,b,_,v,y,B,E,k,x,A,T,P,M,C,R,H,O,w,S,G,F,D,N,I,L,K,z,U,j,W;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,f=t._decorator,u=t.Prefab,c=t.Node,h=t.Vec3,d=t.tween,p=t.Color,g=t.Component,m=t.instantiate},function(t){b=t.oops},function(t){_=t.FightStateStr},function(t){v=t.EFightCamp,y=t.EFightState,B=t.EFormula,E=t.EFightAct,k=t.EObjtype},function(t){x=t.GameEvent},function(t){A=t.AudioClipEffect},function(t){T=t.smc},function(t){P=t.TableFashion},function(t){M=t.GameAttrKey,C=t.TableGameAttr},function(t){R=t.TableGameBuff},function(t){H=t.TableGameConfig},function(t){O=t.TableGameHero},function(t){w=t.TableGameMonster},function(t){S=t.TableGameSkill},function(t){G=t.TableModelConfig},function(t){F=t.TableUtil},function(t){D=t.delay},function(t){N=t.BattleEfx},function(t){I=t.handleBattleEvent},function(t){L=t.HaloEfx},function(t){K=t.HpFlyColor,z=t.HpFlyType},function(t){U=t.RoleAnim},function(t){j=t.RoleAttackBullet},function(t){W=t.RoleLoader}],execute:function(){var Y,X,V,Z,q,J,Q,$,tt,et,nt,it,ot,at,rt;t({RoleFilterEnemy:function(t){return t.info.fightCamp==v.ENEMY},RoleFilterOurs:function(t){return t.info.fightCamp==v.OUR}}),l._RF.push({},"a4c57lXxapMBKDY7m33pH45","Role",void 0);var st=f.ccclass,lt=f.property;t("Role",(Y=st("Role"),X=lt(u),V=lt(c),Z=lt(W),q=lt(N),J=lt(c),Q=lt(L),Y((et=e((tt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"pfbAtkBullet",et,o(e)),i(e,"anim",nt,o(e)),i(e,"loader",it,o(e)),i(e,"efx",ot,o(e)),i(e,"nodeBuffEfxs",at,o(e)),i(e,"halo",rt,o(e)),e._bloodBar=null,e._animator=null,e._info=null,e._status=new Array(y.NO_DOUBLEATK+1).fill(0),e._buffs=[],e._cfg=null,e._cfgModel=new G,e._standPos=null,e._frontPos=null,e._hitPos=new h,e}n(e,t);var l=e.prototype;return l.onLoad=function(){},l.start=function(){this.nodeBuffEfxs.children.forEach((function(t){return t.active=!1})),b.message.on(x.BattleRecord,this._battleEventHandler,this)},l.onDestroy=function(){b.message.off(x.BattleRecord,this._battleEventHandler,this),this.bloodBar.node.destroy()},l.init=function(){var t=r(s().mark((function t(e){var n,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._info=e,e.id,e.objType==k.HERO?this._cfg=new O:e.objType==k.MONSTER?this._cfg=new w:e.objType==k.ROBOT&&(this._cfg=new O),this._cfg.init(e.id),n=e.fashion&&0!=e.fashion?F.get(P,e.fashion).resid:this._cfg.model_id,this._cfgModel.init(n),t.next=8,this.loader.load(this._cfgModel);case 8:this._animator=t.sent,this.loader.setOffset(this._cfgModel.offset),this.efx.init(e.fightCamp),i=this._cfgModel.model_scale*F.BPS,this.anim.setScale(i,i),o=0,o+=this._info.fightCamp==v.ENEMY?180:0,o+=this._cfgModel.flip?180:0,this.anim.eulerAngles=new h(0,o,0),this.halo.init(T.battle.getHaloId(e.fightCamp));case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.setBloodBar=function(t){this._bloodBar=t,this._bloodBar.init(this.getAttr(M.hp),this.getAttr(M.curhp),this.cfg,this.info)},l.run=function(t){var e,n;void 0===t&&(t=null);var i=(t=null!=(e=t)?e:T.battle.moveSpeed)*this._cfgModel.run_anim_factor*F.BPS;null==(n=this.animator)||n.run(i)},l.stand=function(){var t;null==(t=this.animator)||t.stand()},l.moveTo=function(t,e){var n;void 0===e&&(e=null),this._standPos=t,e=null!=(n=e)?n:T.battle.moveSpeed;var i=this.node.position,o=Math.abs(t.x-i.x)/e;return d().target(this.node).to(o/T.battle.timescale,{position:t}).start(),o},l.standOn=function(t){this._standPos=t,this.node.setPosition(t)},l.getAttr=function(t){return this.info.tAttr[t]},l.setAttr=function(t,e){this.info.tAttr[t]=e},l.isDead=function(){return this.getAttr(M.curhp)<=0},l.addBuff=function(t){if(!(this._buffs.indexOf(t)>=0)){var e=F.get(R,t);if(e.rounds>1){if(this._buffs.push(t),e.efx){var n=this.nodeBuffEfxs.getChildByName(e.efx);n&&(n.active=!0)}e.roleColor&&(this.animator.color=new p(e.roleColor)),this.bloodBar.refreshBuffIcons(this._buffs)}}},l.rmBuff=function(t){var e=this._buffs.indexOf(t);if(e>=0){this._buffs.splice(e,1);var n=F.get(R,t);if(n.efx){var i=this.nodeBuffEfxs.getChildByName(n.efx);i&&(i.active=!1)}n.roleColor&&n.roleColor.toLowerCase()==this.animator.color.toHEX()&&(this.animator.color=p.WHITE),this.bloodBar.refreshBuffIcons(this._buffs)}},l.triggerBuff=function(t){var e=F.get(R,t);if(e.caAttr>0&&e.caAttr!=M.curhp){var n=C[e.caAttr];if(n){var i,o;if(e.formula==B.ADD)i=n.name+"提升",o=K.GREEN,this.efx.playOnce(N.Name.Zengyi);else{if(e.formula!=B.MINUS)return;i=n.name+"降低",o=K.RED}this.bloodBar.flyText(i,o)}else console.error("triggerBuff:"+e.caAttr)}},l.changeSt=function(t){if(t)for(var e in t)this._status[e]+=t[e],1==this._status[e]?e in _&&this.bloodBar.flyText(_[e],K.WHITE):this._status[e]},l.attack=function(t,e){var n=e.t;n==E.ATK?this._attack(t):n==E.ATKBACK?(this._attack(t),this.bloodBar.flyHp(z.SKILL_TYPE,"反击")):n==E.DOUBLEATK&&(this._attack(t),this.bloodBar.flyHp(z.SKILL_TYPE,"连击"))},l._attack=function(t){var e;this.cfgModel.move_attack?this.moveAttack(t.frontPos):(this.attackEfx&&this.efx.play(this.attackEfx),null==(e=this.animator)||e.attack(),this.doFireBullet(t))},l.moveAttack=function(t){var e=this,n=this;d(n.node).to(.1/T.battle.timescale,{position:t}).call((function(){var t;e.attackEfx&&e.efx.play(e.attackEfx),null==(t=n.animator)||t.playOnce(U.Attack,(function(){d(n.node).to(.1/T.battle.timescale,{position:n.standPos}).start()}))})).start()},l.doFireBullet=function(){var t=r(s().mark((function t(e){var n,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.attackBullet){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,D(this.cfgModel.attack_delay/2/T.battle.timescale);case 5:return(i=m(this.pfbAtkBullet)).parent=this.node,o=i.getComponent(j),t.next=10,o.init(this.camp,n);case 10:o.fireTo(e.hitPos);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.beAttacked=function(t,e,n){var i=this;if(this.node.position=this.standPos,e.v&&0!=e.v){var o=this.getAttr(M.curhp)+e.v;this.setAttr(M.curhp,o),e.sid&&this.scheduleOnce((function(){var t=F.get(S,e.sid),n=null==t?void 0:t.efx_to;n&&i.efx.play(n)}),n/1e3/2),this.scheduleOnce((function(){var n,a;(i.bloodBar.changeHp(e),e.t==E.ATK&&(null!=t&&t.attackBullet||i.efx.playOnce(N.Name.Shouji)),o>0)?null==(n=i.animator)||n.hit():null==(a=i.animator)||a.playOnce(U.Dead,(function(t,e){i.bloodBar.visible=!1,i.nodeBuffEfxs.active=!1,i.halo.reset(),d(e.color).to(1/T.battle.timescale,{a:0}).start()}));b.audio.playEffect(A.RoleAttack)}),n/1e3)}else this.scheduleOnce((function(){i.bloodBar.changeHp(e)}),n/1e3)},l.beTreated=function(t){var e=this,n=Math.min(this.getAttr(M.hp),this.getAttr(M.curhp)+t.v);this.setAttr(M.curhp,n),this.scheduleOnce((function(){e.efx.playOnce(N.Name.Huifu),e.bloodBar.changeHp(t)}),.5)},l.useSkill=function(t){var e;this.node.position=this.standPos,null==(e=this.animator)||e.use(),b.audio.playEffect(A.RoleSkill);var n=F.get(S,t);this.bloodBar.flyText(n.name,K.WHITE);var i=n.efx_by;i&&this.efx.play(i)},l.clearStatus=function(){var t=this;this._buffs=[],this.bloodBar.refreshBuffIcons(this._buffs),this.nodeBuffEfxs.children.forEach((function(t){return t.active=!1})),this._status.forEach((function(e,n){t._status[n]=0})),this.animator.color=p.WHITE},l._battleEventHandler=function(t,e){I(this,e)},l.update=function(){var t=this.node.worldPosition;this.bloodBar.node.setWorldPosition(t.x,t.y+this.cfgModel.blood_bar_h,0)},l.toString=function(){return this.cfg.name+"-"+this.spawnTag+"("+this.getAttr(M.curhp)+"/"+this.getAttr(M.hp)+")"},a(e,[{key:"bloodBar",get:function(){return this._bloodBar}},{key:"animator",get:function(){return this._animator}},{key:"info",get:function(){return this._info}},{key:"camp",get:function(){return this._info.fightCamp}},{key:"cfg",get:function(){return this._cfg}},{key:"cfgModel",get:function(){return this._cfgModel}},{key:"attackDelay",get:function(){return this._cfgModel.attack_delay}},{key:"useDelay",get:function(){return this._cfgModel.use_delay}},{key:"attackEfx",get:function(){var t;return null==(t=this._cfgModel)?void 0:t.attack_efx}},{key:"attackBullet",get:function(){var t;return null==(t=this._cfgModel)?void 0:t.attack_bullet}},{key:"logicPos",get:function(){return this._info.pos}},{key:"standPos",get:function(){return this._standPos}},{key:"frontPos",get:function(){return this._frontPos||(this._frontPos=this._standPos.clone().add3f(this.camp==v.OUR?180:-180,0,0)),this._frontPos}},{key:"hitPos",get:function(){return this.node.getWorldPosition(this._hitPos),this._hitPos.y+=120,this._hitPos}},{key:"spawnTag",get:function(){if(!this.info)return null;var t=this.logicPos;return t<H.val_fightNum?"l"+(t+1):"r"+(t-H.val_fightNum+1)}}]),e}(g)).prototype,"pfbAtkBullet",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(tt.prototype,"anim",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(tt.prototype,"loader",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(tt.prototype,"efx",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(tt.prototype,"nodeBuffEfxs",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(tt.prototype,"halo",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=tt))||$));l._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformUtil.ts","./SingletonModuleComp.ts","./IRoleAnimator.ts"],(function(t){"use strict";var n,i,e,a,o,l,s,r,c;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,a=t._decorator,o=t.dragonBones,l=t.Component},function(t){s=t.PlatformUtil},function(t){r=t.smc},function(t){c=t.RoleAnim}],execute:function(){var p;e._RF.push({},"be55dqsnyBG07vnFgEy9vTP","RoleAnimator",void 0);var u,m=a.ccclass,h=(a.property,a.requireComponent);!function(t){t[t.stand=c.Stand]="stand",t[t.walk=c.Walk]="walk",t[t.attack=c.Attack]="attack",t[t.hit=c.Hit]="hit",t[t.use=c.Skill]="use",t[t.dead=c.Dead]="dead"}(u||(u={}));t("RoleAnimator",m("RoleAnimator")(p=h(o.ArmatureDisplay)(p=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this)._display=null,n._onComplete=new Map,n}n(e,t);var a=e.prototype;return a.animMapping=function(t){return u[t]},a.start=function(){this.display.addEventListener(o.EventObject.COMPLETE,this._armatureEventHandler,this)},a.onDestroy=function(){},a._armatureEventHandler=function(t){var n=t.animationState.name,i=this.animMapping(n);t.type===o.EventObject.COMPLETE?(i!==c.Hit&&i!==c.Attack&&i!==c.Skill||this.stand(),this._onComplete[i]&&this._onComplete[i](i,this),this._onComplete.clear()):t.type===o.EventObject.FADE_IN||(t.type,o.EventObject.FADE_OUT)},a.hit=function(){this.playOnce(c.Hit)},a.attack=function(){this.playOnce(c.Attack)},a.run=function(t){void 0===t&&(t=1),this.animation.play(this.animMapping(c.Walk),-1).timeScale=t*this.timescale},a.stand=function(){this.animation.play(this.animMapping(c.Stand),-1).timeScale=this.timescale},a.dead=function(){this.playOnce(c.Dead)},a.use=function(){this.playOnce(c.Skill)},a.playOnce=function(t,n){void 0===n&&(n=null),this._onComplete[t]=n,this.animation.play(this.animMapping(t),1).timeScale=this.timescale},a.playAny=function(t,n){var i=this.animation.play(t,n);return i.totalTime/i.timeScale},i(e,[{key:"display",get:function(){return this._display||(this._display=this.getComponent(o.ArmatureDisplay)),this._display}},{key:"animation",get:function(){return this.display.armature().animation}},{key:"color",get:function(){return this.display.color},set:function(t){this.display.color=t}},{key:"timescale",get:function(){return s.isNativeAndroid()&&r.battle.playing?r.battle.timescale:1}}]),e}(l))||p)||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAnimatorD2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IRoleAnimator.ts","./RoleAnimator.ts"],(function(n){"use strict";var i,t,a,e,c,o;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,a=n._decorator,e=n.error},function(n){c=n.RoleAnim},function(n){o=n.RoleAnimator}],execute:function(){var r,l;t._RF.push({},"1de7atxLSVBHLmob3s58sCE","RoleAnimatorD2",void 0);var s=a.ccclass,u=((r={})[c.Stand]=["idle","mapidle"],r[c.Walk]=["move","mapmove"],r[c.Attack]=["attack","attack1","attack2"],r[c.Hit]=["hurt"],r[c.Skill]=["skill","skill01","skill1"],r[c.Dead]=["dead"],r);n("RoleAnimatorD2",s("RoleAnimatorD2")(l=function(n){function t(){for(var i,t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return(i=n.call.apply(n,[this].concat(a))||this).cacheAnimMapping={},i}i(t,n);var a=t.prototype;return a.animMapping=function(n){return this.cacheAnimMapping[n]},a.init=function(n){var i=this;return Object.keys(u).forEach((function(t){var a=Number(t);if(a==c.Skill&&n.anim_skill)i.cacheAnimMapping[a]=n.anim_skill;else{var e=u[a].find((function(n){return i.hasAnim(n)}));e&&(i.cacheAnimMapping[a]=e)}})),Object.keys(this.cacheAnimMapping).forEach((function(n){var t,a;null!=(t=i.cacheAnimMapping)[a=i.cacheAnimMapping[n]]||(t[a]=Number(n))})),this},a.hasAnim=function(n){return-1!=this.animation.animationNames.indexOf(n)},a.playOnce=function(i,t){void 0===t&&(t=null),this.cacheAnimMapping[i]?n.prototype.playOnce.call(this,i,t):e("ERR Anim NOT Exist: "+c[i])},t}(o))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAnimatorS.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./IRoleAnimator.ts"],(function(t){"use strict";var n,i,e,a,o,s,l,c,r;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,a=t._decorator,o=t.sp,s=t.assert,l=t.Component},function(t){c=t.smc},function(t){r=t.RoleAnim}],execute:function(){var p;e._RF.push({},"730b1keuBtJN5TFGuQrqSLx","RoleAnimatorS",void 0);var u,m=a.ccclass,d=(a.property,a.requireComponent);!function(t){t[t.wait=r.Stand]="wait",t[t.atk=r.Attack]="atk",t[t.byatk=r.Hit]="byatk",t[t.die=r.Dead]="die"}(u||(u={}));t("RoleAnimatorS",m("RoleAnimatorS")(p=d(o.Skeleton)(p=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this)._display=null,n._onComplete=new Map,n}n(e,t);var a=e.prototype;return a.animMapping=function(t){return u[t]},a.stand=function(){this.display.setAnimation(0,this.animMapping(r.Stand),!0),this.display.timeScale=this.timescale},a.run=function(t){throw new Error("Method not implemented.")},a.attack=function(){this.playOnce(r.Attack)},a.hit=function(){this.playOnce(r.Hit)},a.use=function(){this.playOnce(r.Attack)},a.dead=function(){this.playOnce(r.Dead)},a.playOnce=function(t,n){void 0===n&&(n=null),s(this.animMapping(t),"ERR anim!"),this._onComplete[t]=n,this.display.setAnimation(0,this.animMapping(t),!1),this.display.timeScale=this.timescale},a.onLoad=function(){var t=this;this.display.setCompleteListener((function(n){var i,e=null==(i=n.animation)?void 0:i.name,a=t.animMapping(e);a!==r.Hit&&a!==r.Attack&&a!==r.Skill||t.stand(),t._onComplete[a]&&t._onComplete[a](a,t),t._onComplete.clear()}))},a.playAny=function(t,n){return this.display.setAnimation(0,t,!1).animationEnd},i(e,[{key:"display",get:function(){return this._display||(this._display=this.getComponent(o.Skeleton)),this._display}},{key:"color",get:function(){return this.display.color},set:function(t){this.display.color=t}},{key:"timescale",get:function(){return c.battle.playing?c.battle.timescale:1}}]),e}(l))||p)||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAnimatorS2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./IRoleAnimator.ts","./RoleAnimatorS.ts"],(function(t){"use strict";var e,n,i,o,a,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.smc},function(t){a=t.RoleAnim},function(t){l=t.RoleAnimatorS}],execute:function(){var c;n._RF.push({},"062adxJD7BNAbelavyv0bzZ","RoleAnimatorS2",void 0);var r,s=i.ccclass;i.property;!function(t){t[t.Idle=a.Stand]="Idle",t[t.Movement=a.Walk]="Movement",t[t.Attack1=a.Attack]="Attack1",t[t.BeAttacked=a.Hit]="BeAttacked",t[t.Skill=a.Skill]="Skill",t[t.Deaded=a.Dead]="Deaded"}(r||(r={}));t("RoleAnimatorS2",s("RoleAnimatorS2")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.animMapping=function(t){return r[t]},i.run=function(t){void 0===t&&(t=1),this.display.setAnimation(0,this.animMapping(a.Walk),!0),this.display.timeScale=o.battle.timescale*t},i.use=function(){this.playOnce(a.Skill)},n}(l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAnimatorS3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IRoleAnimator.ts","./RoleAnimatorS2.ts"],(function(t){"use strict";var n,o,e,a,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){a=t.RoleAnim},function(t){i=t.RoleAnimatorS2}],execute:function(){var r;o._RF.push({},"ea86bBzuc9Cm54k4OmaMBwj","RoleAnimatorS3",void 0);var c,u=e.ccclass;e.property;!function(t){t[t.stand=a.Stand]="stand",t[t.walk=a.Walk]="walk",t[t.attack=a.Attack]="attack",t[t.hit=a.Hit]="hit",t[t.use=a.Skill]="use",t[t.dead=a.Dead]="dead"}(c||(c={}));t("RoleAnimatorS3",u("RoleAnimatorS3")(r=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.prototype.animMapping=function(t){return c[t]},o}(i))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAttackBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./GameResPath.ts","./SingletonModuleComp.ts","./Util.ts","./RoleAnimator.ts","./RoleLoader.ts"],(function(t){"use strict";var e,n,o,r,a,i,s,c,u,l,f,h,p,d,m;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,i=t.Vec3,s=t.tween,c=t.Component,u=t.dragonBones},function(t){l=t.EFightCamp},function(t){f=t.GameResPath},function(t){h=t.smc},function(t){p=t.delay},function(t){d=t.RoleAnimator},function(t){m=t.RoleLoader}],execute:function(){var v;r._RF.push({},"24fc1achRxH46wKhM/xqoxr","RoleAttackBullet",void 0);var y=a.ccclass,g=(a.property,"daoju_feixing"),R="daoju_baozha",x={xiaohai_pugong:{firePos:new i(110,100)},girl:{firePos:new i(85,125)}};t("RoleAttackBullet",y("RoleAttackBullet")(v=function(t){function r(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).animator=null,e}e(r,t);var a=r.prototype;return a.init=function(){var t=n(o().mark((function t(e,n){var r,a,i,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=x[n],this.node.setPosition(e==l.OUR?a.firePos.x:-a.firePos.x,a.firePos.y),i=null!=(r=this.getComponent(u.ArmatureDisplay))?r:this.addComponent(u.ArmatureDisplay),s=f.getAttackEfxPath(n),t.next=6,m.loadDragonBone(i,s);case 6:return i.armatureName="Armature"+n,this.animator=this.addComponent(d),t.abrupt("return",this);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),a.fireTo=function(t){var e=this;this.animator.playAny(g,0);var r=t.clone().subtract(this.node.worldPosition),a=Math.atan2(r.y,r.x)*(180/Math.PI);this.node.angle=a,s(this.node).to(.2/h.battle.timescale,{worldPosition:t}).call(n(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.animator.playAny(R,1),t.next=3,p(1e3*n);case 3:(null==e?void 0:e.isValid)&&(null==e?void 0:e.node)&&(e.node.active=!1);case 4:case"end":return t.stop()}}),t)})))).delay(2).removeSelf().start()},r}(c))||v);r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleInfoPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameAttr.ts","./TableGameHero.ts","./TableUtil.ts","./Util.ts","./JsonUtil.ts"],(function(t){"use strict";var e,i,l,n,a,r,o,s,c,p,u,b,h,f,d,g,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.Label,s=t.ProgressBar,c=t.Node,p=t.Component},function(t){u=t.oops},function(t){b=t.UIID},function(t){h=t.smc},function(t){f=t.GameAttrKey},function(t){d=t.TableGameHero},function(t){g=t.TableUtil},function(t){m=t.Util},function(t){v=t.JsonUtil}],execute:function(){var x,y,E,I,A,z,L,R,T,U,w,C,P,G,H;a._RF.push({},"05b671t0dhHsLCnx3pI00S2","RoleInfoPanel",void 0);var N=r.ccclass,D=r.property;t("RoleInfoPanel",(x=N("RoleInfoPanel"),y=D(o),E=D(o),I=D(o),A=D(s),z=D(o),L=D(c),x((U=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,l(e,"lblZhanli",U,n(e)),l(e,"lblName",w,n(e)),l(e,"lblLv",C,n(e)),l(e,"barExp",P,n(e)),l(e,"lblExp",G,n(e)),l(e,"nodeAttrs",H,n(e)),e.id=null,e.accdata=null,e}i(e,t);var a=e.prototype;return a.init=function(t,e){this.id=t,this.accdata=e||h.accdata;var i=g.get(d,t);this.lblName.string=i.name,this.lblLv.string=m.fmtLv(i.lv);var l=this.accdata.getRole(t),n=l.tAttr;this.nodeAttrs.children.forEach((function(t){var e=f[t.name];t.getComponentInChildren(o).string=n?n[e]+"":"0"})),this.lblZhanli.string="战力："+l.fight;var a=t==this.accdata.heroId;this.barExp&&(this.barExp.node.active=a),this.barExp&&a&&(i.nextid>0?(this.barExp.progress=this.accdata.heroExp/i.costexp,this.lblExp.string=this.accdata.heroExp+"/"+i.costexp):(this.barExp.progress=1,this.lblExp.string="MAX"))},a.onHelpClick=function(){var t={title:v.get(d.TableName)[this.id].name+"详细属性",attrs:this.accdata.getRole(this.id).tAttr};u.gui.open(b.TipAttr,t)},e}(p)).prototype,"lblZhanli",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(T.prototype,"lblName",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(T.prototype,"lblLv",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(T.prototype,"barExp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(T.prototype,"lblExp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(T.prototype,"nodeAttrs",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=T))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleLevelUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableGameHero.ts","./TableUtil.ts","./Util.ts","./RoleLevelUpItem.ts"],(function(e){"use strict";var t,n,o,l,i,r,a,s,c,u,p,f,m,d,v,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,c=e.Node,u=e.Component},function(e){p=e.oops},function(e){f=e.GameEvent},function(e){m=e.smc},function(e){d=e.TableGameHero},function(e){v=e.TableUtil},function(e){h=e.Util},function(e){b=e.RoleLevelUpItem}],execute:function(){var g,y,L,R,U,H,I,D,_;r._RF.push({},"5f757SM0dZOr77G5EksOYBm","RoleLevelUp",void 0);var C=a.ccclass,k=a.property;e("RoleLevelUp",(g=C("RoleLevelUp"),y=k(s),L=k(s),R=k(c),g((I=t((H=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"lblHeroName",I,l(t)),o(t,"lblHeroLevel",D,l(t)),o(t,"nodeItems",_,l(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.lblHeroName.string=v.get(d,m.accountData.heroId).name,this.lblHeroLevel.string=h.fmtLv(m.accountData.heroLevel),this.items.forEach((function(e,t){var n=m.accountData.roles[t+1];n?(e.init(n),e.refreshRedot()):e.lock()})),p.message.on(f.RoleUpdated,this._eventHandler,this)},r.onDestroy=function(){p.message.off(f.RoleUpdated,this._eventHandler,this)},r._eventHandler=function(e){e==f.RoleUpdated&&this.items.forEach((function(e){return e.refreshRedot()}))},r.onXClick=function(){p.gui.removeByNode(this.node,!0)},i(t,[{key:"items",get:function(){return this.nodeItems.getComponentsInChildren(b)}}]),t}(u)).prototype,"lblHeroName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"lblHeroLevel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(H.prototype,"nodeItems",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=H))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleLevelUpItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./CostItem.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableFashion.ts","./TableGameAttr.ts","./TableGameHero.ts","./TableGameSys.ts","./TableModelConfig.ts","./TableUtil.ts","./Util.ts","./RoleLoader.ts","./AttrItem.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,l,c,u,f,p,h,d,m,b,g,v,y,L,_,C,I,T,w,R,U,k,O,G,A,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.Label,f=e.Sprite,p=e.Node,h=e.Button,d=e.Component},function(e){m=e.oops},function(e){b=e.ViewUtil},function(e){g=e.GameEvent},function(e){v=e.AudioClipEffect},function(e){y=e.CostItem},function(e){L=e.httpChannel},function(e){_=e.MsgID},function(e){C=e.smc},function(e){I=e.TableFashion},function(e){T=e.GameAttrKey},function(e){w=e.TableGameHero},function(e){R=e.GameSysKey},function(e){U=e.TableModelConfig},function(e){k=e.BasicAttrKeys,O=e.TableUtil},function(e){G=e.Util},function(e){A=e.RoleLoader},function(e){z=e.AttrItem}],execute:function(){var x,B,E,H,S,M,D,N,P,F,K,q,j,V,W,J,Q;l._RF.push({},"20697wWcSFB869rWG8IM8/U","RoleLevelUpItem",void 0);var X=c.ccclass,Y=c.property;e("RoleLevelUpItem",(x=X("RoleLevelUpItem"),B=Y(u),E=Y(u),H=Y(f),S=Y(p),M=Y(p),D=Y(h),N=Y(A),x((K=t((F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lblName",K,o(t)),i(t,"lblLv",q,o(t)),i(t,"spHead",j,o(t)),i(t,"nodeLock",V,o(t)),i(t,"nodeAttrs",W,o(t)),i(t,"btnOp",J,o(t)),i(t,"roleLoader",Q,o(t)),t._cfg=new w,t._anim=null,t}n(t,e);var l=t.prototype;return l.init=function(){var e=a(s().mark((function e(t){var n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._cfg.init(t),this.refresh(),n=C.accdata.getRole(t),i=n.fashion&&n.fashion>0?O.get(I,n.fashion).resid:this._cfg.model_id,o=O.get(U,i),e.next=7,this.roleLoader.load(o);case 7:this._anim=e.sent,this.roleLoader.setScale(o.ui_model_scale*O.BPS),this.spHead.node.active=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.refresh=function(){var e=this;if(this.nodeLock.active=!1,this.lblName.string=this._cfg.name,this.lblLv.string=G.fmtLv(this._cfg.lv),this.attrItems.forEach((function(t,n){var i=k[n],o=T[i];t.initByKey(i,e._cfg[o])})),this._cfg.nextid>0){var t,n=Object.entries(this._cfg.costitem);(t=this.btnOpCost).init.apply(t,n[0])}else this.btnOpCost.node.active=!1,this.btnOpText.string="已满级",this.btnOpText.node.setPosition(0,0)},l.refreshRedot=function(){G.setRedot(this.btnOp,this.system.checkUpgrade(this._cfg.id))},l.lock=function(){this.nodeLock.active=!0,this.lblName.node.active=!1,this.lblLv.node.active=!1,this.btnOp.node.active=!1,this.attrItems.forEach((function(e,t){e.initByKey(k[t],"未解锁")})),b.setGray(this.node)},l.onOpClick=function(e){var t=this;if(this.system.checkUpgrade(this._cfg.id,!0)){G.Btn_doCD(null==e?void 0:e.currentTarget);var n={hid:this._cfg.id};L.req(_.HeroLvUp,n,(function(e){var i,o=e.data;if(o.ok){null==(i=t._anim)||i.use(),C.account.doResChange(o),C.accountData.upgradeRoleInfo(o.hero,n.hid),C.ebox.refreshTmp(o.newTmpEquips);var r={oldId:n.hid,newId:o.hero.id};m.audio.playEffect(v.LevelUp),t.init(o.hero.id),m.message.dispatchEvent(g.RoleUpdated,r)}else m.gui.toast(o.msg)}))}},r(t,[{key:"system",get:function(){return C.system.get(R.equip_hero)}},{key:"attrItems",get:function(){return this.nodeAttrs.getComponentsInChildren(z)}},{key:"btnOpCost",get:function(){return this.btnOp.node.getComponentInChildren(y)}},{key:"btnOpText",get:function(){return this.btnOp.node.getComponentInChildren(u)}}]),t}(d)).prototype,"lblName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(F.prototype,"lblLv",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(F.prototype,"spHead",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(F.prototype,"nodeLock",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(F.prototype,"nodeAttrs",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(F.prototype,"btnOp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(F.prototype,"roleLoader",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=F))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/RoleLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameConst.ts","./GameResPath.ts","./RoleAnimator.ts","./RoleAnimatorD2.ts","./RoleAnimatorS.ts","./RoleAnimatorS2.ts","./RoleAnimatorS3.ts"],(function(t){"use strict";var e,n,r,a,o,i,s,u,l,c,p,d,m,f,h,b,A;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,i=t.Vec3,s=t.Component,u=t.dragonBones,l=t.sp},function(t){c=t.oops},function(t){p=t.RoleModelResType},function(t){d=t.GameResPath},function(t){m=t.RoleAnimator},function(t){f=t.RoleAnimatorD2},function(t){h=t.RoleAnimatorS},function(t){b=t.RoleAnimatorS2},function(t){A=t.RoleAnimatorS3}],execute:function(){var v;a._RF.push({},"4311bFXumxFwKnbe3GBqt9M","RoleLoader",void 0);var k=o.ccclass;o.property,t("RoleLoader",k("RoleLoader")(v=function(t){function a(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).modelName=null,e.animator=null,e}e(a,t);var o=a.prototype;return o.load=function(){var t=n(r().mark((function t(e,n){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=null),a=e.model,n||(n=e.model_type),a!=this.modelName){t.next=5;break}return t.abrupt("return",this.animator);case 5:this.node.active=!1,t.t0=n,t.next=t.t0===p.DragonBone?9:t.t0===p.Spine?15:t.t0===p.Spine2?21:t.t0===p.Spine3?27:t.t0===p.DragonBone2?33:39;break;case 9:return t.next=11,this.loadDragonBone(e);case 11:if(t.t1=t.sent,!t.t1){t.next=14;break}this.animator=this.addComponent(m);case 14:return t.abrupt("break",41);case 15:return t.next=17,this.loadSpine(a);case 17:if(t.t2=t.sent,!t.t2){t.next=20;break}this.animator=this.addComponent(h);case 20:return t.abrupt("break",41);case 21:return t.next=23,this.loadSpine(a);case 23:if(t.t3=t.sent,!t.t3){t.next=26;break}this.animator=this.addComponent(b);case 26:return t.abrupt("break",41);case 27:return t.next=29,this.loadSpine(a);case 29:if(t.t4=t.sent,!t.t4){t.next=32;break}this.animator=this.addComponent(A);case 32:return t.abrupt("break",41);case 33:return t.next=35,this.loadDragonBone(e);case 35:if(t.t5=t.sent,!t.t5){t.next=38;break}this.animator=this.addComponent(f).init(e);case 38:return t.abrupt("break",41);case 39:return console.error("ERR ty"),t.abrupt("return",null);case 41:if(this.animator){t.next=43;break}return t.abrupt("return",null);case 43:return this.node.active=!0,this.modelName=a,this.animator.stand(),e.flip&&this.setFlipX(),t.abrupt("return",this.animator);case 48:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),o.loadDragonBone=function(){var t=n(r().mark((function t(e){var n,o,i,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=null!=(n=this.getComponent(u.ArmatureDisplay))?n:this.addComponent(u.ArmatureDisplay)).premultipliedAlpha=!1,i.armatureName=null,i.dragonAsset=null,i.dragonAtlasAsset=null,(s=d.getModelPath(e.model)).armatureName=null!=(o=e.armature)?o:"Armature",t.next=9,a.loadDragonBone(i,s);case 9:if(this.isValid){t.next=11;break}return t.abrupt("return",!1);case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.loadSpine=function(){var t=n(r().mark((function t(e){var n,o,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=null!=(n=this.getComponent(l.Skeleton))?n:this.addComponent(l.Skeleton)).premultipliedAlpha=!1,o.skeletonData=null,i=d.getSpineModelPath(e),t.next=6,a.LoadSpine(o,i);case 6:if(null!=this&&this.isValid){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.setOffset=function(t){t||(t=[0,0]),this.node.setPosition(t[0],t[1])},o.setScale=function(t){this.node.setScale(t,t)},o.setFlipX=function(){this.node.eulerAngles=new i(0,180,0)},a.loadDragonBone=function(){var t=n(r().mark((function t(e,n){var a,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Promise((function(t,r){c.res.load(n.skeleton,u.DragonBonesAsset,(function(n,a){n&&r(n),(null==e?void 0:e.isValid)&&(e.dragonAsset=a),t(null)}))})),o=new Promise((function(t,r){c.res.load(n.atlas,u.DragonBonesAtlasAsset,(function(n,a){n&&r(n),(null==e?void 0:e.isValid)&&(e.dragonAtlasAsset=a),t(null)}))})),t.next=4,Promise.all([a,o]);case 4:(null==e?void 0:e.isValid)&&n.armatureName&&(e.armatureName=n.armatureName),(null==e?void 0:e.isValid)&&n.defaultAnimation&&e.playAnimation(n.defaultAnimation,0);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),a.LoadSpine=function(){var t=n(r().mark((function t(e,n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){c.res.load(n,l.SkeletonData,(function(n,a){n&&r(n),e.skeletonData=a,t()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),a}(s))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HaloEfx.ts","./RoleLoader.ts","./GameConst.ts","./SingletonModuleComp.ts","./TableFashion.ts","./TableGameHero.ts","./TableModelConfig.ts","./TableUtil.ts"],(function(e){"use strict";var o,t,i,n,a,r,l,s,c,d,u,f,h,p,g,b,m,L;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Vec3,d=e.Component},function(e){u=e.HaloEfx},function(e){f=e.RoleLoader},function(e){h=e.RoleModelResType},function(e){p=e.smc},function(e){g=e.TableFashion},function(e){b=e.TableGameHero},function(e){m=e.TableModelConfig},function(e){L=e.TableUtil}],execute:function(){var y,M,v,R,_,T,w,B,D;l._RF.push({},"7156e9+wShMV6Eew75oho1Z","RoleUI",void 0);var S=s.ccclass,H=s.property;e("RoleUILoader",(y=S("RoleUILoader"),M=H(f),v=H(f),R=H(u),y((w=o((T=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return o=e.call.apply(e,[this].concat(a))||this,i(o,"spineLoader",w,n(o)),i(o,"dbLoader",B,n(o)),i(o,"halo",D,n(o)),o.cfgModel=new m,o}t(o,e);var l=o.prototype;return l.init=function(e){var o=e.id||p.accdata.roles[0],t=e.fashion&&e.fashion>0?L.get(g,e.fashion).resid:L.get(b,o).model_id;this.initModel(t)},l.initByRoleId=function(e){var o=e||p.accountData.roles[0],t=L.get(b,o).model_id;this.initModel(t)},l.initModel=function(e){return this.cfgModel.init(e),this.isDragonBone()?(this.spineLoader.node.active=!1,this.dbLoader.node.active=!0,this.dbLoader.setScale(this.cfgModel.ui_model_scale*L.BPS),this.dbLoader.load(this.cfgModel)):(this.spineLoader.node.active=!0,this.dbLoader.node.active=!1,this.spineLoader.setScale(this.cfgModel.ui_model_scale*L.BPS),this.spineLoader.load(this.cfgModel))},l.isDragonBone=function(){return this.cfgModel.model_type==h.DragonBone||this.cfgModel.model_type==h.DragonBone2},l.initHalo=function(){var e=a(r().mark((function e(o){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.halo.init(o);case 1:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}(),l.setFlipX=function(){this.node.eulerAngles=new c(0,180,0)},o}(d)).prototype,"spineLoader",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=o(T.prototype,"dbLoader",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=o(T.prototype,"halo",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/Root.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Language.ts","./BuildTimeConstants.ts","./GameConfig.ts","./GameQueryConfig.ts","./Oops.ts","./AudioManager.ts","./EventMessage.ts","./GameManager.ts","./GUI.ts","./LayerManager.ts","./TimerManager.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,u,c,g,l,m,p,f,d,E,h,v,y,R,G,M,b,C,N,w,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Node,u=e.JsonAsset,c=e.game,g=e.director,l=e.Game,m=e.log,p=e.sys,f=e.view,d=e.Component},function(e){E=e.LanguageManager},function(e){h=e.BuildTimeConstants},function(e){v=e.GameConfig},function(e){y=e.GameQueryConfig},function(e){R=e.version,G=e.oops},function(e){M=e.AudioManager},function(e){b=e.EventMessage},function(e){C=e.GameManager},function(e){N=e.GUI},function(e){w=e.LayerManager},function(e){T=e.TimerManager}],execute:function(){var _,A,I,D,L;a._RF.push({},"90b9cOmlmBCnpCpEpgvdrQr","Root",void 0);s.ccclass;var S=s.property;e("Root",(_=S({type:r,tooltip:"游戏层"}),A=S({type:r,tooltip:"界面层"}),D=t((I=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"game",D,o(t)),i(t,"gui",L,o(t)),t.persistRootNode=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;console.log("Oops Framework v"+R),this.enabled=!1;var t="config";G.res.load(t,u,(function(){var n=G.res.get(t);G.config.btc=new h,G.config.query=new y,G.config.game=new v(n),G.http.server=G.config.game.httpServer,G.http.timeout=G.config.game.httpTimeout,G.storage.init(G.config.game.localDataKey,G.config.game.localDataIv),c.frameRate=G.config.game.frameRate,e.enabled=!0,e.init(),e.run()}))},a.update=function(e){G.ecs.execute(e)},a.initGui=function(){},a.initEcsSystem=function(){},a.run=function(){},a.init=function(){this.persistRootNode=new r("PersistRootNode"),g.addPersistRootNode(this.persistRootNode),G.audio=this.persistRootNode.addComponent(M),G.audio.load(),G.timer=this.persistRootNode.addComponent(T),G.language=new E,G.game=new C(this.game),G.gui=new w(this.gui),this.initGui(),this.initEcsSystem(),G.ecs.init(),c.on(l.EVENT_SHOW,(function(){m("Game.EVENT_SHOW"),G.timer.load(),G.audio.resumeAll(),g.resume(),c.resume(),G.message.dispatchEvent(b.GAME_ENTER)})),c.on(l.EVENT_HIDE,(function(){m("Game.EVENT_HIDE"),G.timer.save(),G.audio.pauseAll(),g.pause(),c.pause(),G.message.dispatchEvent(b.GAME_EXIT)}));var e=this.gui.addComponent(N);0==p.isMobile&&f.setResizeCallback((function(){e.resize(),G.message.dispatchEvent(b.GAME_RESIZE)}))},t}(d)).prototype,"game",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"gui",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I));a._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./Vec3Util.ts"],(function(t){"use strict";var o,n,r,e,i;return{setters:[function(t){o=t.cclegacy,n=t.Quat,r=t.Vec3,e=t.toRadian},function(t){i=t.Vec3Util}],execute:function(){o._RF.push({},"103324kr75Hi5d7RZCcRt3P","RotateUtil",void 0);t("RotateUtil",function(){function t(){}return t.rotateAround=function(t,o,r){var e=new n;n.rotateAround(e,t.getRotation(),o.normalize(),r),t.setRotation(e)},t.rotateAroundTarget=function(t,o,e,i){var a=t.worldPosition,u=o.worldPosition,c=new n,s=new r;n.fromAxisAngle(c,e,i),r.subtract(s,u,a),r.transformQuat(s,s,c),r.add(s,a,s),o.setWorldPosition(s),n.rotateAround(c,o.worldRotation,e,i),n.normalize(c,c),o.setWorldRotation(c)},t.circularEdgePosition=function(t,o,a){var u=i.z.multiplyScalar(o),c=i.sub(u,t),s=new r,l=new n;return n.fromAxisAngle(l,r.UP,e(a)),r.transformQuat(s,c,l),r.add(s,t,s),s},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RoundRectMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,n,s,r,o,u,p,c,h,d,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,o=t._decorator,u=t.Mask,p=t.CCFloat,c=t.UITransform,h=t.game,d=t.Game,l=t.Component}],execute:function(){var k,m,f,R,v,y,g,C,M;r._RF.push({},"da0f8CBQkZDqaekNuERqKjA","RoundRectMask",void 0);var _=o.ccclass,w=o.property,D=o.executeInEditMode,b=o.disallowMultiple,E=o.requireComponent,T=o.menu;t("RoundRectMask",(k=_("RoundRectMask"),m=D(!0),f=b(!0),R=E(u),v=T("渲染组件/圆角遮罩"),y=w({type:p,tooltip:"圆角半径:\n0-1之间为最小边长比例值, \n>1为具体像素值"}),k(g=m(g=f(g=R(g=v((M=e((C=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,a(e,"propRadius",M,n(e)),e.mask=null,e}i(e,t);var r=e.prototype;return r.onEnable=function(){this.mask=this.getComponent(u),this.updateMask(this.radius)},r.updateMask=function(t){var e=t>=0?t:0;if(e<1){var i=this.node.getComponent(c);e=Math.min((null==i?void 0:i.width)||0,(null==i?void 0:i.width)||0)*e}this.mask&&(this.mask.radius=e,this.mask.onDraw=this.onDraw.bind(this.mask),this.mask._updateGraphics=this._updateGraphics.bind(this.mask),this.mask.type=u.Type.GRAPHICS_RECT)},r._updateGraphics=function(){var t=this._graphics;t&&this.onDraw(t)},r.onDraw=function(t){var e=this.node.getComponent(c);t.clear();var i=e.width,a=e.height,n=-i*e.anchorX,s=-a*e.anchorY;t.roundRect(n,s,i,a,this.radius||0),h.renderType===d.RENDER_TYPE_CANVAS?t.stroke():t.fill()},s(e,[{key:"radius",get:function(){return this.propRadius},set:function(t){this.propRadius=t,this.updateMask(t)}}]),e}(l)).prototype,"propRadius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),g=C))||g)||g)||g)||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/RTPart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./MainBtn.ts"],(function(t){"use strict";var n,e,o,i,a,r,c,s,u,l,d,f,p,v,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,s=t.Component},function(t){u=t.oops},function(t){l=t.ViewUtil},function(t){d=t.GameEvent},function(t){f=t.RTConfigData,p=t.ExConfigData,v=t.UIID},function(t){h=t.MainBtn}],execute:function(){var E,R,g,m,b,x,y;a._RF.push({},"82f62ZV2TREB7Ybl6ow7ldg","RTPart",void 0);var B=r.ccclass,D=r.property;t("RTPart",(E=B("RTPart"),R=D(c),g=D(c),E((x=n((b=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,o(n,"nodeBtnRoot",x,i(n)),o(n,"nodeExtendRoot",y,i(n)),n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.initMain(),this.initExtend()},a.start=function(){u.message.on(d.DockBtnActive,this._dockEventHandler,this)},a.onDestroy=function(){u.message.off(d.DockBtnActive,this._dockEventHandler,this)},a.initMain=function(){var t=this;f.forEach((function(n){var e=l.createPrefabNode("gui/main/mbtn");e.getComponent(h).init(n),e.parent=t.nodeBtnRoot}))},a.initExtend=function(){var t=this;this.nodeExtendRoot.active=!1,p.forEach((function(n){var e=l.createPrefabNode("gui/main/mbtn");e.getComponent(h).init(n),e.parent=t.nodeExtendRoot}))},a.onExtendClick=function(){var t=this.nodeExtendRoot.active;this.nodeExtendRoot.active=!t},a._dockEventHandler=function(t,n){var e=n==v.Level;this.node.active=e},n}(s)).prototype,"nodeBtnRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"nodeExtendRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/RtToModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,a,s,l,c,u,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Camera,l=e.MeshRenderer,c=e.RenderTexture,u=e.view,h=e.gfx,p=e.Component}],execute:function(){var d,f,m,y,g,w,b;o._RF.push({},"dbd7dMQYutDs7I7uj+3zIiU","RtToModel",void 0);var v=a.ccclass,R=a.property;e("RtToModel",(d=v("RtToModel"),f=R(s),m=R(l),d((w=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"camara",w,n(t)),i(t,"model",b,n(t)),t.rt=new c,t}r(t,e);var o=t.prototype;return o.start=function(){var e=u.getVisibleSize(),t=new h.ColorAttachment,r=new h.DepthStencilAttachment,i=new h.RenderPassInfo([t],r,[]);this.rt.reset({width:e.width,height:e.height,passInfo:i}),this.camara.targetTexture=this.rt,this.model.material.setProperty("mainTexture",this.rt)},o.onDestroy=function(){this.rt.destroy()},t}(p)).prototype,"camara",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(g.prototype,"model",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/RtToSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,r,n,s,h,a,u,p,c,l,f,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,h=t.Camera,a=t.Sprite,u=t.Node,p=t.RenderTexture,c=t.UITransform,l=t.gfx,f=t.SpriteFrame,T=t.Component}],execute:function(){var d,y,v,m,g,E,b,C,R,S,w;n._RF.push({},"f608cdDWBNEKLILVNBcQYvf","RtToSprite",void 0);var _=s.ccclass,O=s.property;t("RtToSprite",(d=_("RtToSprite"),y=O({type:h,tooltip:"渲染模型的三维摄像机"}),v=O({type:a,tooltip:"显示模型的二维精灵组件"}),m=O({tooltip:"是否触摸控制旋转"}),g=O({type:u,tooltip:"三维模型",visible:function(){return!0===this.rotation}}),d((C=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"camera",C,r(e)),o(e,"sprite",R,r(e)),o(e,"rotation",S,r(e)),o(e,"model",w,r(e)),e.rt=new p,e.touched=!1,e}i(e,t);var n=e.prototype;return n.start=function(){var t=this.sprite.getComponent(c);this.refreshRenderTexture(t.width,t.height),this.rotation&&(this.sprite.node.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.on(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},n.onTouchStart=function(t){this.touched=!0},n.onTouchMove=function(t){if(this.touched){var e=this.model.eulerAngles,i=t.touch.getDelta().x;e.y+=-i,this.model.eulerAngles=e}},n.onTouchEnd=function(t){this.touched=!1},n.refreshRenderTexture=function(t,e){var i=new l.ColorAttachment,o=new l.DepthStencilAttachment,r=new l.RenderPassInfo([i],o,[]);this.rt.reset({width:t,height:e,passInfo:r});var n=this.sprite.spriteFrame,s=new f;s.reset({originalSize:n.originalSize,rect:n.rect,offset:n.offset,isRotate:n.rotated,borderTop:n.insetTop,borderLeft:n.insetLeft,borderBottom:n.insetBottom,borderRight:n.insetRight}),this.camera.targetTexture=this.rt,s.texture=this.rt,this.sprite.spriteFrame=s},n.onDestroy=function(){this.rotation&&(this.sprite.node.off(u.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.off(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.off(u.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.off(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.rt.destroy()},e}(T)).prototype,"camera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(b.prototype,"sprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(b.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(b.prototype,"model",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/SabiEfx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,n,r,l,o,a,s,p,c,u,f,b,y,m,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,a=e._decorator,s=e.dragonBones,p=e.SpriteFrame,c=e.Label,u=e.Vec3,f=e.Sprite,b=e.tween,y=e.UIOpacity,m=e.Component},function(e){d=e.ArrayUtil},function(e){h=e.smc}],execute:function(){var g,x,S,v,C,E,F,L,_,w,O,z,A,D;o._RF.push({},"9ac9dp7vRtFCaefLWUlOoQ6","SabiEfx",void 0);var U=a.ccclass,Y=a.property;e("SabiEfx",(g=U("SabiEfx"),x=Y(s.ArmatureDisplay),S=Y(p),v=Y(p),C=Y(c),E=Y(c),g(((D=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"display",_,r(t)),n(t,"spfCoin",w,r(t)),n(t,"spfExp",O,r(t)),n(t,"lblExp",z,r(t)),n(t,"lblCoin",A,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){var e=this;this.lblExp.string="",this.lblCoin.string="",d.fisherYatesShuffle(this.display.sockets).forEach((function(t,i){t.target.getComponent(f).spriteFrame=i<3?e.spfExp:e.spfCoin}))},o.init=function(e,i){var n,r=this,l=null==(n=this.anim)?void 0:n.play("coin",1);if(l){l.timeScale=h.ebox.timeScale;var o=t.FLY_DURATION/h.ebox.timeScale;this.scheduleOnce((function(){r.lblExp.string="经验+"+i,r.lblCoin.string="金币+"+e,b(r.lblExp.node).by(o,{position:t.FLY_POS}).start(),b(r.lblCoin.node).by(o,{position:t.FLY_POS}).start(),b(r.getComponent(y)).delay(o/2).to(o/2,{opacity:0}).call((function(){return r.node.destroy()})).start()}),l.totalTime/h.ebox.timeScale)}else this.node.destroy()},l(t,[{key:"anim",get:function(){var e;return null==(e=this.display.armature())?void 0:e.animation}}]),t}(m)).FLY_DURATION=1,D.FLY_POS=new u(0,50,0),_=t((L=D).prototype,"display",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(L.prototype,"spfCoin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(L.prototype,"spfExp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(L.prototype,"lblExp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(L.prototype,"lblCoin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=L))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollBG.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameResPath.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,c,p,u,h,l,d,f,w,m,v,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,p=t.Node,u=t.UITransform,h=t.Vec3,l=t.Component,d=t.Texture2D,f=t.SpriteFrame,w=t.Sprite},function(t){m=t.oops},function(t){v=t.GameResPath},function(t){B=t.smc}],execute:function(){var G,g,y,S,x;a._RF.push({},"739daFat0tKh7p8bna1EhIC","ScrollBG",void 0);var b=c.ccclass,C=c.property;t("ScrollBG",(G=b("ScrollBG"),g=C([p]),G((x=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"nodeBGs",x,o(e)),e.isStop=!0,e.speed=0,e.winWidth=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.winWidth=720},a.init=function(){var t=r(s().mark((function t(e){var i,n,o=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return i=v.getBattleBackgroundTexture(e),n=this.nodeBGs.map((function(t,e){return new Promise((function(n,r){m.res.load(i,d,(function(i,s){if(i)r(i);else{var a=new f;a.texture=s,t.getComponent(w).spriteFrame=a;var c=(s.width-o.winWidth)/2+e*s.width;t.position=new h(c,0,0),n()}}))}))})),t.next=6,Promise.all(n);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.run=function(t,e){void 0===e&&(e=null),this.isStop=!t,this.speed=e||B.battle.moveSpeed},a.update=function(t){if(!this.isStop&&0!=this.speed){var e=this.speed*t*B.battle.timescale;this.nodeBGs.forEach((function(t){var i=t.position;i.x-=e,t.position=i}));var i=this.nodeBGs[0],n=i.getComponent(u);if(1==this.nodeBGs.length)i.position.x<=-n.width/2+this.winWidth&&(i.position=new h(-n.width/2+this.winWidth,i.position.y,0),this.run(!1));else if(i.position.x<=(-n.width-this.winWidth)/2){var o=this.nodeBGs[this.nodeBGs.length-1],r=o.getComponent(u),s=o.position.clone();s.x+=(n.width+r.width)/2,i.position=s,this.nodeBGs.shift(),this.nodeBGs.push(i)}}},e}(l)).prototype,"nodeBGs",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=S))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Selector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){"use strict";var n,c,s;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy},function(t){s=t.BranchNode}],execute:function(){c._RF.push({},"90470XqT/FGHo/PRQktLcYy","Selector",void 0);t("Selector",function(t){function c(){return t.apply(this,arguments)||this}n(c,t);var s=c.prototype;return s.success=function(){t.prototype.success.call(this),this._control.success()},s.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},s._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},c}(s));c._RF.pop()}}}));

System.register("chunks:///_virtual/Sequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){"use strict";var n,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.BranchNode}],execute:function(){e._RF.push({},"1ef80bgYZBPXqCDIpzHpbBJ","Sequence",void 0);t("Sequence",function(t){function e(n){return t.call(this,n)||this}n(e,t);var c=e.prototype;return c.success=function(){t.prototype.success.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.success()},c.fail=function(){t.prototype.fail.call(this),this._control.fail()},c._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/SetCodeGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./TipsManager.ts","./ZKChannelManager.ts"],(function(t){"use strict";var e,n,r,i,o,s,a,u,c,l,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,c=t.EditBox,l=t.Component},function(t){p=t.oops},function(t){f=t.tips},function(t){d=t.zkChannel}],execute:function(){var h,g,v,y,C;a._RF.push({},"8b4a4VWWP5MpIVCtTd/gwEh","SetCodeGift",void 0);var b=u.ccclass,m=u.property;t("SetCodeGift",(h=b("SetCodeGift"),g=m(c),h((C=e((y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"edtitBox",C,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){},a.clickRev=function(){var t=o(s().mark((function t(){var e,n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.edtitBox.string.trim()){t.next=4;break}return p.gui.toast("输入为空"),t.abrupt("return");case 4:return t.next=6,d.reqUseGiftCode(e);case 6:if(null!=(n=t.sent)&&n.success){t.next=10;break}return p.gui.toast(null!=(r=null==n?void 0:n.message)?r:"请求失败"),t.abrupt("return");case 10:f.alert("兑换成功，请前往邮箱领取"),(null==this?void 0:this.isValid)&&p.gui.removeByNode(this.node,!0);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onClickClose=function(){p.gui.removeByNode(this.node,!0)},e}(l)).prototype,"edtitBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/SetNotice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ZKChannelManager.ts","./SetNoticeItem.ts","./Setting.ts"],(function(e){"use strict";var t,i,r,n,o,a,s,l,c,u,p,h,g,b,f,y,N,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Label,u=e.WebView,p=e.Prefab,h=e.Node,g=e.instantiate,b=e.Component},function(e){f=e.oops},function(e){y=e.zkChannel},function(e){N=e.SetNoticeItem},function(e){m=e.SetNoticeType,d=e.NoticeTitle}],execute:function(){var v,w,P,D,U,S,z,C,L,T,A,R,k;s._RF.push({},"3841bdLSzlG2agSJg3C4y85","SetNotice",void 0);var V=l.ccclass,I=l.property;e("SetNotice",(v=V("SetNotice"),w=I(c),P=I(u),D=I(p),U=I(h),S=I(h),v((L=t((C=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"lblTitle",L,n(t)),r(t,"webNotice",T,n(t)),r(t,"preDesc",A,n(t)),r(t,"lblNoticeRoot",R,n(t)),r(t,"NodeDespList",k,n(t)),t.params=void 0,t}i(t,e);var s=t.prototype;return s.onAdded=function(e){this.params=e},s.start=function(){this.initView()},s.initView=function(){var e;if(this.params)switch(this.params.tag){case m.PrivacyPolicyUrl:case m.UserPolicyUrl:case m.PlayAge16:this.webNotice.node.active=!0,e=this.getUrl(this.params.tag),this.lblTitle.string=d[this.params.tag].title,this.webNotice.url=e;break;case m.NormalNotice:this.lblNoticeRoot.active=!0,this.lblTitle.string=d[this.params.tag].title,this.getNoticeMessage()}},s.getNoticeMessage=function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.reqGetNotice();case 2:null!=(t=e.sent)&&t.success&&this.isValid&&this.initDesp(t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initDesp=function(e){var t=this;this.NodeDespList.removeAllChildren(),Object.values(e).forEach((function(e){var i=g(t.preDesc);i.parent=t.NodeDespList,i.getComponent(N).initItemView(e)}))},s.getUrl=function(e){switch(e){case m.UserPolicyUrl:return y.getUserPolicyUrl();case m.PrivacyPolicyUrl:return y.getPrivacyPolicyUrl();case m.PlayAge16:return y.get16AgeUrl()}},s.onClickClose=function(){this.params?f.gui.removeByNode(this.node,!0):this.node.active=!1},t}(b)).prototype,"lblTitle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(C.prototype,"webNotice",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(C.prototype,"preDesc",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(C.prototype,"lblNoticeRoot",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"NodeDespList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=C))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/SetNoticeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,l,o,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,c=t.Label,a=t.Component}],execute:function(){var s,u,p,b,f,h,m;l._RF.push({},"8f063LHO/ZH1YhHvSjge1xI","SetNoticeItem",void 0);var y=o.ccclass,g=o.property;t("SetNoticeItem",(s=y("SetNoticeItem"),u=g(c),p=g(c),s((h=e((f=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,n(e,"lblTitle",h,r(e)),n(e,"lblContent",m,r(e)),e}i(e,t);var l=e.prototype;return l.start=function(){},l.initItemView=function(t){this.lblTitle.string=t.name,this.lblContent.string=t.dec},e}(a)).prototype,"lblTitle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(f.prototype,"lblContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/SetPlayInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./ViewUtil.ts","./Main.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./PlayerHead.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameRoleIco.ts","./GM.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,s,c,u,f,b,h,d,p,g,m,y,v,C,H,w,I,S,M,k,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Label,u=e.Node,f=e.instantiate,b=e.Button,h=e.Component},function(e){d=e.oops},function(e){p=e.JsonUtil},function(e){g=e.ViewUtil},function(e){m=e.app},function(e){y=e.GameEvent},function(e){v=e.GameResPath},function(e){C=e.UIID},function(e){H=e.PlayerHead},function(e){w=e.tips},function(e){I=e.httpChannel},function(e){S=e.MsgID},function(e){M=e.smc},function(e){k=e.TableGameRoleIco},function(e){P=e.gm}],execute:function(){var z,N,R,D,E,G,L,_,V,A,T,U,x,B,F,Z,J,K,X,j,q,O,W,Q,Y,$,ee,te,ne;l._RF.push({},"75911X5rutE/asLpBwsJZRt","SetPlayInfo",void 0);var ie=s.ccclass,ae=s.property;e("SetPlayInfo",(z=ie("SetPlayInfo"),N=ae(c),R=ae(c),D=ae(c),E=ae(c),G=ae(u),L=ae(u),_=ae(u),V=ae(u),A=ae(u),T=ae(u),U=ae(u),x=ae(u),B=ae(u),z((J=t((Z=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblName",J,a(t)),i(t,"lblID",K,a(t)),i(t,"lblZhanLi",X,a(t)),i(t,"lblVersion",j,a(t)),i(t,"btnMusic",q,a(t)),i(t,"btnEffect",O,a(t)),i(t,"btnGM",W,a(t)),i(t,"btnChange",Q,a(t)),i(t,"nodePlayerHead",Y,a(t)),i(t,"rootSet",$,a(t)),i(t,"rootHead",ee,a(t)),i(t,"headContent",te,a(t)),i(t,"prefabHead",ne,a(t)),t}n(t,e);var l=t.prototype;return l.start=function(){this.initPlayerInfo(),this.initAudio(),this.btnGM.active=P.enabled,d.message.on(y.RoleUpdated,this._eventHandler,this)},l.onDestroy=function(){d.message.off(y.RoleUpdated,this._eventHandler,this)},l.initHeadView=function(){var e=p.get(k.TableName);for(var t in this.headContent.removeAllChildren(),e){var n=f(this.prefabHead).getComponent(H);n.initView(t),n.node.parent=this.headContent,n.node.on(b.EventType.CLICK,this.onClickHead.bind(this),this)}},l.initAudio=function(){var e=d.audio.switchMusic,t=Number(e)>0?"btn_yinyue":"btn_yinyue2";g.loadButtonFrame(this.btnMusic.getComponent(b),v.getSpriteFrameSetting(t));var n=d.audio.switchEffect;t=Number(n)>0?"btn_yinxiao":"btn_yinxiao2";g.loadButtonFrame(this.btnEffect.getComponent(b),v.getSpriteFrameSetting(t))},l.initPlayerInfo=function(){this.lblName.string=M.accountData.name,this.lblID.string="ID:"+M.accountData.id,this.lblZhanLi.string="战力:"+M.accountData.getZhanli(),this.lblVersion.string="v"+m.cVer},l.setMusicStatus=function(){d.audio.switchMusic=!d.audio.switchMusic,d.audio.switchMusic&&m.playBGM(),d.audio.save(),this.initAudio()},l.setEffectStatus=function(){d.audio.switchEffect=!d.audio.switchEffect,d.audio.save(),this.initAudio()},l.getSwitchStatus=function(e){return""!=d.storage.get(e)?d.storage.get(e):1},l.onClickNotice=function(e,t){d.gui.open(C.SetNotice,{tag:Number(t)})},l.refreshHead=function(){this.nodePlayerHead.getComponent(H).initView(M.accdata.roleHead),this.rootSet.active=!0,this.rootHead.active=!1,this.btnChange.active=!0},l.onClickWX=function(){d.gui.toast("暂未开放")},l.onLockClick=function(){d.gui.open(C.Lock),this.onClickClose()},l.onReNameClick=function(){d.gui.open(C.SetReName)},l.onClickChange=function(){this.rootSet.active=!1,this.rootHead.active=!0,this.btnChange.active=!1;var e=p.get(k.TableName);for(var t in this.headContent.removeAllChildren(),e){var n=f(this.prefabHead).getComponent(H);n.node.parent=this.headContent,n.initView(t),n.node.on(b.EventType.CLICK,this.onClickHead.bind(this,t))}},l.onClickHead=function(){var e=o(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.confirmAsync("是否更换头像");case 2:if(!e.sent){e.next=13;break}return n={ico:t},e.next=6,I.reqAsync(S.RoleHead,n);case 6:if(null!=(i=e.sent)&&i.ok){e.next=9;break}return e.abrupt("return");case 9:M.accdata.roleHead=i.ico,d.message.dispatchEvent(y.HeroHead),this.refreshHead();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l._eventHandler=function(e,t){e!=y.HeroHead&&e!=y.RoleUpdated||(this.refreshHead(),this.initPlayerInfo())},l.onClickClose=function(){d.gui.removeByNode(this.node,!0)},t}(h)).prototype,"lblName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(Z.prototype,"lblID",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(Z.prototype,"lblZhanLi",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(Z.prototype,"lblVersion",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(Z.prototype,"btnMusic",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(Z.prototype,"btnEffect",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(Z.prototype,"btnGM",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(Z.prototype,"btnChange",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(Z.prototype,"nodePlayerHead",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(Z.prototype,"rootSet",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(Z.prototype,"rootHead",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(Z.prototype,"headContent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(Z.prototype,"prefabHead",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Z))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/SetReName.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./PlatformSDK.ts","./PlatformSDKWeChat.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,c,u,l,p,f,m,g,h,d,b,y,v,R,S,k,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.EditBox,l=e.Label,p=e.Sprite,f=e.Component,m=e.sys},function(e){g=e.oops},function(e){h=e.ViewUtil},function(e){d=e.GameEvent},function(e){b=e.GameResPath},function(e){y=e.httpChannel},function(e){v=e.MsgID},function(e){R=e.smc},function(e){S=e.TableGameConfig},function(e){k=e.PlatformSDK},function(e){x=e.wordsSceneType}],execute:function(){var C,N,w,P,D,G,B,E,z;s._RF.push({},"41a09PPp/1NzJlmAw2GTzjI","SetReName",void 0);var T=c.ccclass,A=c.property;e("SetReName",(C=T("SetReName"),N=A(u),w=A(l),P=A(p),C((B=t((G=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"edtitBox",B,a(t)),r(t,"lblNum",E,a(t)),r(t,"iconSpite",z,a(t)),t.cfg=S.game_rolename,t}n(t,e);var s=t.prototype;return s.start=function(){this.lblNum.string=R.bag.getItemCount(this.cfg.i)+"/"+this.cfg.n,h.loadSpriteFrame(this.iconSpite,b.getItemSpriteFrame(this.cfg.i))},s.clickRev=function(){var e=i(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.bag.checkCostSingle(this.cfg.i,1,!0)){e.next=2;break}return e.abrupt("return");case 2:if(t=this.edtitBox.string.trim()){e.next=6;break}return g.gui.toast("输入为空"),e.abrupt("return");case 6:if(m.platform!==m.Platform.WECHAT_GAME){e.next=10;break}return n=this,k.doCheckDirtyWord(t,x.PROFILE,i(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.code){e.next=14;break}return r={name:t.data.content},e.next=4,y.reqAsync(v.RoleReName,r);case 4:if(null!=(a=e.sent)&&a.ok){e.next=7;break}return e.abrupt("return");case 7:g.gui.toast("恭喜您改名成功！"),R.accountData.name=a.name,g.message.dispatchEvent(d.RoleUpdated),R.account.doResChange(a),g.gui.removeByNode(n.node,!0),e.next=15;break;case 14:g.gui.toast("名字不合法！");case 15:case"end":return e.stop()}}),e)}))),(function(e){g.gui.toast(e.msg)})),e.abrupt("return");case 10:return r={name:t},e.next=13,y.reqAsync(v.RoleReName,r);case 13:if(null!=(a=e.sent)&&a.ok){e.next=16;break}return e.abrupt("return");case 16:g.gui.toast("恭喜您改名成功！"),R.accountData.name=a.name,g.message.dispatchEvent(d.RoleUpdated),R.account.doResChange(a),g.gui.removeByNode(this.node,!0);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickClose=function(){g.gui.removeByNode(this.node,!0)},t}(f)).prototype,"edtitBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"lblNum",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(G.prototype,"iconSpite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=G))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/SetServer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./ZKChannelManager.ts","./SetServerLeftItem.ts","./SetServerRightItem.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,l,c,u,h,f,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Node,l=e.instantiate,c=e.Component},function(e){u=e.oops},function(e){h=e.GameEvent},function(e){f=e.zkChannel},function(e){d=e.SetServerLeftItem},function(e){v=e.SetServerRightItem}],execute:function(){var S,g,p,m,L,y,I,b,R,C,z;o._RF.push({},"721daoPNB1BR631HfV/83Km","SetServer",void 0);var _=s.ccclass,w=s.property;e("SetServer",(S=_("SetServer"),g=w(a),p=w(a),m=w(a),L=w(a),S((b=t((I=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"nodeLeftList",b,r(t)),i(t,"nodeRightList",R,r(t)),i(t,"nodeServerLeftItem",C,r(t)),i(t,"nodeServerRightItem",z,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.initZones(),u.message.on(h.SetSercer,this._eventHandler,this),this.scheduleOnce((function(){u.message.dispatchEvent(h.SetSercer,{id:0})}))},o.onDestroy=function(){u.message.off(h.SetSercer,this._eventHandler,this)},o.initZones=function(){for(var e=[{id:0,name:"我的服务器"}].concat(f.getZones()),t=1;t<e.length;t++)l(this.nodeServerLeftItem).parent=this.nodeLeftList;this.nodeLeftList.getComponentsInChildren(d).forEach((function(t,n){t.init(e[n])}))},o.initServers=function(e){var t=null;t=0==e?f.getPlayedServers():f.getServers().filter((function(t){return t.zoneId===e}));for(var n=this.nodeRightList.children.length;n<t.length;n++)l(this.nodeServerRightItem).parent=this.nodeRightList;this.nodeRightList.getComponentsInChildren(v).forEach((function(e,n){n<t.length?(e.node.active=!0,e.init(t[n])):e.node.active=!1}))},o._eventHandler=function(e,t){e==h.SetSercer&&this.initServers(t.id)},o.onClickClose=function(){u.gui.removeByNode(this.node,!0)},t}(c)).prototype,"nodeLeftList",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"nodeRightList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(I.prototype,"nodeServerLeftItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(I.prototype,"nodeServerRightItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=I))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/SetServerLeftItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts"],(function(e){"use strict";var t,n,i,r,o,s,l,a,c,u,f,p,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Label,a=e.Color,c=e.Button,u=e.Component},function(e){f=e.oops},function(e){p=e.ViewUtil},function(e){m=e.GameEvent},function(e){h=e.GameResPath}],execute:function(){var S,v,d,g,y;o._RF.push({},"f6252RmpjNJi5PUpu1w9TLj","SetServerLeftItem",void 0);var b=s.ccclass,_=s.property;e("SetServerLeftItem",(S=b("SetServerLeftItem"),v=_(l),S((y=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblTitle",y,r(t)),t.info=null,t}n(t,e);var o=t.prototype;return o.init=function(e){this.info=e,this.lblTitle.string=e.name},o.start=function(){f.message.on(m.SetSercer,this._eventHandler,this)},o.onDestroy=function(){f.message.off(m.SetSercer,this._eventHandler,this)},o.onSelected=function(e){var t=e==this.info.id,n=t?a.WHITE:new a(233,180,130),i=t?"btn_jnyq_xz":"btn_jnyq_wxz";p.loadButtonFrame(this.node.getComponent(c),h.getSpriteFrameCommon(i)),this.lblTitle.getComponent(l).color=n},o.onClickItem=function(){f.message.dispatchEvent(m.SetSercer,{id:this.info.id})},o._eventHandler=function(e,t){e==m.SetSercer&&this.onSelected(t.id)},t}(u)).prototype,"lblTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/SetServerRightItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Main.ts","./ZKChannelManager.ts","./Util.ts"],(function(e){"use strict";var t,r,i,n,l,o,a,s,u,c,p,v,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Node,s=e.Label,u=e.Component},function(e){c=e.oops},function(e){p=e.app},function(e){v=e.zkChannel},function(e){b=e.Util}],execute:function(){var f,g,h,m,S,d,y,N,I,w,C,z,L;l._RF.push({},"d8d4e4R/nNJuqaeqbZU/GVA","SetServerRightItem",void 0);var R=o.ccclass,_=o.property;e("SetServerRightItem",(f=R("SetServerRightItem"),g=_(a),h=_(s),m=_(a),S=_(s),d=_(s),f((I=t((N=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"spNew",I,n(t)),i(t,"lblServerName",w,n(t)),i(t,"spCur",C,n(t)),i(t,"lblName",z,n(t)),i(t,"lblLv",L,n(t)),t.info=void 0,t}r(t,e);var l=t.prototype;return l.init=function(e){var t;this.info=e,this.spNew.active=1==e.isNew,this.spCur.active=v.getCurServerId()==e.serverId,this.lblServerName.string=v.getServerName(e);var r=v.getServerRoleInfo(e.serverId);this.lblName.string=null!=(t=null==r?void 0:r.name)?t:"",this.lblLv.string=null!=r&&r.lv?b.fmtLv(r.lv):""},l.onClickItem=function(){v.getCurServerId()!=this.info.serverId?(v.setStoredServer(this.info),p.showLogin()):c.gui.toast("当前已在该服务器")},t}(u)).prototype,"spNew",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(N.prototype,"lblServerName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(N.prototype,"spCur",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(N.prototype,"lblName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(N.prototype,"lblLv",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=N))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/Setting.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var i,r;t("SetNoticeType",void 0),e._RF.push({},"c1c7eUbYWFFrb9WQkQwYCVf","Setting",void 0),function(t){t[t.UserPolicyUrl=0]="UserPolicyUrl",t[t.PrivacyPolicyUrl=1]="PrivacyPolicyUrl",t[t.PlayAge16=2]="PlayAge16",t[t.NormalNotice=3]="NormalNotice"}(r||(r=t("SetNoticeType",{})));t("NoticeTitle",((i={})[r.UserPolicyUrl]={title:"用户协议"},i[r.PrivacyPolicyUrl]={title:"隐私协议"},i[r.PlayAge16]={title:"适龄提示"},i[r.NormalNotice]={title:"公告"},i));var c=t("Setting",function(){function t(){}return t.prototype.isNoticeType=function(t){for(var e in r)if(t==r[e])return!0;return!1},t}());c.SetNoticeType=void 0;t("setting",new c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Settlement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameEvent.ts","./TableUtil.ts","./LossItem.ts"],(function(t){"use strict";var e,n,i,o,s,r,a,l,c,u,f,h,m,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Button,l=t.Node,c=t.Component},function(t){u=t.oops},function(t){f=t.ViewUtil},function(t){h=t.EFightType},function(t){m=t.GameEvent},function(t){p=t.TableUtil},function(t){d=t.LossItem}],execute:function(){var v,y,b,g,E,L,T,w;s._RF.push({},"3f031TMX7pKJIhEfWwJImEy","Settlement",void 0);var I=r.ccclass,S=r.property,_=((v={})[0]=h.GANME_LEVELS,v[1]=h.ELITE,v[2]=h.Demon_ABYSS,v[3]=h.Mercenary,v[4]=h.WRESTLE,v);t("Settlement",(y=I("Settlement"),b=S(a),g=S(l),y((T=e((L=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"btnMask",T,o(e)),i(e,"itemList",w,o(e)),e.params=null,e}n(e,t);var s=e.prototype;return s.onAdded=function(t){this.params=t},s.start=function(){this.btnMask.node.on(a.EventType.CLICK,this.onXClick.bind(this)),this.showTisheng(this.params)?this.initView():this.scheduleOnce(this.onXClick.bind(this),5),u.message.on(m.GameOver,this._eventHandler,this)},s.onDestroy=function(){u.message.off(m.GameOver,this._eventHandler,this)},s.initView=function(){var t=this,e=p.getTishengDataByType(1);Object.entries(e).forEach((function(e,n){f.loadPrefabNode("gui/settlement/lossItem",(function(n){n.parent=t.itemList,n.getComponent(d).initItemView(e[1])}))}))},s.showTisheng=function(t){for(var e in _)if(t==_[e])return!0;return!1},s._eventHandler=function(t,e){t==m.GameOver&&this.onXClick()},s.onXClick=function(){u.gui.removeByNode(this.node,!0)},e}(c)).prototype,"btnMask",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(L.prototype,"itemList",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=L))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/Shiguo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableFruitSys.ts","./TableGameHero.ts","./TableGameSys.ts","./TableUtil.ts"],(function(t){"use strict";var e,n,i,o,u,r,a,s,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.oops},function(t){o=t.GameEvent},function(t){u=t.smc},function(t){r=t.GameSys},function(t){a=t.TableFruitSys},function(t){s=t.TableGameHero},function(t){c=t.GameSysKey},function(t){l=t.TableUtil}],execute:function(){n._RF.push({},"4b208dQrRJIx66q9c6Mv6hB","Shiguo",void 0);var g=t("Shiguo",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))||this).redotWatchGameEvents=[o.ItemBagUpdated,o.HeroLevelUp],e}e(n,t);var r=n.prototype;return r.getValidCfgs=function(t){return l.getIds(a).map((function(t){return l.get(a,t)})).filter((function(e){return l.get(s,t).lv>=e.openlv}))},r.getShiguoTimes=function(t,e){var n,i,o=null==(n=u.accdata.getRole(t))?void 0:n.fruit;return o&&null!=(i=o[e])?i:0},r.getMaxShiguoTimes=function(t,e){var n=l.get(s,t).lv,i=l.get(a,e);return Math.max(0,n*i.base-i.amend)},r.checkUsable=function(t,e,n){var o=this;if(void 0===e&&(e=null),void 0===n&&(n=!1),null==e)return this.getValidCfgs(t).some((function(e){return o.checkUsable(t,e.id,n)}));var r=l.get(a,e);return this.getShiguoTimes(t,e)>=this.getMaxShiguoTimes(t,e)?(n&&i.gui.toast("次数已达上限"),!1):u.bag.checkCostSingle(r.itemid,1,n)},r.calRedot=function(){var t=this;return u.accdata.roles.some((function(e){return t.checkUsable(e)}))},n}(r));t("shiguo",new g(c.eat_fruit));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShiguoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./Util.ts","./BagItem.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,c,u,l,h,f,p,g,d,m,b,y,v,C,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.Label,l=t.Button,h=t.Color,f=t.Component},function(t){p=t.oops},function(t){g=t.ViewUtil},function(t){d=t.GameEvent},function(t){m=t.AudioClipEffect},function(t){b=t.httpChannel},function(t){y=t.MsgID},function(t){v=t.smc},function(t){C=t.Util},function(t){U=t.BagItem}],execute:function(){var I,R,E,k,S,w,x,G,T;a._RF.push({},"13920fy7c9HsK6TIA+RH/xa","ShiguoItem",void 0);var z=c.ccclass,D=c.property;t("ShiguoItem",(I=z("ShiguoItem"),R=D(U),E=D(u),k=D(l),I((x=e((w=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"item",x,o(e)),n(e,"lblCount",G,o(e)),n(e,"btnUse",T,o(e)),e.cfg=null,e}i(e,t);var a=e.prototype;return a.start=function(){this.btnUse.node.on(l.EventType.CLICK,this.onUseClick,this)},a.init=function(t){this.cfg=t,this.refresh()},a.refresh=function(){this.item.init(this.cfg.itemid,v.accdata.getItemCount(this.cfg.itemid));var t=v.account.sltRole,e=v.shiguo.getShiguoTimes(t,this.cfg.id),i=v.shiguo.getMaxShiguoTimes(t,this.cfg.id);this.lblCount.string=e+"/"+i;var n=v.shiguo.checkUsable(t,this.cfg.id);C.setRedot(this.btnUse,n),g.setGray(this.btnUse.node,!n),this.lblCount.color=n?h.GREEN:h.RED},a.onUseClick=function(){var t=r(s().mark((function t(){var e,i,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=v.account.sltRole,v.shiguo.checkUsable(e,this.cfg.id,!0)){t.next=3;break}return t.abrupt("return");case 3:return i={hid:e,fid:this.cfg.id},t.next=6,b.reqAsync(y.ShiguoEat,i);case 6:if(null!=(n=t.sent)&&n.ok){t.next=9;break}return t.abrupt("return");case 9:p.audio.playEffect(m.LevelUp),v.accdata.setRoleInfo(n.hero),v.account.doResChange(n),p.message.dispatchEvent(d.EquipPosUpdated);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(f)).prototype,"item",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(w.prototype,"lblCount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(w.prototype,"btnUse",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=w))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShiguoMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./HeadPicker.ts","./RoleUI.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableFruitSys.ts","./TableGameHero.ts","./TableUtil.ts","./Util.ts","./AttrItem.ts","./ShiguoItem.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,s,c,u,f,h,d,p,b,g,m,v,C,y,I,U,R,A,k,w,L,E,S,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Label,f=e.Node,h=e.Button,d=e.instantiate,p=e.Component},function(e){b=e.oops},function(e){g=e.ViewUtil},function(e){m=e.GameEvent},function(e){v=e.AudioClipEffect},function(e){C=e.HeadPicker},function(e){y=e.RoleUILoader},function(e){I=e.httpChannel},function(e){U=e.MsgID},function(e){R=e.smc},function(e){A=e.TableFruitSys},function(e){k=e.TableGameHero},function(e){w=e.TableUtil,L=e.BasicAttrKeys},function(e){E=e.Util},function(e){S=e.AttrItem},function(e){T=e.ShiguoItem}],execute:function(){var z,H,M,P,B,G,_,N,x,D,X,F,K,q,V,O,j,J,Q;s._RF.push({},"88d53dqcf9KHIOy1U8bhPkf","ShiguoMain",void 0);var W=c.ccclass,Y=c.property;e("ShiguoMain",(z=W("ShiguoMain"),H=Y(u),M=Y(u),P=Y(f),B=Y(h),G=Y(h),_=Y(y),N=Y(f),x=Y(f),z((F=t((X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lblName",F,o(t)),i(t,"lblLv",K,o(t)),i(t,"nodeAttrs",q,o(t)),i(t,"btnX",V,o(t)),i(t,"btnUseAll",O,o(t)),i(t,"roleLoader",j,o(t)),i(t,"nodeContent",J,o(t)),i(t,"nodeItem",Q,o(t)),t.roleCfg=new k,t}n(t,e);var s=t.prototype;return s.start=function(){this.init(),this.btnX.node.on(h.EventType.CLICK,this.onXClick,this),this.btnUseAll.node.on(h.EventType.CLICK,this.onUseAllClick,this),b.message.on(m.ItemBagUpdated,this._eventHandler,this)},s.onDestroy=function(){b.message.off(m.ItemBagUpdated,this._eventHandler,this)},s.init=function(){for(var e=w.getIds(A),t=1;t<e.length;t++)d(this.nodeItem).parent=this.nodeContent},s.onRoleTabClick=function(e,t){R.account.sltRole=t.roleId,this.refresh()},s.refresh=function(){var e=R.account.sltRole;this.roleCfg.init(e),this.lblName.string=this.roleCfg.name,this.lblLv.string=E.fmtLv(this.roleCfg.lv);var t=R.shiguo.getValidCfgs(e);this.nodeContent.getComponentsInChildren(T).forEach((function(e,n){n<t.length?(e.node.active=!0,e.init(t[n])):e.node.active=!1})),this.roleLoader.init(R.accdata.getRole(e));var n=R.accdata.getRole(e).tAttr;this.attrItems.forEach((function(e,t){var i=L[t];e.init([i,n[i]])})),this.refreshRedot()},s.refreshRedot=function(){this.getComponentInChildren(C).toggles.forEach((function(e,t){var n=R.accdata.roles[t];n&&E.setRedot(e,R.shiguo.checkUsable(n))}));var e=R.shiguo.checkUsable(R.account.sltRole);E.setRedot(this.btnUseAll,e),g.setGray(this.btnUseAll.node,!e)},s.onUseAllClick=function(){var e=a(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.shiguo.checkUsable(R.account.sltRole)){e.next=2;break}return e.abrupt("return");case 2:return t={hid:R.account.sltRole},e.next=5,I.reqAsync(U.ShiguoEatAll,t);case 5:if(null!=(n=e.sent)&&n.ok){e.next=8;break}return e.abrupt("return");case 8:b.audio.playEffect(v.LevelUp),R.accdata.setRoleInfo(n.hero),R.account.doResChange(n),b.message.dispatchEvent(m.EquipPosUpdated);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.onXClick=function(){b.gui.removeByNode(this.node,!0)},s._eventHandler=function(e){e==m.ItemBagUpdated&&this.refresh()},r(t,[{key:"attrItems",get:function(){return this.nodeAttrs.getComponentsInChildren(S)}}]),t}(p)).prototype,"lblName",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(X.prototype,"lblLv",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(X.prototype,"nodeAttrs",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(X.prototype,"btnX",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(X.prototype,"btnUseAll",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(X.prototype,"roleLoader",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(X.prototype,"nodeContent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(X.prototype,"nodeItem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=X))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShipAwardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ItemsGroup.ts","./SingletonModuleComp.ts","./TablePirateShipWelfare.ts","./BagItem.ts","./Duobao.ts"],(function(e){"use strict";var t,i,n,o,a,r,l,s,c,u,b,p,d,f,h,v,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Color,s=e.Label,c=e.Button,u=e.Sprite,b=e.Component},function(e){p=e.oops},function(e){d=e.ItemsGroup},function(e){f=e.smc},function(e){h=e.TablePirateShipWelfare},function(e){v=e.BagItem},function(e){R=e.Duobao}],execute:function(){var m,C,g,I,k,w,y,L,S,T,E,_;a._RF.push({},"d9cc7LPLIVO2JVbP1BI/2Fg","ShipAwardItem",void 0);var B,P=r.ccclass,A=r.property;!function(e){e[e.Lock=0]="Lock",e[e.CanRecv=1]="CanRecv",e[e.Recvd=2]="Recvd",e[e.CanRecvMore=3]="CanRecvMore"}(B||(B={}));var D=((m={})[B.Lock]={spEnabled:!1,lblText:"不可领",lblColor:l.GRAY},m[B.CanRecv]={spEnabled:!0,lblText:"可领取",lblColor:l.WHITE},m[B.Recvd]={spEnabled:!1,lblText:"已领取",lblColor:l.GREEN},m[B.CanRecvMore]={spEnabled:!0,lblText:"继续领取",lblColor:l.WHITE},m);e("ShipAwardItem",(C=P("ShipAwardItem"),g=A(s),I=A([v]),k=A([v]),w=A(c),C((S=t((L=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"lblName",S,o(t)),n(t,"itemsBasic",T,o(t)),n(t,"itemsPaid",E,o(t)),n(t,"btnRecv",_,o(t)),t.status=null,t.cfg=new h,t._onRecv=null,t}i(t,e);var a=t.prototype;return a.start=function(){this.btnRecv.node.on(c.EventType.CLICK,this.onRecvClick,this)},a.init=function(e){return this.cfg.init(e),this.lblName.string=this.cfg.id+"艘船",d.loadDropItems(this.itemsBasic,this.cfg.drop1[0]),d.loadDropItems(this.itemsPaid,this.cfg.drop2[0]),this},a.refresh=function(){var e=this.cfg.id;e>f.duobao.killedShip+(f.duobao.fuliUnlocked?R.Config.ShipAwardBonus:0)?this.status=B.Lock:f.duobao.info.welfare_lv<e?this.status=B.CanRecv:f.duobao.info.welfare_Hlv<e?this.status=B.CanRecvMore:this.status=B.Recvd;var t=this.btnRecv.getComponent(u),i=this.btnRecv.getComponentInChildren(s),n=D[this.status];t.enabled=n.spEnabled,i.string=n.lblText,i.color=n.lblColor},a.onRecv=function(e){this._onRecv=e},a.onRecvClick=function(){switch(this.status){case B.Lock:break;case B.CanRecv:this._onRecv();break;case B.Recvd:break;case B.CanRecvMore:f.duobao.fuliUnlocked?this._onRecv():p.gui.toast("请先解锁高级福利")}},t}(b)).prototype,"lblName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(L.prototype,"itemsBasic",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(L.prototype,"itemsPaid",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(L.prototype,"btnRecv",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonModuleComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./Account.ts","./Arena.ts","./EBox.ts","./Chat.ts","./Title.ts","./Duobao.ts","./Email.ts","./Bag.ts","./Equip.ts","./Recharge.ts","./Demon.ts","./Dragon.ts","./Fuben.ts","./GiftPackLimitTime.ts","./GiftPackSuperValue.ts","./Guaji.ts","./Guide.ts","./Guild.ts","./Halo.ts","./Journey.ts","./Medal.ts","./Mercenary.ts","./Battle.ts","./Rank.ts","./Setting.ts","./Shiguo.ts","./Skill.ts","./Bazzar.ts","./Store.ts","./Task2.ts","./Welfare.ts","./WelfareOpenServer.ts","./Wrestle.ts","./Xunbao.ts","./Yishou.ts","./Yongbing.ts","./Yueka.ts","./System.ts"],(function(t){"use strict";var n,e,u,o,i,r,c,f,a,s,g,y,k,l,d,p,b,m,h,S,v,M,w,x,z,C,_,j,B,G,A,D,E,F,P,R,q,L,T,W,Y,H;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){u=t.cclegacy},function(t){o=t.ecs},function(t){i=t.account},function(t){r=t.arena},function(t){c=t.ebox},function(t){f=t.chat},function(t){a=t.title},function(t){s=t.duobao},function(t){g=t.email},function(t){y=t.bag},function(t){k=t.equip},function(t){l=t.recharge},function(t){d=t.demon},function(t){p=t.dragon},function(t){b=t.fuben},function(t){m=t.giftpack_lt},function(t){h=t.giftpack_sv},function(t){S=t.guaji},function(t){v=t.guide},function(t){M=t.guild},function(t){w=t.halo},function(t){x=t.journey},function(t){z=t.medal},function(t){C=t.mercenary},function(t){_=t.battle},function(t){j=t.rank},function(t){B=t.setting},function(t){G=t.shiguo},function(t){A=t.skill},function(t){D=t.bazzar},function(t){E=t.store},function(t){F=t.task},function(t){P=t.welfare},function(t){R=t.wos},function(t){q=t.wrestle},function(t){L=t.xunbao},function(t){T=t.yishou},function(t){W=t.yongbing},function(t){Y=t.yueka},function(t){H=t.system}],execute:function(){var J;u._RF.push({},"17a56vOVQFMMarANxr6JvP7","SingletonModuleComp",void 0);var O=t("SingletonModuleComp",o.register("SingletonModule")(J=function(t){function u(){for(var n,e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];return(n=t.call.apply(t,[this].concat(u))||this).initialize=null,n}return n(u,t),u.prototype.reset=function(){},e(u,[{key:"account",get:function(){return i}},{key:"accountData",get:function(){return i.data}},{key:"accdata",get:function(){return i.data}},{key:"system",get:function(){return H}},{key:"guide",get:function(){return v}},{key:"bag",get:function(){return y}},{key:"equip",get:function(){return k}},{key:"skill",get:function(){return A}},{key:"battle",get:function(){return _}},{key:"guaji",get:function(){return S}},{key:"ebox",get:function(){return c}},{key:"task",get:function(){return F}},{key:"chat",get:function(){return f}},{key:"fuben",get:function(){return b}},{key:"duobao",get:function(){return s}},{key:"yueka",get:function(){return Y}},{key:"medal",get:function(){return z}},{key:"store",get:function(){return E}},{key:"bazzar",get:function(){return D}},{key:"arena",get:function(){return r}},{key:"welfare",get:function(){return P}},{key:"email",get:function(){return g}},{key:"recharge",get:function(){return l}},{key:"setting",get:function(){return B}},{key:"rank",get:function(){return j}},{key:"giftpack_lt",get:function(){return m}},{key:"giftpack_sv",get:function(){return h}},{key:"dragon",get:function(){return p}},{key:"shiguo",get:function(){return G}},{key:"yongbing",get:function(){return W}},{key:"halo",get:function(){return w}},{key:"demon",get:function(){return d}},{key:"mercenary",get:function(){return C}},{key:"yishou",get:function(){return T}},{key:"wrestle",get:function(){return q}},{key:"journey",get:function(){return x}},{key:"title",get:function(){return a}},{key:"wos",get:function(){return R}},{key:"xunbao",get:function(){return L}},{key:"guild",get:function(){return M}}]),u}(o.Comp))||J);t("smc",o.getSingleton(O));u._RF.pop()}}}));

System.register("chunks:///_virtual/Skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./AccountData.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSkill.ts","./TableGameSys.ts","./TableSkillSuit.ts","./TableUtil.ts"],(function(t){"use strict";var e,i,l,n,r,a,c,u,s,o,k,f;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose,l=t.createClass},function(t){n=t.cclegacy},function(t){r=t.JsonUtil},function(t){a=t.SkillState},function(t){c=t.smc},function(t){u=t.DockBtnAdapter},function(t){s=t.TableGameSkill},function(t){o=t.GameSysKey},function(t){k=t.TableSkillSuit},function(t){f=t.TableUtil}],execute:function(){n._RF.push({},"b003144i9hOlZsUGyqdM1AV","Skill",void 0);var v=t("Skill",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var u=n.prototype;return u.calRedot=function(e,i){var l=this;return t.prototype.calRedot.call(this)||c.accdata.roles.some((function(t){return l.checkUnlock(t,!1)}))||this.checkSkillUpgrade()||this.suitRed},u.checkUnlock=function(t,e){var i=this;return n.POSES.some((function(e){return i.isPosCanUnlock(t,e)}))},u.isPosCanUnlock=function(t,e){if(e==n.TALENT_POS)return!1;if(c.accdata.getSkillPos(t,e))return!1;var i=f.getSkillPosCfg(e);return!(c.accdata.heroLevel<i.needlv)&&c.bag.checkCost(i.cost,!1)},u.checkSkillUpgrade=function(){var t=this;return Array.from(f.getAllBasicSkills().values()).some((function(e){var i=c.accdata.getSkillByGroup(e.group)||e.minId;if(t.isSkillCanUpgrade(i))return!0}))},u.isSkillCanUpgrade=function(t){var e=f.get(s,t),i=null;if(c.accdata.getSkillStatus(t)==a.NotActived)i=e.cost;else{if(!e.nextId)return!1;i=f.get(s,e.nextId).cost}return c.bag.checkCost(i,!1)},u.skillSuitTable=function(){return r.get(k.TableName)},u.skillSuitTableByGroup=function(){var t=[],e=this.skillSuitTable();for(var i in e){var l=e[i].group-1;null!=t[l]||(t[l]=[]),t[l][e[i].level]=e[i],t[l][e[i].level].id=Number(i)}return t},u.checkSkillSuitCanUpgrade=function(t){var e={canUpgrade:!1,activeNum:0,needNum:0,isMax:!1,needLevel:0};if(!t)return e.canUpgrade=!1,e.isMax=!0,e;for(var i in e.needNum=t.skillid.length,t.skillid)this.checkSkillActive(t.skillid[i])&&e.activeNum++;e.canUpgrade=e.activeNum>=e.needNum;var l=new s;return l.init(t.skillid[0]),e.needLevel=l.level,e},u.checkSkillActive=function(t){for(var e=f.get(s,t),i=e.group,l=e.level,n=f.getAllBasicSkills().get(i).skillIds,r=l-1;r<n.length;r++)if(c.accdata.getSkillStatus(n[r])!=a.NotActived)return!0;return!1},u.checkSuitActive=function(t){for(var e,l=this.skillSuitTable(),n=i(this.skillSuit);!(e=n()).done;){var r=l[e.value];if((null==r?void 0:r.group)==t.group&&(null==r?void 0:r.level)>=t.level)return!0}return!1},l(n,[{key:"skillSuit",get:function(){return c.accdata.subinfo.skill.suit||[]},set:function(t){c.accdata.subinfo.skill.suit=t}},{key:"suitRed",get:function(){var t=this.skillSuitTableByGroup();for(var e in t){var i=t[e];for(var l in i){var n=i[l];if(!this.checkSuitActive(n)){var r=0;for(var a in n.skillid)this.checkSkillActive(n.skillid[a])&&r++;if(r>=n.skillid.length)return!0}}}return!1}}]),n}(u));v.TALENT_POS=0,v.POSES=[v.TALENT_POS,1,2,3];t("skill",new v(o.skill));n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillAttrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,i,l,n,o,a,c;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,a=t.Label,c=t.Component}],execute:function(){var s,u,p,b,f,A,y;n._RF.push({},"04642vtAaVM3aKQIqz04JQA","SkillAttrItem",void 0);var h=o.ccclass,g=o.property;t("SkillAttrItem",(s=h("SkillAttrItem"),u=g(a),p=g(a),s((A=r((f=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r=t.call.apply(t,[this].concat(n))||this,i(r,"lblAttr1",A,l(r)),i(r,"lblAttr2",y,l(r)),r}e(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},n.init=function(t,r,e){this.lblAttr1.string=t+":"+r,this.lblAttr2.string=e},r}(c)).prototype,"lblAttr1",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=r(f.prototype,"lblAttr2",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillHandbook.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./SkillHandbookItem.ts"],(function(e){"use strict";var t,o,n,i,r,l,a,s,c,u,p,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,s=e.Prefab,c=e.instantiate,u=e.Component},function(e){p=e.oops},function(e){d=e.smc},function(e){f=e.SkillHandbookItem}],execute:function(){var k,b,h,m,v,y,C;r._RF.push({},"1e240tt7YtO67s2YLejjr3s","SkillHandbook",void 0);var g=l.ccclass,S=l.property;e("SkillHandbook",(k=g("SkillHandbook"),b=S(a),h=S(s),k((y=t((v=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"nodeContent",y,i(t)),n(t,"handbookItem",C,i(t)),t}o(t,e);var r=t.prototype;return r.start=function(){var e=d.skill.skillSuitTableByGroup();for(var t in this.nodeContent.removeAllChildren(),e){var o=c(this.handbookItem);o.parent=this.nodeContent,o.getComponent(f).refresh(e[t])}},r.update=function(e){},r.onClickClose=function(){p.gui.removeByNode(this.node,!0)},t}(u)).prototype,"nodeContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(v.prototype,"handbookItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkillHandbookInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillHandbookInfoItem.ts","./Oops.ts"],(function(n){"use strict";var t,e,o,i,r,l,a,s,c,u,p,f,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,a=n.Label,s=n.Node,c=n.Prefab,u=n.instantiate,p=n.Component},function(n){f=n.SkillHandbookInfoItem},function(n){d=n.oops}],execute:function(){var b,k,m,h,I,v,y,g,H;r._RF.push({},"181782wId1Bi47vbAtkkTC9","SkillHandbookInfo",void 0);var C=l.ccclass,S=l.property;n("SkillHandbookInfo",(b=C("SkillHandbookInfo"),k=S(a),m=S(s),h=S(c),b((y=t((v=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=n.call.apply(n,[this].concat(r))||this,o(t,"lblTitle",y,i(t)),o(t,"nodeContent",g,i(t)),o(t,"skillHandbookInfoItem",H,i(t)),t.params=void 0,t}e(t,n);var r=t.prototype;return r.onAdded=function(n){this.params=n},r.start=function(){for(var n in this.lblTitle.string=this.params[1].name,this.nodeContent.removeAllChildren(),this.params){var t=u(this.skillHandbookInfoItem);t.parent=this.nodeContent,t.getComponent(f).refresh(this.params[n])}},r.update=function(n){},r.onXClick=function(){d.gui.removeByNode(this.node,!0)},t}(p)).prototype,"lblTitle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(v.prototype,"nodeContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(v.prototype,"skillHandbookInfoItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=v))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkillHandbookInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts"],(function(e){"use strict";var t,o,r,i,n,l,c,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,c=e.RichText,a=e.Component},function(e){s=e.smc}],execute:function(){var u,f,p,b,h;n._RF.push({},"c2a61rtPeJCH7wEksPvR8fk","SkillHandbookInfoItem",void 0);var k=l.ccclass,d=l.property;e("SkillHandbookInfoItem",(u=k("SkillHandbookInfoItem"),f=d(c),u((h=t((b=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"richLabel",h,i(t)),t}o(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.refresh=function(e){var t=s.skill.checkSuitActive(e),o=s.skill.checkSkillSuitCanUpgrade(e),r=s.yishou.getResonateAttrStr(e),i=o.canUpgrade?"#00ff00":"#ff5b5b",n=t?"#00ff00":"#ff5b5b",l="<outline color=black width=3><b>"+e.level+"级 集齐该技能图鉴<color="+i+">("+o.activeNum+"/"+o.needNum+")</color><br/>加成属性：<color="+n+">"+r+"</color></b><outline>";this.richLabel.string=l},t}(a)).prototype,"richLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillHandbookItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./SkillItem.ts","./NetProtocol.ts","./HttpChannelManager.ts","./Oops.ts","./GameEvent.ts","./TableUtil.ts","./TableGameSkill.ts","./GameUIConfig.ts"],(function(t){"use strict";var e,n,i,o,l,r,a,c,s,u,f,p,b,g,h,d,k,m,v,S,y,C,I,U,w,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,l=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,s=t.RichText,u=t.Label,f=t.Button,p=t.Node,b=t.Prefab,g=t.instantiate,h=t.Color,d=t.Sprite,k=t.Component},function(t){m=t.smc},function(t){v=t.SkillItem},function(t){S=t.MsgID},function(t){y=t.httpChannel},function(t){C=t.oops},function(t){I=t.GameEvent},function(t){U=t.TableUtil},function(t){w=t.TableGameSkill},function(t){R=t.UIID}],execute:function(){var A,L,_,z,G,H,N,B,D,T,x,E,P,M,O;a._RF.push({},"b5e9eYAByRJwIlg5l/WgSWL","SkillHandbookItem",void 0);var j=c.ccclass,q=c.property;t("SkillHandbookItem",(A=j("SkillHandbookItem"),L=q(s),_=q(u),z=q(s),G=q(f),H=q(p),N=q(b),A((T=e((D=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"nameRich",T,o(e)),i(e,"lblAttr",x,o(e)),i(e,"conditionRich",E,o(e)),i(e,"btnUpgrade",P,o(e)),i(e,"nodeContent",M,o(e)),i(e,"skillItem",O,o(e)),e._groupInfo=void 0,e}n(e,t);var a=e.prototype;return a.start=function(){},a.checkSkillSuitActiveLv=function(t,e){for(var n in t)if(e.includes(t[n].id))return t[n].level;return 0},a.refresh=function(t){var e=this;this._groupInfo=t;var n=m.skill.skillSuit||[],i=this.checkSkillSuitActiveLv(t,n);this.nodeContent.removeAllChildren();var o=t[i>0?i:1];if(o.skillid.forEach((function(t){var n=g(e.skillItem);n.parent=e.nodeContent;var i=U.get(w,t).group,o=m.accountData.getSkillByGroup(i)||t;n.getComponent(v).initBySkillId(o,m.accdata);var l=m.skill.checkSkillActive(o);n.getComponent(v).setHeadGray(!l)})),i>0){this.nameRich.string="<outline color=black width=3><b><color=#ffdb00>"+o.name+" "+o.level+"级</color></b></outline>",this.btnUpgrade.node.getChildByName("Label").getComponent(u).string="升级",this.lblAttr.string=m.yishou.getResonateAttrStr(o),this.lblAttr.color=new h("#06ff00");var l=m.skill.checkSkillSuitCanUpgrade(t[i+1]);if(l.isMax)this.conditionRich.string="<outline color=black width=3><b><color=#ffffff>共鸣已满级</color></b></outline>",this.btnUpgrade.getComponent(d).grayscale=!0,this.btnUpgrade.interactable=!1;else{var r=l.canUpgrade?"06ff00":"ff6060";this.conditionRich.string="<outline color=black width=3><b><color=#ffffff>以上技能均达到LV."+l.needLevel+"可升级</color><color=#"+r+">（"+l.activeNum+"/"+l.needNum+"）</color></b></outline>",this.btnUpgrade.getComponent(d).grayscale=!l.canUpgrade,this.btnUpgrade.interactable=l.canUpgrade}}else{this.btnUpgrade.node.getChildByName("Label").getComponent(u).string="激活",this.lblAttr.string=m.yishou.getResonateAttrStr(o),this.lblAttr.color=new h("#ffe8bc");var a=m.skill.checkSkillSuitCanUpgrade(t[i+1]);this.nameRich.string="<outline color=black width=3><b><color=#ffffff>"+o.name+"</color> <color=#ffdb00>（"+a.activeNum+"/"+a.needNum+"）</color></b></outline>",this.conditionRich.string="<outline color=black width=3><b><color=#ff9600>集齐以上技能后可激活共鸣</color></b></outline>",this.btnUpgrade.getComponent(d).grayscale=!a.canUpgrade,this.btnUpgrade.interactable=a.canUpgrade}},a.update=function(t){},a.onInfoClick=function(){C.gui.open(R.SkillHandbookInfo,this._groupInfo)},a.onUpgradeClick=function(){var t=l(r().mark((function t(){var e,n,i,o,l,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=S.SkillSuit,n={group:this._groupInfo[1].group},t.next=4,y.reqAsync(e,n);case 4:if(null!=(i=t.sent)&&i.ok){t.next=7;break}return t.abrupt("return");case 7:for(l in m.skill.skillSuit=i.suit,this.refresh(this._groupInfo),C.message.dispatchEvent(I.SkillSuitUp),o=Object.values(i.hero))Object.prototype.hasOwnProperty.call(o,l)&&(a=o[l],m.accountData.setRoleInfo(a));C.message.dispatchEvent(I.EquipPosUpdated);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(k)).prototype,"nameRich",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(D.prototype,"lblAttr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(D.prototype,"conditionRich",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"btnUpgrade",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(D.prototype,"nodeContent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(D.prototype,"skillItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=D))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/SkillItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./AccountData.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameSkill.ts","./TableUtil.ts"],(function(t){"use strict";var i,e,l,n,s,r,a,o,c,u,h,g,f,p,b,d,m,v,S,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,o=t.Label,c=t.Sprite,u=t.Node,h=t.Component},function(t){g=t.oops},function(t){f=t.ViewUtil},function(t){p=t.SkillState},function(t){b=t.GameEvent},function(t){d=t.GameResPath},function(t){m=t.UIID},function(t){v=t.smc},function(t){S=t.TableGameSkill},function(t){_=t.TableUtil}],execute:function(){var k,y,I,N,U,D,C,G,w,z,A,H,L,B,P,T,F;r._RF.push({},"0df44WnB9dNsrUXjMY8WTqa","SkillItem",void 0);var E=a.ccclass,q=a.property;t("SkillItem",(k=E("SkillItem"),y=q(o),I=q(c),N=q(c),U=q(o),D=q(o),C=q(u),G=q(o),k((A=i((z=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,l(i,"lblName",A,n(i)),l(i,"spIcon",H,n(i)),l(i,"spNumBG",L,n(i)),l(i,"lblLv",B,n(i)),l(i,"lblNum",P,n(i)),l(i,"nodeUp",T,n(i)),l(i,"lblDebug",F,n(i)),i._mine=!0,i._group=null,i._groupCfg=null,i._cfg=new S,i}e(i,t);var r=i.prototype;return r.onLoad=function(){this.clear()},r.start=function(){g.message.on(b.SkillActived,this._eventHandler,this),g.message.on(b.SkillUp,this._eventHandler,this),g.message.on(b.SkillPosUpdated,this._eventHandler,this)},r.onDestroy=function(){g.message.off(b.SkillActived,this._eventHandler,this),g.message.off(b.SkillUp,this._eventHandler,this),g.message.off(b.SkillPosUpdated,this._eventHandler,this)},r.initBySkillId=function(t,i){this._cfg.init(t),i?(this._mine=!1,this.refreshCommon(),this.spNumBG.node.active=!1):this.refresh()},r.initByGroup=function(t,i){this._group=t,this._groupCfg=i,this.refresh()},r.initIcon=function(t){this.lblNum.node.parent.active=!1;var i=_.get(S,t),e=d.getSkillSpriteFrame(i);f.loadSpriteFrame(this.spIcon,e)},r.setHeadGray=function(t){this.spIcon.grayscale=t},r.onClick=function(){var t={cfg:this.cfg,st:this._mine?this.state:null};g.gui.open(m.TipSkill,t)},r.refresh=function(){if(this._group){var t=v.accountData.getSkillByGroup(this._group);t?this._cfg.init(t):this._cfg.init(this._groupCfg.minId)}if(this._cfg.valid())switch(this.refreshCommon(),this.spIcon.grayscale=this.state==p.NotActived,this.state){case p.NotActived:_.isTalentSkill(this.id)?this.lblDebug.string="天赋技能":this.lblDebug.string="待激活";break;case p.NotEquiped:this.lblDebug.string="可装备";break;case p.Equiped:0===v.accountData.getSkillEquipedPos(this.id)?this.lblDebug.string="天赋技能":this.lblDebug.string="可卸下"}else this.clear();this.refreshCost()},r.refreshCommon=function(){this.lblName.string=this._cfg.name,this.lblLv.string="Lv."+this._cfg.level;var t=d.getSkillSpriteFrame(this._cfg);f.loadSpriteFrame(this.spIcon,t)},r.refreshCost=function(){var t,i;if(this.state==p.NotActived){var e=_.getSkillUpgradeCost(this.cfg);t=e[0],i=e[1]}else if(this.cfg.nextId>0){var l=_.get(S,this.cfg.nextId),n=_.getSkillUpgradeCost(l);t=n[0],i=n[1]}else this.lblNum.string="MAX";if(t&&i){var s=v.accountData.getItemCount(t);this.lblNum.string=s+"/"+i,this.nodeUp.active=s>=i}},r.clear=function(){this._cfg.clear(),this.lblName.string="",this.lblLv.string="",this.lblNum.string="",this.nodeUp.active=!1,this.spIcon.spriteFrame=null,this.lblDebug.string=""},r._eventHandler=function(t,i){if(void 0===i&&(i=null),this.cfg.valid())if(t==b.SkillActived){var e=i;this.id==e&&this.refresh()}else if(t==b.SkillUp){var l=i;this._group||this.cfg.id==l.sid&&this.cfg.init(l.nsid),this.refresh()}else t==b.SkillPosUpdated&&this.refresh()},s(i,[{key:"state",get:function(){return v.accountData.getSkillStatus(this._cfg.id)}},{key:"group",get:function(){return this._group}},{key:"cfg",get:function(){return this._cfg}},{key:"id",get:function(){return this._cfg.id}}]),i}(h)).prototype,"lblName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(z.prototype,"spIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(z.prototype,"spNumBG",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(z.prototype,"lblLv",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(z.prototype,"lblNum",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(z.prototype,"nodeUp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(z.prototype,"lblDebug",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkillMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./HeadPicker.ts","./RoleUI.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Util.ts","./GuideTarget.ts","./SkillItem.ts","./SkillPosItem.ts"],(function(e){"use strict";var t,i,n,l,o,s,r,a,c,d,u,f,k,h,S,p,g,m,b,v,I,y,R,H,P,U,C,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,o=e.createClass,s=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,d=e.Prefab,u=e.Node,f=e.ToggleContainer,k=e.Button,h=e.ScrollView,S=e.Vec2,p=e.Component,g=e.instantiate},function(e){m=e.oops},function(e){b=e.GameEvent},function(e){v=e.UIID},function(e){I=e.HeadPicker},function(e){y=e.RoleUILoader},function(e){R=e.smc},function(e){H=e.TableUtil},function(e){P=e.Util},function(e){U=e.GuideTarget},function(e){C=e.SkillItem},function(e){_=e.SkillPosItem}],execute:function(){var L,T,w,E,x,z,B,G,M,O,A,D,F,V,j,q,N;a._RF.push({},"cc875wq/dFEHY65La9lvuCd","SkillMain",void 0);var Y=c.ccclass,J=c.property;e("SkillMain",(L=Y("SkillMain"),T=J(d),w=J(y),E=J(u),x=J(u),z=J(f),B=J(k),G=J(I),L((A=t((O=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"pfbSkillItem",A,l(t)),n(t,"roleLoader",D,l(t)),n(t,"nodeListSkills",F,l(t)),n(t,"nodeRoleSkills",V,l(t)),n(t,"nodeSkillTabs",j,l(t)),n(t,"btnHandbook",q,l(t)),n(t,"headPicker",N,l(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.node.setSiblingIndex(1)},a.onEnable=function(){},a.start=function(){var e,t=this;this.initRoleSkills(),this.initListSkills(),m.message.on(b.SkillPosSelected,this._eventHandler,this),m.message.on(b.SkillPosUpdated,this._eventHandler,this),m.message.on(b.SkillActived,this._eventHandler,this),m.message.on(b.SkillUp,this._eventHandler,this),m.message.on(b.SBoxOpened,this._eventHandler,this),m.message.on(b.SkillSuitUp,this._eventHandler,this),"UnlockSys_1003"==(null==(e=R.guide.current)?void 0:e.toString())&&(this.headPicker.idx=0,this.scheduleOnce((function(){t.nodeListSkills.parent.parent.getComponent(h).scrollToOffset(new S(0,300));var e=t.skillItems.find((function(e){return 13===e.group})).addComponent(U);e.guideType="UnlockSys_1003",e.guideTarget=3})))},a.onDestroy=function(){m.message.off(b.SkillPosSelected,this._eventHandler,this),m.message.off(b.SkillPosUpdated,this._eventHandler,this),m.message.off(b.SkillActived,this._eventHandler,this),m.message.off(b.SkillUp,this._eventHandler,this),m.message.off(b.SBoxOpened,this._eventHandler,this),m.message.off(b.SkillSuitUp,this._eventHandler,this)},a.refreshRedot=function(){this.headPicker.toggles.forEach((function(e,t){var i=R.accdata.roles[t];i&&P.setRedot(e,R.skill.checkUnlock(i,!1))})),this.skillPoses.forEach((function(e,t){P.setRedot(e,R.skill.isPosCanUnlock(R.account.sltRole,t))})),P.setRedot(this.nodeSkillTabs.toggleItems[0],R.skill.checkSkillUpgrade()),P.setRedot(this.btnHandbook,R.skill.suitRed)},a.initRoleSkills=function(){},a.initListSkills=function(){var e=s(r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.getAllBasicSkills().forEach((function(e,i){var n=g(t.pfbSkillItem);n.parent=t.nodeListSkills,n.getComponent(C).initByGroup(i,e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.onSkillTabClick=function(e,t){var i=e.node.getSiblingIndex();this.skillItems.forEach((function(e){e.node.active=0==i||i==e.cfg.type}))},a.onRoleTabClick=function(e,t){var i=t.roleId;R.account.sltRole=i,this.roleLoader.init(R.accdata.getRole(i)),this.roleLoader.initHalo(R.halo.haloId),this.skillPoses.forEach((function(e,t){e.init(i,t)}));var n=this.skillPoses.findIndex((function(e,t){var n=R.accdata.getSkillPos(i,t);return n&&!n.sid}));this.setSelectSkill(n>=0?n:0),this.refreshRedot()},a.setSelectSkill=function(e){R.account.sltSkillIdx=e,this.nodeRoleSkills.getComponentsInChildren(_).forEach((function(t,i){t.setSelected(e==i)}))},a._eventHandler=function(e,t){void 0===t&&(t=null),e==b.SkillPosSelected?this.setSelectSkill(t):e==b.SkillPosUpdated||e==b.SkillUp||e==b.SkillActived||e==b.SkillSuitUp?this.refreshRedot():e==b.SBoxOpened&&(this.skillItems.forEach((function(e){return e.refresh()})),this.refreshRedot())},a.onClickHandbook=function(){m.gui.open(v.SkillHandbook)},o(t,[{key:"skillPoses",get:function(){return this.nodeRoleSkills.getComponentsInChildren(_)}},{key:"skillItems",get:function(){return this.nodeListSkills.getComponentsInChildren(C)}}]),t}(p)).prototype,"pfbSkillItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(O.prototype,"roleLoader",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(O.prototype,"nodeListSkills",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(O.prototype,"nodeRoleSkills",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(O.prototype,"nodeSkillTabs",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(O.prototype,"btnHandbook",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(O.prototype,"headPicker",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=O))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/SkillPosItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./CostItem.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableUtil.ts","./SkillItem.ts"],(function(t){"use strict";var e,i,s,o,n,l,a,r,c,u,d,h,p,f,_,k,v,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Node,r=t.Label,c=t.Button,u=t.Component},function(t){d=t.oops},function(t){h=t.GameEvent},function(t){p=t.CostItem},function(t){f=t.tips},function(t){_=t.httpChannel},function(t){k=t.MsgID},function(t){v=t.smc},function(t){m=t.TableUtil},function(t){g=t.SkillItem}],execute:function(){var S,b,I,E,P,y,C,q,L,N,A,w,z;n._RF.push({},"40aecfo6nZOB633+CjWvYKw","SkillPosItem",void 0);var D,U=l.ccclass,B=l.property;!function(t){t[t.Locked=0]="Locked",t[t.NotActived=1]="NotActived",t[t.NotEquiped=2]="NotEquiped",t[t.Equiped=3]="Equiped"}(D||(D={}));t("SkillPosItem",(S=U("SkillPosItem"),b=B(g),I=B([a]),E=B(a),P=B(p),y=B(r),S((L=e((q=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,s(e,"skillItem",L,o(e)),s(e,"nodeStates",N,o(e)),s(e,"nodeSlt",A,o(e)),s(e,"costItemActive",w,o(e)),s(e,"lblLock",z,o(e)),e._rid=null,e._pos=null,e._cfg=null,e._state=null,e}i(e,t);var n=e.prototype;return n.onLoad=function(){this.nodeSlt.active=!1,this.skillItem.getComponent(c).enabled=!1,this.nodeStates.forEach((function(t){t.setPosition(0,0),t.active=!1}))},n.start=function(){d.message.on(h.SkillPosUpdated,this._eventHandler,this)},n.onDestroy=function(){d.message.off(h.SkillPosUpdated,this._eventHandler,this)},n.init=function(t,e,i){if(this._rid=t,this._pos=e,this._cfg=m.getSkillPosCfg(this._pos),i){var s=i.getSkillPos(this._rid,this._pos);this._state=((null==s?void 0:s.sid)||0)>0?D.Equiped:D.NotEquiped,this._state==D.Equiped?this.skillItem.initBySkillId(s.sid,i):(this.skillItem.clear(),this.getComponent(c).interactable=!1),this.refreshStatus()}else this.refresh()},n.onClick=function(){var t=this;if(d.message.dispatchEvent(h.SkillPosSelected,this._pos),this._state==D.Locked)f.alert("角色等级达到"+this._cfg.needlv+"后可解锁");else if(this._state==D.NotActived){if(!v.bag.checkCost(this._cfg.cost,!0))return;var e={heroid:this._rid,pos:this._pos};_.req(k.SKillPosActive,e,(function(e){var i=e.data;if(d.gui.toast(i.msg),i.ok){v.account.doResChange(i);v.accountData.setSkillPos(t._rid,t._pos,{}),d.message.dispatchEvent(h.SkillPosUpdated,{hid:t._rid,pos:t._pos})}}))}else this._state==D.NotEquiped?d.gui.toast("在列表中选择技能并装备"):this._state==D.Equiped&&this.skillItem.onClick()},n.refresh=function(){var t=v.accdata.getSkillPos(this._rid,this._pos);if(t)this._state=(t.sid||0)>0?D.Equiped:D.NotEquiped,this._state==D.Equiped?this.skillItem.initBySkillId(t.sid):this.skillItem.clear();else if(this._state=v.accdata.heroLevel>=this._cfg.needlv?D.NotActived:D.Locked,this._state==D.Locked)this.skillItem.clear(),this.lblLock.string=this._cfg.needlv+"级解锁";else{this.skillItem.clear();var e=m.getSkillPosActiveCost(this._cfg),i=e[0],s=e[1];this.costItemActive.init(i,s)}this.refreshStatus()},n.refreshStatus=function(){this.nodeStates.forEach((function(t){return t.active=!1})),this._state!=D.Equiped&&(this.nodeStates[this._state].active=!0)},n.setSelected=function(t){this.nodeSlt.active=t},n._eventHandler=function(t,e){t==h.SkillPosUpdated&&this.refresh()},e}(u)).prototype,"skillItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(q.prototype,"nodeStates",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(q.prototype,"nodeSlt",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(q.prototype,"costItemActive",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(q.prototype,"lblLock",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=q))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillSell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./StorageKey.ts","./TableGameSkillQuality.ts","./TableUtil.ts"],(function(e){"use strict";var t,i,n,l,o,r,s,a,c,u,g,f,p,d,h,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,c=e.Label,u=e.Color,g=e.Toggle,f=e.Component},function(e){p=e.oops},function(e){d=e.StorageKey},function(e){h=e.TableGameSkillQuality},function(e){S=e.TableUtil}],execute:function(){var v,k,y,C,b;r._RF.push({},"050bdpLcl9HOLZbrqnnbUN4","SkillSell",void 0);var m=s.ccclass,Q=s.property;e("SkillSell",(v=m("SkillSell"),k=Q(a),v((b=t((C=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"nodeContent",b,l(t)),t.qualities=void 0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.qualities=S.getSkillQualityIds()},r.start=function(){var e=this,t=p.storage.getJson(d.SkillSellQualities),i=new h;this.toggles.forEach((function(n,l){var o=e.qualities[l];if(o){var r=n.node.getComponentInChildren(c);r.string=i.init(o).name,r.color=new u(i.color),n.isChecked=t&&t[o]}else n.node.active=!1}))},r.getSltQualities=function(){var e=this;return this.toggles.reduce((function(t,i,n){var l=e.qualities[n];return l&&(t[l]=i.isChecked),t}),{})},r.onSaveClick=function(){var e=this.getSltQualities();p.storage.set(d.SkillSellQualities,e),p.gui.toast("保存成功"),this.onXClick()},r.onXClick=function(){p.gui.removeByNode(this.node,!0)},o(t,[{key:"toggles",get:function(){return this.nodeContent.getComponentsInChildren(g)}}]),t}(f)).prototype,"nodeContent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/SpecItemEfx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableUtil.ts","./SabiEfx.ts"],(function(t){"use strict";var e,i,n,o,r,l,c,a,s,p,u,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,c=t.Label,a=t.tween,s=t.UIOpacity,p=t.Component},function(t){u=t.smc},function(t){f=t.TableUtil},function(t){m=t.SabiEfx}],execute:function(){var b,y,I,h,d;r._RF.push({},"506afyOXqJAH7fovjvXzYGp","SpecItemEfx",void 0);var v=l.ccclass,S=l.property;t("SpecItemEfx",(b=v("SpecItemEfx"),y=S(c),b((d=e((h=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"lblItem",d,o(e)),e}return i(e,t),e.prototype.init=function(t){var e=this,i=Object.entries(t)[0],n=i[0],o=i[1];this.lblItem.string=f.getItemName(n)+"+"+o;var r=m.FLY_DURATION/u.ebox.timeScale;a(this.lblItem.node).by(r,{position:m.FLY_POS}).start(),a(this.getComponent(s)).delay(r/2).to(r/2,{opacity:0}).call((function(){return e.node.destroy()})).start()},e}(p)).prototype,"lblItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=h))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/SpineFinishedRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var t,i,n,s,o,r,a,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.sp,p=e.Component},function(e){l=e.oops}],execute:function(){var c,h,u;o._RF.push({},"9589eKB/RZKXpxoYhz5SyC7","SpineFinishedRelease",void 0);var d=r.ccclass,f=r.property;e("SpineFinishedRelease",d("SpineFinishedRelease")((u=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isDestroy",u,s(t)),t.resPath=null,t}i(t,e);var o=t.prototype;return o.setResPath=function(e){this.resPath=e},o.onLoad=function(){var e=this;this.spine=this.getComponent(a.Skeleton),this.spine.setCompleteListener(this.onSpineComplete.bind(this)),this.resPath?l.res.load(this.resPath,a.SkeletonData,(function(t,i){t?console.error("加载【"+e.resPath+"】的 SPINE 资源不存在"):(e.spine.skeletonData=i,e.spine.setAnimation(0,"animation",!1))})):this.spine.setAnimation(0,"animation",!1)},o.onSpineComplete=function(){this.isDestroy?this.node.destroy():this.node.removeFromParent()},t}(p)).prototype,"isDestroy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=h))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/StorageKey.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var i;e("StorageKey",void 0),t._RF.push({},"7c0e9S5WINDdYe9Wf8zH5DI","StorageKey",void 0),function(e){e.Account="Account",e.Server="Server",e.EquipSellQualities="EquipSellQualities",e.SkillSellQualities="SkillSellQualities",e.EBoxSetting="EBoxSetting",e.EboxBuyStorage="EboxBuyStorage",e.LoginUsePolicy="LoginUsePolicy",e.FirstRechargeKey="FirstRechargeKey",e.GiftPack="GiftPack",e.YishouGachaNotice="YishouGachaNotice",e.WrestleCardNew="WrestleCardNew",e.XunbaoSetting="XunbaoSetting",e.Guide="Guide"}(i||(i=e("StorageKey",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/StorageManager.ts",["cc","./env","./EncryptUtil.ts"],(function(t){"use strict";var e,n,r,i;return{setters:[function(t){e=t.cclegacy,n=t.sys},function(t){r=t.PREVIEW},function(t){i=t.EncryptUtil}],execute:function(){e._RF.push({},"ed226gLF85Oyr+WhA9TJZLX","StorageManager",void 0);t("StorageManager",function(){function t(){this._key=null,this._iv=null,this._id=""}var e=t.prototype;return e.init=function(t,e){i.initCrypto(t,e),this._key=i.md5(t),this._iv=i.md5(e)},e.setUser=function(t){this._id=t},e.set=function(t,e,r){if(void 0===r&&(r=!1),null!=(t=r?t:t+"_"+this._id)){if(t=i.md5(t),null==e)return console.warn("存储的值为空，则直接移除该存储"),void this.remove(t);if("function"!=typeof e){if("object"==typeof e)try{e=JSON.stringify(e)}catch(t){return void console.error("解析失败，str = "+e)}else"number"==typeof e&&(e+="");null!=this._key&&null!=this._iv&&(e=i.aesEncrypt(""+e,this._key,this._iv)),n.localStorage.setItem(t,e)}else console.error("储存的值不能为方法")}else console.error("存储的key不能为空")},e.get=function(t,e,o){if(void 0===e&&(e=""),void 0===o&&(o=!1),null==t)return console.error("存储的key不能为空"),null;t=o?t:t+"_"+this._id,t=i.md5(t);var l=n.localStorage.getItem(t);return null==l||""===l||r||null==this._key||null==this._iv||(l=i.aesDecrypt(l,this._key,this._iv)),null===l?e:l},e.getNumber=function(t,e){void 0===e&&(e=0);var n=this.get(t);return Number(n)||e},e.getBoolean=function(t){var e=this.get(t);return Boolean(e)||!1},e.getJson=function(t,e,n){void 0===n&&(n=!1);var r=this.get(t,null,n);return r&&JSON.parse(r)||e},e.remove=function(t){null!=t?(t=t+"_"+this._id,t=i.md5(t),n.localStorage.removeItem(t)):console.error("存储的key不能为空")},e.clear=function(){n.localStorage.clear()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Store.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./ZKChannelManager.ts","./PlatformSDK.ts","./UMASDK.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./TablePrivilegeConfig.ts","./TablePrivilegeType.ts","./TableShop.ts","./TableStatus.ts","./TableUtil.ts","./Util.ts","./GM.ts"],(function(e){"use strict";var t,r,n,i,a,u,o,s,c,l,f,y,g,p,d,v,h,m,T,b,I,S,k,x,G,B,w,P,R,D,E;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.asyncToGenerator,i=e.regeneratorRuntime,a=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,o=e.sys},function(e){s=e.oops},function(e){c=e.JsonUtil},function(e){l=e.EStatusTimeType,f=e.EShopPayType},function(e){y=e.GameEvent},function(e){g=e.UIID},function(e){p=e.tips},function(e){d=e.httpChannel},function(e){v=e.MsgID},function(e){h=e.zkChannel},function(e){m=e.PlatformSDK},function(e){T=e.UMASDK},function(e){b=e.smc},function(e){I=e.GameSys},function(e){S=e.GameSysKey},function(e){k=e.TablePrivilegeConfig},function(e){x=e.TablePrivilegeType,G=e.PrivilegeTypeKey},function(e){B=e.TableShop},function(e){w=e.StatusKey,P=e.TableStatus},function(e){R=e.TableUtil},function(e){D=e.delay},function(e){E=e.gm}],execute:function(){var N;e("GoodsType",void 0),u._RF.push({},"f06cfGdGKZEwYXp1xBtHaJ2","Store",void 0),function(e){e[e.dailyWelfareType=2]="dailyWelfareType",e[e.diamondWelfreType=3]="diamondWelfreType",e[e.dailyGiftType=4]="dailyGiftType",e[e.firstRechargeType=7]="firstRechargeType",e[e.coinStoreType=12]="coinStoreType"}(N||(N=e("GoodsType",{})));var C=e("Store",function(e){function u(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).privilegeType=G.shop_add_daily_num,t.redotWatchGameEvents=[y.Tick5S,y.StoreWelfareRedot,y.StoreDailyGiftRedot],t}t(u,e);var I=u.prototype;return I.onLogin=function(){var e=n(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(b.accdata.orders);case 1:if((r=t()).done){e.next=11;break}return n=r.value,e.next=5,this.reqIABDeliver(n);case 5:if(e.t0=e.sent,!e.t0){e.next=9;break}return e.next=9,D(1e3);case 9:e.next=1;break;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),I.getBuyTimes=function(e,t){if(!this.buyTagInfo)return 0;var r=this.buyTagInfo[t];return r&&r[e]||0},I.checkBuyTimes=function(e,t){void 0===t&&(t=!1);var r=R.get(B,e);return r?r.dailylimit&&this.getBuyTimes(e,"dailyTag")>=r.dailylimit?(t&&s.gui.toast("今日购买次数已达上限"),!1):!(r.alwayslimit&&this.getBuyTimes(e,"alwayTag")>=r.alwayslimit)||(t&&s.gui.toast("总购买次数已达上限"),!1):(t&&s.gui.toast("无效的商品ID: "+e),!1)},I.reqBuy=function(){var e=n(i().mark((function e(t,r,n){var a,u,c,l,y,p,h,m,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=1),void 0===n&&(n=null),null!=(a=R.get(B,t))&&a.enable){e.next=6;break}return s.gui.toast("无效的商品ID: "+t),e.abrupt("return",null);case 6:if(!a.systemid||b.system.checkOpened(a.systemid,!0)){e.next=8;break}return e.abrupt("return",null);case 8:if(this.checkBuyTimes(t,!0)){e.next=10;break}return e.abrupt("return",null);case 10:if(u=null,E.enabled||!o.isNative&&o.platform!==o.Platform.WECHAT_GAME||a.paytype!=f.RECHARGE){e.next=38;break}return s.gui.open(g.Netinstable),c=setTimeout((function(){s.gui.remove(g.Netinstable)}),8e3),e.next=16,this.reqIAB(a,n);case 16:if(l=e.sent){e.next=21;break}return clearTimeout(c),s.gui.remove(g.Netinstable),e.abrupt("return",null);case 21:y={orderId:l.orderId},p=40;case 23:if(!(p>0)){e.next=34;break}return e.next=26,d.reqAsync(v.StoreDeliver,y,!1);case 26:if(u=e.sent,null==(h=u)||!h.ok){e.next=29;break}return e.abrupt("break",34);case 29:return p--,e.next=32,D(p>20?1e3:2e3);case 32:e.next=23;break;case 34:clearTimeout(c),s.gui.remove(g.Netinstable),e.next=44;break;case 38:return m=a.timelimit.length>0?v.StoreBuyItemSp:v.StoreBuyItem,I={shopid:t,num:r},e.next=42,d.reqAsync(m,I);case 42:u=e.sent,T.onBuyFinished(a);case 44:return this.onFinishBuy(t,u),e.abrupt("return",u);case 46:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),I.reqIABDeliver=function(){var e=n(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={orderId:t},e.next=3,d.reqAsync(v.StoreDeliver,r);case 3:return n=e.sent,this.onFinishBuy(0,n),e.abrupt("return",null==n?void 0:n.ok);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),I.reqIAB=function(){var e=n(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),e.next=3,h.reqCreateOrder(t,r);case 3:if((n=e.sent).success){e.next=7;break}return s.gui.toast(n.message),e.abrupt("return",null);case 7:return m.doPay(n.data.orderId.toString(),t),e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),I.onFinishBuy=function(e,t){return null!=t&&t.ok?(t.buyItemTag&&(this.buyTagInfo=t.buyItemTag),t.status&&(b.accdata.sysStatus=t.status),t.privilege&&(b.accdata.privilege=t.privilege),t.roleRechargeInfo&&(this.roleRechargeInfo=t.roleRechargeInfo),p.reward(t),b.account.doResChange(t),s.message.dispatchEvent(y.StoreBuyItem,e),s.message.dispatchEvent(y.WelfareUpdateRed),t):null},I.hasPrivilege=function(e){var t=b.accdata.privilege,r=c.get(k.TableName);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(i<=0)continue;var a=Number(n);if(!r[a])continue;if(!r[a].type||!x[r[a].type])continue;if(r[a].type===e)return i}return 0},I.getPrivilegeVal=function(e,t,r,n){var i=0,a=c.get(k.TableName);for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){if(e[u]<=0)continue;var o=Number(u);if(!a[o])continue;if(!a[o].type||!x[a[o].type])continue;if(a[o].systemid!==t)continue;var s=-1;if(x[a[o].type]&&(s=a[o].type),r===s&&a[o].param!==Number(n))continue;a[o].type===r&&(i+=a[o].val)}return i},I.checkStatus=function(e){if(!e)return!0;var t=P[e];if(!t)return!1;var r=b.accdata.subinfo;if(!r.status||!(e in r.status))return!1;if(t.timetype==l.FOREVER)return!0;var n=new Date(r.status[e]),i=new Date;return i.setHours(0,0,0,0),i.getTime()<n.getTime()},I.checkMonthCard=function(e){return!!this.checkStatus(w.month_card)||(e&&s.gui.toast("激活月卡特权后开放"),!1)},I.isBuyGoodsById=function(e){if(this.buyTagInfo.alwayTag)for(var t in this.buyTagInfo.alwayTag)if(e==Number(t))return e;if(this.buyTagInfo.doubleTag)for(var r in this.buyTagInfo.doubleTag)if(e==Number(r))return e;return 0},I.getLeftSec=function(e,t){var r=b.store.buyTagInfo,n=Number(e);if(r.dailyTag&&r.dailyTag[n]){var i=Math.floor((new Date).getTime()/1e3)-r.timeTag[n],a=R.getGoodsByID(n),u=Number(a.timelimit[r.dailyTag[n]-1]);return u?i>=u?r.dailyTag[n]>=t?this.isHasPrivilege?-1:-2:0:u-i:-1}return 0},I.calRedot=function(){return this.dailyWelfareRed||this.dailyGiftRed},r(u,[{key:"isHasPrivilege",get:function(){return b.store.hasPrivilege(this.privilegeType)>0}},{key:"buyTagInfo",get:function(){return b.accdata.subinfo.buyItemTag},set:function(e){b.accdata.subinfo.buyItemTag=e}},{key:"roleRechargeInfo",get:function(){return b.accdata.subinfo.rechargeInfo},set:function(e){b.accdata.subinfo.rechargeInfo=e}},{key:"adFree",get:function(){return this.hasPrivilege(G.free_advertising)}},{key:"dailyWelfareRed",get:function(){var e=R.getGoodsByType(N.dailyWelfareType),t=b.accountData.privilege;for(var r in e){var n=e[r].dailylimit;if(this.isHasPrivilege)n+=b.store.getPrivilegeVal(t,e[r].systemid,this.privilegeType,e[r].id);if(0==b.store.getLeftSec(e[r].id,n))return!0}return!1}},{key:"dailyGiftRed",get:function(){var e=R.getGoodsByType(N.dailyGiftType);for(var t in e){if(0==this.getBuyTimes(e[t].id,"dailyTag")&&0==e[t].price)return!0}return!1}}]),u}(I));e("store",new C(S.store));u._RF.pop()}}}));

System.register("chunks:///_virtual/StoreCoinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableUtil.ts","./BagItem.ts","./TableGameConfig.ts","./Oops.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,n,r,i,o,a,c,l,s,u,p,f,m,b,g,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,s=e.Node,u=e.Label,p=e.Component},function(e){f=e.smc},function(e){m=e.TableUtil},function(e){b=e.BagItem},function(e){g=e.TableGameConfig},function(e){h=e.oops},function(e){d=e.UIID}],execute:function(){var v,y,I,C,k,w,B,S,T;c._RF.push({},"0cb8e+v/edKcpx3CSlrjNbC","StoreCoinItem",void 0);var x=l.ccclass,N=l.property;e("StoreCoinItem",(v=x("StoreCoinItem"),y=N(s),I=N(u),C=N(u),v((B=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"bagItem",B,i(t)),r(t,"lblName",S,i(t)),r(t,"lblPrice",T,i(t)),t.cfg=void 0,t}n(t,e);var c=t.prototype;return c.start=function(){},c.initItem=function(e){var t=this;this.cfg=e,this.lblPrice.string=e.cost[g.moneyId_diamond];var n=m.getDropItems(this.cfg.drop);Object.entries(n).forEach((function(e){var n=e[0],r=e[1];t.bagItem.getComponent(b).init(parseInt(n),r)})),this.lblName.getComponent(u).string=this.cfg.name},c.onClickBuy=function(){var e=o(a().mark((function e(){var t,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.cfg).callBack=o(a().mark((function e(t,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.store.reqBuy(Number(n.cfg.id),t);case 2:if(null!=(i=e.sent)&&i.ok){e.next=5;break}return e.abrupt("return");case 5:(null==r?void 0:r.isValid)&&r.onClickBack();case 6:case"end":return e.stop()}}),e)}))),h.gui.open(d.TipMultiBuy,t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"bagItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(w.prototype,"lblName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(w.prototype,"lblPrice",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=w))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/StoreDailygiftItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./ItemsGroup.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,l,u,c,p,f,b,m,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Label,p=e.Button,f=e.Component},function(e){b=e.oops},function(e){m=e.GameEvent},function(e){g=e.ItemsGroup},function(e){h=e.smc}],execute:function(){var d,y,v,I,D,w,N,S,G,k,R,z,T;s._RF.push({},"08ac0Lwx55LsapmKEI8DbN5","StoreDailygiftItem",void 0);var C=l.ccclass,M=l.property;e("StoreDailygiftItem",(d=C("StoreDailygiftItem"),y=M(u),v=M(c),I=M(u),D=M(u),w=M(u),d((G=t((S=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"bagItem",G,n(t)),r(t,"lblPrice",k,n(t)),r(t,"spMask",R,n(t)),r(t,"spSell",z,n(t)),r(t,"spRedDot",T,n(t)),t.cfg=void 0,t}i(t,e);var s=t.prototype;return s.start=function(){},s.initItem=function(e){this.cfg=e,this.bagItem.addComponent(g).init(this.cfg.drop),this.lblPrice.getComponent(c).string="￥"+this.cfg.price;var t=h.store.buyTagInfo;null!=t&&t.dailyTag?this.updateGiftView(t.dailyTag):(this.spMask.active=!1,this.spSell.active=!1,this.spRedDot.active=0==Number(this.cfg.price))},s.updateGiftView=function(e){var t=0;for(var i in e)Number(this.cfg.id)==Number(i)&&(t=Number(e[i]));this.spMask.active=Number(t)>0,this.spSell.active=Number(t)>0,this.node.getComponent(p).interactable=!(Number(t)>0),this.spRedDot.active=0==Number(this.cfg.price)&&0==Number(t)},s.onClickBuy=function(){var e=a(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.store.reqBuy(Number(this.cfg.id));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:this.updateGiftView(t.buyItemTag.dailyTag),b.message.dispatchEvent(m.StoreDailyGiftRedot);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"bagItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(S.prototype,"lblPrice",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(S.prototype,"spMask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(S.prototype,"spSell",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(S.prototype,"spRedDot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=S))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/StoreDailyWelfareItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TablePrivilegeType.ts","./Util.ts"],(function(e){"use strict";var t,i,s,n,r,a,l,o,u,c,p,h,m,g,f,b,d,y,D,v,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.Label,p=e.Node,h=e.macro,m=e.Component},function(e){g=e.oops},function(e){f=e.GameEvent},function(e){b=e.tips},function(e){d=e.httpChannel},function(e){y=e.MsgID},function(e){D=e.smc},function(e){v=e.PrivilegeTypeKey},function(e){T=e.Util}],execute:function(){var C,R,S,I,k,w,L,N,P,E,z,_,x,H,W;o._RF.push({},"f14accwkEZB85VHHorZ+npm","StoreDailyWelfareItem",void 0);var A=u.ccclass,M=u.property;e("StoreDailyWelfareItem",(C=A("StoreDailyWelfareItem"),R=M(c),S=M(c),I=M(p),k=M(c),w=M(c),L=M(p),C((E=t((P=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,s(t,"lblName",E,n(t)),s(t,"lblCount",z,n(t)),s(t,"spCD",_,n(t)),s(t,"spDesp",x,n(t)),s(t,"lblDesp",H,n(t)),s(t,"spRedDot",W,n(t)),t.cfg=void 0,t.smcData=void 0,t.CD=0,t.privilegeType=v.shop_add_daily_num,t.totalTimes=0,t}i(t,e);var o=t.prototype;return o.start=function(){},o.onDestroy=function(){this.unschedule(this.limitTime)},o.initItem=function(e){this.cfg=e,this.smcData=D.accountData.privilege,this.lblName.getComponent(c).string=e.name;var t=this.cfg.dailylimit;this.isHasPrivilege&&(t+=D.store.getPrivilegeVal(this.smcData,this.cfg.systemid,this.privilegeType,this.cfg.id));this.totalTimes=t,this.initLeftTimes()},o.initLeftTimes=function(){var e=D.store.buyTagInfo;null!=e&&e.dailyTag?this.updateLeftTimes(e.dailyTag):(this.lblCount.getComponent(c).string="剩余次数:"+this.totalTimes,this.lblDesp.string="免费领取",this.spRedDot.active=!0)},o.updateLeftTimes=function(e){var t=this,i=0;for(var s in e)Number(this.cfg.id)==Number(s)&&(i=Number(e[s]));var n=Number(this.totalTimes-i);this.lblCount.getComponent(c).string="剩余次数:"+n;var r=D.store.getLeftSec(this.cfg.id,this.totalTimes);this.spRedDot.active=!1,r>0?(this.spCD.active=!0,this.lblDesp.unscheduleAllCallbacks(),this.lblDesp.schedule((function(e){var i=T.getTimeSpan(r);t.lblDesp.string=[i.hours,i.minutes,i.seconds].map((function(e){return e.toString().padStart(2,"0")})).join(":"),r<=0&&(t.spCD.active=!1,t.initLeftTimes(),t.lblDesp.unscheduleAllCallbacks(),g.message.dispatchEvent(f.StoreWelfareRedot)),r--}),1,h.REPEAT_FOREVER,.1)):-1==r?this.lblDesp.string="明日再来":-2==r?(this.lblDesp.string="月卡特权",this.lblCount.getComponent(c).string="购买月卡增加领取次数哦！"):(this.lblDesp.string="免费领取",this.spRedDot.active=!0)},o.clickBuyItems=function(){var e=a(l().mark((function e(){var t,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.CD<=0)){e.next=17;break}return this.schedule(this.limitTime,1,5),this.CD=5,t={shopid:Number(this.cfg.id),num:1},e.next=6,d.reqAsync(y.StoreBuyItemSp,t);case 6:if(null!=(i=e.sent)&&i.ok){e.next=9;break}return e.abrupt("return");case 9:D.account.doResChange(i),b.reward(i),D.store.buyTagInfo=i.buyItemTag,this.updateLeftTimes(i.buyItemTag.dailyTag),g.gui.toast(i.msg),g.message.dispatchEvent(f.StoreWelfareRedot),e.next=18;break;case 17:g.gui.toast("5秒内不可重复领取");case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.limitTime=function(){this.CD>0?this.CD--:this.CD=0},r(t,[{key:"isHasPrivilege",get:function(){return D.store.hasPrivilege(this.privilegeType)>0}}]),t}(m)).prototype,"lblName",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(P.prototype,"lblCount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"spCD",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"spDesp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(P.prototype,"lblDesp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(P.prototype,"spRedDot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=P))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/StoreDiamondItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableUtil.ts","./BagItem.ts"],(function(e){"use strict";var t,r,n,i,o,a,c,l,u,s,p,b,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,u=e.Node,s=e.Label,p=e.Component},function(e){b=e.smc},function(e){m=e.TableUtil},function(e){f=e.BagItem}],execute:function(){var g,h,v,y,d,I,D,N,w,R,_;c._RF.push({},"e20e73+rhxE+7Z+cef5VXmN","StoreDiamondItem",void 0);var z=l.ccclass,C=l.property;e("StoreDiamondItem",(g=z("StoreDiamondItem"),h=C(u),v=C(u),y=C(s),d=C(s),g((N=t((D=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"bagItem",N,i(t)),n(t,"spDouble",w,i(t)),n(t,"lblName",R,i(t)),n(t,"lblPrice",_,i(t)),t.cfg=void 0,t._onRecv=null,t}r(t,e);var c=t.prototype;return c.initItem=function(e){var t=this;this.cfg=e;var r=2,n=b.store.buyTagInfo;this.spDouble.active=!0,n&&Object.keys(n.doubleTag).forEach((function(n){Number(e.id)==Number(n)&&(t.spDouble.active=!1,r=1)}));var i=m.getDropItems(this.cfg.drop);return Object.entries(i).forEach((function(e){var n=e[0],i=e[1];t.bagItem.getComponent(f).init(parseInt(n),Number(i*r))})),this.lblName.getComponent(s).string=this.cfg.name,this.lblPrice.getComponent(s).string="￥"+this.cfg.price,this},c.onClickBuy=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.store.reqBuy(Number(this.cfg.id));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:this._onRecv();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onRecv=function(e){this._onRecv=e},t}(p)).prototype,"bagItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(D.prototype,"spDouble",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(D.prototype,"lblName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(D.prototype,"lblPrice",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=D))||I));c._RF.pop()}}}));

System.register("chunks:///_virtual/StoreMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./StoreDailyWelfareItem.ts","./GameEvent.ts","./StoreDailygiftItem.ts","./TableUtil.ts","./SingletonModuleComp.ts","./Store.ts","./StoreCoinItem.ts","./StoreDiamondItem.ts"],(function(i){"use strict";var t,e,o,n,a,l,r,s,f,c,d,u,m,y,h,p,b,g,D,C,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,r=i.Node,s=i.Label,f=i.instantiate,c=i.color,d=i.Component},function(i){u=i.oops},function(i){m=i.ViewUtil},function(i){y=i.StoreDailyWelfareItem},function(i){h=i.GameEvent},function(i){p=i.StoreDailygiftItem},function(i){b=i.TableUtil},function(i){g=i.smc},function(i){D=i.GoodsType},function(i){C=i.StoreCoinItem},function(i){v=i.StoreDiamondItem}],execute:function(){var S,w,G,L,I,z,T,R,_,E,N,k,B,M,P,A,U,H,V,W,F,J,j,x,O,Y,q;a._RF.push({},"c8378UJAttJP5wFYi/90/Po","StoreMain",void 0);var K=l.ccclass,Q=l.property;i("StoreMain",(S=K("StoreMain"),w=Q(r),G=Q(s),L=Q(s),I=Q(s),z=Q(r),T=Q(r),R=Q(r),_=Q(r),E=Q(r),N=Q(r),k=Q(r),B=Q(r),S((A=t((P=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return t=i.call.apply(i,[this].concat(a))||this,o(t,"dailywelfareList",A,n(t)),o(t,"label1",U,n(t)),o(t,"label2",H,n(t)),o(t,"label3",V,n(t)),o(t,"scrollCoinStore",W,n(t)),o(t,"scrollDiamond",F,n(t)),o(t,"diamondItem",J,n(t)),o(t,"scrollDailyGift",j,n(t)),o(t,"coinList",x,n(t)),o(t,"diamondList",O,n(t)),o(t,"dailyGiftList",Y,n(t)),o(t,"nodeRed",q,n(t)),t.Data=void 0,t}e(t,i);var a=t.prototype;return a.start=function(){u.message.on(h.StoreDailyGiftRedot,this._eventHandler,this),this.getCfgData(),this.initView()},a.onDestroy=function(){u.message.off(h.StoreDailyGiftRedot,this._eventHandler,this)},a.initView=function(){this.initDailywelfarel(),this.initCoinStore(),this.initDiamondStore(),this.initDailyGift()},a.initDailywelfarel=function(){var i=this;this.Data.dailywelfareCfg.forEach((function(t,e){var o=i.dailywelfareList[e];o&&o.getComponent(y).initItem(t)}))},a.initCoinStore=function(){var i=this;this.coinList.removeAllChildren(),this.Data.coinStoreCfg.forEach((function(t){m.loadPrefabNode("gui/store/store_CoinItem",(function(e){e.parent=i.coinList,e.getComponent(C).initItem(t)}))}))},a.initDiamondStore=function(){var i=this;this.diamondList.removeAllChildren(),this.Data.diamondsCfg.forEach((function(t){f(i.diamondItem).parent=i.diamondList})),this.freshDiamondStore()},a.freshDiamondStore=function(){var i=this.Data.diamondsCfg;for(var t in i){this.diamondList.children[t].getComponent(v).initItem(i[t]).onRecv(this.onCallDiamond.bind(this))}},a.onCallDiamond=function(){this.freshDiamondStore()},a.initDailyGift=function(){var i=this;this.dailyGiftList.removeAllChildren(),this.Data.dailyGiftListCfg.forEach((function(t){m.loadPrefabNode("gui/store/store_dailygiftItem",(function(e){e.parent=i.dailyGiftList,e.getComponent(p).initItem(t)}))})),this.showRedDot()},a.showRedDot=function(){for(var i in this.nodeRed.active=!1,this.Data.dailyGiftListCfg){var t=this.Data.dailyGiftListCfg[i],e=g.store.getBuyTimes(t.id,"dailyTag");if(0==Number(t.price)&&0==e)return void(this.nodeRed.active=!0)}},a.getCfgData=function(){this.Data={dailywelfareCfg:b.getGoodsByType(D.dailyWelfareType),coinStoreCfg:b.getGoodsByType(D.coinStoreType),dailyGiftListCfg:b.getGoodsByType(D.dailyGiftType),diamondsCfg:b.getGoodsByType(D.diamondWelfreType)}},a.onClickEvent=function(i,t){this.scrollDiamond.active=0==Number(t),this.scrollCoinStore.active=1==Number(t),this.scrollDailyGift.active=2==Number(t)},a.onCheckEvent=function(i,t){0==parseInt(t)?this.label1.getComponent(s).color=i.isChecked?c(255,255,255):c(232,177,125):1==parseInt(t)?this.label2.getComponent(s).color=i.isChecked?c(255,255,255):c(232,177,125):2==parseInt(t)&&(this.label3.getComponent(s).color=i.isChecked?c(255,255,255):c(232,177,125))},a._eventHandler=function(i,t){i==h.StoreDailyGiftRedot&&this.showRedDot()},a.onClickClose=function(){u.gui.removeByNode(this.node,!0)},t}(d)).prototype,"dailywelfareList",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(P.prototype,"label1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(P.prototype,"label2",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(P.prototype,"label3",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(P.prototype,"scrollCoinStore",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(P.prototype,"scrollDiamond",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(P.prototype,"diamondItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(P.prototype,"scrollDailyGift",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"coinList",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(P.prototype,"diamondList",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(P.prototype,"dailyGiftList",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(P.prototype,"nodeRed",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=P))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/StorePay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var t,i,n,r,l,o,a,c,u,s,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,c=e.ToggleContainer,u=e.Button,s=e.Component},function(e){b=e.oops}],execute:function(){var p,y,f,g,h,P,m,d,v,C,z,w,B,k,x;l._RF.push({},"b6132JzxGhAxY7RGr30MxxO","StorePay",void 0);var L=o.ccclass,S=o.property;e("StorePay",(p=L("StorePay"),y=S(a),f=S(a),g=S(a),h=S(c),P=S(u),m=S(u),p((C=t((v=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"lblName",C,r(t)),n(t,"lblPrice",z,r(t)),n(t,"lblBtnPrice",w,r(t)),n(t,"tglsPay",B,r(t)),n(t,"btnX",k,r(t)),n(t,"btnPay",x,r(t)),t.cfg=null,t}i(t,e);var l=t.prototype;return l.onAdded=function(e){this.cfg=e,this.lblName.string=e.name,this.lblPrice.string=e.price+"元",this.lblBtnPrice.string="确认支付"+e.price+"元"},l.start=function(){this.btnX.node.on(u.EventType.CLICK,this.onXClick,this),this.btnPay.node.on(u.EventType.CLICK,this.onPayClick,this)},l.onPayClick=function(){b.gui.toast("未接入")},l.onXClick=function(){b.gui.removeByNode(this.node)},t}(s)).prototype,"lblName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"lblPrice",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"lblBtnPrice",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(v.prototype,"tglsPay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(v.prototype,"btnX",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(v.prototype,"btnPay",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/StringFormat.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"85fe8Gc6h5Ava+JsdbBs8cR","StringFormat",void 0);t("StringFormatFunction",new(function(){function t(){}var e=t.prototype;return e.deal=function(t,e){if(""===e)return t;var n=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",c=0,o="";if(n&&(r=n[0]),i&&(c=parseInt(i[0])),"number"==typeof t)switch(r){case"int":o=this.int(t);break;case"fix":o=this.fix(t,c);break;case"kmbt":o=this.KMBT(t);break;case"per":o=this.per(t,c);break;case"sep":o=this.sep(t)}else{switch(r){case"limit":o=this.limit(t,c)}o=t}return o},e.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},e.time_m=function(t){},e.time_s=function(t){},e.time_ms=function(t){},e.timeStamp=function(t){return new Date(t).toString()},e.per=function(t,e){return Math.round(100*t).toFixed(e)},e.int=function(t){return Math.round(t)},e.fix=function(t,e){return t.toFixed(e)},e.limit=function(t,e){return t.substring(0,e)},e.KMBT=function(t,e){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},e.compressUnit=function(t,e,n,i){void 0===i&&(i=2);var r,c=e,o=n,s="";for(r=0;r<c.length;r++){if(t<c[r]){s=r>0?(t/c[r-1]).toFixed(i):t.toFixed(0);break}}return s+o[r]},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"aa8435LSBtAR5HPsje6IJ2w","StringUtil",void 0);t("StringUtil",function(){function t(){}return t.guid=function(){for(var t="",r=1;r<=32;r++){t+=Math.floor(16*Math.random()).toString(16),8!=r&&12!=r&&16!=r&&20!=r||(t+="-")}return t},t.numberTotPermil=function(t){return t.toLocaleString()},t.numberToThousand=function(t,r){void 0===r&&(r=2);var n=1e3;if(t<n)return t.toString();var e=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,e)).toFixed(r)+["","K","M","G"][e]},t.numberToTenThousand=function(t,r){void 0===r&&(r=2);var n=1e4;if(t<n)return t.toString();var e=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,e)).toFixed(r)+["","万","亿","万亿"][e]},t.format=function(t,r){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var e in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+e+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)));return r},t.stringToArray1=function(t){return""==t?[]:t.split(",")},t.stringToArray2=function(t){return""==t?[]:t.split("|")},t.stringToArray3=function(t){return""==t?[]:t.split(":")},t.stringToArray4=function(t){return""==t?[]:t.split(";")},t.sub=function(t,r,n){void 0===n&&(n=!1);var e=/[^\x00-\xff]/g;if(t.replace(e,"mm").length<=r)return t;for(var o=Math.floor(r/2);o<t.length;o++)if(t.substr(0,o).replace(e,"mm").length>=r)return n?t.substr(0,o)+"...":t.substr(0,o);return t},t.stringLen=function(t){for(var r=0,n=t.length,e=-1,o=0;o<n;o++)r+=(e=t.charCodeAt(o))>=0&&e<=128?1:2;return r},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/SuperValueEntryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./Util.ts"],(function(t){"use strict";var e,n,i,o,r,s,l,a,u,c,p,f,y,m,h,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Sprite,a=t.Label,u=t.Button,c=t.macro,p=t.Component},function(t){f=t.oops},function(t){y=t.ViewUtil},function(t){m=t.GameResPath},function(t){h=t.UIID},function(t){b=t.smc},function(t){g=t.Util}],execute:function(){var I,d,G,S,E,R,v,U,V;r._RF.push({},"99f28UeXMRBKqf/w+N3E3Uq","SuperValueEntryItem",void 0);var w=s.ccclass,C=s.property;t("SuperValueEntryItem",(I=w("SuperValueEntryItem"),d=C(l),G=C(a),S=C(u),I((v=e((R=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"spIcon",v,o(e)),i(e,"lblName",U,o(e)),i(e,"btnGoto",V,o(e)),e.sysKey=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.spIcon.spriteFrame=null},r.start=function(){var t=this;this.btnGoto.node.on(u.EventType.CLICK,this.onGotoClick,this),this.schedule((function(){t.sysKey&&g.setRedot(t.btnGoto,b.system.calRedot(t.sysKey))}),1,c.REPEAT_FOREVER,.1)},r.init=function(t,e){this.sysKey=t,y.loadSpriteFrame(this.spIcon,m.getSpriteFrameGift(e.icon)),this.lblName.string=e.name},r.onGotoClick=function(){f.gui.open(h.GiftPackSuperValueSingle,this.sysKey)},e}(p)).prototype,"spIcon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(R.prototype,"lblName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(R.prototype,"btnGoto",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=R))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/SuperValueEntryItemSelfChoose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SuperValueEntryItem.ts","./Oops.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,o,n,r,u,s;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator},function(e){r=e.SuperValueEntryItem},function(e){u=e.oops},function(e){s=e.UIID}],execute:function(){var i;o._RF.push({},"f68a3NCh0xCMpyz/ZLhiwRn","SuperValueEntryItemSelfChoose",void 0);var c=n.ccclass;n.property,e("SuperValueEntryItemSelfChoose",c("SuperValueEntryItemSelfChoose")(i=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onGotoClick=function(){u.gui.open(s.GiftPackSuperValueSingleSelfChoose,this.sysKey)},o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/SuperValueShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./ItemsGroup.ts","./SingletonModuleComp.ts","./TableShop.ts","./TableUtil.ts"],(function(t){"use strict";var e,i,n,r,o,s,l,u,a,p,c,h,f,b,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,a=t.Label,p=t.Button,c=t.Component},function(t){h=t.ViewUtil},function(t){f=t.ItemsGroup},function(t){b=t.smc},function(t){m=t.TableShop},function(t){y=t.TableUtil}],execute:function(){var g,d,C,v,B,S,I,T,w,L,V;l._RF.push({},"e3a393eZflG3KqTRYK8+NOy","SuperValueShopItem",void 0);var k=u.ccclass,z=u.property;t("SuperValueShopItem",(g=k("SuperValueShopItem"),d=z(a),C=z(a),v=z(f),B=z(p),g((T=e((I=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"lblName",T,r(e)),n(e,"lblLimit",w,r(e)),n(e,"items",L,r(e)),n(e,"btnBuy",V,r(e)),e.shopCfg=null,e}i(e,t);var l=e.prototype;return l.start=function(){this.btnBuy.node.on(p.EventType.CLICK,this.onBuyClick,this)},l.init=function(t){this.shopCfg=y.get(m,t),this.items.init(this.shopCfg.drop[0]),this.lblName.string=this.shopCfg.name,this.refresh()},l.refresh=function(){var t=b.store.getBuyTimes(this.shopCfg.id,"dailyTag"),e=this.shopCfg,i=e.dailylimit,n=e.price;t>=i?(this.lblLimit.string="",this.btnBuy.getComponentInChildren(a).string="已售罄",h.setGray(this.btnBuy,!0)):(this.lblLimit.string="每日限购 ("+t+"/"+i+")",this.btnBuy.getComponentInChildren(a).string=n+"元",h.setGray(this.btnBuy,!1))},l.onBuyClick=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.store.reqBuy(this.shopCfg.id);case 2:if(null!=(e=t.sent)&&e.ok){t.next=5;break}return t.abrupt("return");case 5:(null==this?void 0:this.isValid)&&this.refresh();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(c)).prototype,"lblName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(I.prototype,"lblLimit",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(I.prototype,"items",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(I.prototype,"btnBuy",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=I))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/SuperValueShopItemSelfChoose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableDiyShop.ts","./TableShop.ts","./TableUtil.ts","./Util.ts","./GiftChooseItem.ts","./SuperValueShopItem.ts"],(function(e){"use strict";var t,i,s,o,n,r,h,a,l,u,f,c,p,m,C,g,d,y,b,I,S,v,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass,r=e.asyncToGenerator,h=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,u=e.Layout,f=e.Prefab,c=e.instantiate,p=e.Label},function(e){m=e.oops},function(e){C=e.ViewUtil},function(e){g=e.UIID},function(e){d=e.smc},function(e){y=e.TableDiyShop},function(e){b=e.TableShop},function(e){I=e.TableUtil},function(e){S=e.Util},function(e){v=e.GiftChooseItem},function(e){B=e.SuperValueShopItem}],execute:function(){var T,V,w,k,U,G,x;a._RF.push({},"c8abeocCY9KE58E8wPY23Ye","SuperValueShopItemSelfChoose",void 0);var D=l.ccclass,L=l.property;e("SuperValueShopItemSelfChoose",(T=D("SuperValueShopItemSelfChoose"),V=L(u),w=L(f),T((G=t((U=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"itemsChoose",G,o(t)),s(t,"chooseItem",x,o(t)),t.diyCfg=void 0,t.selfChooseIds=[],t}i(t,e);var a=t.prototype;return a.init=function(e){var t=this;this.shopCfg=I.get(b,e),this.items.init(this.shopCfg.drop[0]),this.lblName.string=this.shopCfg.name;var i=I.get(y,this.shopCfg.diyshop);if(i){this.diyCfg=i;for(var s=0;s<i.num;s++){var o=c(this.chooseItem);o.parent=this.itemsChoose.node,o.getComponent(v).init((function(){m.gui.open(g.GiftPackSuperValueSingleSelfChoosePop,{cfg:i,parentItem:t})}))}}else this.node.getChildByName("plu").active=!1;this.refresh()},a.refresh=function(){var e=d.store.getBuyTimes(this.shopCfg.id,"dailyTag"),t=this.shopCfg,i=t.dailylimit,s=t.price;e>=i?(this.lblLimit.string="",this.btnBuy.getComponentInChildren(p).string="已售罄",C.setGray(this.btnBuy,!0),S.setRedot(this.btnBuy,!1)):(this.lblLimit.string="每日限购 ("+e+"/"+i+")",this.btnBuy.getComponentInChildren(p).string=s+"元",C.setGray(this.btnBuy,!1),this.diyCfg||S.setRedot(this.btnBuy,!0))},a.onChooseComplete=function(e){var t=this;this.selfChooseIds=e,this.chooseItems.forEach((function(e,i){if(null!=t.selfChooseIds[i]){var s=Object.entries(t.diyCfg.items[t.selfChooseIds[i]]);e.showItem(s[0][0],Number(s[0][1]))}else e.hideItem()}))},a.onBuyClick=function(){var e=r(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.diyCfg&&this.diyCfg.num>0&&this.selfChooseIds.length<=0)){e.next=3;break}return m.gui.toast("未选择自选道具！"),e.abrupt("return");case 3:return e.next=5,d.store.reqBuy(this.shopCfg.id,1,{diyShopIndex:this.selfChooseIds});case 5:if(null!=(t=e.sent)&&t.ok){e.next=8;break}return e.abrupt("return");case 8:(null==this?void 0:this.isValid)&&this.refresh();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n(t,[{key:"chooseItems",get:function(){return this.itemsChoose.getComponentsInChildren(v)}}]),t}(B)).prototype,"itemsChoose",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(U.prototype,"chooseItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=U))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/System.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./Util.ts"],(function(t){"use strict";var e,n,s,i,o,r,a,u,c,d;return{setters:[function(t){e=t.createClass,n=t.inheritsLoose},function(t){s=t.cclegacy,i=t.assert},function(t){o=t.oops},function(t){r=t.GameEvent},function(t){a=t.smc},function(t){u=t.GameSysKey,c=t.TableGameSys},function(t){d=t.Util}],execute:function(){s._RF.push({},"df98eiNOrhG/oHX+Vc+AXJI","System",void 0);var f=t("System",function(){function t(){this.sysMapping=new Map,this.redotData=new Map,this.redotData.set(u.email,!1),this.redotData.set(u.guild,!1)}var e=t.prototype;return e.register=function(t,e){this.sysMapping.set(t,e)},e.isRegistered=function(t){return this.sysMapping.has(t)},e.get=function(t){return this.sysMapping.get(t)},e.getAll=function(){return this.sysMapping},e.onLogin=function(){this.sysMapping.forEach((function(t){return t.onLogin()}))},e.onNewSystem=function(t){},e.onDailyReset=function(t){},e.onLogout=function(){this.sysMapping.forEach((function(t){return t.onLogout()}))},e.checkEnabled=function(t){var e=c[t];return 1===(null==e?void 0:e.is_open)},e.checkOpened=function(t,e){if(!this.checkEnabled(t))return e&&o.gui.toast("系统暂未开放"),!1;var n=c[t],s=n.open_rolelevel;if(a.accdata.heroLevel<s)return e&&o.gui.toast("角色达到"+d.fmtLv(s)+"后开放"),!1;var i=n.need_task;return i&&!a.task.isPassedMain(i)?(e&&o.gui.toast("还需完成"+a.task.getRemainMainTaskCount(i)+"个主线任务后开放"),!1):n.server_opendays&&n.server_opendays>1&&a.accdata.getServerOpenDays()<n.server_opendays?(e&&o.gui.toast("开服第"+n.server_opendays+"后开放"),!1):n.close_serverday&&a.accdata.getServerOpenDays()>n.close_serverday?(e&&o.gui.toast("系统暂未开放"),!1):!this.isRegistered(t)||this.get(t).checkOpened(e)},e.getOpenConditionText=function(t){var e=c[t],n=e.open_rolelevel;if(a.accdata.heroLevel<n)return"角色达到"+d.fmtLv(n)+"后开启";var s=e.need_task;return s&&!a.task.isPassedMain(s)?"完成"+a.task.getRemainMainTaskCount(s)+"个主线任务后开启":"系统暂未开放"},e.calRedot=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);try{var s=this.get(t);s?(this.redotData.set(t,this.checkOpened(t)&&s.calRedot(e,n)),s.parentId&&this.calRedot(s.parentId,e,n)):this.redotData.set(t,!1)}catch(e){this.redotData.set(t,!1)}return this.redotData.get(t)},e.setRedot=function(t,e){this.redotData.set(t,e)},e.getRedot=function(t){var e;return!!this.isRegistered(t)&&(null!=(e=this.redotData.get(t))?e:this.calRedot(t))},e.dumpRedot=function(){console.log(this.redotData)},e.goto=function(t){o.message.dispatchEvent(r.Goto,{sysId:t})},t}()),h=t("system",new f),l=t("GameSys",function(){function t(t){this._sysId=void 0,this._subIds=[],this._parentId=null,this._dockId=null,this.redotWatchGameEvents=void 0,this._sysId=t,i(!h.isRegistered(t)),h.register(t,this),this._subIds=Object.entries(c).filter((function(e){e[0];return e[1].parent_id==t})).map((function(t){var e=t[0];t[1];return Number(e)})),this._parentId=this.cfg.parent_id;for(var e=this._parentId,n=c[e];null!=(s=n)&&s.parent_id;){var s;if(n.parent_id==u.dock){this._dockId=e;break}e=n.parent_id,n=c[e]}}var n=t.prototype;return n.onLogin=function(){},n.onNewSystem=function(t){},n.onDailyReset=function(t){},n.onLogout=function(){},n.calRedot=function(t,e){return this.calRedotSub()},n.calRedotSub=function(){return this._subIds.some((function(t){return h.getRedot(t)}))},n.checkOpened=function(t){return!0},n.needCountdown=function(){return!1},n.calCountdown=function(){return 0},n.getQuickInfo=function(){return null},e(t,[{key:"id",get:function(){return this._sysId}},{key:"cfg",get:function(){return c[this._sysId]}},{key:"parentId",get:function(){return this._parentId}},{key:"dockId",get:function(){return this._dockId}}]),t}());t("DockBtnAdapter",function(t){function e(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).redotWatchGameEvents=[r.Tick1S],e}return n(e,t),e}(l));s._RF.pop()}}}));

System.register("chunks:///_virtual/TabBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,c,r,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,c=t._decorator,r=t.Label,i=t.EventHandler,o=t.ToggleContainer}],execute:function(){var a;e._RF.push({},"d6df7RpK5JDkIgtQfWXlfhN","TabBar",void 0);var l=c.ccclass;c.property,t("TabBar",l("TabBar")(a=function(t){function e(){for(var n,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return(n=t.call.apply(t,[this].concat(c))||this)._click=null,n}n(e,t);var c=e.prototype;return c.setTitles=function(t){this.toggleItems.forEach((function(n,e){var c,i=null;(i=n.getComponentInChildren(r))&&(i.string=t[e]),(i=null==(c=n.checkMark)?void 0:c.getComponentInChildren(r))&&(i.string=t[e])}))},c.setSelected=function(t){this.toggleItems[t].isChecked=!0},c.onClick=function(t,n){this._click=t.bind(n)},c.onLoad=function(){if(0===this.checkEvents.length){var t=new i;t.target=this.node,t.component="TabBar",t.handler="_eventHandler",this.checkEvents.push(t)}},c._eventHandler=function(t,n){var e=null;this.toggleItems.forEach((function(n,c){n===t?(n.interactable=!1,e=c):n.interactable=!0})),this._click&&this._click(e)},e}(o))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/TableAbyssDragonDamageAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,n,e;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){n._RF.push({},"693f8JBNtJAKLdn/rEXS6WW","TableAbyssDragonDamageAward",void 0),t("TableAbyssDragonDamageAward",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(a){var n=e.get(t.TableName);return this.data=n[a],this.id=a,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},a(t,[{key:"drop1",get:function(){return this.data.drop1}}]),t}()).TableName="AbyssDragonDamageAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableAbyssDragonRankAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,n,i;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"328beO9AqtPJogrNi6qEJpM","TableAbyssDragonRankAward",void 0),t("TableAbyssDragonRankAward",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(a){var n=i.get(t.TableName);return this.data=n[a],this.id=a,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},a(t,[{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"award",get:function(){return this.data.award}}]),t}()).TableName="AbyssDragonRankAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableAnimConfig.ts",["cc"],(function(s){"use strict";var i;return{setters:[function(s){i=s.cclegacy}],execute:function(){i._RF.push({},"6230caNVZFK6LqHfvCTEXy7","TableAnimConfig",void 0);s("TableAnimConfig",{10020:{fps_s:12,x:16,y:-100,s:1e4,sib:1},10021:{fps_s:12,x:17,y:-210,s:1e4,sib:1},10030:{fps_s:12,x:16,y:-500,s:1e4,sib:1},10040:{fps_s:12,x:16,y:-40,s:1e4,sib:1},10041:{fps_s:12,x:-180,y:-320,s:1e4,sib:1},10050:{fps_s:12,x:-180,y:-300,s:1e4,sib:1},10051:{fps_s:12,x:16,y:-480,s:1e4,sib:1},10060:{fps_s:12,x:16,y:-50,s:1e4,sib:1},10061:{fps_s:12,x:-236,y:-438,s:1e4,sib:1},10070:{fps_s:12,x:6,y:-500,s:1e4,sib:1},10071:{fps_s:12,x:6,y:-500,s:1e4,sib:1},10080:{fps_s:12,x:6,y:-160,s:1e4,sib:1},10081:{fps_s:12,x:6,y:-250,s:1e4,sib:1},10090:{fps_s:12,x:6,y:-516,s:1e4,sib:1},10091:{fps_s:12,x:6,y:-516,s:1e4,sib:1},10100:{fps_s:12,x:6,y:-476,s:1e4,sib:1},20010:{fps_s:12,x:6,y:-520,s:1e4,sib:1},20011:{fps_s:12,x:-184,y:-328,s:1e4,sib:1},20020:{fps_s:12,x:2,y:-505,s:1e4,sib:1},20030:{fps_s:12,x:2,y:-533,s:1e4,sib:1},20040:{fps_s:12,x:2,y:-533,s:1e4,sib:1},20050:{fps_s:12,x:2,y:-484,s:1e4,sib:1},20051:{fps_s:12,x:2,y:-510,s:1e4,sib:1},20060:{fps_s:12,x:2,y:-93,s:1e4,sib:1},20070:{fps_s:12,x:-180,y:-120,s:1e4,sib:1},20071:{fps_s:12,x:-180,y:-275,s:1e4,sib:1},20080:{fps_s:12,x:-180,y:-340,s:1e4,sib:1},20081:{fps_s:12,x:12,y:-490,s:1e4,sib:1},20090:{fps_s:12,x:12,y:-490,s:1e4,sib:1},20091:{fps_s:12,x:-93,y:-385,s:1e4,sib:1},20100:{fps_s:12,x:10,y:-158,s:1e4,sib:1},20101:{fps_s:12,x:108,y:-346,s:1e4,sib:1},30010:{fps_s:12,x:5,y:-507,s:1e4,sib:1},30020:{fps_s:12,x:5,y:-507,s:1e4,sib:1},30021:{fps_s:12,x:5,y:-507,s:1e4,sib:1},30030:{fps_s:12,x:5,y:-670,s:13e3,sib:1},30031:{fps_s:12,x:5,y:-670,s:1e4,sib:1},30040:{fps_s:12,x:5,y:-500,s:1e4,sib:1},30050:{fps_s:12,x:5,y:-500,s:1e4,sib:1},30060:{fps_s:12,x:5,y:-500,s:1e4,sib:1},30061:{fps_s:12,x:5,y:-500,s:1e4,sib:1},30070:{fps_s:12,x:10,y:-517,s:1e4,sib:1},30080:{fps_s:12,x:-20,y:-490,s:1e4,sib:1},30090:{fps_s:12,x:10,y:-290,s:1e4,sib:1},30100:{fps_s:12,x:-20,y:-490,s:1e4,sib:1},30101:{fps_s:12,x:-20,y:-490,s:1e4,sib:1},4e4:{fps_s:12,x:0,y:0,s:1e4,sib:1},40001:{fps_s:12,x:0,y:0,s:1e4,sib:1},40002:{fps_s:12,x:0,y:0,s:1e4,sib:1},40010:{fps_s:12,x:30,y:-200,s:3e4,sib:1},40011:{fps_s:12,x:0,y:-350,s:12e3,sib:1},40020:{fps_s:12,x:70,y:-800,s:17e3,sib:1},40030:{fps_s:12,x:30,y:-100,s:3e4,sib:1},40040:{fps_s:12,x:10,y:-50,s:11e3,sib:1},40041:{fps_s:12,x:0,y:0,s:16e3,sib:1},40050:{fps_s:12,x:0,y:-40,s:16e3,sib:1},40051:{fps_s:12,x:0,y:-40,s:16e3,sib:1},40061:{fps_s:12,x:45,y:-345,s:15e3,sib:1},40070:{fps_s:12,x:0,y:-400,s:16e3,sib:1},40071:{fps_s:12,x:180,y:-425,s:16e3,sib:1},40080:{fps_s:12,x:10,y:-80,s:16e3,sib:1},40090:{fps_s:12,x:0,y:-380,s:24e3,sib:1},40091:{fps_s:12,x:10,y:-450,s:15e3,sib:1},40100:{fps_s:12,x:10,y:0,s:15e3,sib:1},40110:{fps_s:12,x:10,y:-290,s:1e4,sib:1},40120:{fps_s:12,x:10,y:-20,s:2e4,sib:1},40130:{fps_s:12,x:-10,y:-280,s:12e3,sib:1},40140:{fps_s:12,x:20,y:0,s:2e4,sib:1},40141:{fps_s:12,x:100,y:-380,s:13e3,sib:1},40150:{fps_s:12,x:0,y:-5,s:23e3,sib:1},40161:{fps_s:12,x:80,y:-860,s:2e4,sib:1},40170:{fps_s:12,x:10,y:-5,s:23e3,sib:1},40171:{fps_s:12,x:15,y:0,s:15e3,sib:1},40180:{fps_s:12,x:30,y:100,s:16e3,sib:1},40181:{fps_s:12,x:0,y:-50,s:25e3,sib:1},40190:{fps_s:12,x:20,y:-100,s:14e3,sib:1},40191:{fps_s:12,x:15,y:-50,s:14e3,sib:1},40200:{fps_s:12,x:0,y:-30,s:14e3,sib:1},40210:{fps_s:12,x:10,y:0,s:12e3,sib:1},40220:{fps_s:12,x:10,y:0,s:12e3,sib:1},40221:{fps_s:12,x:100,y:-360,s:12e3,sib:1},40230:{fps_s:12,x:15,y:0,s:5e3,sib:1},40240:{fps_s:12,x:5,y:-280,s:11e3,sib:1},40241:{fps_s:12,x:0,y:-30,s:12e3,sib:1},100001:{fps_s:12,x:0,y:0,s:1e4,sib:0},100002:{fps_s:12,x:0,y:0,s:1e4,sib:0},100003:{fps_s:12,x:0,y:0,s:1e4,sib:0},100004:{fps_s:12,x:0,y:0,s:1e4,sib:0},100005:{fps_s:12,x:0,y:0,s:1e4,sib:0},100006:{fps_s:12,x:0,y:0,s:1e4,sib:0},zhudong:{fps_s:12,x:0,y:-200,s:1e4,sib:1,delay_ms:0},zhuiji:{fps_s:12,x:0,y:-40,s:1e4,sib:1},huifu:{fps_s:12,x:0,y:-40,s:1e4,sib:1},qishou:{fps_s:12,x:50,y:0,s:1e4,sib:1},zengyi:{fps_s:12,x:0,y:-40,s:1e4,sib:1},shouji:{fps_s:20,x:0,y:-40,s:1e4,sib:1},zhanshi:{fps_s:13,x:108,y:-180,s:3e4,sib:1,delay_ms:900}});i._RF.pop()}}}));

System.register("chunks:///_virtual/TableArenaDailyRank_kf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,n,e;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){n._RF.push({},"f13afguJfJHeJQORtzZOnk3","TableArenaDailyRank_kf",void 0),t("TableArenaDailyRank_kf",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(a){var n=e.get(t.TableName);return this.data=n[a],this.id=a,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},a(t,[{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"award",get:function(){return this.data.award}}]),t}()).TableName="ArenaDailyRank_kf",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableArenaDailyRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,n,e;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){n._RF.push({},"debf4V/TbVOtJ6k/+0bY0LE","TableArenaDailyRank",void 0),t("TableArenaDailyRank",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(a){var n=e.get(t.TableName);return this.data=n[a],this.id=a,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},a(t,[{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"award",get:function(){return this.data.award}}]),t}()).TableName="ArenaDailyRank",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableArenaRankAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(a){"use strict";var t,n,e;return{setters:[function(a){t=a.createClass},function(a){n=a.cclegacy},function(a){e=a.JsonUtil}],execute:function(){n._RF.push({},"2e977cWKMhIXL2JSVZBJ6dK","TableArenaRankAward",void 0),a("TableArenaRankAward",function(){function a(){this.data=void 0,this.rank=0}var n=a.prototype;return n.init=function(t){var n=e.get(a.TableName);return this.data=n[t],this.rank=t,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},t(a,[{key:"dayaward",get:function(){return this.data.dayaward}},{key:"award",get:function(){return this.data.award}}]),a}()).TableName="ArenaRankAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableArenaRobot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"f0a77b/9eZBk4nj+mO0uOQN","TableArenaRobot",void 0),t("TableArenaRobot",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"type",get:function(){return this.data.type}},{key:"robot",get:function(){return this.data.robot}},{key:"dec",get:function(){return this.data.dec}}]),t}()).TableName="ArenaRobot",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableArenaSeasonRank_kf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var n,a,e;return{setters:[function(t){n=t.createClass},function(t){a=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){a._RF.push({},"b55edOseLVDd7J0IbUYr0pZ","TableArenaSeasonRank_kf",void 0),t("TableArenaSeasonRank_kf",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(n){var a=e.get(t.TableName);return this.data=a[n],this.id=n,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},n(t,[{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"award",get:function(){return this.data.award}}]),t}()).TableName="ArenaSeasonRank_kf",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableArenaSeasonRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var n,a,e;return{setters:[function(t){n=t.createClass},function(t){a=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){a._RF.push({},"d7f67NR2/NKkZzGcpaW7dEv","TableArenaSeasonRank",void 0),t("TableArenaSeasonRank",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(n){var a=e.get(t.TableName);return this.data=a[n],this.id=n,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},n(t,[{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"award",get:function(){return this.data.award}}]),t}()).TableName="ArenaSeasonRank",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableAureole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"dd828L88/ZIjoRBbvUq1kng","TableAureole",void 0),t("TableAureole",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"nextid",get:function(){return this.data.nextid}},{key:"name",get:function(){return this.data.name}},{key:"rank",get:function(){return this.data.rank}},{key:"lv",get:function(){return this.data.lv}},{key:"type",get:function(){return this.data.type}},{key:"actcostitem",get:function(){return this.data.actcostitem}},{key:"costitem",get:function(){return this.data.costitem}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"add_hp_per",get:function(){return this.data.add_hp_per}},{key:"dec_atkBack_pro",get:function(){return this.data.dec_atkBack_pro}},{key:"dec_doubleAtk_pro",get:function(){return this.data.dec_doubleAtk_pro}},{key:"dec_miss",get:function(){return this.data.dec_miss}},{key:"dec_criticalAtk_pro",get:function(){return this.data.dec_criticalAtk_pro}},{key:"dec_damage_rate",get:function(){return this.data.dec_damage_rate}},{key:"desc",get:function(){return this.data.desc}},{key:"efx",get:function(){return this.data.efx}}]),t}()).TableName="Aureole",n._RF.pop()}}}));

System.register("chunks:///_virtual/Tablecaiquan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var i,n,e;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){n._RF.push({},"fb400MIjc9P0qLA7EOvb9aw","Tablecaiquan",void 0),t("Tablecaiquan",function(){function t(){this.data=void 0,this.id=0,this.level=0}var n=t.prototype;return n.init=function(i,n){var a=e.get(t.TableName);return this.data=a[i][n],this.id=i,this.level=n,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},i(t,[{key:"costitem",get:function(){return this.data.costitem}},{key:"skill",get:function(){return this.data.skill}}]),t}()).TableName="caiquan",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableDemonAbyssAchieveAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"08e8fC4esVCSbs93Z62Jvc4","TableDemonAbyssAchieveAward",void 0),t("TableDemonAbyssAchieveAward",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"drop1",get:function(){return this.data.drop1}}]),t}()).TableName="DemonAbyssAchieveAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableDiyShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var n,i,e;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){i._RF.push({},"940c1nkP5pG3roTYRmyWxFY","TableDiyShop",void 0),t("TableDiyShop",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(n){var i=e.get(t.TableName);return this.data=i[n],this.id=n,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},n(t,[{key:"name",get:function(){return this.data.name}},{key:"num",get:function(){return this.data.num}},{key:"items",get:function(){return this.data.items}}]),t}()).TableName="DiyShop",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableEnum.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var n,e,i;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){e._RF.push({},"e3991e6vHtLdZ12XQ7scLfN","TableEnum",void 0),t("TableEnum",function(){function t(){this.data=void 0,this.id=0}return t.prototype.init=function(n){var e=i.get(t.TableName);this.data=e[n],this.id=n},n(t,[{key:"info",get:function(){return this.data.info}}]),t}()).TableName="Enum",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableFashion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"c31f1zVM3NFfbB7xWD4lcAC","TableFashion",void 0),t("TableFashion",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"resid",get:function(){return this.data.resid}},{key:"quality",get:function(){return this.data.quality}},{key:"time",get:function(){return this.data.time}},{key:"hp_rate",get:function(){return this.data.hp_rate}},{key:"atk_rate",get:function(){return this.data.atk_rate}},{key:"def_rate",get:function(){return this.data.def_rate}},{key:"group",get:function(){return this.data.group}},{key:"source",get:function(){return this.data.source}}]),t}()).TableName="Fashion",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableFruitSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"76c86YwdZlFN6RAJXgAfXZq","TableFruitSys",void 0),t("TableFruitSys",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"itemid",get:function(){return this.data.itemid}},{key:"openlv",get:function(){return this.data.openlv}},{key:"base",get:function(){return this.data.base}},{key:"amend",get:function(){return this.data.amend}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"desc",get:function(){return this.data.desc}}]),t}()).TableName="FruitSys",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableFundEboxAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var n,e,a;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){e._RF.push({},"7890cUl9HlI54IgeY9MRfWX","TableFundEboxAward",void 0),t("TableFundEboxAward",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(n){var e=a.get(t.TableName);return this.data=e[n],this.id=n,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},n(t,[{key:"drop",get:function(){return this.data.drop}},{key:"drop2",get:function(){return this.data.drop2}}]),t}()).TableName="FundEboxAward",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableFundLevelAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"c41df6YeiFP55G7b4WhNaX1","TableFundLevelAward",void 0),t("TableFundLevelAward",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"drop",get:function(){return this.data.drop}},{key:"drop2",get:function(){return this.data.drop2}}]),t}()).TableName="FundLevelAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameAttr.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var t;e("GameAttrKey",void 0),a._RF.push({},"88034oJ4yVIN4VUUij/HNXe","TableGameAttr",void 0),function(e){e[e.N=0]="N",e[e.curhp=1]="curhp",e[e.hp=2]="hp",e[e.atk=3]="atk",e[e.def=4]="def",e[e.atkspeed=5]="atkspeed",e[e.hp_rate=6]="hp_rate",e[e.atk_rate=7]="atk_rate",e[e.def_rate=8]="def_rate",e[e.atk_ratio=9]="atk_ratio",e[e.add_damage=10]="add_damage",e[e.aktBack_pro=11]="aktBack_pro",e[e.dec_atkBack_pro=12]="dec_atkBack_pro",e[e.aktBack_per=13]="aktBack_per",e[e.douleAtk_pro=14]="douleAtk_pro",e[e.dec_doubleAtk_pro=15]="dec_doubleAtk_pro",e[e.doubleAtk_per=16]="doubleAtk_per",e[e.miss=17]="miss",e[e.dec_miss=18]="dec_miss",e[e.criticalAtk_pro=19]="criticalAtk_pro",e[e.dec_criticalAtk_pro=20]="dec_criticalAtk_pro",e[e.criticalAtk_per=21]="criticalAtk_per",e[e.add_criticalDamage=22]="add_criticalDamage",e[e.dec_criticalDamage=23]="dec_criticalDamage",e[e.add_damage_rate=24]="add_damage_rate",e[e.dec_damage_rate=25]="dec_damage_rate",e[e.add_askill_pro=26]="add_askill_pro",e[e.add_apskill_pro=27]="add_apskill_pro",e[e.add_askill_dam=28]="add_askill_dam",e[e.add_apskill_dam=29]="add_apskill_dam",e[e.add_hp_per=30]="add_hp_per"}(t||(t=e("GameAttrKey",{})));e("TableGameAttr",{0:{strKey:"N",name:"无效属性",per_unit:"1",zhanli:0,rate:"0",effect:"0",desc:"无效属性"},1:{strKey:"curhp",name:"当前生命",per_unit:"1",zhanli:0,rate:"0",effect:"0",desc:"当前生命"},2:{strKey:"hp",name:"生命",per_unit:"1",zhanli:1,rate:"6",effect:"0",desc:"生命上限"},3:{strKey:"atk",name:"攻击",per_unit:"1",zhanli:10,rate:"7",effect:"0",desc:"攻击"},4:{strKey:"def",name:"防御",per_unit:"1",zhanli:5,rate:"8",effect:"0",desc:"防御"},5:{strKey:"atkspeed",name:"速度",per_unit:"1",zhanli:2,rate:"0",effect:"0",desc:"速度"},6:{strKey:"hp_rate",name:"生命加成",per_unit:"10000",zhanli:0,rate:"0",effect:"2",desc:"生命加成"},7:{strKey:"atk_rate",name:"攻击加成",per_unit:"10000",zhanli:0,rate:"0",effect:"3",desc:"攻击加成"},8:{strKey:"def_rate",name:"防御加成",per_unit:"10000",zhanli:0,rate:"0",effect:"4",desc:"防御加成"},9:{strKey:"atk_ratio",name:"攻击比例",per_unit:"10000",zhanli:0,rate:"0",effect:"0",desc:"攻击力比例"},10:{strKey:"add_damage",name:"真实伤害",per_unit:"1",zhanli:15,rate:"0",effect:"0",desc:"附加伤害"},11:{strKey:"aktBack_pro",name:"反击",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"反击"},12:{strKey:"dec_atkBack_pro",name:"忽视反击",per_unit:"10000",zhanli:5,rate:"0",effect:"0",desc:"抗反击"},13:{strKey:"aktBack_per",name:"反击伤害系数",per_unit:"10000",zhanli:0,rate:"0",effect:"0",desc:"反击伤害系数"},14:{strKey:"douleAtk_pro",name:"连击",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"连击"},15:{strKey:"dec_doubleAtk_pro",name:"忽视连击",per_unit:"10000",zhanli:5,rate:"0",effect:"0",desc:"抗连击"},16:{strKey:"doubleAtk_per",name:"连击伤害系数",per_unit:"10000",zhanli:0,rate:"0",effect:"0",desc:"连击伤害系数"},17:{strKey:"miss",name:"闪避",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"闪避"},18:{strKey:"dec_miss",name:"忽视闪避",per_unit:"10000",zhanli:5,rate:"0",effect:"0",desc:"抗闪避"},19:{strKey:"criticalAtk_pro",name:"暴击",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"暴击"},20:{strKey:"dec_criticalAtk_pro",name:"忽视暴击",per_unit:"10000",zhanli:5,rate:"0",effect:"0",desc:"抗暴击"},21:{strKey:"criticalAtk_per",name:"暴击伤害系数",per_unit:"1",zhanli:0,rate:"0",effect:"0",desc:"暴击伤害系数"},22:{strKey:"add_criticalDamage",name:"暴击伤害",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"暴伤增加"},23:{strKey:"dec_criticalDamage",name:"暴伤减免",per_unit:"10000",zhanli:5,rate:"0",effect:"0",desc:"暴伤减免"},24:{strKey:"add_damage_rate",name:"伤害增加",per_unit:"10000",zhanli:30,rate:"0",effect:"0",desc:"最终增伤"},25:{strKey:"dec_damage_rate",name:"伤害减免",per_unit:"10000",zhanli:30,rate:"0",effect:"0",desc:"最终免伤"},26:{strKey:"add_askill_pro",name:"主动技概率",per_unit:"10000",zhanli:40,rate:"0",effect:"0",desc:"主动技概率"},27:{strKey:"add_apskill_pro",name:"追击技概率",per_unit:"10000",zhanli:40,rate:"0",effect:"0",desc:"追击技概率"},28:{strKey:"add_askill_dam",name:"主动技伤害",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"主动技增伤"},29:{strKey:"add_apskill_dam",name:"追击技伤害",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"追击技增伤"},30:{strKey:"add_hp_per",name:"治疗效果",per_unit:"10000",zhanli:10,rate:"0",effect:"0",desc:"回血效果增加"}});a._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameAttrPop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"1b907JxPKdH559hG2nF02yr","TableGameAttrPop",void 0),t("TableGameAttrPop",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"title",get:function(){return this.data.title}},{key:"name",get:function(){return this.data.name}}]),t}()).TableName="GameAttrPop",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"31d44A6Jy1Csp8L9eblD7x1","TableGameBuff",void 0),t("TableGameBuff",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"efx",get:function(){return this.data.efx}},{key:"level",get:function(){return this.data.level}},{key:"type",get:function(){return this.data.type}},{key:"group",get:function(){return this.data.group}},{key:"utype",get:function(){return this.data.utype}},{key:"rdType",get:function(){return this.data.rdType}},{key:"rounds",get:function(){return this.data.rounds}},{key:"addpro",get:function(){return this.data.addpro}},{key:"target",get:function(){return this.data.target}},{key:"tNum",get:function(){return this.data.tNum}},{key:"trigger",get:function(){return this.data.trigger}},{key:"cpType",get:function(){return this.data.cpType}},{key:"cpAttr",get:function(){return this.data.cpAttr}},{key:"cpMul",get:function(){return this.data.cpMul}},{key:"cpVal",get:function(){return this.data.cpVal}},{key:"caType",get:function(){return this.data.caType}},{key:"formula",get:function(){return this.data.formula}},{key:"caAttr",get:function(){return this.data.caAttr}},{key:"caState",get:function(){return this.data.caState}},{key:"stateNum",get:function(){return this.data.stateNum}},{key:"buffs",get:function(){return this.data.buffs}},{key:"dec",get:function(){return this.data.dec}},{key:"roleColor",get:function(){return this.data.roleColor}},{key:"icon",get:function(){return this.data.icon}}]),t}()).TableName="GameBuff",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameChapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"52ab83izT9NZ4B/1UDdBft8","TableGameChapter",void 0),t("TableGameChapter",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"map_prefab",get:function(){return this.data.map_prefab}},{key:"pic_ground",get:function(){return this.data.pic_ground}},{key:"is_scrolling",get:function(){return this.data.is_scrolling}},{key:"pic_sky",get:function(){return this.data.pic_sky}}]),t}()).TableName="GameChapter",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameConfig.ts",["cc"],(function(_){"use strict";var e;return{setters:[function(_){e=_.cclegacy}],execute:function(){e._RF.push({},"55c3f5efGVNF45O9IDk7In5","TableGameConfig",void 0);_("TableGameConfig",{initRole:[101001],heroList:[{id:101001,needlv:1},{id:102001,needlv:10},{id:103001,needlv:20}],initItems:[{i:1003,n:50}],moneyId_goldcoin:1001,moneyId_diamond:1002,itemid_ebox:1003,itemid_sbox:1004,itemid_quicken_cd:1005,itemid_exp:1019,val_quicken_cd:600,ebox_adv_quicken_cd:1800,ebox_numcfg:{1:{lv:1},2:{lv:5},3:{lv:10},4:{lv:15},5:{lv:20}},val_fightNum:3,val_maxRounds:15,role_lv_max:200,skill_maxnum:4,skill_pos_1:{cost:{1001:5e3},needlv:1},skill_pos_2:{cost:{1002:300},needlv:40},skill_pos_3:{cost:{1002:800},needlv:50},item_bag_max:200,equip_bag_max:200,ebox_addlv:[{p:500,v:-2},{p:1500,v:-1},{p:5e3,v:0},{p:2e3,v:1},{p:1e3,v:2}],init_criticalAtk_per:15e3,init_doubleAtk_per:1e4,email_max_num:30,time_award_max:12,time_award_quickmax:2,time_award_quicknum:3,init_gamelevels:1,init_elitelevels:10001,init_task_main:1001,var_taskdaily_point:1006,init_welfare_paiddays:8005,init_welfare_paiddays_cost:68,ps_season_days:15,ps_welfare_add:5,ps_welfare_shopid:18,ps_init_dice:15,ps_add_dicetime:30,ps_fire_energy_max:20,ps_item_nshell:1009,ps_item_bshell:1010,ps_item_tshell:1011,ps_item_ndice:1012,ps_item_ldice:1013,ps_item_upshell:1014,ps_item_double_damage:1015,ps_item_energy:1016,ps_rank_max:300,ps_act_pos_rang:[1,6],ps_dice_max:20,arena_base:50,arena_rank_max:300,arena_count:0,arena_show_num:5,arena_challenge_cost:{1017:1},arena_challenge_getitem:{1001:3e3,1007:5,1018:10},arena_show_cost:{1001:300},arena_season_days:0,arena_base_point:1e3,arena_nowar_cd:60,arena_log_max:20,elite_sweep_count:6,boxup_skip_cd:{i:1002,n:20,t:7200},time_award_skip_cost:[0,100,200,300],ps_roll_item_once:[1001,1003,1047,1012,1013,1014,1015,1016,1018],ps_roll_item_more:[{i:1001,n:4},{i:1003,n:3},{i:1047,n:3},{i:1018,n:3}],ps_all_clear_item:[1001,1003,1047,1012,1013,1014,1015,1016,1018],ps_act_count:1,open_sbox_cost:{i:1002,n:800},yueka_fundLevel_reward:10640,yueka_fundEbox_reward:18130,gl_rank_max:500,gl_rank_show:10,gl_rank_minlv:1,abyss_dragon_levels:20001,abyss_dragon_rankmax:300,abyss_dragon_rank_showmax:10,battle_x2_open_level:10,battle_skip_open_level:20,battle_skip_open_round:3,hide_task:[6001,6002,6003,6004],aureole_type:[1,2,3,4,5,6],demon_abyss_costitem:{1032:1},demon_abyss_daiy_awards:{1034:10},demon_abyss_daiy_addnum:{levels:10,add:1},demon_abyss_shop:[{1002:50},{1002:100},{1002:200},{1002:300},{1002:400}],demon_abyss_init_levels:50001,mercenary_data:{type:1,itemid:1040},demon_store_halo:[43,44,45,46,47],mercenary_max:20,mercenary_time:30,recharge_gift_rest:0,game_rolename:{i:1039,n:1,l:6},raremst_costitem:{1041:1},raremst_costmoney:{1002:800},raremst_fight_unlock:[0,60,65],el_rank_open:10,da_rank_open:10,wrestle_init_fight:70001,wrestle_change_cost:{1002:20},wrestle_init_item:[{i:4001,n:1},{i:4011,n:1},{i:4021,n:1},{i:4031,n:1},{i:4041,n:1},{i:4051,n:1},{i:4061,n:1},{i:4071,n:1}],schat_save_num:50,schat_last_num:10,dbfresh_cost:{1002:200},arena_base_kf:50,arena_rank_max_kf:300,arena_count_kf:0,arena_show_num_kf:5,arena_challenge_cost_kf:{1043:1},arena_challenge_getitem_kf:{1001:3e3,1038:1},arena_show_cost_kf:{1001:300},arena_season_days_kf:0,arena_base_point_kf:1e3,arena_nowar_cd_kf:60,arena_log_max_kf:20,w_rank_open:99,wrestle_season_days:0,wrestle_pk_costitem:{},chat_cond:{lv:1,totalRecharge:0},var_openWelfare_point:1042,xb_limit_times:[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50],xb_costs:[{1:{1047:1},10:{1047:10}},{1:{1047:5},10:{1047:50}},{1:{1047:10},10:{1047:100}},{1:{1047:15},10:{1047:150}},{1:{1047:20},10:{1047:200}},{1:{1047:25},10:{1047:250}},{1:{1047:30},10:{1047:300}},{1:{1047:35},10:{1047:350}},{1:{1047:40},10:{1047:400}},{1:{1047:50},10:{1047:500}},{1:{1047:60},10:{1047:600}},{1:{1047:65},10:{1047:650}},{1:{1047:70},10:{1047:700}},{1:{1047:75},10:{1047:750}},{1:{1047:80},10:{1047:800}},{1:{1047:85},10:{1047:850}},{1:{1047:90},10:{1047:900}},{1:{1047:95},10:{1047:950}},{1:{1047:100},10:{1047:1e3}},{1:{1047:105},10:{1047:1050}},{1:{1047:110},10:{1047:1100}},{1:{1047:115},10:{1047:1150}},{1:{1047:120},10:{1047:1200}},{1:{1047:125},10:{1047:1250}},{1:{1047:130},10:{1047:1300}},{1:{1047:135},10:{1047:1350}},{1:{1047:140},10:{1047:1400}},{1:{1047:145},10:{1047:1450}},{1:{1047:150},10:{1047:1500}},{1:{1047:155},10:{1047:1550}},{1:{1047:160},10:{1047:1600}},{1:{1047:165},10:{1047:1650}},{1:{1047:170},10:{1047:1700}},{1:{1047:175},10:{1047:1750}},{1:{1047:180},10:{1047:1800}},{1:{1047:185},10:{1047:1850}},{1:{1047:190},10:{1047:1900}},{1:{1047:195},10:{1047:1950}},{1:{1047:200},10:{1047:2e3}},{1:{1047:205},10:{1047:2050}},{1:{1047:210},10:{1047:2100}},{1:{1047:215},10:{1047:2150}},{1:{1047:220},10:{1047:2200}},{1:{1047:225},10:{1047:2250}},{1:{1047:230},10:{1047:2300}},{1:{1047:235},10:{1047:2350}},{1:{1047:240},10:{1047:2400}},{1:{1047:245},10:{1047:2450}},{1:{1047:250},10:{1047:2500}},{1:{1047:255},10:{1047:2550}},{1:{1047:260},10:{1047:2600}},{1:{1047:265},10:{1047:2650}},{1:{1047:270},10:{1047:2700}},{1:{1047:275},10:{1047:2750}},{1:{1047:280},10:{1047:2800}},{1:{1047:285},10:{1047:2850}},{1:{1047:290},10:{1047:2900}},{1:{1047:295},10:{1047:2950}},{1:{1047:300},10:{1047:300}},{1:{1047:305},10:{1047:3050}},{1:{1047:310},10:{1047:3100}},{1:{1047:315},10:{1047:3150}},{1:{1047:320},10:{1047:3200}},{1:{1047:325},10:{1047:3250}},{1:{1047:330},10:{1047:3300}},{1:{1047:335},10:{1047:3350}},{1:{1047:340},10:{1047:3400}},{1:{1047:345},10:{1047:3450}},{1:{1047:350},10:{1047:3500}},{1:{1047:355},10:{1047:3550}},{1:{1047:360},10:{1047:3600}},{1:{1047:365},10:{1047:3650}},{1:{1047:370},10:{1047:3700}},{1:{1047:375},10:{1047:3750}},{1:{1047:380},10:{1047:3800}},{1:{1047:385},10:{1047:3850}},{1:{1047:390},10:{1047:3900}},{1:{1047:395},10:{1047:3950}},{1:{1047:400},10:{1047:4e3}},{1:{1047:405},10:{1047:4050}}],xb_addlv:{1:5,2:5,3:5,4:5,5:6,6:6,7:6,8:6,9:7,10:8},guild_log_num:200,guild_name_length:6,guild_costitem:{1002:50},guild_offline_day:3,guild_await_time:3600,gamelevels_mode:2,ebox_anim_speed:[1,2],gchat_save_num:20,gchat_last_num:10,var_guild_liveness:1044,init_task_level:8001});e._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"6d368btXBRNNLgvj80y6tKs","TableGameDrop",void 0),t("TableGameDrop",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"type",get:function(){return this.data.type}},{key:"drop",get:function(){return this.data.drop}}]),t}()).TableName="GameDrop",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameEBoxLv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,u,i;return{setters:[function(t){e=t.createClass},function(t){u=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){u._RF.push({},"8de6cgOablPK5YwAdzhFo+j","TableGameEBoxLv",void 0),t("TableGameEBoxLv",function(){function t(){this.data=void 0,this.id=0}var u=t.prototype;return u.init=function(e){var u=i.get(t.TableName);return this.data=u[e],this.id=e,this.data?this:null},u.clear=function(){this.data=null},u.valid=function(){return null!=this.data},e(t,[{key:"up_item",get:function(){return this.data.up_item}},{key:"up_price",get:function(){return this.data.up_price}},{key:"up_num",get:function(){return this.data.up_num}},{key:"up_cd",get:function(){return this.data.up_cd}},{key:"spe_count",get:function(){return this.data.spe_count}},{key:"spe_quality",get:function(){return this.data.spe_quality}},{key:"quality_1",get:function(){return this.data.quality_1}},{key:"quality_2",get:function(){return this.data.quality_2}},{key:"quality_3",get:function(){return this.data.quality_3}},{key:"quality_4",get:function(){return this.data.quality_4}},{key:"quality_5",get:function(){return this.data.quality_5}},{key:"quality_6",get:function(){return this.data.quality_6}},{key:"quality_7",get:function(){return this.data.quality_7}},{key:"quality_8",get:function(){return this.data.quality_8}},{key:"quality_9",get:function(){return this.data.quality_9}},{key:"scene_level",get:function(){return this.data.scene_level}}]),t}()).TableName="GameEBoxLv",u._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameEquip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"9fc90USvUpJLIoyhvYr7rHh","TableGameEquip",void 0),t("TableGameEquip",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"level",get:function(){return this.data.level}},{key:"icon",get:function(){return this.data.icon}},{key:"pos",get:function(){return this.data.pos}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"add1",get:function(){return this.data.add1}},{key:"add2",get:function(){return this.data.add2}},{key:"sell",get:function(){return this.data.sell}},{key:"exp",get:function(){return this.data.exp}}]),t}()).TableName="GameEquip",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameEquipAdd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"e21c5VDMepAE40zlP3PqWt0","TableGameEquipAdd",void 0),t("TableGameEquipAdd",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"rolltype",get:function(){return this.data.rolltype}},{key:"attr",get:function(){return this.data.attr}}]),t}()).TableName="GameEquipAdd",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameEquipPos.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){var t;e("GameEquipPosKey",void 0),i._RF.push({},"c8338r4VpFOWoAagKRTHEI5","TableGameEquipPos",void 0),function(e){e[e.weapon=1]="weapon",e[e.cloth=2]="cloth",e[e.hat=3]="hat",e[e.belt=4]="belt",e[e.pants=5]="pants",e[e.shoe=6]="shoe"}(t||(t=e("GameEquipPosKey",{})));e("TableGameEquipPos",{1:{strKey:"weapon",name:"武器",bg:"img_wuqi",iconFmt:"wuqi/"},2:{strKey:"cloth",name:"衣服",bg:"img_yifu",iconFmt:"yifu/"},3:{strKey:"hat",name:"帽子",bg:"img_maozi",iconFmt:"maozi/"},4:{strKey:"belt",name:"戒指",bg:"img_shoutao",iconFmt:"jiezhi/"},5:{strKey:"pants",name:"裤子",bg:"img_kuzi",iconFmt:"kuzi/"},6:{strKey:"shoe",name:"鞋子",bg:"img_xiezi",iconFmt:"xiezi/"}});i._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameEquipPosAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"0ad7ejdHNFIx5pEGmOPsUvm","TableGameEquipPosAttr",void 0),t("TableGameEquipPosAttr",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"cost",get:function(){return this.data.cost}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}}]),t}()).TableName="GameEquipPosAttr",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameEquipPosLv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"3c104PAy2BMBpRIuSFxHSeE","TableGameEquipPosLv",void 0),t("TableGameEquipPosLv",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"weapon",get:function(){return this.data.weapon}},{key:"cloth",get:function(){return this.data.cloth}},{key:"hat",get:function(){return this.data.hat}},{key:"belt",get:function(){return this.data.belt}},{key:"pants",get:function(){return this.data.pants}},{key:"shoe",get:function(){return this.data.shoe}}]),t}()).TableName="GameEquipPosLv",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameEquipQuality.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,a;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){i._RF.push({},"87638KAbgRNDIDh4lKlDO3b","TableGameEquipQuality",void 0),t("TableGameEquipQuality",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=a.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"bg",get:function(){return this.data.bg}},{key:"color",get:function(){return this.data.color}},{key:"datie_times",get:function(){return this.data.datie_times}},{key:"rate",get:function(){return this.data.rate}}]),t}()).TableName="GameEquipQuality",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameHero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"ca8cfFqN5FI860HGGZfuO9k","TableGameHero",void 0),t("TableGameHero",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"lv",get:function(){return this.data.lv}},{key:"name",get:function(){return this.data.name}},{key:"group",get:function(){return this.data.group}},{key:"type",get:function(){return this.data.type}},{key:"nextid",get:function(){return this.data.nextid}},{key:"costexp",get:function(){return this.data.costexp}},{key:"dec",get:function(){return this.data.dec}},{key:"model_id",get:function(){return this.data.model_id}},{key:"skill",get:function(){return this.data.skill}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"costitem",get:function(){return this.data.costitem}}]),t}()).TableName="GameHero",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"51035JLPhZKCZzsyep2e1qN","TableGameItem",void 0),t("TableGameItem",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"icon",get:function(){return this.data.icon}},{key:"level",get:function(){return this.data.level}},{key:"quality",get:function(){return this.data.quality}},{key:"type",get:function(){return this.data.type}},{key:"sell",get:function(){return this.data.sell}},{key:"access",get:function(){return this.data.access}},{key:"dec",get:function(){return this.data.dec}}]),t}()).TableName="GameItem",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameLevels.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"769eeDsdpNOZ7rR+HCUfN8G","TableGameLevels",void 0),t("TableGameLevels",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"nextid",get:function(){return this.data.nextid}},{key:"chapter_id",get:function(){return this.data.chapter_id}},{key:"type",get:function(){return this.data.type}},{key:"name",get:function(){return this.data.name}},{key:"style",get:function(){return this.data.style}},{key:"monster",get:function(){return this.data.monster}},{key:"drop",get:function(){return this.data.drop}},{key:"exp",get:function(){return this.data.exp}},{key:"timedrop1",get:function(){return this.data.timedrop1}},{key:"timedrop2",get:function(){return this.data.timedrop2}},{key:"timedrop3",get:function(){return this.data.timedrop3}},{key:"time_exp",get:function(){return this.data.time_exp}},{key:"need_grade",get:function(){return this.data.need_grade}},{key:"drop2",get:function(){return this.data.drop2}},{key:"drop2get",get:function(){return this.data.drop2get}}]),t}()).TableName="GameLevels",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameLevelSweep.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"1b53fFfna1LBotrYQnR9bG4","TableGameLevelSweep",void 0),t("TableGameLevelSweep",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"drop",get:function(){return this.data.drop}},{key:"costitem_1",get:function(){return this.data.costitem_1}},{key:"costitem_2",get:function(){return this.data.costitem_2}},{key:"costitem_3",get:function(){return this.data.costitem_3}},{key:"costitem_4",get:function(){return this.data.costitem_4}},{key:"costitem_5",get:function(){return this.data.costitem_5}}]),t}()).TableName="GameLevelSweep",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){a._RF.push({},"650f4GUo0ZItJq6U7pdp+cc","TableGameMonster",void 0),t("TableGameMonster",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=n.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"level",get:function(){return this.data.level}},{key:"type",get:function(){return this.data.type}},{key:"model_id",get:function(){return this.data.model_id}},{key:"skills",get:function(){return this.data.skills}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"aktBack_pro",get:function(){return this.data.aktBack_pro}},{key:"douleAtk_pro",get:function(){return this.data.douleAtk_pro}},{key:"miss",get:function(){return this.data.miss}},{key:"criticalAtk_pro",get:function(){return this.data.criticalAtk_pro}},{key:"dec_atkBack_pro",get:function(){return this.data.dec_atkBack_pro}},{key:"dec_doubleAtk_pro",get:function(){return this.data.dec_doubleAtk_pro}},{key:"dec_miss",get:function(){return this.data.dec_miss}},{key:"dec_criticalAtk_pro",get:function(){return this.data.dec_criticalAtk_pro}},{key:"add_damage_rate",get:function(){return this.data.add_damage_rate}},{key:"dec_damage_rate",get:function(){return this.data.dec_damage_rate}},{key:"add_askill_pro",get:function(){return this.data.add_askill_pro}},{key:"add_apskill_pro",get:function(){return this.data.add_apskill_pro}},{key:"add_askill_dam",get:function(){return this.data.add_askill_dam}},{key:"add_apskill_dam",get:function(){return this.data.add_apskill_dam}},{key:"add_hp_per",get:function(){return this.data.add_hp_per}},{key:"xianshi1",get:function(){return this.data.xianshi1}},{key:"xianshi2",get:function(){return this.data.xianshi2}}]),t}()).TableName="GameMonster",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameRobot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"0ee35Olx3JKLbkCD5YuXo3m","TableGameRobot",void 0),t("TableGameRobot",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"lv",get:function(){return this.data.lv}},{key:"name",get:function(){return this.data.name}},{key:"type",get:function(){return this.data.type}},{key:"model_id",get:function(){return this.data.model_id}},{key:"equip",get:function(){return this.data.equip}},{key:"equp",get:function(){return this.data.equp}},{key:"skill",get:function(){return this.data.skill}},{key:"medal",get:function(){return this.data.medal}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"dec",get:function(){return this.data.dec}}]),t}()).TableName="GameRobot",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameRoleIco.ts",["cc","./JsonUtil.ts"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){e._RF.push({},"94a97/SZ2RCaJd6+pzKjmzl","TableGameRoleIco",void 0),t("TableGameRoleIco",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(e){var i=a.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},t}()).TableName="GameRoleIco",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameSBoxLv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,i,e;return{setters:[function(t){a=t.createClass},function(t){i=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){i._RF.push({},"7038fU3t3hLpabuVOgiToxb","TableGameSBoxLv",void 0),t("TableGameSBoxLv",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(a){var i=e.get(t.TableName);return this.data=i[a],this.id=a,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},a(t,[{key:"spe_count",get:function(){return this.data.spe_count}},{key:"spe_quality",get:function(){return this.data.spe_quality}},{key:"count",get:function(){return this.data.count}},{key:"quality_1",get:function(){return this.data.quality_1}},{key:"quality_2",get:function(){return this.data.quality_2}},{key:"quality_3",get:function(){return this.data.quality_3}},{key:"quality_4",get:function(){return this.data.quality_4}},{key:"quality_5",get:function(){return this.data.quality_5}},{key:"quality_6",get:function(){return this.data.quality_6}},{key:"quality_7",get:function(){return this.data.quality_7}},{key:"quality_8",get:function(){return this.data.quality_8}}]),t}()).TableName="GameSBoxLv",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"d843aZQ6lhAlZRDnDrRkhKk","TableGameSkill",void 0),t("TableGameSkill",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"group",get:function(){return this.data.group}},{key:"name",get:function(){return this.data.name}},{key:"icon",get:function(){return this.data.icon}},{key:"efx_by",get:function(){return this.data.efx_by}},{key:"efx_to",get:function(){return this.data.efx_to}},{key:"level",get:function(){return this.data.level}},{key:"quality",get:function(){return this.data.quality}},{key:"type",get:function(){return this.data.type}},{key:"probability",get:function(){return this.data.probability}},{key:"buff",get:function(){return this.data.buff}},{key:"cost",get:function(){return this.data.cost}},{key:"nextId",get:function(){return this.data.nextId}},{key:"dec",get:function(){return this.data.dec}},{key:"show_type",get:function(){return this.data.show_type}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}}]),t}()).TableName="GameSkill",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameSkillQuality.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,a;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){i._RF.push({},"4e7aeDwRGFOQpAGprFybnd6","TableGameSkillQuality",void 0),t("TableGameSkillQuality",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=a.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"bg",get:function(){return this.data.bg}},{key:"color",get:function(){return this.data.color}}]),t}()).TableName="GameSkillQuality",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableGameSys.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){var _;e("GameSysKey",void 0),r._RF.push({},"14915t4ZyxLfY1CnEpK+ryI","TableGameSys",void 0),function(e){e[e.home=1]="home",e[e.dock=2]="dock",e[e.gamelevels=1001]="gamelevels",e[e.equip=1002]="equip",e[e.skill=1003]="skill",e[e.box=1004]="box",e[e.fuben=1005]="fuben",e[e.timeaward=1006]="timeaward",e[e.elitelevels=1007]="elitelevels",e[e.task_main=1008]="task_main",e[e.task_daily=1009]="task_daily",e[e.welfare=1010]="welfare",e[e.welfare_daily=1011]="welfare_daily",e[e.welfare_level=1012]="welfare_level",e[e.welfare_paid_days=1013]="welfare_paid_days",e[e.recharge_month_card=1014]="recharge_month_card",e[e.recharge_level_fund=1015]="recharge_level_fund",e[e.recharge_ebox_fund=1016]="recharge_ebox_fund",e[e.diamond_shop=1017]="diamond_shop",e[e.daily_welfare=1018]="daily_welfare",e[e.recharge_daily_award=1019]="recharge_daily_award",e[e.pirateShip=1020]="pirateShip",e[e.medal=1021]="medal",e[e.arena=1022]="arena",e[e.setting=1023]="setting",e[e.setCodeGift=1024]="setCodeGift",e[e.setServer=1025]="setServer",e[e.setNotice=1026]="setNotice",e[e.yueka=1027]="yueka",e[e.store=1028]="store",e[e.GM=1029]="GM",e[e.email=1030]="email",e[e.first_recharge=1031]="first_recharge",e[e.rank_level=1032]="rank_level",e[e.recharge_gift=1033]="recharge_gift",e[e.gift_pack_limit_time=1034]="gift_pack_limit_time",e[e.abyss_dragon=1035]="abyss_dragon",e[e.eat_fruit=1036]="eat_fruit",e[e.upgrade=1037]="upgrade",e[e.aureole=1038]="aureole",e[e.demon_abyss=1039]="demon_abyss",e[e.mercenary=1040]="mercenary",e[e.recharge_forever_card=1041]="recharge_forever_card",e[e.raremonster=1042]="raremonster",e[e.wrestle=1043]="wrestle",e[e.gift_pack_super_value=1050]="gift_pack_super_value",e[e.bazzar=1055]="bazzar",e[e.gameRank=1056]="gameRank",e[e.journey=1057]="journey",e[e.chat=1058]="chat",e[e.arenaKF=1059]="arenaKF",e[e.title=1060]="title",e[e.change=1061]="change",e[e.closet=1062]="closet",e[e.open_server_welfare=1063]="open_server_welfare",e[e.guild=1064]="guild",e[e.xunbao=1065]="xunbao",e[e.cq=1066]="cq",e[e.guild_task=1067]="guild_task",e[e.guide=1070]="guide",e[e.box_skill=2001]="box_skill",e[e.equip_hero=2002]="equip_hero",e[e.equip_pos=2003]="equip_pos",e[e.equip_shiguo=2004]="equip_shiguo",e[e.box_equip_up=2010]="box_equip_up",e[e.box_equip_auto=2011]="box_equip_auto",e[e.pirateShip_dice=2020]="pirateShip_dice",e[e.pirateShip_ship_award=2021]="pirateShip_ship_award",e[e.pirateShip_fire_up=2022]="pirateShip_fire_up",e[e.pirateShip_ship_award_daily=2023]="pirateShip_ship_award_daily",e[e.recharge_level_fund_daily=2030]="recharge_level_fund_daily",e[e.recharge_ebox_fund_daily=2031]="recharge_ebox_fund_daily",e[e.gift_pack_super_value_dz=2051]="gift_pack_super_value_dz",e[e.gift_pack_super_value_qh=2052]="gift_pack_super_value_qh",e[e.gift_pack_super_value_gh=2053]="gift_pack_super_value_gh",e[e.gift_pack_super_value_em=2054]="gift_pack_super_value_em",e[e.gift_pack_super_value_zx=2055]="gift_pack_super_value_zx"}(_||(_=e("GameSysKey",{})));e("TableGameSys",{1:{strKey:"home",name:"主界面",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2:{strKey:"dock",name:"底栏",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1001:{strKey:"gamelevels",name:"关卡",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1002:{strKey:"equip",name:"装备",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:2,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1003:{strKey:"skill",name:"技能",open_rolelevel:1,server_opendays:1,need_task:1052,guild:0,parent_id:2,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:7,drop:[5907],desc:"任意搭配技能，超多流派等待解锁"},1004:{strKey:"box",name:"宝箱",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:2,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1005:{strKey:"fuben",name:"副本",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:2,drop:[5902],desc:"超多玩法，丰厚奖励"},1006:{strKey:"timeaward",name:"挂机",open_rolelevel:2,server_opendays:1,need_task:0,guild:0,parent_id:1001,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1007:{strKey:"elitelevels",name:"精英挑战",open_rolelevel:1,server_opendays:1,need_task:1042,guild:0,parent_id:1005,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:5,drop:[5905],desc:"层数越高，奖励越好。等待解锁"},1008:{strKey:"task_main",name:"主线任务",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1009:{strKey:"task_daily",name:"每日任务",open_rolelevel:55,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1010:{strKey:"welfare",name:"福利",open_rolelevel:10,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1011:{strKey:"welfare_daily",name:"每日有礼",open_rolelevel:10,server_opendays:1,need_task:0,guild:0,parent_id:1010,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1012:{strKey:"welfare_level",name:"等级奖励",open_rolelevel:10,server_opendays:1,need_task:0,guild:0,parent_id:1010,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1013:{strKey:"welfare_paid_days",name:"积天豪礼",open_rolelevel:10,server_opendays:1,need_task:0,guild:0,parent_id:1010,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1014:{strKey:"recharge_month_card",name:"月卡基金",open_rolelevel:15,server_opendays:1,need_task:0,guild:0,parent_id:1027,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1015:{strKey:"recharge_level_fund",name:"等级基金",open_rolelevel:15,server_opendays:1,need_task:0,guild:0,parent_id:1027,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1016:{strKey:"recharge_ebox_fund",name:"锻造基金",open_rolelevel:15,server_opendays:1,need_task:0,guild:0,parent_id:1027,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1017:{strKey:"diamond_shop",name:"钻石商城",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1028,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1018:{strKey:"daily_welfare",name:"每日福利",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1028,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1019:{strKey:"recharge_daily_award",name:"每日礼包",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1028,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1020:{strKey:"pirateShip",name:"夺宝大作战",open_rolelevel:1,server_opendays:1,need_task:1030,guild:0,parent_id:1005,act_time:"0010-2400",is_open:1,close_serverday:0,is_licheng:1,licheng_order:9,drop:[5909],desc:"摇动手中骰子，击沉海盗船解锁豪华奖励"},1021:{strKey:"medal",name:"勋章制作",open_rolelevel:1,server_opendays:1,need_task:1012,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:4,drop:[5904],desc:"提升勋章等阶，全身属性增幅"},1022:{strKey:"arena",name:"竞技场",open_rolelevel:25,server_opendays:1,need_task:0,guild:0,parent_id:1005,act_time:"0010-2400",is_open:1,close_serverday:0,is_licheng:1,licheng_order:3,drop:[5903],desc:"击败登顶路上的每个对手，拿巅峰奖励"},1023:{strKey:"setting",name:"设置",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1024:{strKey:"setCodeGift",name:"兑换码",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1023,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1025:{strKey:"setServer",name:"选服",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1023,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1026:{strKey:"setNotice",name:"公告",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1023,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1027:{strKey:"yueka",name:"月卡",open_rolelevel:15,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1028:{strKey:"store",name:"商城",open_rolelevel:15,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1029:{strKey:"GM",name:"GM命令",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1023,is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1030:{strKey:"email",name:"邮件",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1031:{strKey:"first_recharge",name:"首充",open_rolelevel:5,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1032:{strKey:"rank_level",name:"关卡排行榜",open_rolelevel:2,server_opendays:1,need_task:0,guild:0,parent_id:1001,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1033:{strKey:"recharge_gift",name:"累充礼包",open_rolelevel:10,server_opendays:1,need_task:0,guild:0,parent_id:1010,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1034:{strKey:"gift_pack_limit_time",name:"限时礼包",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1035:{strKey:"abyss_dragon",name:"深渊巨龙",open_rolelevel:65,server_opendays:1,need_task:0,guild:0,parent_id:1005,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:12,drop:[5913],desc:"攻击伤害越高，奖励越好"},1036:{strKey:"eat_fruit",name:"食果",open_rolelevel:1,server_opendays:1,need_task:1064,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:11,drop:[5912],desc:"食用专属属性果实，可增幅对应强力属性"},1037:{strKey:"upgrade",name:"佣兵进阶",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1038:{strKey:"aureole",name:"光环",open_rolelevel:1,server_opendays:1,need_task:1071,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:10,drop:[5911],desc:"解锁不同光环，可获得专属特殊属性"},1039:{strKey:"demon_abyss",name:"魔渊",open_rolelevel:40,server_opendays:1,need_task:0,guild:0,parent_id:1005,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:9,drop:[5910],desc:"拿出最强实力，挑战最高奖励"},1040:{strKey:"mercenary",name:"佣兵",open_rolelevel:1,server_opendays:1,need_task:1059,guild:0,parent_id:1005,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:1,drop:[5901],desc:"解锁佣兵伙伴，闯荡寻宝"},1041:{strKey:"recharge_forever_card",name:"终身卡基金",open_rolelevel:15,server_opendays:1,need_task:0,guild:0,parent_id:1027,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1042:{strKey:"raremonster",name:"异兽",open_rolelevel:1,server_opendays:1,need_task:1078,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:13,drop:[5914],desc:"捕获奇珍异兽，解锁全新技能"},1043:{strKey:"wrestle",name:"王者争霸",open_rolelevel:80,server_opendays:1,need_task:0,guild:0,parent_id:1005,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1050:{strKey:"gift_pack_super_value",name:"超值礼包",open_rolelevel:60,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1055:{strKey:"bazzar",name:"集市",open_rolelevel:45,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1056:{strKey:"gameRank",name:"排行榜",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1057:{strKey:"journey",name:"历程",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1058:{strKey:"chat",name:"聊天",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1059:{strKey:"arenaKF",name:"巅峰竞技场",open_rolelevel:1,server_opendays:3,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:14,drop:[5915],desc:"跨服多人竞技，华丽称号奖励"},1060:{strKey:"title",name:"称号",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1061:{strKey:"change",name:"换装",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1062:{strKey:"closet",name:"衣橱",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1002,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1063:{strKey:"open_server_welfare",name:"开服福利",open_rolelevel:20,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:7,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1064:{strKey:"guild",name:"公会",open_rolelevel:45,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1065:{strKey:"xunbao",name:"寻宝",open_rolelevel:15,server_opendays:2,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1066:{strKey:"cq",name:"猜拳",open_rolelevel:9999,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:0,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1067:{strKey:"guild_task",name:"公会任务",open_rolelevel:45,server_opendays:1,need_task:0,guild:1,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},1070:{strKey:"guide",name:"新手引导",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2001:{strKey:"box_skill",name:"宝箱-技能宝箱",open_rolelevel:1,server_opendays:1,need_task:1054,guild:0,parent_id:1003,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:8,drop:[5908],desc:"开启宝箱，可随机获得英雄技能"},2002:{strKey:"equip_hero",name:"装备-升级英雄",open_rolelevel:1,server_opendays:1,need_task:1020,guild:0,parent_id:1002,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2003:{strKey:"equip_pos",name:"装备-部位强化",open_rolelevel:1,server_opendays:1,need_task:1021,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:1,licheng_order:6,drop:[5906],desc:"强化英雄部位，提升全身属性"},2004:{strKey:"equip_shiguo",name:"装备-食果",open_rolelevel:45,server_opendays:1,need_task:0,guild:0,parent_id:1002,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2010:{strKey:"box_equip_up",name:"打铁-升级",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2011:{strKey:"box_equip_auto",name:"打铁-自动",open_rolelevel:20,server_opendays:1,need_task:0,guild:0,parent_id:1004,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2020:{strKey:"pirateShip_dice",name:"夺宝-骰子",open_rolelevel:1,server_opendays:1,need_task:1030,guild:0,parent_id:1020,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2021:{strKey:"pirateShip_ship_award",name:"夺宝-奖励",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1020,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2022:{strKey:"pirateShip_fire_up",name:"夺宝-升级",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1020,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2023:{strKey:"pirateShip_ship_award_daily",name:"夺宝-奖励-每日",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:2021,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2030:{strKey:"recharge_level_fund_daily",name:"等级基金-每日",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1015,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2031:{strKey:"recharge_ebox_fund_daily",name:"锻造基金-每日",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1016,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2051:{strKey:"gift_pack_super_value_dz",name:"超值礼包-锻造",open_rolelevel:1,server_opendays:1,need_task:0,guild:0,parent_id:1050,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2052:{strKey:"gift_pack_super_value_qh",name:"超值礼包-强化",open_rolelevel:30,server_opendays:1,need_task:0,guild:0,parent_id:1050,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2053:{strKey:"gift_pack_super_value_gh",name:"超值礼包-光环",open_rolelevel:40,server_opendays:1,need_task:0,guild:0,parent_id:1050,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2054:{strKey:"gift_pack_super_value_em",name:"超值礼包-恶魔",open_rolelevel:100,server_opendays:1,need_task:0,guild:0,parent_id:1050,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"},2055:{strKey:"gift_pack_super_value_zx",name:"超值礼包-自选",open_rolelevel:45,server_opendays:1,need_task:0,guild:0,parent_id:1050,act_time:"0",is_open:1,close_serverday:0,is_licheng:0,licheng_order:0,drop:[],desc:"功能描述"}});r._RF.pop()}}}));

System.register("chunks:///_virtual/TableGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"efc030c32lBBJVsTQbplknr","TableGuide",void 0),t("TableGuide",function(){function t(){this.data=void 0,this.ty=0,this.step=0}var n=t.prototype;return n.init=function(e,n){var a=i.get(t.TableName);return this.data=a[e][n],this.ty=e,this.step=n,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"modelId",get:function(){return this.data.modelId}},{key:"side",get:function(){return this.data.side}},{key:"talk",get:function(){return this.data.talk}},{key:"enableSkip",get:function(){return this.data.enableSkip}},{key:"target",get:function(){return this.data.target}}]),t}()).TableName="Guide",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableGuildLv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"d8193T3FypIRpQMdIDqCFcX","TableGuildLv",void 0),t("TableGuildLv",function(){function t(){this.data=void 0,this.lv=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.lv=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"limit",get:function(){return this.data.limit}},{key:"needexp",get:function(){return this.data.needexp}}]),t}()).TableName="GuildLv",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableGuildTaskAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var i,n,a;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"e2d43DIR9NGh46stnf2Nyze","TableGuildTaskAward",void 0),t("TableGuildTaskAward",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(i){var n=a.get(t.TableName);return this.data=n[i],this.id=i,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},i(t,[{key:"point",get:function(){return this.data.point}},{key:"drop",get:function(){return this.data.drop}}]),t}()).TableName="GuildTaskAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableHelp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"86076LunqxHrYeovwHRbbDt","TableHelp",void 0),t("TableHelp",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"btn_type",get:function(){return this.data.btn_type}},{key:"title",get:function(){return this.data.title}},{key:"content",get:function(){return this.data.content}}]),t}()).TableName="Help",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableMedalUplevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"18305B7SdpOAqvqc6awKLee","TableMedalUplevel",void 0),t("TableMedalUplevel",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"rank",get:function(){return this.data.rank}},{key:"lv",get:function(){return this.data.lv}},{key:"nextid",get:function(){return this.data.nextid}},{key:"costitem",get:function(){return this.data.costitem}},{key:"baseexp",get:function(){return this.data.baseexp}},{key:"critexp",get:function(){return this.data.critexp}},{key:"critprob",get:function(){return this.data.critprob}},{key:"costexp",get:function(){return this.data.costexp}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"dec_atkBack_pro",get:function(){return this.data.dec_atkBack_pro}},{key:"dec_doubleAtk_pro",get:function(){return this.data.dec_doubleAtk_pro}},{key:"dec_miss",get:function(){return this.data.dec_miss}},{key:"dec_criticalAtk_pro",get:function(){return this.data.dec_criticalAtk_pro}},{key:"desc",get:function(){return this.data.desc}}]),t}()).TableName="MedalUplevel",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableMercenaryAct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"f7b27h8HOhBx4jb2KT+OBuk","TableMercenaryAct",void 0),t("TableMercenaryAct",function(){function t(){this.data=void 0,this.type=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.type=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"id",get:function(){return this.data.id}},{key:"fid",get:function(){return this.data.fid}},{key:"boxlv",get:function(){return this.data.boxlv}},{key:"shipnum",get:function(){return this.data.shipnum}},{key:"arena_winnum",get:function(){return this.data.arena_winnum}},{key:"elitelv",get:function(){return this.data.elitelv}},{key:"damage",get:function(){return this.data.damage}},{key:"shuoming",get:function(){return this.data.shuoming}}]),t}()).TableName="MercenaryAct",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableMercenaryFight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"fcd06GfONxMz4vof9Qv3zsK","TableMercenaryFight",void 0),t("TableMercenaryFight",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"mlv",get:function(){return this.data.mlv}},{key:"rlv",get:function(){return this.data.rlv}},{key:"type",get:function(){return this.data.type}}]),t}()).TableName="MercenaryFight",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableMercenaryGo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"9e686jm7Q1Hoa6ulWcXzBLr","TableMercenaryGo",void 0),t("TableMercenaryGo",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"drop",get:function(){return this.data.drop}},{key:"prob",get:function(){return this.data.prob}}]),t}()).TableName="MercenaryGo",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableMercenaryLV.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){a._RF.push({},"0576e2vasdF0p2cF3bQ8Pfr","TableMercenaryLV",void 0),t("TableMercenaryLV",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=n.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"nextid",get:function(){return this.data.nextid}},{key:"name",get:function(){return this.data.name}},{key:"type",get:function(){return this.data.type}},{key:"lv",get:function(){return this.data.lv}},{key:"exp",get:function(){return this.data.exp}},{key:"cost",get:function(){return this.data.cost}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"aktBack_pro",get:function(){return this.data.aktBack_pro}},{key:"dec_atkBack_pro",get:function(){return this.data.dec_atkBack_pro}},{key:"douleAtk_pro",get:function(){return this.data.douleAtk_pro}},{key:"dec_doubleAtk_pro",get:function(){return this.data.dec_doubleAtk_pro}},{key:"miss",get:function(){return this.data.miss}},{key:"dec_miss",get:function(){return this.data.dec_miss}},{key:"criticalAtk_pro",get:function(){return this.data.criticalAtk_pro}},{key:"dec_criticalAtk_pro",get:function(){return this.data.dec_criticalAtk_pro}},{key:"add_askill_dam",get:function(){return this.data.add_askill_dam}},{key:"add_apskill_dam",get:function(){return this.data.add_apskill_dam}},{key:"add_damage_rate",get:function(){return this.data.add_damage_rate}},{key:"dec_damage_rate",get:function(){return this.data.dec_damage_rate}},{key:"xianshi",get:function(){return this.data.xianshi}},{key:"shuxing",get:function(){return this.data.shuxing}}]),t}()).TableName="MercenaryLV",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableModelConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){a._RF.push({},"c1ec5m4bIZEF7O2sHGDfodA","TableModelConfig",void 0),t("TableModelConfig",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=n.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"model",get:function(){return this.data.model}},{key:"model_type",get:function(){return this.data.model_type}},{key:"head",get:function(){return this.data.head}},{key:"model_scale",get:function(){return this.data.model_scale}},{key:"ui_model_scale",get:function(){return this.data.ui_model_scale}},{key:"move_attack",get:function(){return this.data.move_attack}},{key:"attack_efx",get:function(){return this.data.attack_efx}},{key:"attack_delay",get:function(){return this.data.attack_delay}},{key:"use_delay",get:function(){return this.data.use_delay}},{key:"run_anim_factor",get:function(){return this.data.run_anim_factor}},{key:"blood_bar_h",get:function(){return this.data.blood_bar_h}},{key:"attack_bullet",get:function(){return this.data.attack_bullet}},{key:"armature",get:function(){return this.data.armature}},{key:"anim_skill",get:function(){return this.data.anim_skill}},{key:"flip",get:function(){return this.data.flip}},{key:"offset",get:function(){return this.data.offset}}]),t}()).TableName="ModelConfig",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableOpenBoxAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var n,e,i;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){e._RF.push({},"8fbc0vxX8tEDKll2Q9yyCxs","TableOpenBoxAttr",void 0),t("TableOpenBoxAttr",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(n){var e=i.get(t.TableName);return this.data=e[n],this.id=n,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},n(t,[{key:"type",get:function(){return this.data.type}},{key:"numid",get:function(){return this.data.numid}},{key:"name",get:function(){return this.data.name}}]),t}()).TableName="OpenBoxAttr",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableOpenWelfareAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"27c71LYEGBEY72GZX5D+PFB","TableOpenWelfareAward",void 0),t("TableOpenWelfareAward",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"cost",get:function(){return this.data.cost}},{key:"drop",get:function(){return this.data.drop}}]),t}()).TableName="OpenWelfareAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TablePirateShip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var i,e,a;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){e._RF.push({},"a4b8fqfe0hP66l3GFNO2ph6","TablePirateShip",void 0),t("TablePirateShip",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(i){var e=a.get(t.TableName);return this.data=e[i],this.id=i,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},i(t,[{key:"hp",get:function(){return this.data.hp}},{key:"award",get:function(){return this.data.award}},{key:"quality",get:function(){return this.data.quality}},{key:"weight",get:function(){return this.data.weight}}]),t}()).TableName="PirateShip",e._RF.pop()}}}));

System.register("chunks:///_virtual/TablePirateShipCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"dd39anlBQ5P9aeyITjZ+8I3","TablePirateShipCell",void 0),t("TablePirateShipCell",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"itemtype",get:function(){return this.data.itemtype}}]),t}()).TableName="PirateShipCell",i._RF.pop()}}}));

System.register("chunks:///_virtual/TablePirateShipDailyRank.ts",["cc"],(function(i){"use strict";var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){n._RF.push({},"51999oo/YFIRrgOSFNBkNUS","TablePirateShipDailyRank",void 0);i("TablePirateShipDailyRank",{1:{min:1,max:1,award:[{i:1013,n:10},{i:1001,n:3e4},{i:1004,n:50}]},2:{min:2,max:2,award:[{i:1013,n:8},{i:1001,n:25e3},{i:1004,n:30}]},3:{min:3,max:3,award:[{i:1013,n:6},{i:1001,n:2e4},{i:1004,n:20}]},4:{min:4,max:4,award:[{i:1013,n:5},{i:1001,n:15e3},{i:1004,n:10}]},5:{min:5,max:5,award:[{i:1013,n:4},{i:1001,n:1e4},{i:1004,n:10}]},6:{min:6,max:10,award:[{i:1013,n:3},{i:1001,n:8e3},{i:1004,n:10}]},7:{min:11,max:50,award:[{i:1013,n:2},{i:1001,n:5e3},{i:1004,n:10}]},8:{min:51,max:300,award:[{i:1013,n:1},{i:1001,n:3e3},{i:1004,n:10}]},9:{min:301,max:9999,award:[{i:1013,n:1},{i:1001,n:2e3},{i:1004,n:10}]}});n._RF.pop()}}}));

System.register("chunks:///_virtual/TablePirateShipItems.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"0aaf6yV1x9C87kbByfpmYKE","TablePirateShipItems",void 0),t("TablePirateShipItems",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"desc",get:function(){return this.data.desc}}]),t}()).TableName="PirateShipItems",i._RF.pop()}}}));

System.register("chunks:///_virtual/TablePirateShipSeasonRank.ts",["cc"],(function(a){"use strict";var i;return{setters:[function(a){i=a.cclegacy}],execute:function(){i._RF.push({},"b3d0bSg47ZKColCueil/3Dq","TablePirateShipSeasonRank",void 0);a("TablePirateShipSeasonRank",{1:{min:1,max:1,award:[{i:1004,n:40},{i:1002,n:1500}]},2:{min:2,max:2,award:[{i:1004,n:30},{i:1002,n:1e3}]},3:{min:3,max:3,award:[{i:1004,n:25},{i:1002,n:800}]},4:{min:4,max:4,award:[{i:1004,n:20},{i:1002,n:500}]},5:{min:5,max:5,award:[{i:1004,n:15},{i:1002,n:400}]},6:{min:6,max:10,award:[{i:1004,n:15},{i:1002,n:300}]},7:{min:11,max:50,award:[{i:1004,n:10},{i:1002,n:200}]},8:{min:51,max:300,award:[{i:1004,n:10},{i:1002,n:100}]},9:{min:301,max:9999,award:[{i:1004,n:5},{i:1002,n:50}]}});i._RF.pop()}}}));

System.register("chunks:///_virtual/TablePirateShipShell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"4b3e1DRCT5HioSek9HjdwVw","TablePirateShipShell",void 0),t("TablePirateShipShell",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"type",get:function(){return this.data.type}},{key:"lv",get:function(){return this.data.lv}},{key:"cost",get:function(){return this.data.cost}},{key:"damage",get:function(){return this.data.damage}},{key:"dot",get:function(){return this.data.dot}},{key:"over",get:function(){return this.data.over}},{key:"time",get:function(){return this.data.time}}]),t}()).TableName="PirateShipShell",i._RF.pop()}}}));

System.register("chunks:///_virtual/TablePirateShipWelfare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,a;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){i._RF.push({},"9f81dRBaKFDFbE1Mgy9PBs9","TablePirateShipWelfare",void 0),t("TablePirateShipWelfare",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=a.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"drop1",get:function(){return this.data.drop1}},{key:"drop2",get:function(){return this.data.drop2}}]),t}()).TableName="PirateShipWelfare",i._RF.pop()}}}));

System.register("chunks:///_virtual/TablePrivilegeConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"e4dbe8Mh7dH1a7YfuCJ1lb/","TablePrivilegeConfig",void 0),t("TablePrivilegeConfig",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"type",get:function(){return this.data.type}},{key:"systemid",get:function(){return this.data.systemid}},{key:"param",get:function(){return this.data.param}},{key:"val",get:function(){return this.data.val}},{key:"dec",get:function(){return this.data.dec}}]),t}()).TableName="PrivilegeConfig",i._RF.pop()}}}));

System.register("chunks:///_virtual/TablePrivilegeType.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var i;e("PrivilegeTypeKey",void 0),t._RF.push({},"841ddHP5S1Bkrun+PU6MElH","TablePrivilegeType",void 0),function(e){e[e.free_advertising=1]="free_advertising",e[e.shop_add_daily_num=2]="shop_add_daily_num",e[e.timeaward_quickcount=3]="timeaward_quickcount",e[e.add_item_bonus=4]="add_item_bonus",e[e.add_exp_bonus=5]="add_exp_bonus",e[e.add_item=6]="add_item",e[e.add_medal_exp=7]="add_medal_exp",e[e.quick_fight=8]="quick_fight",e[e.quick_ebox=9]="quick_ebox"}(i||(i=e("PrivilegeTypeKey",{})));e("TablePrivilegeType",{1:{strKey:"free_advertising",name:"免广告",cptype:1},2:{strKey:"shop_add_daily_num",name:"添加商城每日购买上限",cptype:0},3:{strKey:"timeaward_quickcount",name:"每日快速挂机次数",cptype:0},4:{strKey:"add_item_bonus",name:"道具加成",cptype:0},5:{strKey:"add_exp_bonus",name:"经验加成",cptype:0},6:{strKey:"add_item",name:"获得道具",cptype:0},7:{strKey:"add_medal_exp",name:"获得勋章经验",cptype:0},8:{strKey:"quick_fight",name:"跳过战斗",cptype:1},9:{strKey:"quick_ebox",name:"加速锻造",cptype:1}});t._RF.pop()}}}));

System.register("chunks:///_virtual/TableRankAwardGL.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,n,e;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){n._RF.push({},"e6b94ZbfZdIjrKa6gsGmtpw","TableRankAwardGL",void 0),t("TableRankAwardGL",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(a){var n=e.get(t.TableName);return this.data=n[a],this.id=a,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},a(t,[{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"award",get:function(){return this.data.award}}]),t}()).TableName="RankAwardGL",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableRankAwards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var n,a,e;return{setters:[function(t){n=t.createClass},function(t){a=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){a._RF.push({},"9d125XyHNhO7KMZItWiVUBR","TableRankAwards",void 0),t("TableRankAwards",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(n){var a=e.get(t.TableName);return this.data=a[n],this.id=n,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},n(t,[{key:"type",get:function(){return this.data.type}},{key:"min",get:function(){return this.data.min}},{key:"max",get:function(){return this.data.max}},{key:"award",get:function(){return this.data.award}}]),t}()).TableName="RankAwards",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableRareMonster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){a._RF.push({},"59ae5SwZM1N4JzfeTjoiSMT","TableRareMonster",void 0),t("TableRareMonster",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=n.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"lv",get:function(){return this.data.lv}},{key:"name",get:function(){return this.data.name}},{key:"group",get:function(){return this.data.group}},{key:"nextid",get:function(){return this.data.nextid}},{key:"costitem",get:function(){return this.data.costitem}},{key:"icon",get:function(){return this.data.icon}},{key:"skill",get:function(){return this.data.skill}},{key:"resid",get:function(){return this.data.resid}},{key:"anim_idle",get:function(){return this.data.anim_idle}},{key:"quality",get:function(){return this.data.quality}},{key:"hp_rate",get:function(){return this.data.hp_rate}},{key:"atk_rate",get:function(){return this.data.atk_rate}},{key:"def_rate",get:function(){return this.data.def_rate}},{key:"aktBack_pro",get:function(){return this.data.aktBack_pro}},{key:"dec_atkBack_pro",get:function(){return this.data.dec_atkBack_pro}},{key:"douleAtk_pro",get:function(){return this.data.douleAtk_pro}},{key:"dec_doubleAtk_pro",get:function(){return this.data.dec_doubleAtk_pro}},{key:"miss",get:function(){return this.data.miss}},{key:"dec_miss",get:function(){return this.data.dec_miss}},{key:"criticalAtk_pro",get:function(){return this.data.criticalAtk_pro}},{key:"dec_criticalAtk_pro",get:function(){return this.data.dec_criticalAtk_pro}},{key:"add_criticalDamage",get:function(){return this.data.add_criticalDamage}},{key:"dec_criticalDamage",get:function(){return this.data.dec_criticalDamage}},{key:"add_damage_rate",get:function(){return this.data.add_damage_rate}},{key:"dec_damage_rate",get:function(){return this.data.dec_damage_rate}},{key:"add_askill_dam",get:function(){return this.data.add_askill_dam}},{key:"add_apskill_dam",get:function(){return this.data.add_apskill_dam}},{key:"add_hp_per",get:function(){return this.data.add_hp_per}},{key:"atkspeed",get:function(){return this.data.atkspeed}}]),t}()).TableName="RareMonster",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableRareMonsterPark.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"f85a42+I3JHgaIlBNIOTCor","TableRareMonsterPark",void 0),t("TableRareMonsterPark",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"weight",get:function(){return this.data.weight}},{key:"num",get:function(){return this.data.num}},{key:"maxCount",get:function(){return this.data.maxCount}},{key:"quality",get:function(){return this.data.quality}},{key:"type",get:function(){return this.data.type}}]),t}()).TableName="RareMonsterPark",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableRareMonsterSuit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){a._RF.push({},"1bf8dIiF39A8J49Gi5ual5L","TableRareMonsterSuit",void 0),t("TableRareMonsterSuit",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=n.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"mid",get:function(){return this.data.mid}},{key:"group",get:function(){return this.data.group}},{key:"level",get:function(){return this.data.level}},{key:"name",get:function(){return this.data.name}},{key:"hp_rate",get:function(){return this.data.hp_rate}},{key:"atk_rate",get:function(){return this.data.atk_rate}},{key:"def_rate",get:function(){return this.data.def_rate}},{key:"aktBack_pro",get:function(){return this.data.aktBack_pro}},{key:"douleAtk_pro",get:function(){return this.data.douleAtk_pro}},{key:"miss",get:function(){return this.data.miss}},{key:"criticalAtk_pro",get:function(){return this.data.criticalAtk_pro}},{key:"add_damage_rate",get:function(){return this.data.add_damage_rate}}]),t}()).TableName="RareMonsterSuit",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableRechargeGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"9a6f1r3RrpAm6NTWsGxjnI0","TableRechargeGift",void 0),t("TableRechargeGift",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"drop1",get:function(){return this.data.drop1}}]),t}()).TableName="RechargeGift",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableRobotHero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"46ea9hGDwNBB4VJ2emmGGSw","TableRobotHero",void 0),t("TableRobotHero",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"heroid",get:function(){return this.data.heroid}},{key:"equip",get:function(){return this.data.equip}},{key:"poslv",get:function(){return this.data.poslv}},{key:"skill",get:function(){return this.data.skill}},{key:"dec",get:function(){return this.data.dec}}]),t}()).TableName="RobotHero",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableRobotRole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"fd056rIOxFK9IpKC7FsHyBy","TableRobotRole",void 0),t("TableRobotRole",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"icon",get:function(){return this.data.icon}},{key:"lv",get:function(){return this.data.lv}},{key:"fight",get:function(){return this.data.fight}},{key:"robot",get:function(){return this.data.robot}},{key:"medal",get:function(){return this.data.medal}},{key:"dec",get:function(){return this.data.dec}}]),t}()).TableName="RobotRole",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableRoleName.ts",["cc","./JsonUtil.ts"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){e._RF.push({},"5fff1iUH6NNSa9z6nSSY6yL","TableRoleName",void 0),t("TableRoleName",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},t}()).TableName="RoleName",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableRoleUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"9a4070k71VAKoq/gztuMq3+","TableRoleUpgrade",void 0),t("TableRoleUpgrade",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"open",get:function(){return this.data.open}},{key:"glid",get:function(){return this.data.glid}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"task",get:function(){return this.data.task}},{key:"desc",get:function(){return this.data.desc}},{key:"spRes",get:function(){return this.data.spRes}},{key:"maxLevel",get:function(){return this.data.maxLevel}}]),t}()).TableName="RoleUpgrade",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){i._RF.push({},"1dd56ImqptDr5nKYkqTd1Hb","TableShop",void 0),t("TableShop",function(){function t(){this.data=void 0,this.id=0}var i=t.prototype;return i.init=function(e){var i=n.get(t.TableName);return this.data=i[e],this.id=e,this.data?this:null},i.clear=function(){this.data=null},i.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"showtype",get:function(){return this.data.showtype}},{key:"paytype",get:function(){return this.data.paytype}},{key:"price",get:function(){return this.data.price}},{key:"cost",get:function(){return this.data.cost}},{key:"free",get:function(){return this.data.free}},{key:"adverts",get:function(){return this.data.adverts}},{key:"timelimit",get:function(){return this.data.timelimit}},{key:"dailylimit",get:function(){return this.data.dailylimit}},{key:"alwayslimit",get:function(){return this.data.alwayslimit}},{key:"double",get:function(){return this.data.double}},{key:"drop",get:function(){return this.data.drop}},{key:"exp",get:function(){return this.data.exp}},{key:"addstatus",get:function(){return this.data.addstatus}},{key:"systemid",get:function(){return this.data.systemid}},{key:"coststatus",get:function(){return this.data.coststatus}},{key:"hidetime",get:function(){return this.data.hidetime}},{key:"hidebuynum",get:function(){return this.data.hidebuynum}},{key:"enable",get:function(){return this.data.enable}},{key:"showPrice",get:function(){return this.data.showPrice}},{key:"diyshop",get:function(){return this.data.diyshop}}]),t}()).TableName="Shop",i._RF.pop()}}}));

System.register("chunks:///_virtual/TableSkillSuit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,i;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){a._RF.push({},"339e3jUrnFLqbFTLwBgzFLD","TableSkillSuit",void 0),t("TableSkillSuit",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=i.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"skillid",get:function(){return this.data.skillid}},{key:"group",get:function(){return this.data.group}},{key:"level",get:function(){return this.data.level}},{key:"name",get:function(){return this.data.name}},{key:"hp_rate",get:function(){return this.data.hp_rate}},{key:"atk_rate",get:function(){return this.data.atk_rate}},{key:"def_rate",get:function(){return this.data.def_rate}},{key:"aktBack_pro",get:function(){return this.data.aktBack_pro}},{key:"douleAtk_pro",get:function(){return this.data.douleAtk_pro}},{key:"miss",get:function(){return this.data.miss}},{key:"criticalAtk_pro",get:function(){return this.data.criticalAtk_pro}},{key:"add_damage_rate",get:function(){return this.data.add_damage_rate}}]),t}()).TableName="SkillSuit",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableStatus.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r;e("StatusKey",void 0),t._RF.push({},"4da49d5Lk1ELbI3JTx508O8","TableStatus",void 0),function(e){e[e.month_card=101]="month_card",e[e.fund_level=102]="fund_level",e[e.fund_ebox=103]="fund_ebox",e[e.ps_welfare=104]="ps_welfare",e[e.forever_card=105]="forever_card"}(r||(r=e("StatusKey",{})));e("TableStatus",{101:{strKey:"month_card",name:"月卡",timetype:1,time:30,privilege:[15,2,3,12,13,4,5,6,11]},102:{strKey:"fund_level",name:"等级基金",timetype:0,time:0,privilege:[]},103:{strKey:"fund_ebox",name:"锻造基金",timetype:0,time:0,privilege:[]},104:{strKey:"ps_welfare",name:"宝藏福利",timetype:0,time:0,privilege:[]},105:{strKey:"forever_card",name:"终身卡",timetype:0,time:0,privilege:[18,16,17,7,6,8,9,10,19]}});t._RF.pop()}}}));

System.register("chunks:///_virtual/TableTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"0ea49AeDaxCP7+N70yF2kJg","TableTask",void 0),t("TableTask",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"type",get:function(){return this.data.type}},{key:"target",get:function(){return this.data.target}},{key:"perid",get:function(){return this.data.perid}},{key:"nextid",get:function(){return this.data.nextid}},{key:"drop",get:function(){return this.data.drop}},{key:"exp",get:function(){return this.data.exp}}]),t}()).TableName="Task",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableTaskDailyAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,n,e;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){n._RF.push({},"ab86f71wRNCGrp7DUjBoM8w","TableTaskDailyAward",void 0),t("TableTaskDailyAward",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(a){var n=e.get(t.TableName);return this.data=n[a],this.id=a,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},a(t,[{key:"name",get:function(){return this.data.name}},{key:"cost",get:function(){return this.data.cost}},{key:"drop",get:function(){return this.data.drop}},{key:"exp",get:function(){return this.data.exp}}]),t}()).TableName="TaskDailyAward",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableTaskTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,e,n;return{setters:[function(t){a=t.createClass},function(t){e=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){e._RF.push({},"b90212t4g9KFoz0/ysDN1VB","TableTaskTarget",void 0),t("TableTaskTarget",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(a){var e=n.get(t.TableName);return this.data=e[a],this.id=a,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},a(t,[{key:"name",get:function(){return this.data.name}},{key:"type",get:function(){return this.data.type}},{key:"val",get:function(){return this.data.val}},{key:"val2",get:function(){return this.data.val2}}]),t}()).TableName="TaskTarget",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableTaskTargetType.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var t;e("TaskTargetTypeKey",void 0),a._RF.push({},"24c991TmnpA7q5Zmp17J3zL","TableTaskTargetType",void 0),function(e){e[e.finish_game_leves=1]="finish_game_leves",e[e.ebox_count=2]="ebox_count",e[e.total_ebox_count=3]="total_ebox_count",e[e.sbox_count=4]="sbox_count",e[e.total_sbox_count=5]="total_sbox_count",e[e.equip_posup=6]="equip_posup",e[e.total_equip_posup=7]="total_equip_posup",e[e.finish_elite_leves=8]="finish_elite_leves",e[e.time_award_count=9]="time_award_count",e[e.time_award_qcount=10]="time_award_qcount",e[e.hero_lvup_count=11]="hero_lvup_count",e[e.fight_game_leves=12]="fight_game_leves",e[e.skill_lvup_conut=13]="skill_lvup_conut",e[e.reached_ebox_lv=14]="reached_ebox_lv",e[e.add_item=15]="add_item",e[e.fight_arena=16]="fight_arena",e[e.medal_uplevel=17]="medal_uplevel",e[e.hero_lv=18]="hero_lv",e[e.shop_buy=19]="shop_buy",e[e.ps_act_count=20]="ps_act_count",e[e.ps_shell_up=21]="ps_shell_up",e[e.ps_damage=22]="ps_damage",e[e.skill_open_pos=23]="skill_open_pos",e[e.skill_setup=24]="skill_setup",e[e.fight_elite_leves=25]="fight_elite_leves",e[e.sell_equip_num=26]="sell_equip_num",e[e.upgrade_lv=27]="upgrade_lv",e[e.aureole_uplv=28]="aureole_uplv",e[e.fight_demon_abyss=29]="fight_demon_abyss",e[e.eat_fruit=30]="eat_fruit",e[e.fight_aemon_abyss=31]="fight_aemon_abyss",e[e.wrestle_pk=32]="wrestle_pk",e[e.mercenary_go=33]="mercenary_go",e[e.rare_monster_park=34]="rare_monster_park",e[e.change_total=35]="change_total",e[e.ps_kill_ship=36]="ps_kill_ship",e[e.demon_abyss_lv=37]="demon_abyss_lv",e[e.mercenary_act=38]="mercenary_act",e[e.dam_aemon_abyss=39]="dam_aemon_abyss",e[e.finish_aureole_lv=40]="finish_aureole_lv",e[e.rare_monster_num=41]="rare_monster_num",e[e.skill_trench=42]="skill_trench"}(t||(t=e("TaskTargetTypeKey",{})));e("TableTaskTargetType",{1:{strKey:"finish_game_leves",name:"完成指定主线关卡",datatype:1,game_sys:"1001"},2:{strKey:"ebox_count",name:"锻造指定次数装备",datatype:0,game_sys:"1004"},3:{strKey:"total_ebox_count",name:"累计锻造指定次数装备",datatype:0,game_sys:"1004"},4:{strKey:"sbox_count",name:"开启指定次数技能宝箱",datatype:0,game_sys:"2001"},5:{strKey:"total_sbox_count",name:"累计开启指定次数技能宝箱",datatype:0,game_sys:"2001"},6:{strKey:"equip_posup",name:"强化装备次数",datatype:0,game_sys:"2003"},7:{strKey:"total_equip_posup",name:"累计强化装备次数",datatype:0,game_sys:"2003"},8:{strKey:"finish_elite_leves",name:"完成指定精英关卡",datatype:2,game_sys:"1007"},9:{strKey:"time_award_count",name:"领取挂机奖励次数",datatype:0,game_sys:"1006"},10:{strKey:"time_award_qcount",name:"领取快速挂机奖励次数",datatype:0,game_sys:"1006"},11:{strKey:"hero_lvup_count",name:"升级英雄次数",datatype:0,game_sys:"2002"},12:{strKey:"fight_game_leves",name:"挑战主线关卡次数",datatype:0,game_sys:"1001"},13:{strKey:"skill_lvup_conut",name:"升级技能次数",datatype:0,game_sys:"1003"},14:{strKey:"reached_ebox_lv",name:"锻造等级达到指定等级及以上",datatype:3,game_sys:"2010"},15:{strKey:"add_item",name:"出售装备获得指定道具",datatype:0,game_sys:"1002"},16:{strKey:"fight_arena",name:"挑战竞技场次数",datatype:0,game_sys:"1022"},17:{strKey:"medal_uplevel",name:"勋章升级x次",datatype:0,game_sys:"1021"},18:{strKey:"hero_lv",name:"英雄达到指定等级",datatype:5,game_sys:"1002"},19:{strKey:"shop_buy",name:"商品购买X次数",datatype:0,game_sys:"1017"},20:{strKey:"ps_act_count",name:"夺宝玩法投骰子X次",datatype:0,game_sys:"1020"},21:{strKey:"ps_shell_up",name:"夺宝玩法弹药升级X次",datatype:0,game_sys:"1020"},22:{strKey:"ps_damage",name:"夺宝玩法对海盗船造成X点及以上伤害",datatype:0,game_sys:"1020"},23:{strKey:"skill_open_pos",name:"累计开启X个技能栏",datatype:0,game_sys:"1003"},24:{strKey:"skill_setup",name:"穿戴X个技能",datatype:0,game_sys:"1003"},25:{strKey:"fight_elite_leves",name:"挑战精英关卡次数",datatype:0,game_sys:"1007"},26:{strKey:"sell_equip_num",name:"出售装备次数",datatype:0,game_sys:"1004"},27:{strKey:"upgrade_lv",name:"佣兵进阶指定等级",datatype:6,game_sys:"1037"},28:{strKey:"aureole_uplv",name:"升级X次光环等级",datatype:0,game_sys:"1038"},29:{strKey:"fight_demon_abyss",name:"挑战X次魔渊",datatype:0,game_sys:"1039"},30:{strKey:"eat_fruit",name:"食用X个果实",datatype:0,game_sys:"1036"},31:{strKey:"fight_aemon_abyss",name:"挑战X次深渊巨龙",datatype:0,game_sys:"1035"},32:{strKey:"wrestle_pk",name:"王者争霸挑战X次",datatype:0,game_sys:"1043"},33:{strKey:"mercenary_go",name:"佣兵寻宝X次",datatype:0,game_sys:"1040"},34:{strKey:"rare_monster_park",name:"捕捉异兽X次",datatype:0,game_sys:"1042"},35:{strKey:"change_total",name:"累充达到XX",datatype:7,game_sys:"1017"},36:{strKey:"ps_kill_ship",name:"夺宝击沉X只船",datatype:9,game_sys:"1020"},37:{strKey:"demon_abyss_lv",name:"挑战X层魔渊",datatype:10,game_sys:"1039"},38:{strKey:"mercenary_act",name:"佣兵解锁X次数",datatype:0,game_sys:"1037"},39:{strKey:"dam_aemon_abyss",name:"深渊巨龙X伤害",datatype:11,game_sys:"1035"},40:{strKey:"finish_aureole_lv",name:"光环X等级",datatype:12,game_sys:"1038"},41:{strKey:"rare_monster_num",name:"激活异兽X数量",datatype:13,game_sys:"1042"},42:{strKey:"skill_trench",name:"激活技能X槽位",datatype:0,game_sys:"1003"}});a._RF.pop()}}}));

System.register("chunks:///_virtual/TableTisheng.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"5e9d7bf05NOVbv3HZ6T6L96","TableTisheng",void 0),t("TableTisheng",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=i.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"type",get:function(){return this.data.type}},{key:"name",get:function(){return this.data.name}},{key:"sysId",get:function(){return this.data.sysId}},{key:"iconRes",get:function(){return this.data.iconRes}}]),t}()).TableName="Tisheng",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableTitle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"e8efaY/efNNFIKVCvxke/yf","TableTitle",void 0),t("TableTitle",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"name",get:function(){return this.data.name}},{key:"resid",get:function(){return this.data.resid}},{key:"quality",get:function(){return this.data.quality}},{key:"time",get:function(){return this.data.time}},{key:"offsetX",get:function(){return this.data.offsetX}},{key:"offsetY",get:function(){return this.data.offsetY}},{key:"scale",get:function(){return this.data.scale}},{key:"source",get:function(){return this.data.source}},{key:"hp_rate",get:function(){return this.data.hp_rate}},{key:"atk_rate",get:function(){return this.data.atk_rate}},{key:"def_rate",get:function(){return this.data.def_rate}}]),t}()).TableName="Title",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./GameEnum.ts","./SingletonModuleComp.ts","./TableFundEboxAward.ts","./TableFundLevelAward.ts","./TableGameAttr.ts","./TableGameConfig.ts","./TableGameDrop.ts","./TableGameEquip.ts","./TableGameEquipPos.ts","./TableGameEquipPosAttr.ts","./TableGameEquipPosLv.ts","./TableGameEquipQuality.ts","./TableGameHero.ts","./TableGameItem.ts","./TableGameLevels.ts","./TableGameMonster.ts","./TableGameSkill.ts","./TableGameSkillQuality.ts","./TableModelConfig.ts","./TablePirateShipCell.ts","./TablePirateShipShell.ts","./TablePrivilegeConfig.ts","./TableRankAwards.ts","./TableShop.ts","./TableTaskTargetType.ts","./TableTisheng.ts","./TableWelfareLevelAward.ts","./TableWelfarePaidDaysAward.ts"],(function(e){"use strict";var t,n,r,a,i,u,l,o,s,c,f,p,g,b,T,d,m,v,h,E,y,k,G,_,I,P,A,N,q,S,C,w,M,j;return{setters:[function(e){t=e.extends},function(e){n=e.cclegacy,r=e.Color,a=e.warn},function(e){i=e.JsonUtil},function(e){u=e.EItemType},function(e){l=e.smc},function(e){o=e.TableFundEboxAward},function(e){s=e.TableFundLevelAward},function(e){c=e.GameAttrKey,f=e.TableGameAttr},function(e){p=e.TableGameConfig},function(e){g=e.TableGameDrop},function(e){b=e.TableGameEquip},function(e){T=e.TableGameEquipPos},function(e){d=e.TableGameEquipPosAttr},function(e){m=e.TableGameEquipPosLv},function(e){v=e.TableGameEquipQuality},function(e){h=e.TableGameHero},function(e){E=e.TableGameItem},function(e){y=e.TableGameLevels},function(e){k=e.TableGameMonster},function(e){G=e.TableGameSkill},function(e){_=e.TableGameSkillQuality},function(e){I=e.TableModelConfig},function(e){P=e.TablePirateShipCell},function(e){A=e.TablePirateShipShell},function(e){N=e.TablePrivilegeConfig},function(e){q=e.TableRankAwards},function(e){S=e.TableShop},function(e){C=e.TableTaskTargetType},function(e){w=e.TableTisheng},function(e){M=e.TableWelfareLevelAward},function(e){j=e.TableWelfarePaidDaysAward}],execute:function(){var O;e({GuajiTimeKey:void 0,GuajiTimeSecs:void 0}),n._RF.push({},"93f65hPp5FCsJETpT3TXQYc","TableUtil",void 0);var L,R,x=e("BasicAttrKeys",[c.hp,c.atk,c.def,c.atkspeed]);e("SpecAttrKeys",[c.aktBack_pro,c.douleAtk_pro,c.miss,c.criticalAtk_pro]);!function(e){e[e.PER_MIN=60]="PER_MIN",e[e.PER_TEN_MIN=600]="PER_TEN_MIN",e[e.PER_HOUR=3600]="PER_HOUR"}(L||(L=e("GuajiTimeSecs",{}))),function(e){e.PER_MIN="timedrop1",e.PER_TEN_MIN="timedrop2",e.PER_HOUR="timedrop3",e.PER_MIN_EXP="time_exp"}(R||(R=e("GuajiTimeKey",{})));var D=1e-4,B=e("TableUtil",function(){function e(){}return e.get=function(e,t){return(new e).init(t)},e.getIds=function(e){var t=i.get(e.TableName);return Object.keys(t).map(Number).sort((function(e,t){return e-t}))},e.getModelCfg=function(e){var t=(new h).init(e);return(new I).init(t.model_id)},e.getAllBasicSkills=function(){if(this._basicSkills)return this._basicSkills;var e=new Map,t=i.get(G.TableName);return Object.keys(t).forEach((function(n){var r=t[n];1==r.show_type&&(e.has(r.group)||e.set(r.group,{group:r.group,skillIds:[]}),e.get(r.group).skillIds.push(parseInt(n)))})),e.forEach((function(e){e.skillIds.sort(),e.minId=e.skillIds[0],e.maxId=e.skillIds[e.skillIds.length-1]})),this._basicSkills=e,e},e.getSkillGroupId=function(e){var t=(new G).init(e);return(null==t?void 0:t.group)||null},e.getSkillPosCfg=function(e){return p["skill_pos_"+e]},e.isTalentSkill=function(e){var t=i.get(h.TableName);return Object.values(t).find((function(t){return t.skill==e}))},e.getEquipQualityIds=function(){return this.getIds(v)},e.getEquipQualityBG=function(e){var t;return null==(t=i.get(v.TableName)[e])?void 0:t.bg},e.getEquipQualityColor=function(e){var t;e in this._EquipColorCache||(this._EquipColorCache[e]=new r(null==(t=i.get(v.TableName)[e])?void 0:t.color));return this._EquipColorCache[e]},e.getSkillQualityIds=function(){return this.getIds(_)},e.getItemType=function(e){var t;return null==(t=i.get(E.TableName)[e])?void 0:t.type},e.getItemName=function(e){var t;return null==(t=i.get(E.TableName)[e])?void 0:t.name},e.getEquipBasicAttr=function(t,n){var r=n?e.get(v,n.qid):null,a={};return x.forEach((function(e){var i,u=c[e],l=t[u];(null==n?void 0:n.bper)&&(l+=Math.floor(l*n.bper*D)),(null==r?void 0:r.rate)&&(l+=Math.floor(l*r.rate*D)),Object.assign(a,((i={})[e]=l,i))})),a},e.getEquipAddAttr=function(n){if(!n.add)return{};var r=e.get(v,n.qid),a=Object.values(n.add),i=t({},a[0],a[1]);for(var u in i)i[u]+=Math.floor(i[u]*(null==r?void 0:r.rate)*D);return i},e.getEquipTotalAttr=function(n){var r=e.get(b,n.id);return t({},e.getEquipBasicAttr(r,n),e.getEquipAddAttr(n))},e.getEquipZhanli=function(t){return t?e.calZhanli(this.getEquipTotalAttr(t)):0},e.getEquipPosUpgradeCost=function(t,n){var r=T[t].strKey,a=(new m).init(n)[r],i=e.get(d,a);return i?i.cost:null},e.getEquipPosMaxLevel=function(){if(!this._maxEquipPosLv){var e=this.getIds(m).map(Number);this._maxEquipPosLv=Math.max.apply(Math,e)}return this._maxEquipPosLv},e.getEquipPosAttr=function(t,n){var r=T[t].strKey,a=(new m).init(n)[r],i=e.get(d,a);return i?x.reduce((function(e,t){var n=c[t];return e[t]=i[n],e}),{}):null},e.getSkillUpgradeCost=function(e,t){var n;void 0===t&&(t=u.SKILL);var r=e.cost,a=new E;return null!=(n=Object.entries(r).find((function(e){var n=e[0],r=(e[1],a.init(parseInt(n)));if(r&&r.type==t)return!0})))?n:[0,0]},e.getSkillPosActiveCost=function(e){return this.getSkillUpgradeCost(e,u.MONEY)},e.getLevelGuajiExp=function(t){var n;if(0==t)return 0;var r=e.get(y,t);return null!=(n=null==r?void 0:r.time_exp)?n:0},e.getLevelGuajiDrop=function(t,n){var r;if(0==t)return[];var a=e.get(y,t);return a&&(null==(r=a[n])?void 0:r.length)>0?e.get(g,a[n][0]).drop:[]},e.getDropItems=function(t,n){var r,i;if("number"==typeof t){var u=e.get(g,t);i=null==u?void 0:u.drop}else{if("number"==typeof t[0])return this.getDropItems(t[0],n);i=t}console.assert(i,"找不到掉落："+t);var l=(null==(r=i)?void 0:r.reduce((function(e,t){return"n"in t?e[t.i]=t.n:a("NOT support equip data!"),e}),{}))||{};return n&&(l[p.itemid_exp]=n),l},e.calZhanli=function(e){return e?Object.keys(e).reduce((function(t,n){return t+f[n].zhanli*e[n]}),0):(console.error("ERR calZhanli: %s","attrs is null"),0)},e.getGameLevelIds=function(e){var t=i.get(y.TableName);return Object.keys(t).reduce((function(n,r){return t[r].chapter_id==e&&n.push(parseInt(r)),n}),[])},e.getMonsterAttr=function(t){var n=e.get(k,t);return Object.entries(n.data).reduce((function(e,t){var n=t[0],r=t[1];return n in c&&(e[c[n]]=r),e}),{})},e.getWelFareLevelData=function(){return i.get(M.TableName)},e.getWelFareAccumData=function(){return i.get(j.TableName)},e.getTaskTargetConfig=function(e){return C[e]},e.getGoodsByType=function(e){var t=[],n=i.get(S.TableName);for(var r in n){var a=n[r];a.enable&&e==a.showtype&&(a.id=r,t.push(a))}return t},e.getGoodsByID=function(e){var t=i.get(S.TableName);for(var n in t)if(e==parseInt(n))return t[n]},e.getDuobaoMapConfig=function(){var e=i.get(P.TableName);return Object.fromEntries(Object.entries(e).filter((function(e){e[0];return e[1].itemtype>0})).map((function(e){return[e[0],e[1].itemtype]})))},e.getDuobaoFireConfig=function(e){var t=[],n=i.get(A.TableName);for(var r in n){var a=n[r];a.type==e&&t.push(a)}return t},e.getPrivlegeTable=function(){return i.get(N.TableName)},e.getFoundEboxAward=function(){return i.get(o.TableName)},e.getFoundLevelAward=function(){return i.get(s.TableName)},e.getTishengDataByType=function(e){var t=[],n=i.get(w.TableName);for(var r in n)e==parseInt(n[r].type)&&(n[r].id=r,l.system.checkOpened(n[r].sysId)&&t.push(n[r]));return t},e.getShopIds=function(e){return Object.entries(i.get(S.TableName)).filter((function(t){t[0];var n=t[1];return e(n)})).map((function(e){var t=e[0];return Number(t)}))},e.extractAttrs=function(e){return("data"in e?Object.keys(e.data):Object.keys(e)).reduce((function(t,n){return n in c&&(t[c[n]]=e[n]),t}),{})},e.extractAttrHeaders=function(e){return Object.getOwnPropertyNames(e.prototype).filter((function(e){return e in c&&"constructor"!=e}))},e.getRankAwardsByType=function(e){var t=i.get(q.TableName),n=[];for(var r in t)t[r].type==e&&n.push(t[r]);return n},e}());B.RATE_W=1e4,B.BPS=D,B._basicSkills=null,B._maxEquipPosLv=null,B._EquipColorCache=((O={})[0]=r.WHITE,O),n._RF.pop()}}}));

System.register("chunks:///_virtual/TableWelfareDailyAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,e,i;return{setters:[function(t){a=t.createClass},function(t){e=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){e._RF.push({},"fb6579J6NJGXogDkw2z+iXw","TableWelfareDailyAward",void 0),t("TableWelfareDailyAward",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(a){var e=i.get(t.TableName);return this.data=e[a],this.id=a,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},a(t,[{key:"drop",get:function(){return this.data.drop}}]),t}()).TableName="WelfareDailyAward",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableWelfareLevelAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){a._RF.push({},"56134A+qLVEu6+LGqjc0fFp","TableWelfareLevelAward",void 0),t("TableWelfareLevelAward",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=n.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"drop",get:function(){return this.data.drop}}]),t}()).TableName="WelfareLevelAward",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableWelfarePaidDaysAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var a,e,i;return{setters:[function(t){a=t.createClass},function(t){e=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){e._RF.push({},"c9dd90UF+NHd4cPpLONlyNb","TableWelfarePaidDaysAward",void 0),t("TableWelfarePaidDaysAward",function(){function t(){this.data=void 0,this.id=0}var e=t.prototype;return e.init=function(a){var e=i.get(t.TableName);return this.data=e[a],this.id=a,this.data?this:null},e.clear=function(){this.data=null},e.valid=function(){return null!=this.data},a(t,[{key:"drop",get:function(){return this.data.drop}}]),t}()).TableName="WelfarePaidDaysAward",e._RF.pop()}}}));

System.register("chunks:///_virtual/TableWrestleCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,i;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){a._RF.push({},"152efEZsohHeoAirzOxVoEl","TableWrestleCard",void 0),t("TableWrestleCard",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=i.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"itemid",get:function(){return this.data.itemid}},{key:"itemnum",get:function(){return this.data.itemnum}},{key:"aktBack_pro",get:function(){return this.data.aktBack_pro}},{key:"douleAtk_pro",get:function(){return this.data.douleAtk_pro}},{key:"miss",get:function(){return this.data.miss}},{key:"criticalAtk_pro",get:function(){return this.data.criticalAtk_pro}},{key:"dec_atkBack_pro",get:function(){return this.data.dec_atkBack_pro}},{key:"dec_doubleAtk_pro",get:function(){return this.data.dec_doubleAtk_pro}},{key:"dec_miss",get:function(){return this.data.dec_miss}},{key:"dec_criticalAtk_pro",get:function(){return this.data.dec_criticalAtk_pro}},{key:"add_damage_rate",get:function(){return this.data.add_damage_rate}},{key:"dec_damage_rate",get:function(){return this.data.dec_damage_rate}},{key:"add_askill_pro",get:function(){return this.data.add_askill_pro}},{key:"add_apskill_pro",get:function(){return this.data.add_apskill_pro}},{key:"add_askill_dam",get:function(){return this.data.add_askill_dam}},{key:"add_apskill_dam",get:function(){return this.data.add_apskill_dam}},{key:"add_hp_per",get:function(){return this.data.add_hp_per}},{key:"icon",get:function(){return this.data.icon}}]),t}()).TableName="WrestleCard",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableWrestleLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){a._RF.push({},"d34f6qsZlhAnKc8ZWnntkpF","TableWrestleLevel",void 0),t("TableWrestleLevel",function(){function t(){this.data=void 0,this.id=0}var a=t.prototype;return a.init=function(e){var a=n.get(t.TableName);return this.data=a[e],this.id=e,this.data?this:null},a.clear=function(){this.data=null},a.valid=function(){return null!=this.data},e(t,[{key:"nextid",get:function(){return this.data.nextid}},{key:"grade",get:function(){return this.data.grade}},{key:"lv",get:function(){return this.data.lv}},{key:"icon",get:function(){return this.data.icon}},{key:"name",get:function(){return this.data.name}},{key:"winexp",get:function(){return this.data.winexp}},{key:"loseexp",get:function(){return this.data.loseexp}},{key:"expprob",get:function(){return this.data.expprob}},{key:"needexp",get:function(){return this.data.needexp}},{key:"cardslot",get:function(){return this.data.cardslot}},{key:"award",get:function(){return this.data.award}},{key:"drop",get:function(){return this.data.drop}},{key:"drop2",get:function(){return this.data.drop2}},{key:"monster",get:function(){return this.data.monster}},{key:"hp",get:function(){return this.data.hp}},{key:"atk",get:function(){return this.data.atk}},{key:"def",get:function(){return this.data.def}},{key:"atkspeed",get:function(){return this.data.atkspeed}},{key:"aktBack_pro",get:function(){return this.data.aktBack_pro}},{key:"douleAtk_pro",get:function(){return this.data.douleAtk_pro}},{key:"miss",get:function(){return this.data.miss}},{key:"criticalAtk_pro",get:function(){return this.data.criticalAtk_pro}},{key:"dec_atkBack_pro",get:function(){return this.data.dec_atkBack_pro}},{key:"dec_doubleAtk_pro",get:function(){return this.data.dec_doubleAtk_pro}},{key:"dec_miss",get:function(){return this.data.dec_miss}},{key:"dec_criticalAtk_pro",get:function(){return this.data.dec_criticalAtk_pro}},{key:"add_askill_pro",get:function(){return this.data.add_askill_pro}},{key:"add_apskill_pro",get:function(){return this.data.add_apskill_pro}},{key:"add_askill_dam",get:function(){return this.data.add_askill_dam}},{key:"add_apskill_dam",get:function(){return this.data.add_apskill_dam}},{key:"add_hp_per",get:function(){return this.data.add_hp_per}},{key:"hp_rate",get:function(){return this.data.hp_rate}},{key:"atk_rate",get:function(){return this.data.atk_rate}},{key:"def_rate",get:function(){return this.data.def_rate}},{key:"add_damage_rate",get:function(){return this.data.add_damage_rate}},{key:"dec_damage_rate",get:function(){return this.data.dec_damage_rate}},{key:"xianshi",get:function(){return this.data.xianshi}}]),t}()).TableName="WrestleLevel",a._RF.pop()}}}));

System.register("chunks:///_virtual/TableWrestlexians.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"fa478gd+LxIzbT7JLbL+jOm","TableWrestlexians",void 0),t("TableWrestlexians",function(){function t(){this.data=void 0,this.id=0}var n=t.prototype;return n.init=function(e){var n=a.get(t.TableName);return this.data=n[e],this.id=e,this.data?this:null},n.clear=function(){this.data=null},n.valid=function(){return null!=this.data},e(t,[{key:"grade",get:function(){return this.data.grade}},{key:"name",get:function(){return this.data.name}}]),t}()).TableName="Wrestlexians",n._RF.pop()}}}));

System.register("chunks:///_virtual/TableXunBaoAward.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"de4c7pzprRI2pmA7devepF8","TableXunBaoAward",void 0);e("TableXunBaoAward",{1:{times:20,drop:[6411]},2:{times:50,drop:[6412]},3:{times:100,drop:[6413]},4:{times:150,drop:[6414]},5:{times:200,drop:[6415]},6:{times:250,drop:[6411]},7:{times:300,drop:[6412]},8:{times:350,drop:[6413]},9:{times:400,drop:[6414]},10:{times:500,drop:[6415]}});t._RF.pop()}}}));

System.register("chunks:///_virtual/Task.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.BTreeNode}],execute:function(){n._RF.push({},"95087QhEU1G1LWnM2D7haTQ","Task",void 0);t("Task",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.run=function(t){},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/Task2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableTaskDailyAward.ts","./TableTaskTarget.ts","./TableUtil.ts"],(function(t){"use strict";var n,a,e,i,s,o,r,u,l,c,f,y,g;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy},function(t){e=t.ETaskType,i=t.ETaskState,s=t.ETaskDataType},function(t){o=t.GameEvent},function(t){r=t.smc},function(t){u=t.GameSys},function(t){l=t.TableGameConfig},function(t){c=t.GameSysKey},function(t){f=t.TableTaskDailyAward},function(t){y=t.TableTaskTarget},function(t){g=t.TableUtil}],execute:function(){a._RF.push({},"91925gMnHtC773D/jrX5oZ2","Task",void 0);var v=t("Task",function(t){function a(){for(var n,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).redotWatchGameEvents=[o.TaskDailyUpdated],n}n(a,t);var u=a.prototype;return u.getDailyInfo=function(){return r.accountData.subinfo.taskDaily},u.setDailyInfo=function(t){r.accountData.subinfo.taskDaily=t},u.getMainInfo=function(){return r.accountData.subinfo.taskMain},u.setMainInfo=function(t){r.accountData.subinfo.taskMain=t},u.getLevelTaskInfo=function(){return r.accountData.subinfo.TaskLevel},u.setLevelTaskInfo=function(t){r.accountData.subinfo.TaskLevel=t},u.getWidgetData=function(){if(!r.system.checkOpened(c.task_main))return null;var t=this.getMainInfo();if(t.curEntity)return{ty:e.MAIN,entity:t.curEntity};if(!r.system.checkOpened(c.task_daily))return null;for(var n in null==(a=this.getDailyInfo())?void 0:a.tasklist){var a,s=this.getDailyTaskInfo(n);if(s.state!=i.RECEIVED)return{ty:e.DAILY,entity:s}}return null},u.getDailyTaskInfo=function(t){return this.getDailyInfo().tasklist[t]},u.getDailyPoints=function(){return r.accountData.getItemCount(l.var_taskdaily_point)},u.isDailyBoxRecvd=function(t){return this.getDailyInfo().received>=t.id},u.isDailyBoxCanRecv=function(t){return!this.isDailyBoxRecvd(t)&&this.getDailyPoints()>=Number(t.cost)},u.isPassedMain=function(t){var n,a;return(null!=(n=null==(a=this.getMainInfo())?void 0:a.lastId)?n:0)>=t},u.getRemainMainTaskCount=function(t){var n,a,e;return t-(null!=(n=null==(a=this.getMainInfo())||null==(e=a.curEntity)?void 0:e.id)?n:0)+1},u.getDailyBoxProgNum=function(){for(var t=0,n=this.getDailyPoints(),e=new f,i=1;i<=a.MAX_BOX_ID&&!(n<parseInt(e.init(i).cost));i++)t=i;return t},u.calProgress=function(t,n){var a,e=g.getTaskTargetConfig(n.type);return e.datatype==s.GANME_LEVELS||e.datatype==s.ELITE_LEVELS?t.count[n.id]==n.val?[1,1]:[0,1]:[null!=(a=t.count[n.id])?a:0,n.val]},u.isFinished=function(t){var n=g.get(y,parseInt(Object.keys(t.count)[0])),a=this.calProgress(t,n);return a[0]>=a[1]},u.calRedot=function(){for(var t in null==(n=this.getDailyInfo())?void 0:n.tasklist){var n,e=this.getDailyTaskInfo(t);if(e.state==i.NOT_RECEIVE&&this.isFinished(e))return!0}for(var s=1;s<=a.MAX_BOX_ID;s++){var o=g.get(f,s);if(o&&this.isDailyBoxCanRecv(o))return!0}return!1},a}(u));v.MAX_BOX_ID=5;var k=t("task",new v(c.task_daily));new(function(t){function a(){var n;return(n=t.call(this,c.task_main)||this).redotWatchGameEvents=[],n}return n(a,t),a.prototype.calRedot=function(){var t=r.task.getWidgetData();return!(null==t||!t.entity)&&(t.entity.state==i.NOT_RECEIVE&&k.isFinished(t.entity))},a}(u)),a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskDailyBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableTaskDailyAward.ts","./TableUtil.ts"],(function(t){"use strict";var i,e,n,o,s,r,a,c,l,u,p,f,d,g,y,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,c=t.Label,l=t.Sprite,u=t.Vec3,p=t.Component},function(t){f=t.oops},function(t){d=t.UIID},function(t){g=t.smc},function(t){y=t.TableTaskDailyAward},function(t){h=t.TableUtil}],execute:function(){var b,k,v,T,D,R,m,w,x;r._RF.push({},"df24ccCfWRNAq7f6uudyimj","TaskDailyBox",void 0);var B=a.ccclass,C=a.property;t("TaskDailyBox",(b=B("TaskDailyBox"),k=C(c),v=C(l),T=C(l),b((m=i((R=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"lblPoints",m,o(i)),n(i,"spMark",w,o(i)),n(i,"spRedot",x,o(i)),i.cfg=new y,i}e(i,t);var r=i.prototype;return r.init=function(t){this.cfg.init(t),this.lblPoints.string=this.cfg.cost},r.refresh=function(){this.spMark.node.active=this.isRecvd,this.spRedot.node.active=this.isCanRecv},r.showTips=function(){var t=this.node.parent.worldPosition;f.gui.open(d.TipTaskBox,{contentPos:new u(t.x,t.y+100),additem:h.getDropItems(this.cfg.drop,this.cfg.exp)})},s(i,[{key:"id",get:function(){return this.cfg.id}},{key:"points",get:function(){return parseInt(this.cfg.cost)}},{key:"isRecvd",get:function(){return g.task.isDailyBoxRecvd(this.cfg)}},{key:"isCanRecv",get:function(){return g.task.isDailyBoxCanRecv(this.cfg)}}]),i}(p)).prototype,"lblPoints",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(R.prototype,"spMark",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(R.prototype,"spRedot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=R))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskDailyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableTask.ts","./TableTaskTarget.ts","./TableTaskTargetType.ts","./TableUtil.ts","./BagItem.ts"],(function(t){"use strict";var e,i,n,s,a,r,o,l,c,u,p,f,g,h,b,T,m,y,d,k,v,D,I,C,O,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,o=t._decorator,l=t.Label,c=t.ProgressBar,u=t.Button,p=t.SpriteFrame,f=t.Sprite,g=t.Component},function(t){h=t.oops},function(t){b=t.ETaskState},function(t){T=t.GameEvent},function(t){m=t.UIID},function(t){y=t.tips},function(t){d=t.httpChannel},function(t){k=t.MsgID},function(t){v=t.smc},function(t){D=t.TableTask},function(t){I=t.TableTaskTarget},function(t){C=t.TableTaskTargetType},function(t){O=t.TableUtil},function(t){w=t.BagItem}],execute:function(){var B,E,G,R,z,F,P,S,M,_,L,U,q,K,j;r._RF.push({},"00369o4/ptOoKnZtDcn0EE9","TaskDailyItem",void 0);var x,A=o.ccclass,H=o.property;!function(t){t[t.Goto=0]="Goto",t[t.Recv=1]="Recv",t[t.Finished=2]="Finished"}(x||(x={}));var N=["前往","领取",""];t("TaskDailyItem",(B=A("TaskDailyItem"),E=H(w),G=H(l),R=H(c),z=H(l),F=H(u),P=H([p]),B((_=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"item",_,s(e)),n(e,"lblDesc",L,s(e)),n(e,"progBar",U,s(e)),n(e,"lblProg",q,s(e)),n(e,"btnOp",K,s(e)),n(e,"spfBtnOpStates",j,s(e)),e.id=null,e.cfg=new D,e.cfgT=new I,e.cfgTT=null,e.state=x.Goto,e}i(e,t);var r=e.prototype;return r.init=function(t){this.id=t,this.cfg.init(t),this.cfgT.init(this.cfg.target[0]),this.cfgTT=C[this.cfgT.type],this.lblDesc.string=this.cfgT.name;var e=O.getDropItems(this.cfg.drop[0],this.cfg.exp),i=Object.entries(e)[0],n=i[0],s=i[1];return this.item.init(parseInt(n),s),this},r.refresh=function(){var t=v.task.calProgress(this.info,this.cfgT),e=t[0],i=t[1];this.info.state==b.RECEIVED?this.state=x.Finished:this.state=e>=i?x.Recv:x.Goto,this.progBar.progress=Math.min(1,e/i),this.lblProg.string=e+"/"+i,this.btnOp.getComponent(f).spriteFrame=this.spfBtnOpStates[this.state],this.lblOp.string=N[this.state]},r.start=function(){this.btnOp.node.on(u.EventType.CLICK,this.onOpClick.bind(this))},r.onOpClick=function(){switch(this.state){case x.Goto:h.gui.remove(m.DailyTask,!0),h.message.dispatchEvent(T.Goto,{sysId:Number(this.cfgTT.game_sys),target:this.cfgTT.strKey});break;case x.Recv:this.reqRecv();break;case x.Finished:return h.gui.toast("已领取")}},r.reqRecv=function(){var t={id:this.info.id};d.req(k.TaskGetDailyAward,t,(function(t){var e=t.data;if(e.ok){v.account.doResChange(e);var i={additem:e.additem};y.reward(i)}else h.gui.toast(e.msg)}))},a(e,[{key:"lblOp",get:function(){return this.btnOp.getComponentInChildren(l)}},{key:"info",get:function(){return v.task.getDailyTaskInfo(this.id)}}]),e}(g)).prototype,"item",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(M.prototype,"lblDesc",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(M.prototype,"progBar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(M.prototype,"lblProg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(M.prototype,"btnOp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"spfBtnOpStates",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=M))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskDailyMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./Util.ts","./TaskDailyBox.ts","./TaskDailyItem.ts"],(function(t){"use strict";var e,n,i,a,o,s,r,l,c,u,f,p,h,d,g,m,k,y,b,T,v,D,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.Prefab,l=t.Label,c=t.Node,u=t.ProgressBar,f=t.instantiate,p=t.Button,h=t.macro,d=t.Component},function(t){g=t.oops},function(t){m=t.GameEvent},function(t){k=t.tips},function(t){y=t.httpChannel},function(t){b=t.MsgID},function(t){T=t.smc},function(t){v=t.Util},function(t){D=t.TaskDailyBox},function(t){I=t.TaskDailyItem}],execute:function(){var C,P,B,w,x,E,M,z,F,R,S,_,L,H,N;o._RF.push({},"c8a6fZFfrFI27a8SPRIkSY3","TaskDailyMain",void 0);var O=s.ccclass,U=s.property;t("TaskDailyMain",(C=O("TaskDailyMain"),P=U(r),B=U(l),w=U(c),x=U(c),E=U(l),M=U(u),C((R=e((F=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"pfbTaskItem",R,a(e)),i(e,"lblTime",S,a(e)),i(e,"nodeItems",_,a(e)),i(e,"nodeBoxes",L,a(e)),i(e,"lblPoints",H,a(e)),i(e,"progPoints",N,a(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.init(),this.refresh(),g.message.on(m.TaskDailyUpdated,this._eventHandler,this)},o.onDestroy=function(){g.message.off(m.TaskDailyUpdated,this._eventHandler,this)},o.init=function(){var t=this,e=T.task.getDailyInfo();Object.keys(e.tasklist).forEach((function(e){f(t.pfbTaskItem).parent=t.nodeItems})),this.nodeBoxes.getComponentsInChildren(D).forEach((function(e,n){e.init(n+1),e.addComponent(p).node.on(p.EventType.CLICK,t.onBoxClick,t)})),this.doTick()},o.refresh=function(){var t,e=T.task.getDailyInfo(),n=Object.keys(e.tasklist).map(Number).sort((function(t,e){var n=T.task.getDailyTaskInfo(t),i=T.task.isFinished(n)?0:1,a=T.task.getDailyTaskInfo(e),o=T.task.isFinished(a)?0:1;return n.state==a.state?i!=o?i-o:n.id-a.id:n.state-a.state}));this.nodeItems.getComponentsInChildren(I).forEach((function(t,e){t.init(n[e]).refresh()}));var i=this.nodeBoxes.getComponentsInChildren(D);i.forEach((function(t){return t.refresh()}));var a=T.task.getDailyPoints();this.lblPoints.string=a.toString();var o=T.task.getDailyBoxProgNum();(a>0&&0==o||a>(null==(t=i[o-1])?void 0:t.points))&&(o+=.5),this.progPoints.progress=o/i.length},o.doTick=function(){var t=this,e=new Date(g.timer.getLocalTime()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0);this.lblTime.unscheduleAllCallbacks(),this.lblTime.schedule((function(e){var i=(n.getTime()-g.timer.getLocalTime())/1e3;if(i>=0){var a=v.getTimeSpan(i);t.lblTime.string="刷新时间："+[a.hours,a.minutes,a.seconds].map((function(t){return t.toString().padStart(2,"0")})).join(":")}}),1,h.REPEAT_FOREVER,.1)},o.onBoxClick=function(t){var e=t.getComponent(D);if(e.isCanRecv){y.req(b.TaskGetDailyBoxAward,{},(function(t){var e=t.data;e.ok?(T.account.doResChange(e),k.reward(e)):g.gui.toast(e.msg)}))}else e.showTips()},o.onXClick=function(){g.gui.removeByNode(this.node,!0)},o._eventHandler=function(t,e){var n=this;t==m.TaskDailyUpdated&&this.scheduleOnce((function(){return n.refresh()}))},e}(d)).prototype,"pfbTaskItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(F.prototype,"lblTime",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(F.prototype,"nodeItems",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(F.prototype,"nodeBoxes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(F.prototype,"lblPoints",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(F.prototype,"progPoints",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=F))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/TaskMainWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./TableTask.ts","./TableTaskTarget.ts","./TableTaskTargetType.ts","./TableUtil.ts","./BagItem.ts"],(function(t){"use strict";var e,i,n,a,s,r,o,l,c,h,u,p,d,g,f,b,T,y,m,v,k,G,I,M,R,w,D,E,P,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,l=t._decorator,c=t.Label,h=t.SpriteFrame,u=t.Sprite,p=t.Node,d=t.Button,g=t.Color,f=t.Animation,b=t.Component},function(t){T=t.oops},function(t){y=t.ETaskState,m=t.ETaskType},function(t){v=t.GameEvent},function(t){k=t.tips},function(t){G=t.httpChannel},function(t){I=t.MsgID},function(t){M=t.smc},function(t){R=t.GameSysKey},function(t){w=t.TableTask},function(t){D=t.TableTaskTarget},function(t){E=t.TableTaskTargetType},function(t){P=t.TableUtil},function(t){C=t.BagItem}],execute:function(){var _,B,x,A,F,H,S,N,U,z,Z,L,W,O,K;o._RF.push({},"a4b70OZIHpOd5nUIFXIg6J7","TaskMainWidget",void 0);var Y,j=l.ccclass,q=l.property;!function(t){t[t.Goto=0]="Goto",t[t.Recv=1]="Recv",t[t.Finished=2]="Finished"}(Y||(Y={}));t("TaskMainWidget",(_=j("TaskMainWidget"),B=q(C),x=q(c),A=q(c),F=q(h),H=q(u),S=q(p),_((z=e((U=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"item",z,a(e)),n(e,"lblName",Z,a(e)),n(e,"lblProg",L,a(e)),n(e,"spfBG",W,a(e)),n(e,"spBG",O,a(e)),n(e,"nodeZhiyin",K,a(e)),e.cfg=new w,e.cfgT=new D,e.cfgTT=null,e.state=void 0,e.data=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.nodeZhiyin.active=!1},o.start=function(){this.init(),this.node.on(d.EventType.CLICK,this.onClick,this),T.message.on(v.TaskMainUpdated,this._eventHandler,this),T.message.on(v.TaskDailyUpdated,this._eventHandler,this),T.message.on(v.GuideStart,this._eventHandler,this)},o.onDestroy=function(){T.message.off(v.TaskMainUpdated,this._eventHandler,this),T.message.off(v.TaskDailyUpdated,this._eventHandler,this),T.message.off(v.GuideStart,this._eventHandler,this)},o.init=function(){if(this.data=M.task.getWidgetData(),this.data){this.node.active=!0,this.cfg.init(this.data.entity.id);var t=P.getDropItems(this.cfg.drop[0],this.cfg.exp),e=Object.entries(t)[0],i=e[0],n=e[1];this.item.init(parseInt(i),n),this.cfgT.init(this.cfg.target[0]),this.cfgTT=E[this.cfgT.type],this.refresh()}else this.node.active=!1},o.refresh=function(){if(this.lblName.string=this.cfgT.name,this.data.entity){var t=M.task.calProgress(this.data.entity,this.cfgT),e=t[0],i=t[1];this.data.entity.state==y.RECEIVED?(this.lblProg.string="已领取",this.lblProg.color=g.GRAY,this.state=Y.Finished):e>=i?(this.lblProg.string="可领取",this.lblProg.color=g.GREEN,this.state=Y.Recv):(this.lblProg.string="("+e+"/"+i+")",this.lblProg.color=g.RED,this.state=Y.Goto),this.nodeZhiyin.active=!M.guide.running&&(0==e||e>=i)}else this.lblProg.string="已完成",this.lblProg.color=g.GRAY,this.state=Y.Finished;var n,a;this.state==Y.Recv?null==(n=this.spBG.getComponent(f))||n.play():(null==(a=this.spBG.getComponent(f))||a.stop(),this.spBG.spriteFrame=this.spfBG)},o.onClick=function(){var t=s(r().mark((function t(){var e,i,n,a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.nodeZhiyin.active=!1,t.t0=this.state,t.next=t.t0===Y.Goto?4:t.t0===Y.Recv?6:t.t0===Y.Finished?7:8;break;case 4:return T.message.dispatchEvent(v.Goto,{sysId:Number(this.cfgTT.game_sys),target:this.cfgTT.strKey}),t.abrupt("return");case 6:return t.abrupt("break",9);case 7:case 8:return t.abrupt("return");case 9:if((i=this.data.ty)!=m.MAIN){t.next=17;break}return a={},t.next=14,G.reqAsync(I.TaskGetMainAward,a);case 14:n=t.sent,t.next=22;break;case 17:if(i!=m.DAILY){t.next=22;break}return s={id:this.data.entity.id},t.next=21,G.reqAsync(I.TaskGetDailyAward,s);case 21:n=t.sent;case 22:if(null!=(e=n)&&e.ok){t.next=24;break}return t.abrupt("return");case 24:return M.account.doResChange(n),t.next=27,k.reward(n);case 27:i==m.MAIN&&T.message.dispatchEvent(v.TaskMainFinished,M.task.getMainInfo().lastId);case 28:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._eventHandler=function(t,e){t==v.TaskMainUpdated||t==v.TaskDailyUpdated?(M.system.calRedot(R.task_main),this.init()):t==v.GuideStart&&(this.nodeZhiyin.active=!1)},e}(b)).prototype,"item",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(U.prototype,"lblName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(U.prototype,"lblProg",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(U.prototype,"spfBG",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(U.prototype,"spBG",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(U.prototype,"nodeZhiyin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=U))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,s;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"6021fct1uhJsImEuhdFWC0f","Timer",void 0);e("Timer",function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=e}var s=e.prototype;return s.update=function(e){return!(this.step<=0)&&(this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,null==(t=this.callback)||t.call(this),!0));var t},s.reset=function(){this._elapsedTime=0},s.stop=function(){this._elapsedTime=0,this.step=-1},t(e,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"step",get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0}},{key:"progress",get:function(){return this._elapsedTime/this._step}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./Timer.ts"],(function(e){"use strict";var t,i,n,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.Component},function(e){r=e.StringUtil},function(e){o=e.Timer}],execute:function(){i._RF.push({},"73600VLsIBLOKhOhd7td4P8","TimerManager",void 0);e("TimerManager",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).times={},t.initTime=(new Date).getTime(),t.serverTime=0,t}t(i,e);var n=i.prototype;return n.update=function(e){for(var t in this.times){var i=this.times[t];i.timer.update(e)&&i.object[i.field]>0&&(i.object[i.field]--,0==i.object[i.field]?this.onTimerComplete(i):i.onSecond&&i.onSecond.call(i.object))}},n.onTimerComplete=function(e){e.onComplete&&e.onComplete.call(e.object),e.event&&this.node.dispatchEvent(e.event),delete this.times[e.id]},n.register=function(e,t,i,n){var s=new o;s.step=1;var c={};return c.id=r.guid(),c.timer=s,c.object=e,c.field=t,c.onSecond=i,c.onComplete=n,this.times[c.id]=c,c.id},n.unRegister=function(e){this.times[e]&&delete this.times[e]},n.setServerTime=function(e){return e&&(this.serverTime=e),this.serverTime},n.getServerTime=function(){return this.serverTime+this.getTime()},n.format=function(e,t){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},n.getTime=function(){return this.getLocalTime()-this.initTime},n.getLocalTime=function(){return Date.now()},n.getTimeBefore=function(e){var t=(this.getLocalTime()-e.getTime())/1e3,i=Math.floor(t/86400);t-=86400*i;var n=Math.floor(t/3600);t-=3600*n;var r=Math.floor(t/60);return i>=30?"1个月前":i<30&&i>7?"一星期前":i>=3&&i<=7?"3天前":i>=1&&i<3?i+"天前":i<1&&n>=1?n+"小时前":n<1?r+"分钟前":"刚刚"},n.save=function(){for(var e in this.times)this.times[e].startTime=this.getTime()},n.load=function(){for(var e in this.times){var t=Math.floor((this.getTime()-(this.times[e].startTime||this.getTime()))/1e3),i=this.times[e];i.object[i.field]=i.object[i.field]-t,i.object[i.field]<0&&(i.object[i.field]=0,this.onTimerComplete(i)),i.startTime=null}},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/TipAccess.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./PopUpBase.ts","./TipAccessItem.ts"],(function(e){"use strict";var t,n,i,c,o,r,s,l,a,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,c=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Label,a=e.Node},function(e){u=e.smc},function(e){p=e.PopUpBase},function(e){f=e.TipAccessItem}],execute:function(){var d,m,h,y,b,g,v;r._RF.push({},"51376k4fPlJFofzGWQzWNrA","TipAccess",void 0);var A=s.ccclass,C=s.property;e("TipAccess",(d=A("TipAccess"),m=C(l),h=C(a),d((g=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblDesc",g,c(t)),i(t,"nodeContent",v,c(t)),t}return n(t,e),t.prototype.onAdded=function(e){var t=e.cfg,n=t.access,i=t.name;n=[].concat(n).map((function(e){return[e,Number(u.system.checkOpened(e))]})).sort((function(e,t){return e[1]!==t[1]?t[1]-e[1]:e[0]-t[0]})).map((function(e){return e[0]})),this.lblDesc.string=e.title||"点击前往获取["+i+"]",this.items.forEach((function(e,t){t<n.length?(e.node.active=!0,e.init({sysId:n[t]})):e.node.active=!1}))},o(t,[{key:"items",get:function(){return this.nodeContent.getComponentsInChildren(f)}}]),t}(p)).prototype,"lblDesc",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(b.prototype,"nodeContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/TipAccessItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableGameSys.ts"],(function(t){"use strict";var e,s,i,n,o,c,r,l,a,u,p,y,m,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.Label,l=t.Button,a=t.Component},function(t){u=t.oops},function(t){p=t.ViewUtil},function(t){y=t.GameEvent},function(t){m=t.smc},function(t){d=t.TableGameSys}],execute:function(){var h,f,b,I,g,G,v;o._RF.push({},"57d1esPfhZHDoIJr1w3Cqlr","TipAccessItem",void 0);var T=c.ccclass,k=c.property;t("TipAccessItem",(h=T("TipAccessItem"),f=k(r),b=k(l),h((G=e((g=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"lblName",G,n(e)),i(e,"btnGo",v,n(e)),e.sysId=null,e}s(e,t);var o=e.prototype;return o.init=function(t){this.sysId=t.sysId;var e=d[t.sysId];this.lblName.string=e.name,p.setGray(this.btnGo,!m.system.checkOpened(this.sysId))},o.start=function(){this.btnGo.node.on("click",this.onGoClick,this)},o.onGoClick=function(){m.system.checkOpened(this.sysId,!0)&&(u.gui.popup.clear(!0),u.gui.dialog.clear(!0),u.message.dispatchEvent(y.Goto,{sysId:this.sysId}))},e}(a)).prototype,"lblName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(g.prototype,"btnGo",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=g))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./TableGameAttrPop.ts","./AttrItemNew.ts"],(function(t){"use strict";var e,n,i,r,o,a,l,s,p,c,u,f,b,m,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Prefab,p=t.Node,c=t.instantiate,u=t.Component},function(t){f=t.oops},function(t){b=t.JsonUtil},function(t){m=t.TableGameAttrPop},function(t){d=t.AttrItemNew}],execute:function(){var A,h,y,g,v,T,_,w,C;o._RF.push({},"75d5859wAJPyKMDZffxAe3a","TipAttr",void 0);var I=a.ccclass,P=a.property;t("TipAttr",(A=I("TipAttr"),h=P(l),y=P(s),g=P(p),A((_=e((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"lblTitle",_,r(e)),i(e,"pfbAttrItem",w,r(e)),i(e,"nodeContent",C,r(e)),e._params=null,e}n(e,t);var o=e.prototype;return o.onAdded=function(t){this._params=t},o.start=function(){var t=this;this._params.title&&(this.lblTitle.string=this._params.title),Object.values(b.get(m.TableName)).forEach((function(e){var n=c(t.pfbAttrItem);n.parent=t.nodeContent,n.getComponent(d).init(e.title,e.name,t._params.attrs)}))},o.onXClick=function(){f.gui.removeByNode(this.node,!0)},e}(u)).prototype,"lblTitle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(T.prototype,"pfbAttrItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(T.prototype,"nodeContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=T))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipBuy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./TableUtil.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,l,c,u,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,l=t.Toggle,c=t.Component},function(t){u=t.oops},function(t){p=t.smc},function(t){g=t.TableUtil}],execute:function(){var m,h,d,f,b,y,C,k,v;a._RF.push({},"f400fn5JgBCXYcwdfYu9kuQ","TipBuy",void 0);var B=s.ccclass,T=s.property;t("TipBuy",(m=B("TipBuy"),h=T(r),d=T(r),f=T(l),m((C=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"lblCost",C,o(e)),n(e,"lblDesc",k,o(e)),n(e,"toggleAgain",v,o(e)),e.params=void 0,e}i(e,t);var a=e.prototype;return a.onAdded=function(t){this.params=t},a.start=function(){this.toggleAgain.isChecked=!1,this.lblCost.string=this.params.costStr,this.lblDesc.string=this.params.descStr},a.update=function(t){},a.onClickBuy=function(){p.accountData.getItemCount(this.params.needItem.id)>=this.params.needItem.num?(this.toggleAgain.isChecked&&u.storage.set(this.params.key,1),this.params.callback(),this.onXClick()):u.gui.toast(g.getItemName(this.params.needItem.id)+"不足！")},a.onXClick=function(){u.gui.removeByNode(this.node,!0)},e}(c)).prototype,"lblCost",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(y.prototype,"lblDesc",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(y.prototype,"toggleAgain",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/TipBuyDice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ItemsGroup.ts","./TableShop.ts","./TableUtil.ts","./BagItem.ts","./BuyDiceItem.ts"],(function(e){"use strict";var t,i,n,r,o,l,a,u,s,c,p,m,b,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Button,u=e.Label,s=e.Component},function(e){c=e.oops},function(e){p=e.ItemsGroup},function(e){m=e.TableShop},function(e){b=e.TableUtil},function(e){y=e.BagItem},function(e){f=e.BuyDiceItem}],execute:function(){var h,D,B,g,d,v,I,T,z,w,A,S,C;o._RF.push({},"be9fbQ0+PFNdI4xGl1iep5/","TipBuyDice",void 0);var X=l.ccclass,F=l.property;e("TipBuyDice",(h=X("TipBuyDice"),D=F(a),B=F(y),g=F(u),d=F(f),v=F(f),h((z=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"btnX",z,r(t)),n(t,"item",w,r(t)),n(t,"lblDesc",A,r(t)),n(t,"itemAD",S,r(t)),n(t,"itemBuy",C,r(t)),t.params=null,t}i(t,e);var o=t.prototype;return o.onAdded=function(e){this.params=e;var t=b.get(m,e.ShopBuy);p.loadDropItems([this.item],t.drop[0]),this.lblDesc.string="获取"+this.item.cfg.name},o.start=function(){this.itemAD.init(this.params.ShopFreeAD),this.itemBuy.init(this.params.ShopBuy),this.btnX.node.on(a.EventType.CLICK,this.onXClick,this)},o.onXClick=function(){c.gui.removeByNode(this.node,!0)},t}(s)).prototype,"btnX",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(T.prototype,"item",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(T.prototype,"lblDesc",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(T.prototype,"itemAD",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(T.prototype,"itemBuy",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=T))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipEquip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./TableGameEquipQuality.ts","./TableUtil.ts","./Util.ts","./AttrItem.ts","./EquipItem.ts"],(function(t){"use strict";var i,e,n,r,a,l,o,u,s,p,c,m,b,f,h,d,g,q,y,v,E;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,s=t.Prefab,p=t.Label,c=t.Button,m=t.Node,b=t.instantiate,f=t.Component},function(t){h=t.oops},function(t){d=t.smc},function(t){g=t.TableGameEquipQuality},function(t){q=t.TableUtil},function(t){y=t.Util},function(t){v=t.AttrItem},function(t){E=t.EquipItem}],execute:function(){var A,C,I,_,T,w,z,S,O,L,k,B,Q,R,j,D,N,P,F;o._RF.push({},"cf24dzcjHlMnbSXDTRZ4Ml7","TipEquip",void 0);var M=u.ccclass,U=u.property;t("TipEquip",(A=M("TipEquip"),C=U(s),I=U(E),_=U(p),T=U(p),w=U(p),z=U(c),S=U(c),O=U(m),A((B=i((k=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,n(i,"pfbAttrItem",B,r(i)),n(i,"equipItem",Q,r(i)),n(i,"lblName",R,r(i)),n(i,"lblLevel",j,r(i)),n(i,"lblQuality",D,r(i)),n(i,"btnOp",N,r(i)),n(i,"btnSell",P,r(i)),n(i,"nodeContent",F,r(i)),i._params=null,i}e(i,t);var o=i.prototype;return o.onLoad=function(){this.equipItem.getComponent(c).interactable=!1},o.onAdded=function(t){this._params=t},o.start=function(){var t=this._params;this.lblName.string=t.cfg.name,this.lblLevel.string="等级："+t.cfg.level;var i=new g;this.lblQuality.string="【"+i.init(this._params.info.qid).name+"】",this.lblQuality.color=q.getEquipQualityColor(this._params.info.qid),this.equipItem.initByEquipInfo(t.info),this.initAttr(),t.uid?(this.btnOp.getComponentInChildren(p).string=t.equiped?"卸下":"装备",this.btnSell.node.active=!t.equiped):(this.btnOp.node.active=!1,this.btnSell.node.active=!1)},o.initAttr=function(){var t=this,i=q.getEquipBasicAttr(this._params.cfg,this._params.info);Object.entries(i).forEach((function(i){t.addAttrItem().init(i)}));var e=q.getEquipAddAttr(this._params.info);if(y.isEmpty(e)||(this.addAttrItem().initTitle("[附加属性]").setColor("E4715C"),Object.entries(e).forEach((function(i){t.addAttrItem().init(i).setColor("E4715C")}))),this._params.equiped){var n=d.accountData.getEquipPosLevel(d.account.sltRole,this._params.pos);if(n>0){this.addAttrItem().initTitle("[部位属性]").setColor("6AF1BE");var r=q.getEquipPosAttr(this._params.pos,n);Object.entries(r).forEach((function(i){t.addAttrItem().init(i).setColor("6AF1BE")}))}}},o.addAttrItem=function(){var t=b(this.pfbAttrItem);return t.parent=this.nodeContent,t.getComponent(v)},o.onOpClick=function(){var t=a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.equip.reqSetupEquip(d.account.sltRole,this._params.pos,this._params.uid,!this._params.equiped),this.onXClick();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onSellClick=function(){this._params.equiped?h.gui.toast("请先卸下装备"):(d.equip.reqSellEquip(this._params.uid),this.onXClick())},o.onXClick=function(){h.gui.removeByNode(this.node,!0)},i}(f)).prototype,"pfbAttrItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(k.prototype,"equipItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(k.prototype,"lblName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(k.prototype,"lblLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(k.prototype,"lblQuality",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(k.prototype,"btnOp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(k.prototype,"btnSell",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(k.prototype,"nodeContent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=k))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipEquipReplace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./PlayerHead.ts","./SingletonModuleComp.ts","./TableGameEquip.ts","./TableUtil.ts","./AttrItem.ts","./EquipPos.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,c,l,u,g,d,h,p,v,m,f,w;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,a=e._decorator,o=e.tween,s=e.Vec3,r=e.Button,c=e.UITransform,l=e.Size,u=e.Color,g=e.Component},function(e){d=e.oops},function(e){h=e.PlayerHead},function(e){p=e.smc},function(e){v=e.TableGameEquip},function(e){m=e.TableUtil},function(e){f=e.AttrItem},function(e){w=e.EquipPos}],execute:function(){var y;i._RF.push({},"41bc5ZIySZPR7H3U6Bmida0","TipEquipReplace",void 0);var b=a.ccclass;a.property,e("TipEquipReplace",b("TipEquipReplace")(y=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).params=void 0,t.nodeAttrPro=void 0,t.nodeAttrBase=void 0,t.spriteFrame=void 0,t.posY=[-80,-113,-166,-201,-267,-300],t.spriteBgH=[180,270,374],t}t(i,e);var a=i.prototype;return a.onAdded=function(e){this.params=e,this.init()},a.start=function(){var e=this;o(this.node).set({scale:s.ZERO}).to(.5,{scale:s.ONE},{easing:"backOut"}).delay(.4).call((function(){})).delay(2).to(.2,{scale:s.ZERO},{easing:"cubicIn"}).call((function(){d.gui.removeByNode(e.node,!0)})).start()},a.init=function(){var e,t,n,i=this;this.spriteFrame=this.node.getChildByName("spriteFrame"),this.nodeAttrBase=null==(e=this.spriteFrame)?void 0:e.getChildByName("attrs_base"),this.nodeAttrPro=null==(t=this.spriteFrame)?void 0:t.getChildByName("attrs_pro");var a=null==(n=this.spriteFrame)?void 0:n.getChildByName("Nodeplayer");if(a){var c=a.getChildByName("player1"),l=null==c?void 0:c.getChildByName("equips");if(c&&l){for(var u=0,g=function(e){var t=p.accountData.roles[e];i.getequipPoses(l).forEach((function(n,a){var o=a+1;n.init(t,o),n.getComponent(r).enabled=!1;var s=i.showNewTag(i.params.newEquip,t,o);n.node.getChildByName("newTag").active=s,s&&(u=e)}))},d=0;d<p.accountData.roles.length;d++)g(d);var v=p.accountData.roles[u];this.getequipPoses(l).forEach((function(e,t){var n=t+1;e.init(v,n),e.getComponent(r).enabled=!1;var a=i.showNewTag(i.params.newEquip,v,n);e.node.getChildByName("newTag").active=a,a&&o(e.node.getChildByName("newTag")).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).start()}));var m=null==c?void 0:c.getChildByName("player_head");m&&m.getComponent(h).initView(u+1+""),this.showAttr()}}},a.init3play=function(){var e,t,n,i=this;this.spriteFrame=this.node.getChildByName("spriteFrame"),this.nodeAttrBase=null==(e=this.spriteFrame)?void 0:e.getChildByName("attrs_base"),this.nodeAttrPro=null==(t=this.spriteFrame)?void 0:t.getChildByName("attrs_pro");for(var a=null==(n=this.spriteFrame)?void 0:n.getChildByName("Nodeplayer"),c=0;c<p.accountData.roles.length;c++){var l=a.getChildByName("player"+(c+1)),u=null==l?void 0:l.getChildByName("equips");u&&l&&function(){var e;l.active=!0;var t=p.accountData.roles[c];i.getequipPoses(u).forEach((function(e,n){var a=n+1;e.init(t,a),e.getComponent(r).enabled=!1;var c=i.showNewTag(i.params.newEquip,t,a);e.node.getChildByName("newTag").active=c,c&&o(e.node.getChildByName("newTag")).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new s(1,1,1)},{easing:"cubicIn"}).to(.3,{scale:new s(1.1,1.1,1.1)},{easing:"backOut"}).start()}));var n=null==(e=a.getChildByName("player"+(c+1)))?void 0:e.getChildByName("player_head");n&&n.getComponent(h).initView(c+1+"")}()}this.changeAttrPos(),this.showAttr()},a.changeAttrPos=function(){var e,t,n,i=this,a=p.accountData.roles.length;1==a?(e=this.posY[0],t=this.posY[1],n=this.spriteBgH[0]):2==a?(e=this.posY[2],t=this.posY[3],n=this.spriteBgH[1]):(e=this.posY[4],t=this.posY[5],n=this.spriteBgH[2]),this.scheduleOnce((function(){i.nodeAttrBase.position=new s(10,e),i.nodeAttrPro.position=new s(10,t)}),0);var o=this.spriteFrame.getChildByName("spriteBg");o&&this.scheduleOnce((function(){o.getComponent(c).contentSize=new l(720,n)}),0)},a.showNewTag=function(e,t,n){var i;return!(!e||void 0===e.id)&&(e.tmphid===t&&(null==(i=m.get(v,e.id))?void 0:i.pos)===n)},a.showAttr=function(){var e=this,t=this.params.oldEquip,n=this.params.newEquip,i={};t&&(i=m.getEquipTotalAttr(t));var a=m.get(v,n.id),o=m.getEquipBasicAttr(a,n),s=Object.entries(o);p.accountData.getZhanli();if(this.baseAttrItems.forEach((function(t,n){if(t.node.active=n<s.length,n<s.length){var a=s[n];t.init(a,!0);var o=t.getValueLabel();o&&o.changeTo(1,parseInt(o.string)),e.setAttrFlag(t,a,i)}})),n.add){this.nodeAttrPro.active=!0;var r=m.getEquipAddAttr(n),c=Object.entries(r);this.proAttrItems.forEach((function(t,n){if(t.node.active=n<c.length,n<c.length){var a=c[n];t.init(a,!0);var o=t.getValueLabel(),s=t.getNameLabel();e.setAttrFlag(t,a,i);var r=t.getFlag();o.node.setPosition(s.node.getPosition().x+s.string.length*s.fontSize,o.node.getPosition().y),r&&e.scheduleOnce((function(){r.node.setPosition(s.node.getPosition().x+(o.string.length+s.string.length)*s.fontSize+20,0)}),0)}}))}else this.nodeAttrPro.active=!1},a.getequipPoses=function(e){return e.getComponentsInChildren(w)},a.setAttrFlag=function(e,t,n){var i=e.getFlag();t[0]in n?(i.node.active=!0,t[1]>n[t[0]]?(i.color=u.GREEN,i.node.angle=-180):t[1]<n[t[0]]?(i.color=u.RED,i.node.angle=0):i.node.active=!1):i.node.active=!1},a.onXClick=function(){d.gui.removeByNode(this.node,!1)},n(i,[{key:"baseAttrItems",get:function(){var e;return null==(e=this.nodeAttrBase)?void 0:e.getComponentsInChildren(f)}},{key:"proAttrItems",get:function(){var e;return null==(e=this.nodeAttrPro)?void 0:e.getComponentsInChildren(f)}}]),i}(g))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/TipFireUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Duobao.ts","./FireUpItem.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,l,u,c,p,f,h,m,d,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,l=t.Button,u=t.Node,c=t.Label,p=t.Component},function(t){f=t.oops},function(t){h=t.GameEvent},function(t){m=t.smc},function(t){d=t.TableUtil},function(t){b=t.Duobao},function(t){g=t.FireUpItem}],execute:function(){var y,I,v,C,U,T,F,z,D;s._RF.push({},"9e8610xZ31DQJfO9owaZMVU","TipFireUp",void 0);var _=a.ccclass,B=a.property;t("TipFireUp",(y=_("TipFireUp"),I=B(l),v=B(u),C=B(c),y((F=e((T=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"btnX",F,o(e)),i(e,"nodeItems",z,o(e)),i(e,"lblCount",D,o(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.init(),this.btnX.node.on(l.EventType.CLICK,this.onXClick,this),f.message.on(h.ItemBagUpdated,this._eventHandler,this)},s.onDestroy=function(){f.message.off(h.ItemBagUpdated,this._eventHandler,this)},s.init=function(){this.items.forEach((function(t,e){t.init(b.FireList[e])})),this.refresh()},s.refresh=function(){this.lblCount.string="当前"+d.getItemName(b.Items.Tuzhi)+"："+m.accdata.getItemCount(b.Items.Tuzhi),this.items.forEach((function(t){return t.refreshRedot()}))},s.onXClick=function(){f.gui.removeByNode(this.node,!0)},s._eventHandler=function(t,e){t==h.ItemBagUpdated&&this.refresh()},r(e,[{key:"items",get:function(){return this.nodeItems.getComponentsInChildren(g)}}]),e}(p)).prototype,"btnX",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(T.prototype,"nodeItems",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(T.prototype,"lblCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=T))||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/TipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./BagItem.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,n,r,l,o,a,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,s=e.Component},function(e){c=e.oops},function(e){u=e.BagItem},function(e){p=e.smc}],execute:function(){var m,b,f,g,d,h,y,v,I,C,_;l._RF.push({},"ede9e9P6o5OrKkebQrAQ8fp","TipItem",void 0);var z=o.ccclass,B=o.property;e("TipItem",(m=z("TipItem"),b=B(u),f=B(a),g=B(a),d=B(a),m((v=t((y=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"item",v,r(t)),n(t,"lblName",I,r(t)),n(t,"lblCount",C,r(t)),n(t,"lblDesc",_,r(t)),t._params=null,t}i(t,e);var l=t.prototype;return l.onAdded=function(e){this._params=e},l.start=function(){var e=this._params.cfg;this.item.init(e.id),this.lblName.string=e.name,this.lblCount.string="拥有："+p.accdata.getItemCount(e.id),this.lblDesc.string=this.splitByLine(e.dec)},l.splitByLine=function(e){for(var t=e.split("\\n"),i="",n=0;n<t.length;n++)i=i+t[n]+"\n";return i},l.onXClick=function(){c.gui.removeByNode(this.node,!0)},t}(s)).prototype,"item",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(y.prototype,"lblName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"lblCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(y.prototype,"lblDesc",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/TipLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./ItemsGroup.ts","./UMASDK.ts","./SingletonModuleComp.ts","./TableGameMonster.ts","./TableModelConfig.ts","./TableUtil.ts","./Util.ts","./Guide.ts","./GuideTrigger.ts","./Level.ts","./RoleLoader.ts"],(function(e){"use strict";var t,i,n,r,l,a,o,s,c,u,f,p,g,b,d,h,m,v,y,T,L,k,x,I,G,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,u=e.RichText,f=e.Component},function(e){p=e.oops},function(e){g=e.UIID,b=e.DialogAnimation},function(e){d=e.ItemsGroup},function(e){h=e.UMASDK,m=e.UMA_PROFILE},function(e){v=e.smc},function(e){y=e.TableGameMonster},function(e){T=e.TableModelConfig},function(e){L=e.TableUtil},function(e){k=e.delay},function(e){x=e.GuideTypes},function(e){I=e.GuideTrigger},function(e){G=e.LevelGame},function(e){M=e.RoleLoader}],execute:function(){var F,w,z,R,C,D,U,A,S,_,B,P,Z,N,E;o._RF.push({},"6a0e8VxyJRNobohSdG26Myk","TipLevel",void 0);var O=s.ccclass,K=s.property;e("TipLevel",(F=O("TipLevel"),w=K(c),z=K(c),R=K(M),C=K(d),D=K(u),U=K(d),F((_=t((S=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"lblName",_,r(t)),n(t,"lblZhanli",B,r(t)),n(t,"role",P,r(t)),n(t,"items",Z,r(t)),n(t,"richForTask",N,r(t)),n(t,"itemsForTask",E,r(t)),t.level=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e=v.accdata.nextGameLevel||v.accdata.gameLevel;this.level=new G(e);var t=L.getDropItems(this.level.cfg.drop,this.level.cfg.exp);this.items.initItemsRecord(t);var i=new G(this.level.cfg.drop2get);if(i.cfg){this.richForTask.string="<b><outline color=black width=3><size=38><color=#59eaaf>通关<size=28><color=#ffffff>"+i.cfg.name+"</color></size>可额外获得</color></size></outline></b>";var n=L.getDropItems(i.cfg.drop2);this.itemsForTask.initItemsRecord(n)}},o.start=function(){this.lblName.string=this.level.cfg.name;var e=L.get(y,this.level.bossId),t=L.get(T,e.model_id),i=L.calZhanli(L.getMonsterAttr(this.level.bossId));this.lblZhanli.string="战力："+(i||""),this.role.load(t),this.role.setScale(t.ui_model_scale*L.BPS)},o.onXClick=function(){p.gui.removeByNode(this.node,!0)},o.onFightClick=function(){var e=l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onXClick(),e.next=3,v.battle.createAndPlay(this.level);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(!v.battle.isWin()){e.next=17;break}return v.account.doResChange(v.battle.fightInfo),v.accdata.gameLevel=v.battle.level.id,h.doProfile(m.GAME_LEVEL,v.accdata.gameLevel),e.next=12,p.gui.openModal(g.Win,v.battle.fightInfo,b);case 12:if(1!=v.accdata.gameLevel){e.next=15;break}return e.next=15,v.guide.try(x.GameLevelFinish);case 15:e.next=22;break;case 17:return e.next=19,p.gui.openModal(g.Lose,v.battle.level.ty,b);case 19:if(0!=v.recharge.isBuyFirstGift){e.next=22;break}return e.next=22,p.gui.openModal(g.FirstRecharge);case 22:return v.battle.clear(),p.gui.remove(g.Battle,!0),e.next=26,k(200);case 26:1!=v.ebox.level||v.guide.isFinished(x.DuanZaoUp)?p.gui.open(g.TipLevel):(I.ClearUI(),v.guide.try(x.DuanZaoUp));case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onInfoClick=function(){var e={title:"BOSS详细属性",attrs:L.getMonsterAttr(this.level.bossId)};p.gui.open(g.TipAttr,e)},t}(f)).prototype,"lblName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(S.prototype,"lblZhanli",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(S.prototype,"role",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(S.prototype,"items",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(S.prototype,"richForTask",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(S.prototype,"itemsForTask",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=S))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipLevel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./ItemsGroup.ts","./PopUpBase.ts","./UMASDK.ts","./SingletonModuleComp.ts","./TableGameAttr.ts","./TableGameMonster.ts","./TableModelConfig.ts","./TableUtil.ts","./Util.ts","./AttrItem.ts","./Level.ts","./RoleLoader.ts","./PosOrderEdit.ts"],(function(e){"use strict";var t,r,i,o,n,l,a,s,c,u,f,p,d,b,h,g,m,v,y,T,L,A,I,k,w,M,x,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,c=e.Label,u=e.RichText},function(e){f=e.oops},function(e){p=e.UIID,d=e.DialogAnimation},function(e){b=e.ItemsGroup},function(e){h=e.PopUpBase},function(e){g=e.UMASDK,m=e.UMA_PROFILE},function(e){v=e.smc},function(e){y=e.TableGameAttr},function(e){T=e.TableGameMonster},function(e){L=e.TableModelConfig},function(e){A=e.TableUtil,I=e.SpecAttrKeys},function(e){k=e.delay},function(e){w=e.AttrItem},function(e){M=e.LevelGame2},function(e){x=e.RoleLoader},function(e){z=e.PosOrderEdit}],execute:function(){var F,G,D,E,P,R,U,_,C,O,S,B,N,Z,K,j,V,W,X;a._RF.push({},"ddc32npZMFDs4dX7NOG00Nd","TipLevel2",void 0);var H=s.ccclass,q=s.property;e("TipLevel2",(F=H("TipLevel2"),G=q(c),D=q(c),E=q(x),P=q(b),R=q(z),U=q(u),_=q(u),C=q(b),F((B=t((S=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"lblName",B,o(t)),i(t,"lblZhanli",N,o(t)),i(t,"role",Z,o(t)),i(t,"items",K,o(t)),i(t,"orderEdit",j,o(t)),i(t,"richAttr",V,o(t)),i(t,"richForTask",W,o(t)),i(t,"itemsForTask",X,o(t)),t.level=null,t}r(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this);var t=v.accdata.nextGameLevel||v.accdata.gameLevel;this.level=new M(t);var r=A.getDropItems(this.level.cfg.drop,this.level.cfg.exp);this.items.initItemsRecord(r);var i=new M(this.level.cfg.drop2get);if(i.cfg){this.richForTask.string="<b><outline color=black width=3><size=38><color=#59eaaf>通关<size=28><color=#ffffff>"+i.cfg.name+"</color></size>可额外获得</color></size></outline></b>";var o=A.getDropItems(i.cfg.drop2);this.itemsForTask.initItemsRecord(o)}},a.start=function(){e.prototype.start.call(this),this.lblName.string=this.level.cfg.name;var t=A.get(T,this.level.bossId),r=A.get(L,t.model_id),i=A.calZhanli(A.getMonsterAttr(this.level.bossId));this.lblZhanli.string=i.toString(),this.role.load(r),this.role.setScale(r.ui_model_scale*A.BPS);var o=A.extractAttrs(t),n=[].concat(I).filter((function(e){return o[e]})).map((function(e){return[e,o[e]]}));if(n.length>0){var l=["<color=white>特殊属性</color>"].concat(n.map((function(e){var t=e[0],r=e[1];return"<color=#fdb62d>"+y[t].name+"：</color><color=green>"+w.FmtAttrValue([t,r])+"</color>"}))).join("\n");l="<outline color=black width=3>"+l+"</outline>",this.richAttr.string=l}else this.richAttr.node.parent.active=!1;var a=v.battle.getOrders();this.orderEdit.load(a)},a.onFightClick=function(){var e=n(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onXClick(),v.battle.setOrders(this.orderEdit.orders),(t=this.level).setPosOrder(this.orderEdit.orders),e.next=6,v.battle.createAndPlay(t);case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:if(!v.battle.isWin()){e.next=16;break}return v.account.doResChange(t.fightInfo),v.accountData.gameLevel=t.id,g.doProfile(m.GAME_LEVEL,v.accdata.gameLevel),e.next=14,f.gui.openModal(p.Win,t.fightInfo,d);case 14:e.next=21;break;case 16:return e.next=18,f.gui.openModal(p.Lose,t.ty,d);case 18:if(v.recharge.isBuyFirstGift){e.next=21;break}return e.next=21,f.gui.openModal(p.FirstRecharge);case 21:return v.battle.clear(),f.gui.remove(p.Battle,!0),e.next=25,k(200);case 25:f.gui.open(p.TipLevel2);case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onInfoClick=function(){var e={attrs:A.getMonsterAttr(this.level.bossId)};f.gui.open(p.TipAttr,e)},t}(h)).prototype,"lblName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(S.prototype,"lblZhanli",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(S.prototype,"role",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(S.prototype,"items",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(S.prototype,"orderEdit",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(S.prototype,"richAttr",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(S.prototype,"richForTask",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(S.prototype,"itemsForTask",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=S))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/TipLuckyDice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./SingletonModuleComp.ts","./Duobao.ts"],(function(e){"use strict";var t,n,i,o,c,r,u,a,s,l,p,y,b,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,u=e.Label,a=e.Button,s=e.Node,l=e.Component},function(e){p=e.oops},function(e){y=e.GameEvent},function(e){b=e.smc},function(e){f=e.Duobao,h=e.DuobaoOperationTypes}],execute:function(){var D,d,m,v,g,C,L,k,T;c._RF.push({},"10465T9XXhKqZNLVEJOczLB","TipLuckyDice",void 0);var E=r.ccclass,I=r.property;e("TipLuckyDice",(D=E("TipLuckyDice"),d=I(u),m=I(a),v=I(s),D((L=t((C=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,i(t,"lblCount",L,o(t)),i(t,"btnX",k,o(t)),i(t,"nodeDices",T,o(t)),t}n(t,e);var c=t.prototype;return c.start=function(){var e=this;this.nodeDices.children.forEach((function(t){t.on(a.EventType.CLICK,e.onDiceClick,e)})),this.lblCount.string="当前拥有的幸运骰子："+b.accountData.getItemCount(f.Items.LuckyDice),this.btnX.node.on(a.EventType.CLICK,this.onXClick,this)},c.onDiceClick=function(e){if(b.bag.checkCostSingle(f.Items.LuckyDice,1,!0)){var t={ty:h.Dice,num:parseInt(e.node.name)};p.message.dispatchEvent(y.DuobaoOperation,t),p.gui.removeByNode(this.node,!0)}},c.onXClick=function(){p.gui.removeByNode(this.node,!0)},t}(l)).prototype,"lblCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"btnX",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(C.prototype,"nodeDices",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=C))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/TipMultiBuy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagItem.ts","./SingletonModuleComp.ts","./Oops.ts","./CostItem.ts","./TableUtil.ts","./JsonUtil.ts","./TableGameItem.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,u,l,c,m,p,h,g,b,f,I,d,N,C,v,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,l=t.Label,c=t.Node,m=t.Color,p=t.color,h=t.ProgressBar,g=t.Slider,b=t.Component},function(t){f=t.BagItem},function(t){I=t.smc},function(t){d=t.oops},function(t){N=t.CostItem},function(t){C=t.TableUtil},function(t){v=t.JsonUtil},function(t){D=t.TableGameItem}],execute:function(){var _,y,B,w,T,z,R,k,M,O,A,E,L,S,x,G,U;a._RF.push({},"566cbfRZRVJ0ZnGw8m24LvS","TipMultiBuy",void 0);var j,J=u.ccclass,P=u.property;!function(t){t[t.Reduce=0]="Reduce",t[t.Add=1]="Add"}(j||(j={}));t("TipMultiBuy",(_=J("TipMultiBuy"),y=P(f),B=P(l),w=P(l),T=P(l),z=P(c),R=P(l),k=P(N),_((A=e((O=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"itemIcon",A,o(e)),n(e,"itemName",E,o(e)),n(e,"itemOwn",L,o(e)),n(e,"itemDesc",S,o(e)),n(e,"pgBar",x,o(e)),n(e,"lblNum",G,o(e)),n(e,"lblCost",U,o(e)),e.params=void 0,e._itemID=void 0,e._costID=void 0,e._costNum=void 0,e}i(e,t);var a=e.prototype;return a._freshCostItem=function(t){this.lblCost.init2(this._costID,t*this._costNum),this.lblCost.node.getChildByName("Label").getComponent(l).color=t*this._costNum>I.accountData.getItemCount(this._costID)?m.RED:p(149,255,125)},a.onAdded=function(t){this.params=t},a.start=function(){var t=this,e=C.getDropItems(this.params.drop);Object.entries(e).forEach((function(e){var i=e[0],n=e[1];t._itemID=parseInt(i),t.itemIcon.init(t._itemID,n)}));var i=v.get(D.TableName)[this._itemID];this.itemName.string=null==i?void 0:i.name,this.itemDesc.string=null==i?void 0:i.dec,Object.entries(this.params.cost).forEach((function(e){var i=e[0],n=e[1];t._costID=Number(i),t._costNum=Number(n)})),this.freshItemNum(1),this.fresh()},a.update=function(t){},a.fresh=function(){var t=I.accountData.getItemCount(this._itemID);this.itemOwn.string="拥有："+t},a.freshItemNum=function(t){this.lblNum.string=t+"";var e=I.accountData.getItemCount(this._costID)>0?t*this._costNum/I.accountData.getItemCount(this._costID):0;this.pgBar.getComponent(h).progress=e,this.pgBar.getComponent(g).progress=e,this._freshCostItem(t)},a.onSliderEvent=function(){var t=I.accountData.getItemCount(this._costID);this.pgBar.getComponent(h).progress=this.pgBar.getComponent(g).progress,this.lblNum.string=Math.floor(t/this._costNum*this.pgBar.getComponent(g).progress)+"",this._freshCostItem(Number(this.lblNum.string))},a.onClickOp=function(t,e){var i=Number(this.lblNum.string);Number(e)==j.Add?++i*this._costNum>I.accountData.getItemCount(this._costID)&&i--:Number(e)==j.Reduce&&--i<0&&(i=0),this.freshItemNum(i)},a.onClickExchange=function(){var t=r(s().mark((function t(){var e,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=Number(this.lblNum.string))<=0)){t.next=4;break}return d.gui.toast("购买数量不能为0！"),t.abrupt("return");case 4:null==(e=this.params)||e.callBack(i,this);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onClickBack=function(){d.gui.removeByNode(this.node,!0)},e}(b)).prototype,"itemIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(O.prototype,"itemName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(O.prototype,"itemOwn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(O.prototype,"itemDesc",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(O.prototype,"pgBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(O.prototype,"lblNum",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(O.prototype,"lblCost",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=O))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/TipPlayerInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AccountData.ts","./EquipPos.ts","./RoleInfoPanel.ts","./SkillPosItem.ts","./HeadPicker.ts","./RoleUI.ts","./YishouPlayerInfoItem.ts"],(function(e){"use strict";var i,o,t,n,r,a,l,c,s,u,f,h,d,p,y,I;return{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,c=e.Component},function(e){s=e.oops},function(e){u=e.AccountRoleData},function(e){f=e.EquipPos},function(e){h=e.RoleInfoPanel},function(e){d=e.SkillPosItem},function(e){p=e.HeadPicker},function(e){y=e.RoleUILoader},function(e){I=e.YishouPlayerInfoItem}],execute:function(){var b,P,m,_,g,k,v,R,w,z,D,E,C,L,S;r._RF.push({},"64c9eCBZ6FKHKCkYr3AfaAb","TipPlayerInfo",void 0);var A=a.ccclass,q=a.property;e("PlayerInfo",(b=A("PlayerInfo"),P=q(l),m=q(l),_=q(y),g=q(h),k=q(p),v=q([I]),b((z=i((w=function(e){function i(){for(var i,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,t(i,"nodeSkills",z,n(i)),t(i,"nodeEquips",D,n(i)),t(i,"roleLoader",E,n(i)),t(i,"roleInfoPanel",C,n(i)),t(i,"headPicker",L,n(i)),t(i,"yishouItems",S,n(i)),i._accdata=null,i._idx=0,i._yishouDeployInfo=[0,0,0],i}o(i,e);var r=i.prototype;return r.onAdded=function(e){this._accdata=new u(e.roleinfo),this._yishouDeployInfo=e.roleinfo.rmon},r.start=function(){this.headPicker.init(this._accdata.roles),this.refresh()},r.onRoleTabClick=function(e){var i=e.node.getSiblingIndex();this._idx=i,this.refresh()},r.refresh=function(){var e=this,i=this._accdata.roles[this._idx];this.roleLoader.init(this._accdata.getRole(i)),this.roleLoader.initHalo(this._accdata.haloId),this.nodeEquips.children.map((function(e){return e.getComponent(f)})).forEach((function(o,t){o.init(i,t+1,e._accdata)})),this.nodeSkills.children.map((function(e){return e.getComponent(d)})).forEach((function(o,t){o.init(i,t,e._accdata)})),this.roleInfoPanel.init(i,this._accdata);var o=this._yishouDeployInfo||[0,0,0];this.yishouItems.forEach((function(e,i){e.refresh(o[i])}))},r.onXClick=function(){s.gui.removeByNode(this.node,!0)},i}(c)).prototype,"nodeSkills",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(w.prototype,"nodeEquips",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(w.prototype,"roleLoader",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(w.prototype,"roleInfoPanel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(w.prototype,"headPicker",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(w.prototype,"yishouItems",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=w))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/TipPlayerInfoCQ.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TipPlayerInfo.ts","./EquipPos.ts","./AccountData.ts","./Caiquan.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,i,n,a,o,r,c,l,s,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator},function(t){c=t.PlayerInfo},function(t){l=t.EquipPos},function(t){s=t.AccountRoleData},function(t){u=t.Caiquan},function(t){f=t.smc}],execute:function(){var h,p,d,y,_;o._RF.push({},"ab2e2Dz9ElGTKCp4utBGvxc","TipPlayerInfoCQ",void 0);var v=r.ccclass,C=r.property;t("TipPlayerInfoCQ",(h=v("TipPlayerInfoCQ"),p=C(u),h((_=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"itemCQ",_,a(e)),e._level=void 0,e}i(e,t);var o=e.prototype;return o.onAdded=function(t){this._accdata=new s(t.roleinfo),this._level=t.level,f.arena.cqBothShowInfo={playerRoleinfo:f.accdata,enemyRoleinfo:this._accdata}},o.start=function(){this.headPicker.init(this._accdata.roles),this.itemCQ.setLevel(this._level),this.refresh()},o.refresh=function(){var t=this,e=this._accdata.roles[this._idx];this.roleLoader.init(this._accdata.getRole(e)),this.roleLoader.initHalo(this._accdata.haloId),this.nodeEquips.children.map((function(t){return t.getComponent(l)})).forEach((function(i,n){i.init(e,n+1,t._accdata)})),this.roleInfoPanel.init(e,this._accdata)},e}(c)).prototype,"itemCQ",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/TipReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ArrayUtil.ts","./BagItem.ts","./EquipItem.ts","./Settlement.ts","./Util.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,l,c,p,u,f,d,h,m,b,y,g,C,v,I,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.CCInteger,l=t.Prefab,c=t.Node,p=t.Button,u=t.Label,f=t.instantiate,d=t.Layout,h=t.Vec3,m=t.tween,b=t.Component},function(t){y=t.oops},function(t){g=t.ArrayUtil},function(t){C=t.BagItem},function(t){v=t.EquipItem},function(t){I=t.Settlement},function(t){E=t.Util}],execute:function(){var B,O,w,D,q,L,R,z,A,T,P,_,F,N,x;r._RF.push({},"04a2cNxvzZKf7FNKrqRoHMi","TipReward",void 0);var j=a.ccclass,k=a.property;t("TipReward",(B=j("TipReward"),O=k(s),w=k(l),D=k(l),q=k(c),L=k(p),R=k(u),B((T=e((A=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"FIXED_COL",T,o(e)),i(e,"pfbBagItem",P,o(e)),i(e,"pfbEquipItem",_,o(e)),i(e,"nodeContent",F,o(e)),i(e,"btnConfirm",N,o(e)),i(e,"lblDesc",x,o(e)),e.params=null,e}n(e,t);var r=e.prototype;return r.onAdded=function(t){this.params=t},r.start=function(){E.isEmpty(this.params.addEquip)||this.initByEquips(this.params.addEquip),E.isEmpty(this.params.additem)||this.initByItems(this.params.additem,this.params.bExpandItems),this.doLayout(this.nodeContent.children.length),this.params.contentPos&&(this.nodeContent.worldPosition=this.params.contentPos),!0===this.params.bAnim&&(this.btnConfirm.node.active=!1,this.lblDesc.node.active=!1,this.doAnimation())},r.initByEquips=function(t){var e=this;Object.values(t).forEach((function(t){var n=f(e.pfbEquipItem);n.parent=e.nodeContent,n.getComponent(v).initByEquipInfo(t)}))},r.initByItems=function(t,e){var n=this;if(void 0===e&&(e=!1),e){var i=Object.keys(t).reduce((function(e,n){for(var i=0;i<t[n];i++)e.push(n);return e}),[]);g.fisherYatesShuffle(i),i.forEach((function(t){var e=f(n.pfbBagItem);e.parent=n.nodeContent,e.getComponent(C).init(parseInt(t))}))}else Object.entries(t).forEach((function(t){var e=t[0],i=t[1],o=f(n.pfbBagItem);o.parent=n.nodeContent,o.getComponent(C).init(parseInt(e),i)}))},r.doLayout=function(t){var e=this,n=this.nodeContent.getComponent(d);t<this.FIXED_COL?n.type=d.Type.HORIZONTAL:(n.type=d.Type.GRID,3==t&&this.getComponent(I)&&this.scheduleOnce((function(){var t=e.nodeContent.children;if(3==t.length){var n=(t[0].position.x+t[1].position.x)/2;t[2].setPosition(n,t[2].position.y)}})))},r.doAnimation=function(){var t=this;this.nodeContent.children.forEach((function(t,e){t.scale=h.ZERO,m().target(t).delay(.2*e).to(.2,{scale:h.ONE},{easing:"backOut"}).start()})),this.scheduleOnce((function(){t.btnConfirm&&(t.btnConfirm.node.active=!0),t.lblDesc.node.active=!0}),.2*this.nodeContent.children.length+.2)},r.onXClick=function(){this.lblDesc&&!this.lblDesc.node.active||y.gui.removeByNode(this.node,!0)},e}(b)).prototype,"FIXED_COL",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),P=e(A.prototype,"pfbBagItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(A.prototype,"pfbEquipItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(A.prototype,"nodeContent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(A.prototype,"btnConfirm",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(A.prototype,"lblDesc",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/TipShipAward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./DailyWelfare.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./TablePirateShipWelfare.ts","./TableShop.ts","./TableUtil.ts","./Duobao.ts","./ShipAwardItem.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,s,u,c,p,h,f,d,b,y,g,C,v,m,w,S,I,T,B,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Button,c=e.Node,p=e.instantiate,h=e.Label,f=e.Component},function(e){d=e.oops},function(e){b=e.DailyWelfareService,y=e.DailyWelfare},function(e){g=e.tips},function(e){C=e.httpChannel},function(e){v=e.MsgID},function(e){m=e.smc},function(e){w=e.GameSysKey},function(e){S=e.TablePirateShipWelfare},function(e){I=e.TableShop},function(e){T=e.TableUtil},function(e){B=e.Duobao},function(e){D=e.ShipAwardItem}],execute:function(){var _,k,A,W,z,R,L,P,q,x,M,X,E;l._RF.push({},"70a0dN3JvZChqxfu+nxLbgP","TipShipAward",void 0);var G=s.ccclass,H=s.property,N=new b(w.pirateShip_ship_award_daily,B.Config.ShopIdShipAwardDaily);e("TipShipAward",(_=G("TipShipAward"),k=H(u),A=H(u),W=H(c),z=H(c),R=H(y),_((q=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"btnX",q,o(t)),i(t,"btnBuy",x,o(t)),i(t,"nodeContent",M,o(t)),i(t,"nodeItem",X,o(t)),i(t,"dailyWelfare",E,o(t)),t.shopCfg=new I,t}n(t,e);var l=t.prototype;return l.start=function(){this.init(),this.dailyWelfare.init(N),this.btnX.node.on(u.EventType.CLICK,this.onXClick,this),this.btnBuy.node.on(u.EventType.CLICK,this.onBuyClick,this)},l.init=function(){for(var e=this,t=T.getIds(S),n=1;n<t.length;n++)p(this.nodeItem).parent=this.nodeContent;this.nodeContent.getComponentsInChildren(D).forEach((function(n,i){n.init(t[i]).onRecv(e.reqRecv.bind(e))})),this.shopCfg.init(B.Config.ShopIdShipAward),this.refresh()},l.refresh=function(){m.duobao.fuliUnlocked?(this.btnBuy.interactable=!1,this.btnBuy.getComponentInChildren(h).string="已解锁"):this.btnBuy.getComponentInChildren(h).string="￥"+this.shopCfg.price+"解锁",this.nodeContent.getComponentsInChildren(D).forEach((function(e){return e.refresh()}))},l.onBuyClick=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.store.reqBuy(this.shopCfg.id);case 2:null!=(t=e.sent)&&t.ok&&this.refresh();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.reqRecv=function(){var e=this;C.req(v.DuobaoGetFuli,{},(function(t){var n=t.data;n.ok?(m.duobao.info.welfare_lv=n.welfare_lv,m.duobao.info.welfare_Hlv=n.welfare_Hlv,m.account.doResChange(n),g.reward(n),e.refresh()):d.gui.toast(n.msg)}))},l.onXClick=function(){d.gui.removeByNode(this.node,!0)},t}(f)).prototype,"btnX",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"btnBuy",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(P.prototype,"nodeContent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(P.prototype,"nodeItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(P.prototype,"dailyWelfare",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=P))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/TipSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AccountData.ts","./GameConst.ts","./GameEnum.ts","./GameEvent.ts","./CostItem.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSkill.ts","./TableGameSkillQuality.ts","./TableGameSys.ts","./TableUtil.ts","./SkillItem.ts","./TableGameAttr.ts","./SkillAttrItem.ts"],(function(t){"use strict";var e,i,l,a,n,o,r,s,c,u,p,d,f,g,m,h,b,k,v,S,y,I,C,F,A,T,_,U,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,l=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,r=t.Label,s=t.Button,c=t.RichText,u=t.Node,p=t.Prefab,d=t.instantiate,f=t.Component},function(t){g=t.oops},function(t){m=t.SkillState},function(t){h=t.SkillTypeStr},function(t){b=t.EItemType},function(t){k=t.GameEvent},function(t){v=t.CostItem},function(t){S=t.httpChannel},function(t){y=t.MsgID},function(t){I=t.smc},function(t){C=t.TableGameSkill},function(t){F=t.TableGameSkillQuality},function(t){A=t.GameSysKey},function(t){T=t.TableUtil},function(t){_=t.SkillItem},function(t){U=t.TableGameAttr},function(t){E=t.SkillAttrItem}],execute:function(){var L,w,x,z,G,N,D,q,M,P,R,B,K,O,Q,j,V,X,H,Y,Z,J,W,$,tt,et,it,lt;n._RF.push({},"6a304yb6YFAj6XKAwZApLg/","TipSkill",void 0);var at=o.ccclass,nt=o.property,ot=t("StateBtnText",((L={})[m.NotActived]="激活",L[m.NotEquiped]="装备",L[m.Equiped]="卸下",L));t("TipSkill",(w=at("TipSkill"),x=nt(r),z=nt(r),G=nt(r),N=nt(r),D=nt(s),q=nt(s),M=nt(_),P=nt(c),R=nt(v),B=nt(v),K=nt(u),O=nt(p),w((V=e((j=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,l(e,"lblName",V,a(e)),l(e,"lblLv",X,a(e)),l(e,"lblTy",H,a(e)),l(e,"lblQua",Y,a(e)),l(e,"btnOp",Z,a(e)),l(e,"btnUp",J,a(e)),l(e,"skillItem",W,a(e)),l(e,"richText",$,a(e)),l(e,"costItemFk",tt,a(e)),l(e,"costMoneyFk",et,a(e)),l(e,"nodeContent",it,a(e)),l(e,"itemSkillAttr",lt,a(e)),e._params=null,e}i(e,t);var n=e.prototype;return n.onAdded=function(t){var e;console.log(t),this._params=t,this.lblName.string=t.cfg.name,this.lblLv.string="等级："+t.cfg.level,this.lblTy.string="类型："+h[t.cfg.type],this.lblQua.string="品质："+(null==(e=T.get(F,t.cfg.quality))?void 0:e.name);var i=["<color=#FFFFFF>【技能效果】</color>","<color=#FFFFFF>"+t.cfg.dec+"</color>"];if(t.cfg.nextId>0){var l=T.get(C,t.cfg.nextId);i.push("<color=#E4715C>【下级技能效果】</color>"),i.push("<color=#E4715C>"+l.dec+"</color>")}if(this.richText.string=i.join("\n"),this.createAttrs(),null===t.st)return this.costItemFk.hide(),this.btnOp.node.active=!1,void(this.btnUp.node.active=!1);if(this.btnOp.getComponentInChildren(r).string=ot[t.st],t.st==m.NotActived){var a=T.getSkillUpgradeCost(t.cfg,b.SKILL),n=a[0],o=a[1];this.costItemFk.init3(n,o),this.btnUp.node.active=!1}else if(t.cfg.nextId>0){var s=T.get(C,t.cfg.nextId);this.btnUp.node.active=!0;var c=T.getSkillUpgradeCost(s,b.SKILL),u=c[0],p=c[1];this.costItemFk.init3(u,p);var d=T.getSkillUpgradeCost(s,b.MONEY);u=d[0],p=d[1],this.costMoneyFk.init(u,p)}else this.costItemFk.hide(),this.btnUp.node.active=!1},n.start=function(){this.skillItem.initIcon(this._params.cfg.id)},n.onXClick=function(){g.gui.removeByNode(this.node,!0)},n.updateForce=function(t){t.hero&&(I.accountData.setRoleInfo(t.hero),g.message.dispatchEvent(k.RoleUpdated))},n.onOpClick=function(){var t=this,e=this._params.cfg.id;if(this._params.st==m.NotActived){if(!I.bag.checkCostByType(this._params.cfg.cost,b.SKILL)&&I.giftpack_lt.checkGiftLimit(A.skill))return;if(!I.bag.checkCost(this._params.cfg.cost,!0))return;var i={sid:e};S.req(y.SkillUp,i,(function(t){var i=t.data;g.gui.toast(i.msg),i.ok&&(I.account.doResChange(i),I.accountData.addSkill(e),g.message.dispatchEvent(k.SkillActived,e))}))}else if(this._params.st==m.Equiped){var l=I.accountData.getSkillEquipedInfo(e),a=l[0],n=l[1],o={setUp:!1,sid:e,heroid:a,pos:n};S.req(y.SkillEquip,o,(function(e){var i=e.data;g.gui.toast(i.msg),i.ok&&(t.updateForce(i),I.accountData.setSkillPos(a,n,{}),g.message.dispatchEvent(k.SkillPosUpdated,{hid:a,pos:n}))}))}else{var r={setUp:this._params.st==m.NotEquiped,sid:e,heroid:I.account.sltRole,pos:I.account.sltSkillIdx};S.req(y.SkillEquip,r,(function(i){var l=i.data;g.gui.toast(l.msg),l.ok&&(t.updateForce(l),I.accountData.setSkillPos(r.heroid,r.pos,{sid:e}),g.message.dispatchEvent(k.SkillPosUpdated,{hid:r.heroid,pos:r.pos}))}))}this.onXClick()},n.onUpClick=function(){var t=this,e=this._params.cfg.id;if(I.accountData.getSkillStatus(e)!=m.NotActived){var i=this._params.cfg.nextId;if(i>0){var l=T.get(C,i);if(!I.bag.checkCostByType(l.cost,b.SKILL)&&I.giftpack_lt.checkGiftLimit(A.skill))return;if(!I.bag.checkCost(l.cost,!0))return;var a={sid:e};S.req(y.SkillUp,a,(function(l){var a=l.data;if(g.gui.toast(a.msg),a.ok){I.account.doResChange(a),t.updateForce(a),I.accountData.updateSkill(e,i),g.message.dispatchEvent(k.SkillUp,{sid:e,nsid:i});var n={cfg:T.get(C,i),st:I.accountData.getSkillStatus(i)};t.onAdded(n)}}))}else g.gui.toast("已达顶级")}else g.gui.toast("技能未激活")},n.formatAttrValue=function(t,e){return 1e4===parseInt(e)?(t/100).toFixed(1)+"%":t},n.createAttrs=function(){if(null!=this._params.st){T.getAllBasicSkills();var t=this._params.st!=m.NotActived,e=this._params.cfg,i=(t&&e.id,e.nextId),l=new C;l.init(i);var a=U;for(var n in this.nodeContent.removeAllChildren(),a){var o=a[n].strKey;if(e[o]||l.valid()&&l[o]){var r=d(this.itemSkillAttr);r.parent=this.nodeContent;var s=a[n].name,c=t?this.formatAttrValue(e[o],a[n].per_unit):"",u=l.valid()?this.formatAttrValue(l[o],a[n].per_unit):"";r.getComponent(E).init(s,c,u)}}}},e}(f)).prototype,"lblName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(j.prototype,"lblLv",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(j.prototype,"lblTy",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(j.prototype,"lblQua",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(j.prototype,"btnOp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(j.prototype,"btnUp",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(j.prototype,"skillItem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(j.prototype,"richText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(j.prototype,"costItemFk",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(j.prototype,"costMoneyFk",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(j.prototype,"nodeContent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(j.prototype,"itemSkillAttr",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=j))||Q));n._RF.pop()}}}));

System.register("chunks:///_virtual/TipsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameResPath.ts","./HttpChannelManager.ts","./NetProtocol.ts","./GameUIConfig.ts"],(function(n){"use strict";var e,o,t,c,i,r,u,a,s;return{setters:[function(n){e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){t=n.cclegacy},function(n){c=n.oops},function(n){i=n.AudioClipEffect},function(n){r=n.httpChannel},function(n){u=n.MsgID},function(n){a=n.UIID,s=n.DialogAnimation}],execute:function(){t._RF.push({},"898f6nbpWJNJqniTi6WtAra","TipsManager",void 0);var m=n("tips",new(function(){function n(){this._timeId=""}var t=n.prototype;return t.networkRecovery=function(){this._timeId&&(c.timer.unschedule(this._timeId),this._timeId=""),c.gui.remove(a.Netinstable)},t.netInstableOpen=function(){c.gui.has(a.Netinstable)||c.gui.open(a.Netinstable)},t.netInstableClose=function(){c.gui.remove(a.Netinstable)},t.networkLatency=function(n){this._timeId&&c.timer.unschedule(this._timeId),this._timeId=c.timer.scheduleOnce(this.netInstableOpen,n)},t.test=function(n){var e={title:"common_prompt_title_sys",content:"common_prompt_content",okWord:"common_prompt_ok",cancelWord:"common_prompt_cancal",okFunc:function(){console.log("okFunc")},cancelFunc:function(){console.log("cancelFunc")},needCancel:!0};c.gui.open(a.Window,e,this.getPopCommonEffect())},t.alert=function(n,e,o,t){var i={title:o||"common_prompt_title_sys",content:n,okWord:t||"common_prompt_ok",okFunc:function(){e&&e()},needCancel:!1};c.gui.open(a.Window,i,m.getPopCommonEffect())},t.confirm=function(n,e,o){void 0===o&&(o="common_prompt_ok");var t={title:"common_prompt_title_sys",content:n,okWord:o,cancelWord:"common_prompt_cancal",okFunc:function(){e&&e()},cancelFunc:function(){},needCancel:!1};c.gui.open(a.Window,t,m.getPopCommonEffect())},t.confirmAsync=function(n,e){return void 0===e&&(e="common_prompt_ok"),new Promise((function(o,t){var i={title:"common_prompt_title_sys",content:n,okWord:e,cancelWord:"common_prompt_cancal",okFunc:function(){o(!0)},cancelFunc:function(){o(!1)},needCancel:!0};c.gui.open(a.Window,i,m.getPopCommonEffect())}))},t.player=function(){var n=e(o().mark((function n(e){var t,i,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"!=typeof e){n.next=8;break}return t={id:e},n.next=4,r.reqAsync(u.FightRoleInfo,t);case 4:if(null!=(i=n.sent)&&i.ok){n.next=7;break}return n.abrupt("return");case 7:e=i.roleinfo;case 8:s={roleinfo:e},c.gui.remove(a.TipPlayerInfo,!0),c.gui.open(a.TipPlayerInfo,s);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),t.reward=function(){var n=e(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.audio.playEffect(i.LevelUp),n.next=3,c.gui.openModal(a.TipReward,e,s);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),t.getPopCommonEffect=function(n){var e={onAdded:s.onAdded,onBeforeRemove:s.onRemoved};if(n){if(n&&n.onAdded){var o=n.onAdded;n.onAdded=function(n,t){o(n,t),e.onAdded(n,t)}}if(n&&n.onBeforeRemove){var t=n.onBeforeRemove;n.onBeforeRemove=function(n,o){t(n,o),e.onBeforeRemove(n,o)}}return n}return e},n}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/TipYishouSkillDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableUtil.ts","./TableGameSkill.ts","./SingletonModuleComp.ts","./Oops.ts"],(function(e){"use strict";var t,i,n,o,l,a,s,r,c,u,p,d,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,s=e.Sprite,r=e.Label,c=e.UITransform,u=e.Component},function(e){p=e.TableUtil},function(e){d=e.TableGameSkill},function(e){h=e.smc},function(e){f=e.oops}],execute:function(){var m,g,y,b,v;l._RF.push({},"1ec6cA9MdtGtJOpjow996s2","TipYishouSkillDetail",void 0);var C=a.ccclass,T=a.property;e("TipYishouSkillDetail",(m=C("TipYishouSkillDetail"),g=T(s),m((v=t((b=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"detail",v,o(t)),t.params=void 0,t}i(t,e);var l=t.prototype;return l.onAdded=function(e){this.params=e},l.start=function(){this.refresh(this.params)},l.update=function(e){},l.refresh=function(e){var t=this,i=this.detail.node.getChildByName("Label_name").getComponent(r),n=this.detail.node.getChildByName("Label_lv").getComponent(r),o=this.detail.node.getChildByName("Label_desc"),l=p.get(d,h.yishou.YishouTable()[e].skill);i.string=l.name,n.string=l.level+"级",o.getComponent(r).string=l.dec,this.detail.scheduleOnce((function(){var e=o.getComponent(c).height;t.detail.getComponent(c).setContentSize(417,71+e)}),0)},l.onXClick=function(){f.gui.removeByNode(this.node,!0)},t}(u)).prototype,"detail",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/Title.ts",["./rollupPluginModLoBabelHelpers.js","cc","./System.ts","./GameEvent.ts","./TableGameSys.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./JsonUtil.ts","./TableTitle.ts","./HttpChannelManager.ts","./Oops.ts","./TableFashion.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,u,c,l,f,h,p,d,v,m;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator},function(e){a=e.GameSys},function(e){u=e.GameEvent},function(e){c=e.GameSysKey},function(e){l=e.smc},function(e){f=e.MsgID},function(e){h=e.JsonUtil},function(e){p=e.TableTitle},function(e){d=e.httpChannel},function(e){v=e.oops},function(e){m=e.TableFashion}],execute:function(){var T;e({ClosetType:void 0,RoleType:void 0}),o._RF.push({},"14cfdAfcaFLMY4yl92UOucn","Title",void 0);var b,y,g=s.ccclass;s.property;!function(e){e[e.Soldier=1]="Soldier",e[e.Gunner=2]="Gunner",e[e.Master=3]="Master"}(b||(b=e("RoleType",{}))),function(e){e[e.Fashion=1]="Fashion",e[e.Title=2]="Title"}(y||(y=e("ClosetType",{})));var F=e("Title",g("Title")(T=function(e){function o(){var t;return(t=e.call(this,c.title)||this)._timerGoup=void 0,t.redotWatchGameEvents=void 0,t}t(o,e);var s=o.prototype;return s.GetTitleTable=function(){var e=[],t=h.get(p.TableName);return Object.entries(t).map((function(e){var t=e[0];e[1];return Number(t)})).forEach((function(n,i){var r={id:n,cfg:t[n]};e.push(r)})),e},s.Dress=function(){var e=i(r().mark((function e(t,n,i,o){var s,a,c,h,p,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i===y.Fashion?f.FashionDress:f.TitleDress,a=i===y.Fashion?{id:t,heroid:o}:{id:t},e.next=4,d.reqAsync(s,a);case 4:if(c=e.sent,n&&n(),null!=c&&c.ok){e.next=8;break}return e.abrupt("return");case 8:if(i===y.Fashion){if("hero"in c){for(p in h=Object.values(c.hero))Object.prototype.hasOwnProperty.call(h,p)&&(m=h[p],l.accdata.setRoleInfo(m));v.message.dispatchEvent(u.FashionDressed,c)}}else i===y.Title&&"title"in c&&(this.titleInfo=c.title,v.message.dispatchEvent(u.TitleDressEd,c));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),s.Undress=function(){var e=i(r().mark((function e(t,n,i,o){var s,a,c,h,p,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i===y.Fashion?f.FashionUndress:f.TitleUndress,a=i===y.Fashion?{id:t,heroid:o}:{id:t},e.next=4,d.reqAsync(s,a);case 4:if(c=e.sent,n&&n(),null!=c&&c.ok){e.next=8;break}return e.abrupt("return");case 8:if(i===y.Fashion){if("hero"in c){for(p in h=Object.values(c.hero))Object.prototype.hasOwnProperty.call(h,p)&&(m=h[p],l.accdata.setRoleInfo(m));v.message.dispatchEvent(u.FashionDressed,c)}}else i===y.Title&&"title"in c&&(this.titleInfo=c.title,v.message.dispatchEvent(u.TitleDressEd,c));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),s.Expire=function(){var e=i(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t===y.Fashion?f.FashionExpire:f.TitleExpire,y.Fashion,i={},e.next=4,d.reqAsync(n,i);case 4:if(null!=(o=e.sent)&&o.ok){e.next=7;break}return e.abrupt("return");case 7:l.account.doResChange(o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.getTitleAttrs=function(){var e=[],t=h.get(p.TableName);for(var n in null==(i=this.titleInfo)?void 0:i.id){var i,r=t[n];r&&e.push(r)}return e},s.getFashionTable=function(e){var t=[],n=h.get(m.TableName);for(var i in n)if(Number(n[i].group)==e){var r=[i,n[i]];t.push(r)}return t},s.getFashionAttrs=function(){var e=[],t=h.get(m.TableName);for(var n in null==(i=this.fashionInfo)?void 0:i.id){var i,r=t[n];r&&e.push(r)}return e},s.IsFashionDressed=function(e){var t=!1;for(var n in l.accdata.info.hero){var i;if((null==(i=l.accdata.info.hero[n])?void 0:i.fashion)==e)return t=!0}return t},s.calRedot=function(){return!1},s.addTimer=function(e,t){var n,i,r=this,o=t==y.Fashion?null==(n=this.fashionInfo)?void 0:n.id[e]:null==(i=this.titleInfo)?void 0:i.id[e];if(o>0)if((o=(o-Date.now())/1e3)>0){if(this._timerGoup[e]){var s=this._timerGoup[e];s&&v.timer.unRegister(s.id),s=null,this._timerGoup[e]=null}var a={id:null,secs:Math.ceil(o)};a.id=v.timer.register(a,"secs",null,(function(){r.Expire(t);var n=r._timerGoup[e];n&&v.timer.unRegister(n.id),n=null,r._timerGoup[e]=null})),this._timerGoup[e]=a}else o<0&&this.Expire(t)},s.onLogin=function(){var e,t,n=this;this._timerGoup={},Object.keys((null==this||null==(e=this.fashionInfo)?void 0:e.id)||[]).forEach((function(e,t){n.addTimer(Number(e),y.Fashion)})),Object.keys((null==this||null==(t=this.titleInfo)?void 0:t.id)||[]).forEach((function(e,t){n.addTimer(Number(e),y.Title)}))},n(o,[{key:"titleInfo",get:function(){return l.accountData.subinfo.title},set:function(e){l.accountData.subinfo.title=e}},{key:"titleTimeGroup",get:function(){return this._timerGoup}},{key:"fashionInfo",get:function(){return l.accountData.subinfo.fashion},set:function(e){l.accountData.subinfo.fashion=e}}]),o}(a))||T);e("title",new F);o._RF.pop()}}}));

System.register("chunks:///_virtual/Typer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,s,r,c,o,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,s=t._decorator,r=t.Label,c=t.UITransform,o=t.macro,l=t.Component}],execute:function(){var h;i._RF.push({},"4dc85ux7kNB7LtjdHRxAQKG","Typer",void 0);var u=s.ccclass;s.property,t("Typer",u("Typer")(h=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._typing=!1,e._string=null,e._height=0,e}return e(i,t),i.prototype.skip=function(){this.getComponent(r).string=this._string,this._typing=!1,this.unscheduleAllCallbacks()},n(i,[{key:"string",set:function(t){var e=this;this._typing=!0,this._string=t;var n=this.getComponent(r);n.string=t,n.updateRenderData(),this._height=n.getComponent(c).height,n.string="";var i=t.split(""),s=0;this.unscheduleAllCallbacks(),this.schedule((function(){s>=i.length?(e._typing=!1,e.unscheduleAllCallbacks()):(s+=1,n.string=i.slice(0,s).join(""))}),.1,o.REPEAT_FOREVER,0)}},{key:"height",get:function(){return this._height}},{key:"typing",get:function(){return this._typing}}]),i}(l))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIMap.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"1bd03ggtItIIajoqd0I4VGL","UIMap",void 0);var e=function(){this.parent=null,this.child=[]};n("UIMap",function(){function n(){this.nodes=new Map}var t=n.prototype;return t.init=function(n,t){var i=this;for(var a in this.manager=n,t){var r=t[a],s=new e;s.id=parseInt(a),s.pid=r.parent,s.name=r.name,s.panel=r.panel,this.nodes.set(s.id,s)}this.nodes.forEach((function(n,t){n.parent=i.nodes.get(n.pid),n.parent&&n.parent.child.push(n)}))},t.pathFinding=function(n,t){var e=this,i=this.nodes.get(n),a=this.nodes.get(t),r=this.findUp(i),s=this.findUp(a);return r.forEach((function(n){e.manager.remove(n.id,!0)})),s.forEach((function(n){e.manager.open(n.id)})),{paths_close:r,paths_open:s}},t.findUp=function(n){for(var t=[],e=n;null!=e.parent;)t.push(e),e=e.parent;return t},t.release=function(){this.nodes.clear()},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/UMASDK.ts",["cc","./GameEnum.ts","./GameUIConfig.ts","./PlatformSDK.ts"],(function(n){"use strict";var e,t,_,i;return{setters:[function(n){e=n.cclegacy},function(n){t=n.EFightType},function(n){_=n.UIID},function(n){i=n.PlatformSDK}],execute:function(){var o,A;n({UMA_EVENT:void 0,UMA_PROFILE:void 0}),e._RF.push({},"591e52Gve5NeIHrDPy4Iqfl","UMASDK",void 0),function(n){n.GAME_LEVEL="GAME_LEVEL"}(o||(o=n("UMA_PROFILE",{}))),function(n){n.OPEN_UI_="OPEN_UI_",n.BUY_FINISHED_="BUY_FINISHED_",n.FIGHT_START_="FIGHT_START_",n.HOTUPDATE_START="HOTUPDATE_START",n.LOAD_START="LOAD_START",n.LOAD_END="LOAD_END",n.DUOBAO_PLAY_DICE="DUOBAO_PLAY_DICE",n.YONGBING_XUNBAO="YONGBING_XUNBAO",n.YISHOU_BUZHUO="YISHOU_BUZHUO",n.HALO_UPGRADE="HALO_UPGRADE",n.EBOX_UPGRADE="EBOX_UPGRADE"}(A||(A=n("UMA_EVENT",{})));var u={UI:[_.FirstRecharge,_.Yueka,_.YuekaWelfare,_.YuekaZS,_.YuekaXuanTie,_.YuekaLifeTime,_.EliteLevels,_.Arena,_.Duobao,_.AbyssDragon,_.DemonAbyss,_.Mercenary,_.Wrestle,_.Halo,_.Yishou],Buy:[34,35,36,37,38,39]};n("UMASDK",function(){function n(){}return n.doProfile=function(n,e){i.doUMAProfile(n,e.toString())},n.doEvent=function(n,e){void 0===e&&(e=null),i.doUMAEvent(n,e)},n.onOpenUI=function(n){u.UI.includes(n)&&i.doUMAEvent(A.OPEN_UI_+_[n],null)},n.onBuyFinished=function(n){u.Buy.includes(n.id)&&i.doUMAEvent(A.BUY_FINISHED_+n.id,null)},n.onFightStart=function(n){i.doUMAEvent(A.FIGHT_START_+t[n.ty],{level_id:n.id})},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameResCache.ts"],(function(t){"use strict";var n,e,r,o,i,a,u,c,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime,o=t.wrapNativeSuper},function(t){i=t.cclegacy,a=t.Component,u=t.Node,c=t.Button},function(t){s=t.GameResCache}],execute:function(){t("delay",(function(t){return l.apply(this,arguments)})),i._RF.push({},"7e166wwa4FJGbMLFCdxXDwy","Util",void 0);var f=t("TimeSpan",function(t){function e(n,e,r,o){var i;return(i=t.call(this)||this).days=void 0,i.hours=void 0,i.minutes=void 0,i.seconds=void 0,i.days=n,i.hours=e,i.minutes=r,i.seconds=o,i}return n(e,t),e.prototype.toString=function(){return[this.hours,this.minutes,this.seconds].map((function(t){return t.toString().padStart(2,"0")})).join(":")},e}(o(Object)));t("Util",function(){function t(){}return t.fmtLv=function(t){return"Lv."+t},t.fmtPercent=function(t){return t/100+"%"},t.fmtSecs=function(t){return this.formatSeconds(t)},t.getTimeSpan=function(t){var n=3600,e=Math.floor(t/86400);t%=86400;var r=Math.floor(t/n);t%=n;var o=Math.floor(t/60);t%=60;var i=Math.floor(t);return new f(e,r,o,i)},t.formatSeconds=function(t){var n=Math.floor(t/86400),e=Math.floor(t%86400/3600),r=Math.floor(t%3600/60),o=t%60,i="";return n>0&&(i+=n+"天 "),(n>0||e>0)&&(i+=e+"小时 "),(n>0||e>0||r>0)&&(i+=r+"分 "),o>0&&(i+=o+"秒"),i},t.isEmpty=function(t){return!t||0===Object.keys(t).length},t.setRedot=function(t,n){t instanceof a&&(t=t.node);var e=t.getChildByName("img_hongdian");e||((e=s.instance.createRedot()).parent=t),e.active=n},t.Btn_doCD=function(t,n){var e;void 0===n&&(n=.2),null!=(e=t)&&e.isValid&&(t instanceof u&&(t=t.getComponent(c)),t.interactable=!1,t.scheduleOnce((function(){t.interactable=!0}),n))},t.getDaysDiff=function(t,n){t=new Date(t.getFullYear(),t.getMonth(),t.getDate());var e=n.getTime()-t.getTime();return Math.floor(e/864e5)},t}());function l(){return(l=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,n)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(n){"use strict";var e,r,t,u,a;return{setters:[function(n){e=n.createClass},function(n){r=n.cclegacy,t=n.Vec3,u=n.Mat4},function(n){a=n.MathUtil}],execute:function(){r._RF.push({},"38947ih8d5EQ7HG4buug+SR","Vec3Util",void 0);n("Vec3Util",function(){function n(){}return n.progress=function(n,e,r){var u=new t;return u.x=a.progress(n.x,e.x,r),u.y=a.progress(n.y,e.y,r),u.z=a.progress(n.z,e.z,r),u},n.add=function(n,e){var r=new t;return t.add(r,n,e),r},n.sub=function(n,e){var r=new t;return t.subtract(r,n,e),r},n.mul=function(n,e){var r=new t;return t.multiplyScalar(r,n,e),r},n.div=function(n,e){var r=new t;return r.x=n.x/e,r.y=n.y/e,r.z=n.z/e,r},n.equals=function(n,e){return n.x==e.x&&n.y==e.y&&n.z==e.z},n.magnitude=function(n){return n.length()},n.normalize=function(n){return new t(n.x,n.y,n.z).normalize()},n.direction=function(n,e){var r=new t;return t.subtract(r,e,n),r.normalize()},n.distance=function(n,e){return t.distance(n,e)},n.lerp=function(n,e,r){return this.bezierOne(r,n,e)},n.slerp=function(n,e,r){if(r<=0)return n;if(r>=1)return e;var u=this.rotateTo(n,e,t.angle(n,e)/Math.PI*180*r),a=e.length()*r+n.length()*(1-r);return u.normalize().multiplyScalar(a)},n.rotateTo=function(n,e,r){if(0==t.angle(n,e))return e;var a=new t;t.cross(a,n,e),a.normalize();var i=r*Math.PI/180,l=new u;return l.rotate(i,a),new t(n.x*l.m00+n.y*l.m04+n.z*l.m08,n.x*l.m01+n.y*l.m05+n.z*l.m09,n.x*l.m02+n.y*l.m06+n.z*l.m10)},n.bezierOne=function(n,e,r){n>1?n=1:n<0&&(n=0);var t=e.clone(),u=r.clone();return t.multiplyScalar(1-n).add(u.multiplyScalar(n))},n.bezierTwo=function(n,e,r,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=n*n,l=e.clone(),c=new t,o=r.clone(),y=u.clone();return c.add(l.multiplyScalar(a*a)),c.add(o.multiplyScalar(2*a*n)),c.add(y.multiplyScalar(i)),c},n.bezierThree=function(n,e,r,t,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=a*a,l=i*a,c=n*n,o=c*n,y=e.clone(),f=e.clone(),s=r.clone(),d=t.clone(),m=u.clone();return f.add(y.multiplyScalar(l)),f.add(s.multiplyScalar(3*i*n)),f.add(d.multiplyScalar(3*a*c)),f.add(m.multiplyScalar(o)),f},n.dot=function(n,e){var r=n,t=e;return r.x*t.x+r.y*t.y+r.z*t.z},n.cross=function(n,e){var r=new t(1,0,0),u=new t(0,1,0),a=new t(0,0,1),i=new t(n.x,n.y,n.z),l=new t(e.x,e.y,e.z),c=r.multiplyScalar(i.y*l.z-l.y*i.z),o=u.multiplyScalar(l.x*i.z-i.x*l.z),y=a.multiplyScalar(i.x*l.y-l.x*i.y);return c.add(o).add(y)},n.angle=function(n,e){var r=this.dot(n.clone().normalize(),e.clone().normalize());return Math.acos(r)/Math.PI*180*Math.sign(r)},n.dirAngle=function(e,r){var t=n.cross(e,r);return n.angle(e,r)*Math.sign(n.dot(t.normalize(),n.cross(r.normalize(),e.normalize())))},e(n,null,[{key:"x",get:function(){return new t(1,0,0)}},{key:"y",get:function(){return new t(0,1,0)}},{key:"z",get:function(){return new t(0,0,1)}},{key:"left",get:function(){return new t(-1,0,0)}},{key:"right",get:function(){return new t(1,0,0)}},{key:"up",get:function(){return new t(0,1,0)}},{key:"down",get:function(){return new t(0,-1,0)}},{key:"forward",get:function(){return new t(0,0,1)}},{key:"back",get:function(){return new t(0,0,-1)}},{key:"one",get:function(){return new t(1,1,1)}},{key:"zero",get:function(){return new t(0,0,0)}}]),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ViewModel.ts",["cc","./JsonOb.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.cclegacy,n=t.director},function(t){i=t.JsonOb}],execute:function(){e._RF.push({},"54f75k4X+RP0qaXOzrfZysL","ViewModel",void 0);var o="VC:";function r(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1){console.error("["+a+"] not find in "+i+"."+e);break}r==o.length-1?t[a]=n:t=t[a]}}function a(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1)return console.error("["+a+"] not find in "+i+"."+e),n;t=t[a]}return null==t&&(t=n),t}var s=function(){function t(t,e){this.$data=void 0,this._tag=null,this.active=!0,this.emitToRootPath=!1,new i(t,this._callback.bind(this)),this.$data=t,this._tag=e}var e=t.prototype;return e._callback=function(t,e,i){if(1==this.active){var r=o+this._tag+"."+i.join(".");if(n.emit(r,t,e,[this._tag].concat(i)),this.emitToRootPath&&n.emit(o+this._tag,t,e,i),i.length>=2)for(var a=0;a<i.length-1;a++)i[a]}},e.setValue=function(t,e){r(this.$data,t,e,this._tag)},e.getValue=function(t,e){return a(this.$data,t,e,this._tag)},t}();t("VM",new(function(){function t(){this._mvs=new Map,this.setObjValue=r,this.getObjValue=a}var e=t.prototype;return e.add=function(t,e,n){void 0===e&&(e="global"),void 0===n&&(n=!1);var i=new s(t,e),o=this._mvs.get(e);e.includes(".")?console.error("cant write . in tag:",e):o?console.error("already set VM tag:"+e):(i.emitToRootPath=n,this._mvs.set(e,i))},e.remove=function(t){this._mvs.delete(t)},e.get=function(t){return this._mvs.get(t)},e.addValue=function(t,e){var n=(t=t.trim()).split(".");n.length<2&&console.error("Cant find path:"+t);var i=this.get(n[0]);if(i){var o=n.slice(1).join(".");i.setValue(o,i.getValue(o)+e)}else console.error("Cant Set VM:"+n[0])},e.getValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Get Value Cant find path:"+t);else{var i=this.get(n[0]);if(i)return i.getValue(n.slice(1).join("."),e);console.error("Cant Get VM:"+n[0])}},e.setValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Set Value Cant find path:"+t);else{var i=this.get(n[0]);i?i.setValue(n.slice(1).join("."),e):console.error("Cant Set VM:"+n[0])}},e.bindPath=function(t,e,i,r){""!=(t=t.trim())?"*"!==t.split(".")[0]?n.on(o+t,e,i,r):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本"):console.error(i.node.name,"节点绑定的路径为空")},e.unbindPath=function(t,e,i){"*"!==(t=t.trim()).split(".")[0]?n.off(o+t,e,i):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本")},e.inactive=function(){this._mvs.forEach((function(t){t.active=!1}))},e.active=function(){this._mvs.forEach((function(t){t.active=!1}))},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var n,t,o,r,a,i,c,s,l,f,u,d,p,m,v,g,S;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.UITransform,a=e.v3,i=e.Size,c=e.Prefab,s=e.instantiate,l=e.Animation,f=e.AnimationClip,u=e.SpriteFrame,d=e.Sprite,p=e.Node,m=e.Label,v=e.Button,g=e.builtinResMgr},function(e){S=e.oops}],execute:function(){o._RF.push({},"f607cCjAEZHVKVZ/FyRs5bA","ViewUtil",void 0);e("ViewUtil",function(){function e(){}return e.nodeTreeInfoLite=function(n,t){for(var o=t||new Map,r=n.children,a=0;a<r.length;a++){var i=r[a];i.name.indexOf(" ")<0&&o.set(i.name,i),e.nodeTreeInfoLite(i,o)}return o},e.findNodes=function(n,t,o){for(var r=o||[],a=t.children,i=0;i<a.length;i++){var c=a[i].name;n.test(c)&&r.push(a[i]),e.findNodes(n,a[i],r)}return r},e.calculateASpaceToBSpacePos=function(e,n,t){var o=e.getComponent(r).convertToWorldSpaceAR(t);return n.getComponent(r).convertToNodeSpaceAR(o)},e.calculateScreenPosToSpacePos=function(e,n){var t=e.getUILocation(),o=a(t.x,t.y);return n.getComponent(r).convertToNodeSpaceAR(o)},e.uniformScale=function(e,n,t,o){var r,a=t/e,c=o/n;return r=a<c?a:c,new i(Math.floor(e*r),Math.floor(n*r))},e.createPrefabNode=function(e){var n=S.res.get(e,c);return s(n)},e.createPrefabNodeAsync=function(e){var o=this;return new Promise(n(t().mark((function n(r,a){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:S.res.load(e,c,(function(n,t){if(n)console.error("名为【"+e+"】的资源加载失败");else{var a=o.createPrefabNode(e);r(a)}}));case 1:case"end":return n.stop()}}),n)}))))},e.loadPrefabNode=function(e,n){var t=this;S.res.load(e,c,(function(o,r){if(o)console.error("名为【"+e+"】的资源加载失败");else{var a=t.createPrefabNode(e);n(a)}}))},e.addNodeAnimation=function(e,n,t,o){if(void 0===t&&(t=!0),void 0===o&&(o=!1),n&&n.isValid){var r=n.getComponent(l);null==r&&(r=n.addComponent(l));var a=S.res.get(e,f);if(a&&!(t&&r.getState(a.name)&&r.getState(a.name).isPlaying)){if(o)return r.defaultClip=a,void r.play();r.once(l.EventType.FINISHED,(function(){r.defaultClip&&r.play()}),this),r.getState(a.name)||r.createState(a,a.name),r.play(a.name)}}},e.loadSpriteFrame=function(e,n){S.res.load(n,u,(function(n,t){n?console.error(n.message):null!=e&&e.isValid&&(e.sizeMode===d.SizeMode.RAW&&(e.getComponent(r).contentSize=t.originalSize),e.spriteFrame=t)}))},e.loadButtonFrame=function(e,n){S.res.load(n,u,(function(n,t){n?console.error(n.message):(e.normalSprite=t,e.pressedSprite=t)}))},e.setGray=function(e,n){var t=this;if(void 0===n&&(n=!0),e instanceof p)e.walk((function(e){var o=e.getComponent(d),r=e.getComponent(m);o&&t.setGray(o,n),r&&t.setGray(r,n)}));else if(e instanceof v)this.setGray(e.node,n);else if(e instanceof d)e.grayscale=n;else if(e instanceof m)if(n){var o=g.get("ui-sprite-gray-material");e.customMaterial=o}else e.customMaterial=null},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/VMBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./VMEnv.ts"],(function(t){"use strict";var n,e,a,i,h,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.log,h=t.Component},function(t){o=t.VM},function(t){r=t.VMEnv}],execute:function(){var s;e._RF.push({},"2f6f36IvUdPO7xynnVTPgzb","VMBase",void 0);var c=a.ccclass,l=a.help;t("VMBase",c(s=l("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMBase.md")(s=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).VM=o,n.watchPath="",n.templateMode=!1,n.watchPathArr=[],n.templateValueArr=[],n}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;if(!r.editor){for(var n=this.watchPath.split("."),e=1;e<n.length;e++){if("*"==n[e]){var a=this.node.parent.children.findIndex((function(n){return n===t.node}));a<=0&&(a=0),n[e]=a.toString();break}}this.watchPath=n.join(".");var h=this.watchPathArr;if(h.length>=1)for(var o=0;o<h.length;o++){for(var s=h[o].split("."),c=1;c<s.length;c++){if("*"==s[c]){var l=this.node.parent.children.findIndex((function(n){return n===t.node}));l<=0&&(l=0),s[c]=l.toString();break}}this.watchPathArr[o]=s.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&i("可能未设置路径的节点:",this.node.parent.name+"."+this.node.name)}},a.onEnable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit())},a.onDisable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this))},a.setMultPathEvent=function(t){if(void 0===t&&(t=!0),!r.editor)for(var n=this.watchPathArr,e=0;e<n.length;e++){var a=n[e];t?this.VM.bindPath(a,this.onValueChanged,this):this.VM.unbindPath(a,this.onValueChanged,this)}},a.onValueInit=function(){},a.onValueChanged=function(t,n,e){},e}(h))||s)||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMCompsEdit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){"use strict";var t,r,o,i,n,a,c,l,s,p,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.CCString,s=e.Enum,p=e.Node,u=e.log,h=e.Component},function(e){f=e.VMEnv}],execute:function(){var _,g,d,E,y,b,T,P,C,N,O,m,v,A,w,M,L,H,k,D,R,V,j;a._RF.push({},"2359eFXKF5HFYS74K7Y17/U","VMCompsEdit",void 0);var z,S=c.ccclass,B=c.property,F=c.executeInEditMode,W=c.menu,x=c.help;!function(e){e[e.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",e[e.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",e[e.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",e[e.DELETE_COMPONENT=3]="DELETE_COMPONENT"}(z||(z={}));e("default",(_=W("ModelViewer/Edit-Comps (快速组件操作)"),g=x("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMCompsEdit.md"),d=B({type:[l]}),E=B({type:s(z)}),y=B({tooltip:"勾选后,会自动查找 find list 中填写的组件",visible:function(){return this.actionType===z.SEARCH_COMPONENT}}),b=B({tooltip:"勾选后,会批量激活 find list 中填写的组件",visible:function(){return this.actionType===z.ENABLE_COMPONENT}}),T=B({tooltip:"勾选后,会批量关闭 find list 中填写的组件",visible:function(){return this.actionType===z.ENABLE_COMPONENT}}),P=B({tooltip:"允许删除节点的组件,确定需要移除请勾选,防止误操作",visible:function(){return this.actionType===z.DELETE_COMPONENT}}),C=B({tooltip:"勾选后,会批量删除 find list 中填写的组件",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===z.DELETE_COMPONENT}}),N=B({tooltip:"勾选后,会批量替换掉指定的路径",visible:function(){return this.actionType===z.REPLACE_WATCH_PATH}}),O=B({tooltip:"匹配的路径,匹配规则: 搜索开头为 game的路径",visible:function(){return this.actionType===z.REPLACE_WATCH_PATH}}),m=B({tooltip:"替换的路径,将匹配到的路径替换",visible:function(){return this.actionType===z.REPLACE_WATCH_PATH}}),v=B({tooltip:"是否搜集绑定VM组件的节点?",visible:function(){return this.actionType===z.SEARCH_COMPONENT}}),A=B({type:[p],readonly:!0,tooltip:"收集到绑定了VM组件相关的节点，可以自己跳转过去",visible:function(){return this.canCollectNodes&&this.actionType===z.SEARCH_COMPONENT}}),S(w=F(w=_(w=g((L=t((M=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"findList",L,i(t)),o(t,"actionType",H,i(t)),o(t,"allowDelete",k,i(t)),o(t,"targetPath",D,i(t)),o(t,"replacePath",R,i(t)),o(t,"canCollectNodes",V,i(t)),o(t,"collectNodes",j,i(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){if(!f.editor){var e=this.getNodePath(this.node);console.error("you forget delete MVEditFinder,[path]",e)}},a.setComponents=function(e){var t=this,r=this.findList,o="搜索到当前节点下面的组件";switch(e){case 0:o="搜索到当前节点下面的组件";break;case 1:o="激活以下节点的组件";break;case 2:o="关闭以下节点的组件";break;case 3:o="删除以下节点的组件";break;case 4:o="替换以下节点的路径"}u(o),u("______________________"),r.forEach((function(r){t.searchComponent(r,e)})),u("______________________")},a.searchComponent=function(e,t){var r=this;void 0===t&&(t=0),this.collectNodes=[];var o=this.node.getComponentsInChildren(e);null==o||o.length<1||(u("["+e+"]:"),o.forEach((function(e){var o="";switch(t<=3&&(o=!0===e.templateMode?e.watchPathArr?":[Path:"+e.watchPathArr.join("|")+"]":"":e.watchPath?":[Path:"+e.watchPath+"]":""),u(r.getNodePath(e.node)+o),t){case 0:r.canCollectNodes&&-1===r.collectNodes.indexOf(e.node)&&r.collectNodes.push(e.node);break;case 1:e.enabled=!0;break;case 2:e.enabled=!1;break;case 3:e.node.removeComponent(e);break;case 4:var i=r.targetPath,n=r.replacePath;if(!0===e.templateMode)for(var a=0;a<e.watchPathArr.length;a++){var c=e.watchPathArr[a];e.watchPathArr[a]=r.replaceNodePath(c,i,n)}else e.watchPath=r.replaceNodePath(e.watchPath,i,n)}})))},a.replaceNodePath=function(e,t,r){for(var o=e.split("."),i=t.split("."),n=r.split("."),a=!0,c=0;c<i.length;c++)if(o[c]!==i[c]){a=!1;break}if(!0===a){for(var l=0;l<n.length;l++)o[l]=n[l];u(" 路径更新:",e,">>>",o.join("."))}return o.join(".")},a.getNodePath=function(e){for(var t=e,r=[];t;){var o=t.getParent();if(!o)break;r.push(t.name),t=o}return r.reverse().join("/")},n(t,[{key:"findTrigger",get:function(){return!1},set:function(e){this.setComponents(0)}},{key:"enableTrigger",get:function(){return!1},set:function(e){this.setComponents(1)}},{key:"disableTrigger",get:function(){return!1},set:function(e){this.setComponents(2)}},{key:"deleteTrigger",get:function(){return!1},set:function(e){this.setComponents(3)}},{key:"replaceTrigger",get:function(){return!1},set:function(e){this.setComponents(4)}}]),t}(h)).prototype,"findList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["VMBase","VMParent"]}}),H=t(M.prototype,"actionType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.SEARCH_COMPONENT}}),t(M.prototype,"findTrigger",[y],Object.getOwnPropertyDescriptor(M.prototype,"findTrigger"),M.prototype),t(M.prototype,"enableTrigger",[b],Object.getOwnPropertyDescriptor(M.prototype,"enableTrigger"),M.prototype),t(M.prototype,"disableTrigger",[T],Object.getOwnPropertyDescriptor(M.prototype,"disableTrigger"),M.prototype),k=t(M.prototype,"allowDelete",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(M.prototype,"deleteTrigger",[C],Object.getOwnPropertyDescriptor(M.prototype,"deleteTrigger"),M.prototype),t(M.prototype,"replaceTrigger",[N],Object.getOwnPropertyDescriptor(M.prototype,"replaceTrigger"),M.prototype),D=t(M.prototype,"targetPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"game"}}),R=t(M.prototype,"replacePath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"*"}}),V=t(M.prototype,"canCollectNodes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=t(M.prototype,"collectNodes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=M))||w)||w)||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/VMCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./VMEnv.ts"],(function(t){"use strict";var e,o,n,r,i,c,a,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.Toggle},function(t){s=t.VMBase},function(t){l=t.VMEnv}],execute:function(){var h,p,u,m,f,d,g,C,V,b,_,y,w,v;i._RF.push({},"ce662fwsSVPLKpmHx+KocFu","VMCustom",void 0);var P=c.ccclass,M=c.property,k=c.executeInEditMode,x=c.menu,B=c.help,R=[["BhvFrameIndex","index",!1],["BhvGroupToggle","index",!1],["BhvRollNumber","targetValue",!1],["cc.Label","string",!1],["cc.RichText","string",!1],["cc.EditBox","string",!0],["cc.Slider","progress",!0],["cc.ProgressBar","progress",!1],["cc.Toggle","isChecked",!0]];t("VMCustom",(h=x("ModelViewer/VM-Custom (自定义VM)"),p=B("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMCustom.md"),u=M({tooltip:"激活controller,以开启双向绑定，否则只能接收消息"}),m=M({tooltip:"监视对象路径"}),f=M({tooltip:"绑定组件的名字"}),d=M({tooltip:"组件上需要监听的属性"}),g=M({tooltip:"刷新间隔频率(只影响脏检查的频率)",step:.01,range:[0,1],visible:function(){return!0===this.controller}}),P(C=k(C=h(C=p((b=e((V=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"controller",b,r(e)),n(e,"watchPath",_,r(e)),n(e,"componentName",y,r(e)),n(e,"componentProperty",w,r(e)),n(e,"refreshRate",v,r(e)),e._timer=0,e._watchComponent=null,e._canWatchComponent=!1,e._oldValue=null,e}o(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this.checkEditorComponent(),l.editor||(this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState())},i.onRestore=function(){this.checkEditorComponent()},i.start=function(){this.onValueInit()},i.checkEditorComponent=function(){if(!l.editor)for(var t=R,e=0;e<t.length;e++){var o=t[e];if(this.node.getComponent(o[0])){""==this.componentName&&(this.componentName=o[0]),""==this.componentProperty&&(this.componentProperty=o[1]),null!==o[2]&&(this.controller=o[2]);break}}},i.checkComponentState=function(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent!=!1?this._canWatchComponent=!0:console.error("需要监听的组件的属性不存在"):console.error("未设置需要监听的组件 的属性"):console.error("未设置需要监听的组件")},i.getComponentValue=function(){return this._watchComponent[this.componentProperty]},i.setComponentValue=function(t){"cc.Toggle"==this.componentName?this.node.getComponent(a).isChecked=t:this._watchComponent[this.componentProperty]=t},i.onValueInit=function(){l.editor||this.setComponentValue(this.VM.getValue(this.watchPath))},i.onValueController=function(t,e){this.VM.setValue(this.watchPath,t)},i.onValueChanged=function(t,e,o){this.setComponentValue(t)},i.update=function(t){if(!l.editor&&this.controller&&this._canWatchComponent&&!1!==this._watchComponent.enabled&&(this._timer+=t,!(this._timer<this.refreshRate))){this._timer=0;var e=this._oldValue,o=this.getComponentValue();this._oldValue!==o&&(this._oldValue=this.getComponentValue(),this.onValueController(o,e))}},e}(s)).prototype,"controller",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=e(V.prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=e(V.prototype,"componentName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(V.prototype,"componentProperty",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=e(V.prototype,"refreshRate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),C=V))||C)||C)||C)||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/VMEnv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(n){"use strict";var t,e,u;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){u=n.EDITOR}],execute:function(){e._RF.push({},"fdf72Q91PdCXpPQ+62s1ufi","VMEnv",void 0);n("VMEnv",function(){function n(){}return t(n,null,[{key:"editor",get:function(){return u}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/VMEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(e){"use strict";var t,r,n,i,a,o,c,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.CCString,l=e.Enum,u=e.EventHandler},function(e){s=e.VMBase}],execute:function(){var f,p,h,b,d,g,m,v,y,M,w,E,V,k,z,P,A,C;a._RF.push({},"a9ce7kf8XZJeLPlT2iWn2zD","VMEvent",void 0);var D,_=o.ccclass,B=o.property,I=o.executeInEditMode,L=o.menu,O=o.help;!function(e){e[e.none=0]="none",e[e["=="]=1]="==",e[e["!="]=2]="!=",e[e[">"]=3]=">",e[e[">="]=4]=">=",e[e["<"]=5]="<",e[e["<="]=6]="<="}(D||(D={}));e("default",(f=L("ModelViewer/VM-EventCall(调用函数)"),p=O("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMEvent.md"),h=B({tooltip:"使用模板模式，可以使用多路径监听"}),b=B({tooltip:"监听获取值的路径",visible:function(){return!1===this.templateMode}}),d=B({tooltip:"触发一次后会自动关闭该事件"}),g=B({tooltip:"监听获取值的多条路径,这些值的改变都会通过这个函数回调,请使用 pathArr 区分获取的值 ",type:[c],visible:function(){return!0===this.templateMode}}),m=B({tooltip:"过滤模式，会根据条件过滤掉时间的触发",type:l(D)}),v=B({visible:function(){return this.filterMode!==D.none}}),y=B([u]),_(M=I(M=f(M=p((E=t((w=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"templateMode",E,i(t)),n(t,"watchPath",V,i(t)),n(t,"triggerOnce",k,i(t)),n(t,"watchPathArr",z,i(t)),n(t,"filterMode",P,i(t)),n(t,"compareValue",A,i(t)),n(t,"changeEvents",C,i(t)),t}r(t,e);var a=t.prototype;return a.onValueInit=function(){},a.onValueChanged=function(e,t,r){this.conditionCheck(e,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach((function(n){n.emit([e,t,r])})),!0===this.triggerOnce&&(this.enabled=!1))},a.conditionCheck=function(e,t){var r=D;switch(this.filterMode){case r.none:return!0;case r["=="]:if(e==t)return!0;break;case r["!="]:if(e!=t)return!0;break;case r["<"]:if(e<t)return!0;break;case r[">"]:if(e>t)return!0;break;case r[">="]:if(e>=t)return!0;break;case r["<"]:if(e<t)return!0;break;case r["<="]:if(e<=t)return!0}return!1},t}(s)).prototype,"templateMode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=t(w.prototype,"watchPath",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=t(w.prototype,"triggerOnce",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(w.prototype,"watchPathArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(w.prototype,"filterMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.none}}),A=t(w.prototype,"compareValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=t(w.prototype,"changeEvents",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=w))||M)||M)||M)||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/VMLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMBase.ts","./VMEnv.ts"],(function(t){"use strict";var e,r,i,a,n,l,o,s,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.CCString,s=t.error},function(t){c=t.StringFormatFunction},function(t){u=t.VMBase},function(t){h=t.VMEnv}],execute:function(){var p,f,m,g,b,d,V,v,M,y,L,T;n._RF.push({},"545c05XsG9GDJispEGWKvYv","VMLabel",void 0);var w=l.ccclass,x=l.property,A=l.menu,F=l.executeInEditMode,P=l.help,R="cc.Label";t("default",(p=A("ModelViewer/VM-Label(文本VM)"),f=P("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMLabel.md"),m=x({tooltip:"是否启用模板代码,只能在运行时之前设置,\n将会动态解析模板语法 {{0}},并且自动设置监听的路径"}),g=x({visible:function(){return!1===this.templateMode}}),b=x({readonly:!0}),d=x({type:[o],visible:function(){return!0===this.templateMode}}),w(V=F(V=p(V=f((M=e((v=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"templateMode",M,a(e)),i(e,"watchPath",y,a(e)),i(e,"labelType",L,a(e)),i(e,"watchPathArr",T,a(e)),e.templateValueArr=[],e.templateFormatArr=[],e.originText=null,e}r(e,t);var n=e.prototype;return n.onRestore=function(){this.checkLabel()},n.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),h.editor||this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},n.start=function(){h.editor||this.onValueInit()},n.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var r=0;r<e.length;r++){var i=e[r].match(t)[1].split(":")[1]||"";this.templateFormatArr[r]=i}},n.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var r=this.originText,i=0;i<e.length;i++){var a,n=e[i],l=n.match(t),o=parseInt(l[1]||"0")||0,s=this.templateFormatArr[i];a=this.templateValueArr[o],r=r.replace(n,this.getValueFromFormat(a,s))}return r},n.getValueFromFormat=function(t,e){return c.deal(t,e)},n.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},n.onValueChanged=function(t,e,r){if(!1===this.templateMode)this.setLabelValue(t);else{var i=r.join("."),a=this.watchPathArr.findIndex((function(t){return t===i}));a>=0&&(this.templateValueArr[a]=t,this.setLabelValue(this.getReplaceText()))}},n.setLabelValue=function(t){this.getComponent(this.labelType).string=t+""},n.getLabelValue=function(){return this.getComponent(this.labelType).string},n.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var r=t[e];if(this.node.getComponent(r))return this.labelType=r,!0}return s("没有挂载任何label组件"),!1},e}(u)).prototype,"templateMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=e(v.prototype,"watchPath",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=e(v.prototype,"labelType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R}}),T=e(v.prototype,"watchPathArr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=v))||V)||V)||V)||V));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMModify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(t){"use strict";var e,a,i,n,u,r,l,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){u=t.cclegacy,r=t._decorator,l=t.Enum},function(t){o=t.VMBase}],execute:function(){var s,h,c,v,M,p,f,d,m,V,b,w,y,g;u._RF.push({},"7d2a4voaOJJGJZRWFPG6Bk7","VMModify",void 0);var P,I=r.ccclass,A=r.property,C=r.menu,N=r.help;!function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX"}(P||(P={}));t("default",(s=C("ModelViewer/VM-Modify(修改Model)"),h=N("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMModify.md"),c=A({tooltip:"监视对象路径"}),v=A({tooltip:"是不启用取值范围限制"}),M=A({type:l(P),visible:function(){return!0===this.valueClamp}}),p=A({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==P.MAX}}),f=A({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==P.MIN}}),I(d=s(d=h((V=e((m=function(t){function e(){for(var e,a=arguments.length,u=new Array(a),r=0;r<a;r++)u[r]=arguments[r];return e=t.call.apply(t,[this].concat(u))||this,i(e,"watchPath",V,n(e)),i(e,"valueClamp",b,n(e)),i(e,"valueClampMode",w,n(e)),i(e,"valueMin",y,n(e)),i(e,"valueMax",g,n(e)),e}a(e,t);var u=e.prototype;return u.clampValue=function(t){var e=this.valueMin,a=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case P.MIN_MAX:t>a&&(t=a),t<e&&(t=e);break;case P.MIN:t<e&&(t=e);break;case P.MAX:t>a&&(t=a)}return t},u.vAddInt=function(t,e){this.vAdd(t,e,!0)},u.vSubInt=function(t,e){this.vSub(t,e,!0)},u.vMulInt=function(t,e){this.vMul(t,e,!0)},u.vDivInt=function(t,e){this.vDiv(t,e,!0)},u.vAdd=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)+i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vSub=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)-i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vMul=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)*i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vDiv=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)/i;a&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},u.vString=function(t,e){var a=e;this.VM.setValue(this.watchPath,a)},u.vNumberInt=function(t,e){this.vNumber(t,e,!0)},u.vNumber=function(t,e,a){void 0===a&&(a=!1);var i=parseFloat(e);a&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},e}(o)).prototype,"watchPath",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=e(m.prototype,"valueClamp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(m.prototype,"valueClampMode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.MIN_MAX}}),y=e(m.prototype,"valueMin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=e(m.prototype,"valueMax",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=m))||d)||d)||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/VMParent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ViewModel.ts"],(function(t){"use strict";var n,e,o,a,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.GameComponent},function(t){r=t.VM}],execute:function(){var i;e._RF.push({},"15ccciO+ZRH476sPKD/LvB7","VMParent",void 0);var s=o.ccclass,c=o.help,h=o.executionOrder;t("default",s(i=h(-1)(i=c("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMParent.md")(i=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).tag="_temp",n.data={},n.VM=r,n}n(e,t);var o=e.prototype;return o.onLoad=function(){if(null!=this.data){this.tag="_temp<"+this.node.uuid.replace(".","")+">",r.add(this.data,this.tag);for(var n=this.getVMComponents(),e=0;e<n.length;e++){var o=n[e];this.replaceVMPath(o,this.tag)}this.onBind(),t.prototype.onLoad.call(this)}},o.onBind=function(){},o.onUnBind=function(){},o.replaceVMPath=function(t,n){var e=t.watchPath;if(1==t.templateMode){var o=t.watchPathArr;if(o)for(var a=0;a<o.length;a++){var r=o[a];o[a]=r.replace("*",n)}}else"*"===e.split(".")[0]&&(t.watchPath=e.replace("*",n))},o.getVMComponents=function(){var t=this,n=this.node.getComponentsInChildren("VMBase"),e=this.node.getComponentsInChildren("VMParent").filter((function(n){return n.uuid!==t.uuid})),o=[];return e.forEach((function(t){o=o.concat(t.getComponentsInChildren("VMBase"))})),n=n.filter((function(t){return o.indexOf(t)<0}))},o.onDestroy=function(){this.onUnBind(),r.remove(this.tag),this.data=null,t.prototype.onDestroy.call(this)},e}(a))||i)||i)||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMCustom.ts","./VMEnv.ts"],(function(t){"use strict";var e,r,a,i,n,o,s,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.CCString},function(t){l=t.StringFormatFunction},function(t){u=t.VMCustom},function(t){h=t.VMEnv}],execute:function(){var c,p,m,V,f,g,d,v,P,w;n._RF.push({},"2a50eqI7JZNV5Sh0y/Qd9C6","VMProgress",void 0);var M=o.ccclass,b=o.property,y=o.menu,A=o.help;t("default",(c=y("ModelViewer/VM-Progress (VM-进度条)"),p=A("https://gitee.com/dgflash/oops-framework/blob/master/doc/mvvm/VMProgress.md"),m=b({visible:!1,override:!0}),V=b({type:[s],tooltip:"第一个值是min 值，第二个值 是 max 值，会计算出两者的比例"}),f=b({visible:function(){return"string"===this.componentProperty},tooltip:"字符串格式化，和 VMLabel 的字段一样，需要填入对应的格式化字符串"}),M(g=c(g=p((v=e((d=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"watchPath",v,i(e)),a(e,"watchPathArr",P,i(e)),e.templateMode=!0,a(e,"stringFormat",w,i(e)),e}r(e,t);var n=e.prototype;return n.onLoad=function(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&console.error("VMProgress must have two values!"),t.prototype.onLoad.call(this)},n.start=function(){h.editor||this.onValueInit()},n.onValueInit=function(){for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e]);var r=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(r)},n.setComponentValue=function(e){if(""!==this.stringFormat){var r=l.deal(e,this.stringFormat);t.prototype.setComponentValue.call(this,r)}else t.prototype.setComponentValue.call(this,e)},n.onValueController=function(t,e){var r=Math.round(t*this.templateValueArr[1]);Number.isNaN(r)&&(r=0),this.VM.setValue(this.watchPathArr[0],r)},n.onValueChanged=function(t,e,r){if(!1!==this.templateMode){var a=r.join("."),i=this.watchPathArr.findIndex((function(t){return t===a}));i>=0&&(this.templateValueArr[i]=t);var n=this.templateValueArr[0]/this.templateValueArr[1];n>1&&(n=1),(n<0||Number.isNaN(n))&&(n=0),this.setComponentValue(n)}},e}(u)).prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=e(d.prototype,"watchPathArr",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["[min]","[max]"]}}),w=e(d.prototype,"stringFormat",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=d))||g)||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./VMBase.ts"],(function(e){"use strict";var t,i,n,o,a,r,l,u,c,s,p,h,f,N,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Enum,u=e.CCInteger,c=e.Node,s=e.Button,p=e.Sprite,h=e.UIRenderer,f=e.color,N=e.UIOpacity},function(e){C=e.VM},function(e){b=e.VMBase}],execute:function(){var d,v,O,m,E,y,A,T,_,g,V,M,D,w,I,S,P,k,L,R,z,B,U,Y,F,X,G,j,x,H,q;a._RF.push({},"47052uw/Y5O1LXaLObj4ARx","VMState",void 0);var J,K,Q,W=r.ccclass,Z=r.property,$=r.menu,ee=r.help;!function(e){e[e["=="]=0]="==",e[e["!="]=1]="!=",e[e[">"]=2]=">",e[e[">="]=3]=">=",e[e["<"]=4]="<",e[e["<="]=5]="<=",e[e.range=6]="range"}(J||(J={})),function(e){e[e.NODE_ACTIVE=0]="NODE_ACTIVE",e[e.NODE_VISIBLE=1]="NODE_VISIBLE",e[e.NODE_OPACITY=2]="NODE_OPACITY",e[e.NODE_COLOR=3]="NODE_COLOR",e[e.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM",e[e.SPRITE_GRAYSCALE=5]="SPRITE_GRAYSCALE",e[e.BUTTON_INTERACTABLE=6]="BUTTON_INTERACTABLE"}(K||(K={})),function(e){e[e.NODE_INDEX=0]="NODE_INDEX",e[e.NODE_NAME=1]="NODE_NAME"}(Q||(Q={}));e("default",(d=$("ModelViewer/VM-State (VM状态控制)"),v=ee("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMState.md"),O=Z({tooltip:"遍历子节点,根据子节点的名字或名字转换为值，判断值满足条件 来激活"}),m=Z({type:l(J)}),E=Z({type:l(Q),tooltip:"遍历子节点,根据子节点的名字转换为值，判断值满足条件 来激活",visible:function(){return!0===this.foreachChildMode}}),y=Z({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}}),A=Z({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===J.range}}),T=Z({type:l(K),tooltip:"一旦满足条件就对节点执行操作"}),_=Z({visible:function(){return this.valueAction===K.NODE_OPACITY},range:[0,255],type:u,displayName:"Action Opacity"}),g=Z({visible:function(){return this.valueAction===K.NODE_COLOR},displayName:"Action Color"}),V=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Component Name"}),M=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Component Property"}),D=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Default Value"}),w=Z({visible:function(){return this.valueAction===K.COMPONENT_CUSTOM},displayName:"Action Value"}),I=Z({type:[c],tooltip:"需要执行条件的节点，如果不填写则默认会执行本节点以及本节点的所有子节点 的状态"}),W(S=d(S=v((k=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"watchPath",k,o(t)),n(t,"foreachChildMode",L,o(t)),n(t,"condition",R,o(t)),n(t,"foreachChildType",z,o(t)),n(t,"valueA",B,o(t)),n(t,"valueB",U,o(t)),n(t,"valueAction",Y,o(t)),n(t,"valueActionOpacity",F,o(t)),n(t,"valueActionColor",X,o(t)),n(t,"valueComponentName",G,o(t)),n(t,"valueComponentProperty",j,o(t)),n(t,"valueComponentDefaultValue",x,o(t)),n(t,"valueComponentActionValue",H,o(t)),n(t,"watchNodes",q,o(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),0==this.watchNodes.length&&(this.valueAction!==K.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children))},a.start=function(){this.enabled&&this.onValueInit()},a.onValueInit=function(){var e=C.getValue(this.watchPath);this.checkNodeFromValue(e)},a.onValueChanged=function(e,t,i){this.checkNodeFromValue(e)},a.checkNodeFromValue=function(e){var t=this;if(this.foreachChildMode)this.watchNodes.forEach((function(i,n){var o=t.foreachChildType===Q.NODE_INDEX?n:i.name,a=t.conditionCheck(e,o);t.setNodeState(i,a)}));else{var i=this.conditionCheck(e,this.valueA,this.valueB);this.setNodesStates(i)}},a.setNodesStates=function(e){var t=this,i=this.watchNodes,n=e;i.forEach((function(e){t.setNodeState(e,n)}))},a.setNodeState=function(e,t){var i=t;switch(this.valueAction){case K.NODE_ACTIVE:e.active=!!i;break;case K.NODE_VISIBLE:var n=e.getComponent(N);if(null==n&&(n=e.addComponent(N)),n){n.opacity=i?255:0;break}case K.NODE_OPACITY:var o=e.getComponent(N);if(null==o&&(o=e.addComponent(N)),o){o.opacity=i?this.valueActionOpacity:255;break}case K.NODE_COLOR:var a=e.getComponent(h);if(a){a.color=i?this.valueActionColor:f(255,255,255);break}case K.COMPONENT_CUSTOM:var r=e.getComponent(this.valueComponentName);if(null==r)return;this.valueComponentProperty in r&&(r[this.valueComponentProperty]=i?this.valueComponentActionValue:this.valueComponentDefaultValue);break;case K.SPRITE_GRAYSCALE:var l=e.getComponent(p);if(l){l.grayscale=i;break}case K.BUTTON_INTERACTABLE:var u=e.getComponent(s);if(u){u.interactable=i;break}}},a.conditionCheck=function(e,t,i){var n=J;switch(this.condition){case n["=="]:if(e==t)return!0;break;case n["!="]:if(e!=t)return!0;break;case n["<"]:if(e<t)return!0;break;case n[">"]:if(e>t)return!0;break;case n[">="]:if(e>=t)return!0;break;case n["<"]:if(e<t)return!0;break;case n["<="]:if(e<=t)return!0;break;case n.range:if(e>=t&&e<=i)return!0}return!1},t}(b)).prototype,"watchPath",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=t(P.prototype,"foreachChildMode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(P.prototype,"condition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J["=="]}}),z=t(P.prototype,"foreachChildType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.NODE_INDEX}}),B=t(P.prototype,"valueA",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(P.prototype,"valueB",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=t(P.prototype,"valueAction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.NODE_ACTIVE}}),F=t(P.prototype,"valueActionOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(P.prototype,"valueActionColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f(155,155,155)}}),G=t(P.prototype,"valueComponentName",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=t(P.prototype,"valueComponentProperty",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(P.prototype,"valueComponentDefaultValue",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=t(P.prototype,"valueComponentActionValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=t(P.prototype,"watchNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=P))||S)||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/WebSock.ts",["cc","./Logger.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Logger}],execute:function(){e._RF.push({},"70df2VbIU9B66Fr+op8FKJp","WebSock",void 0);t("WebSock",function(){function t(){this._ws=null,this.onConnected=null,this.onMessage=null,this.onError=null,this.onClosed=null}var e=t.prototype;return e.connect=function(t){var e=this;if(this._ws&&this._ws.readyState===WebSocket.CONNECTING)return n.logNet("websocket connecting, wait for a moment..."),!1;var s=null;if(t.url)s=t.url;else{var o=t.ip,r=t.port;s=t.protocol+"://"+o+":"+r}return this._ws=new WebSocket(s),this._ws.binaryType=t.binaryType?t.binaryType:"arraybuffer",this._ws.onmessage=function(t){(0,e.onMessage)(t.data)},this._ws.onopen=this.onConnected,this._ws.onerror=this.onError,this._ws.onclose=this.onClosed,!0},e.send=function(t){return this._ws&&this._ws.readyState==WebSocket.OPEN?(this._ws.send(t),1):-1},e.close=function(t,e){this._ws&&this._ws.close(t,e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Welfare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableRechargeGift.ts","./TableUtil.ts"],(function(e){"use strict";var t,a,r,n,i,u,c,o,f,l,s;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){r=e.cclegacy},function(e){n=e.JsonUtil},function(e){i=e.GameEvent},function(e){u=e.smc},function(e){c=e.GameSys},function(e){o=e.TableGameConfig},function(e){f=e.GameSysKey},function(e){l=e.TableRechargeGift},function(e){s=e.TableUtil}],execute:function(){r._RF.push({},"e1111sAAYtJWoz0bXxfFY/S","Welfare",void 0);var g=e("Welfare",function(e){function r(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).redotWatchGameEvents=[i.WelfareUpdateRed,i.StoreBuyItem,i.HeroLevelUp],t}t(r,e);var c=r.prototype;return c.setWelFareLevel=function(e){u.accountData.subinfo.welfareLevel=e},c.setWelFareAward=function(e){u.accountData.subinfo.welfareDaily=e},c.getWelFareAward=function(){return u.accountData.subinfo.welfareDaily},c.setWelFareAccu=function(e){u.accountData.subinfo.welfarePaidDaily=e},c.getRechargeGift=function(){return u.accountData.subinfo.rechargeGift},c.setRechargeGift=function(e){u.accountData.subinfo.rechargeGift=e},c.getWelFareLevelCfg=function(){var e=[],t=s.getWelFareLevelData(),a=u.accountData.heroLevel,r=u.welfare.getWelFareLevel;for(var n in t){var i=0;a<Number(n)&&(i=1),r>=Number(n)&&(i=2),e.push({drop:t[n].drop,level:Number(n),get:i})}return e},c.getWelFareAccuCfg=function(){var e=u.accountData.subinfo,t=[],a=s.getWelFareAccumData(),r=e.rechargeInfo.total6Days;for(var n in a){var i,c=0;Number(n)>r&&(c=1),((null==(i=e.welfarePaidDaily)?void 0:i.receivedPaidDays)||0)>=Number(n)&&(c=2),t.push({drop:a[n].drop,days:Number(n),get:c})}return t},c.getWelFareRechargeCfg=function(){var e;e=1===o.recharge_gift_rest?u.accountData.subinfo.rechargeInfo.dailyAmounts||0:u.accountData.subinfo.rechargeInfo.totalAmounts||0;var t=u.welfare.getRechargeGift(),a=[],r=n.get(l.TableName);for(var i in r){var c=0;t&&1==t[i]?c=2:e<Number(i)&&(c=1),a.push({drop:r[i].drop1,level:Number(i),get:c})}return a},c.calRedot=function(){return this.dailyGiftRed||this.levelRed||this.accumuRed||this.rechargeGiftRed},a(r,[{key:"getWelFareLevel",get:function(){return u.accountData.subinfo.welfareLevel}},{key:"dailyGiftRed",get:function(){var e=this.getWelFareAward();return 1!=(null==e?void 0:e.todayReceived)}},{key:"levelRed",get:function(){var e=this.getWelFareLevelCfg();for(var t in e)if(0==Number(e[t].get))return!0;return!1}},{key:"accumuRed",get:function(){var e;if(1!=(null==(e=u.accountData.subinfo.welfarePaidDaily)?void 0:e.dailyReceived))return!0;var t=this.getWelFareAccuCfg();for(var a in t)if(0==Number(t[a].get))return!0;return!1}},{key:"rechargeGiftRed",get:function(){if(u.system.checkOpened(f.recharge_gift)&&u.recharge.isBuyFirstGift){var e=this.getWelFareRechargeCfg();for(var t in e)if(0==Number(e[t].get))return!0}return!1}}]),r}(c));e("welfare",new g(f.welfare));r._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareAccuItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,n,i,r,a,s,o,l,c,u,p,b,m,f,h,d,g,v,y,w,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,l=t._decorator,c=t.Label,u=t.Node,p=t.Button,b=t.Component},function(t){m=t.oops},function(t){f=t.ViewUtil},function(t){h=t.GameEvent},function(t){d=t.GameResPath},function(t){g=t.ItemsGroup},function(t){v=t.tips},function(t){y=t.httpChannel},function(t){w=t.MsgID},function(t){D=t.smc}],execute:function(){var G,C,I,R,_,k,A,M,F,z,P,L,W;o._RF.push({},"3d32bcuiKNNB5K2OcOcK2bt","WelfareAccuItem",void 0);var B=l.ccclass,x=l.property;t("WelfareAccuItem",(G=B("WelfareAccuItem"),C=x(c),I=x(u),R=x(p),_=x(c),k=x(u),G((F=e((M=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"lblDesp",F,r(e)),i(e,"nodeItemsList",z,r(e)),i(e,"btnGet",P,r(e)),i(e,"lblbtnDesp",L,r(e)),i(e,"spMask",W,r(e)),e.serverdata=void 0,e._onRecv=null,e}n(e,t);var o=e.prototype;return o.initItem=function(t){return this.serverdata=t,this.lblDesp.getComponent(c).string="累计充值 "+t.days+" 天",this.nodeItemsList.addComponent(g).init(t.drop),this.spMask.active=!1,1==t.get?(f.loadButtonFrame(this.btnGet,d.getSpriteFrameCommon("btn_tipsan_hong")),this.lblbtnDesp.getComponent(c).string="未完成"):0==t.get?(f.loadButtonFrame(this.btnGet,d.getSpriteFrameCommon("btn_tipsan_huang")),this.lblbtnDesp.getComponent(c).string="可领取"):(f.setGray(this.btnGet),this.lblbtnDesp.getComponent(c).string="已领取",this.spMask.active=!0),this},o.onClickAward=function(){var t=a(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.reqAsync(w.FuliGetPaidDaysAward,{isDaily:!1});case 2:if(null!=(e=t.sent)&&e.ok){t.next=5;break}return t.abrupt("return");case 5:D.account.doResChange(e),D.welfare.setWelFareAccu(e.welfarePaidDays),v.reward(e),this._onRecv(),m.message.dispatchEvent(h.WelfareUpdateRed);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onRecv=function(t){this._onRecv=t},e}(b)).prototype,"lblDesp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(M.prototype,"nodeItemsList",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(M.prototype,"btnGet",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(M.prototype,"lblbtnDesp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(M.prototype,"spMask",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=M))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareAccumulate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./WelfareAccuItem.ts","./Util.ts"],(function(t){"use strict";var e,n,a,r,i,o,s,l,c,u,f,p,h,d,m,g,b,v,w,y,C,A,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,c=t.Node,u=t.Button,f=t.instantiate,p=t.Animation,h=t.Component},function(t){d=t.oops},function(t){m=t.ViewUtil},function(t){g=t.GameEvent},function(t){b=t.GameResPath},function(t){v=t.tips},function(t){w=t.httpChannel},function(t){y=t.MsgID},function(t){C=t.smc},function(t){A=t.WelfareAccuItem},function(t){D=t.Util}],execute:function(){var G,R,W,I,P,F,B,S,_;s._RF.push({},"e27b8+lX+RKar4/IA3D2wJ/","WelfareAccumulate",void 0);var k=l.ccclass,z=l.property;t("WelfareAccumulate",(G=k("WelfareAccumulate"),R=z(c),W=z(c),I=z(u),G((B=e((F=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"nodeContent",B,r(e)),a(e,"rewardItem",S,r(e)),a(e,"btnGet",_,r(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.initView()},s.initView=function(){var t=this.getcfgData();for(var e in this.nodeContent.removeAllChildren(),t)f(this.rewardItem).parent=this.nodeContent;this.freshList(),this.updateBtnStatus()},s.freshList=function(){var t=this.getcfgData();for(var e in t){this.nodeContent.children[e].getComponent(A).initItem(t[e]).onRecv(this.onCall.bind(this))}},s.onCall=function(){this.freshList()},s.getcfgData=function(){for(var t=C.welfare.getWelFareAccuCfg(),e=0;e<t.length;e++)for(var n=e+1;n<t.length;n++)if(t[e].get>t[n].get){var a=t[e];t[e]=t[n],t[n]=a}return t},s.onClickAward=function(){var t=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.reqAsync(y.FuliGetPaidDaysAward,{isDaily:!0});case 2:if(null!=(e=t.sent)&&e.ok){t.next=5;break}return t.abrupt("return");case 5:C.account.doResChange(e),C.welfare.setWelFareAccu(e.welfarePaidDays),v.reward(e),this.updateBtnStatus(),d.message.dispatchEvent(g.WelfareUpdateRed);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.updateBtnStatus=function(){var t,e=1==(null==(t=C.accountData.subinfo.welfarePaidDaily)?void 0:t.dailyReceived),n=e?"btn_jthllbylq":"btn_jthllb";m.loadButtonFrame(this.btnGet,b.getSpriteFrameWelfare(n)),D.setRedot(this.btnGet,!e),e?this.btnGet.getComponent(p).stop():this.btnGet.getComponent(p).play()},e}(h)).prototype,"nodeContent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(F.prototype,"rewardItem",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(F.prototype,"btnGet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=F))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareDaygift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./WelfareDaygiftItem.ts"],(function(e){"use strict";var t,n,a,i,r,o,l,s,u,c,f,p,d,y,h,g,m,w,D,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,c=e.Button,f=e.Component},function(e){p=e.oops},function(e){d=e.ViewUtil},function(e){y=e.GameEvent},function(e){h=e.GameResPath},function(e){g=e.tips},function(e){m=e.httpChannel},function(e){w=e.MsgID},function(e){D=e.smc},function(e){v=e.WelfareDaygiftItem}],execute:function(){var b,W,G,L,C,F,_;l._RF.push({},"2e1c9+geAVMDr5dTbcZm3uT","WelfareDaygift",void 0);var B=s.ccclass,I=s.property;e("WelfareDaygift",(b=B("WelfareDaygift"),W=I(u),G=I(c),b((F=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"nodeListDaily",F,i(t)),a(t,"btnGet",_,i(t)),t.weekNum=4,t}n(t,e);var l=t.prototype;return l.start=function(){this.initList()},l.initList=function(){var e=this,t=1;do{this.nodeListDaily.getChildByName("giftItem_"+t)||d.loadPrefabNode("gui/welfare/welfare_daygiftItem",(function(t){t.parent=e.nodeListDaily;var n=e.nodeListDaily.children.length,a=t.getComponent(v);a.name="giftItem_"+n,a.initItem(n)})),t++}while(t<=this.weekNum);this.updateBtnStatus()},l.onClickAward=function(){var e=r(o().mark((function e(){var t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.reqAsync(w.FuliGetDailyAward,{});case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:D.account.doResChange(t),g.reward(t),D.welfare.setWelFareAward(t.welfareDaily),n=Math.floor(t.welfareDaily.receivedDays/7),a=this.nodeListDaily.children[n],a.getComponent(v).updateView(t.welfareDaily.receivedDays),this.updateBtnStatus(),p.message.dispatchEvent(y.WelfareUpdateRed);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.updateBtnStatus=function(){var e=D.welfare.getWelFareAward();1==(null==e?void 0:e.todayReceived)?d.loadButtonFrame(this.btnGet,h.getSpriteFrameWelfare("btn_mrzlan")):d.loadButtonFrame(this.btnGet,h.getSpriteFrameWelfare("btn_lqjlan"))},t}(f)).prototype,"nodeListDaily",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(C.prototype,"btnGet",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareDaygiftItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableWelfareDailyAward.ts","./ItemsGroup.ts"],(function(e){"use strict";var t,i,r,a,n,o,l,c,s,f,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Node,c=e.Label,s=e.Component},function(e){f=e.smc},function(e){u=e.TableWelfareDailyAward},function(e){p=e.ItemsGroup}],execute:function(){var d,g,m,y,h;n._RF.push({},"1e8f67AJ4lA0o3RlbeWctuy","WelfareDaygiftItem",void 0);var v=o.ccclass,b=o.property;e("WelfareDaygiftItem",(d=v("WelfareDaygiftItem"),g=b([l]),d((h=t((y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"nodeList",h,a(t)),t.cfg=new u,t}i(t,e);var n=t.prototype;return n.start=function(){},n.initItem=function(e){var t=this;this.nodeList.forEach((function(i,r){var a=1+7*(Number(e)-1)+r;t.cfg.init(a),i.getChildByName("Label").getComponent(c).string="第"+a+"天",i.getComponent(p).init(t.cfg.drop),t.updateView(7*(e-1)+Number(r)+1)}))},n.updateView=function(e){var t=f.welfare.getWelFareAward(),i=Math.floor(e%7)?Math.floor(e%7)-1:6,r=this.nodeList[i],a=!1;t&&(a=e<=t.receivedDays),r.getChildByName("mask").active=a,r.getChildByName("get").active=a},t}(s)).prototype,"nodeList",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WelfareLevelItem.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,n,r,i,o,a,l,s,c,f,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,s=e.instantiate,c=e.Component},function(e){f=e.WelfareLevelItem},function(e){u=e.smc}],execute:function(){var h,p,v,g,d,m,L;o._RF.push({},"3ffca2BMWNMYoNs6u0Wy1Hw","WelfareLevel",void 0);var C=a.ccclass,y=a.property;e("WelfareLevel",(h=C("WelfareLevel"),p=y(l),v=y(l),h((m=t((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nodeContent",m,i(t)),r(t,"rewardItem",L,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.initList()},o.initList=function(){var e=this.getcfgData();for(var t in this.nodeContent.removeAllChildren(),e)s(this.rewardItem).parent=this.nodeContent;this.freshList()},o.freshList=function(){var e=this.getcfgData();for(var t in e){this.nodeContent.children[t].getComponent(f).initItem(e[t]).onRecv(this.onCall.bind(this))}},o.onCall=function(){this.freshList()},o.getcfgData=function(){for(var e=u.welfare.getWelFareLevelCfg(),t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)if(e[t].get>e[n].get){var r=e[t];e[t]=e[n],e[n]=r}return e},t}(c)).prototype,"nodeContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(d.prototype,"rewardItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareLevelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameResPath.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,n,i,r,o,l,a,s,u,c,p,b,m,f,h,g,v,d,y,C,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Label,c=e.Node,p=e.Button,b=e.Component},function(e){m=e.oops},function(e){f=e.ViewUtil},function(e){h=e.GameEvent},function(e){g=e.GameResPath},function(e){v=e.ItemsGroup},function(e){d=e.tips},function(e){y=e.httpChannel},function(e){C=e.MsgID},function(e){w=e.smc}],execute:function(){var G,L,D,I,R,_,k,M,z,F,S,W,x,A,B;a._RF.push({},"e20687xXABHcbk7SOScHsGH","WelfareLevelItem",void 0);var H=s.ccclass,P=s.property;e("WelfareLevelItem",(G=H("WelfareLevelItem"),L=P(u),D=P(c),I=P(u),R=P(p),_=P(u),k=P(c),G((F=t((z=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblDesp",F,r(t)),i(t,"nodeItemsList",S,r(t)),i(t,"lblCondition",W,r(t)),i(t,"btnGet",x,r(t)),i(t,"lblbtnDesp",A,r(t)),i(t,"spMask",B,r(t)),t._onRecv=null,t}n(t,e);var a=t.prototype;return a.initItem=function(e){return this.lblDesp.getComponent(u).string="等级达到"+e.level+"可领取",this.nodeItemsList.addComponent(v).init(e.drop),this.lblCondition.getComponent(u).string=w.accountData.heroLevel+"/"+e.level,this.spMask.active=!1,1==e.get?(f.loadButtonFrame(this.btnGet,g.getSpriteFrameCommon("btn_tipsan_hong")),this.lblbtnDesp.getComponent(u).string="未完成"):0==e.get?(f.loadButtonFrame(this.btnGet,g.getSpriteFrameCommon("btn_tipsan_huang")),this.lblbtnDesp.getComponent(u).string="可领取"):(f.setGray(this.btnGet),this.lblbtnDesp.getComponent(u).string="已领取",this.spMask.active=!0),this},a.onClickAward=function(){var e=o(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.reqAsync(C.FuliGetLevelAward,{});case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:w.account.doResChange(t),w.welfare.setWelFareLevel(t.welfareLevel),d.reward(t),this._onRecv(),m.message.dispatchEvent(h.WelfareUpdateRed);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onRecv=function(e){this._onRecv=e},t}(b)).prototype,"lblDesp",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(z.prototype,"nodeItemsList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(z.prototype,"lblCondition",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(z.prototype,"btnGet",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"lblbtnDesp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(z.prototype,"spMask",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=z))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./WelfareDaygift.ts","./WelfareLevel.ts","./WelfareAccumulate.ts","./SingletonModuleComp.ts","./GameEvent.ts","./WelfareRecharge.ts","./TableGameSys.ts"],(function(e){"use strict";var t,a,n,i,r,o,l,f,s,c,u,d,h,p,m,g,b,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,f=e.Label,s=e.color,c=e.Component},function(e){u=e.oops},function(e){d=e.ViewUtil},function(e){h=e.WelfareDaygift},function(e){p=e.WelfareLevel},function(e){m=e.WelfareAccumulate},function(e){g=e.smc},function(e){b=e.GameEvent},function(e){v=e.WelfareRecharge},function(e){w=e.GameSysKey}],execute:function(){var y,R,I,_,C,D,W,T,P;r._RF.push({},"bd7a3Kg65JOJKL0TX+Id/l9","WelfareMain",void 0);var x=o.ccclass,N=o.property;e("WelfareMain",(y=x("WelfareMain"),R=N(l),I=N(f),_=N(l),y((W=t((D=function(e){function t(){for(var t,a,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=e.call.apply(e,[this].concat(o))||this,n(a,"nodeTabItems",W,i(a)),n(a,"lblTabNameRoot",T,i(a)),n(a,"spRedDot",P,i(a)),a.UIwelfare=((t={})[0]={prefab:"gui/welfare/welfare_daygift",Component:h,name:"welfare_daygift"},t[1]={prefab:"gui/welfare/welfare_level",Component:p,name:"welfare_level"},t[2]={prefab:"gui/welfare/welfare_accumulate",Component:m,name:"welfare_accumulate"},t[3]={prefab:"gui/welfare/welfare_recharge",Component:v,name:"welfare_recharge"},t),a.curPageIndex=0,a.afterPageIndex=null,a}a(t,e);var r=t.prototype;return r.onLoad=function(){this.node.setSiblingIndex(1)},r.start=function(){this.updateView(),u.message.on(b.WelfareUpdateRed,this._eventHandler,this)},r.onDestroy=function(){u.message.off(b.WelfareUpdateRed,this._eventHandler,this)},r.updateView=function(){var e=this;this.initTab();var t=this.UIwelfare[this.curPageIndex];if(t){var a=this.node.getChildByName(t.name);a?(a.active=!0,this.hideView()):d.loadPrefabNode(t.prefab,(function(a){a.parent=e.node;a.getComponent(t.Component);e.hideView()})),this.freshRedDot()}},r.initTab=function(){for(var e in this.nodeTabItems)3==Number(e)&&(this.nodeTabItems[e].active=g.system.checkOpened(w.recharge_gift)&&g.recharge.isBuyFirstGift)},r.freshRedDot=function(){this.spRedDot[0].active=g.welfare.dailyGiftRed,this.spRedDot[1].active=g.welfare.levelRed,this.spRedDot[2].active=g.welfare.accumuRed,this.spRedDot[3].active=g.welfare.rechargeGiftRed},r.hideView=function(){for(var e=0;e<4;e++)e==this.curPageIndex?this.node.getChildByName(this.UIwelfare[e].name).active=!0:e==this.afterPageIndex&&(this.node.getChildByName(this.UIwelfare[e].name).active=!1)},r.onClickEvent=function(e,t){this.afterPageIndex=this.curPageIndex,this.curPageIndex=parseInt(t),this.updateView()},r.onCheckEvent=function(e,t){Object.entries(this.lblTabNameRoot).forEach((function(e,a){e[1].color=a==t?s(12,255,155):s(251,187,126)}))},r._eventHandler=function(e,t){e==b.WelfareUpdateRed&&this.freshRedDot()},r.onClickClose=function(){u.gui.removeByNode(this.node,!0)},t}(c)).prototype,"nodeTabItems",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(D.prototype,"lblTabNameRoot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(D.prototype,"spRedDot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=D))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./System.ts","./GameEvent.ts","./TableGameConfig.ts","./TableGameSys.ts","./JsonUtil.ts","./TableOpenWelfareAward.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./HttpChannelManager.ts","./TableUtil.ts","./GameEnum.ts","./TipsManager.ts"],(function(e){"use strict";var t,n,r,a,o,i,s,c,u,f,l,d,g,p,v,h,y,m,T,k;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,r=e.createForOfIteratorHelperLoose,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator},function(e){c=e.GameSys},function(e){u=e.GameEvent},function(e){f=e.TableGameConfig},function(e){l=e.GameSysKey,d=e.TableGameSys},function(e){g=e.JsonUtil},function(e){p=e.TableOpenWelfareAward},function(e){v=e.MsgID},function(e){h=e.smc},function(e){y=e.httpChannel},function(e){m=e.TableUtil},function(e){T=e.ETaskState},function(e){k=e.tips}],execute:function(){var w;i._RF.push({},"dff6boTSJtCxKc+0u07+fOA","WelfareOpenServer",void 0);var b=s.ccclass,S=(s.property,e("WelfareOpenServer",b("WelfareOpenServer")(w=function(e){function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).redotWatchGameEvents=[u.ItemBagUpdated,u.TaskWOSUpadte],t}t(i,e);var s=i.prototype;return s.getAwardData=function(){return g.get(p.TableName)},s.getTaskData=function(){return this.wosInfo.tasklist},s.setTaskData=function(e){this.wosInfo.tasklist=e},s.getSingleTaskInfo=function(e){return this.getTaskData()[e]},s.getExchangeData=function(){return m.getGoodsByType(19)},s.getGiftData=function(){return m.getGoodsByType(20)},s.getPointAward=function(){var e=a(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.WelfareOpenServerPointAward,n={},e.next=4,y.reqAsync(t,n);case 4:if(null!=(r=e.sent)&&r.ok){e.next=7;break}return e.abrupt("return");case 7:this.wosInfo.received=r.received,h.account.doResChange(r),a={additem:r.additem},k.reward(a);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.calRedot=function(e,t){return this.pointAwardRed||this.exchangeRed||this.taskRed||this.giftRed},n(i,[{key:"scoreItemId",get:function(){return f.var_openWelfare_point}},{key:"closeServerDays",get:function(){return d[l.open_server_welfare].close_serverday}},{key:"wosInfo",get:function(){return h.accdata.subinfo.openWelfare},set:function(e){h.accdata.subinfo.openWelfare=e}},{key:"pointAwardRed",get:function(){var e=this.getAwardData(),t=this.wosInfo.received;for(var n in e){var r=e[n];if(t<Number(n)&&this.wosInfo.totalPoint>=Number(r.cost))return!0}return!1}},{key:"exchangeRed",get:function(){for(var e,t=r(this.getExchangeData());!(e=t()).done;){var n=e.value,a=n.alwayslimit-h.store.getBuyTimes(n.id,"alwayTag"),o=Object.entries(n.cost)[0],i=o[0],s=o[1];if(a>0&&h.accdata.getItemCount(i)>=Number(s))return!0}return!1}},{key:"taskRed",get:function(){for(var e in this.getTaskData()){var t=this.getSingleTaskInfo(e);if(t.state==T.NOT_RECEIVE&&h.task.isFinished(t))return!0}return!1}},{key:"giftRed",get:function(){for(var e,t=r(this.getGiftData());!(e=t()).done;){var n=e.value;if(0==n.price)if(n.dailylimit-h.store.getBuyTimes(n.id,"dailyTag")>0)return!0}return!1}}]),i}(c))||w));e("wos",new S(l.open_server_welfare));i._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerExchange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./WelfareOpenServerExchangeItem.ts","./Oops.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,r,a,o,i,s,c,l,h,f,u,p,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,s=e._decorator,c=e.Node,l=e.Prefab,h=e.instantiate,f=e.Component},function(e){u=e.smc},function(e){p=e.WelfareOpenServerExchangeItem},function(e){g=e.oops},function(e){d=e.GameEvent}],execute:function(){var v,m,x,y,b,C,I;i._RF.push({},"44e17/tcZtD66Cc4GUPygKa","WelfareOpenServerExchange",void 0);var _=s.ccclass,E=s.property;e("WelfareOpenServerExchange",(v=_("WelfareOpenServerExchange"),m=E(c),x=E(l),v((C=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nodeContent",C,a(t)),r(t,"exchangeItem",I,a(t)),t._table=void 0,t}n(t,e);var i=t.prototype;return i.start=function(){this._table=u.wos.getExchangeData();var e=this._table.length;this.nodeContent.removeAllChildren();for(var t=0;t<e;t++){h(this.exchangeItem).parent=this.nodeContent}this.refresh(),g.message.on(d.ItemBagUpdated,this._eventHandler,this)},i.onDestroy=function(){g.message.off(d.ItemBagUpdated,this._eventHandler,this)},i.update=function(e){},i.refresh=function(){var e=this;this.exchangeItems.forEach((function(t,n){t.refresh(e._table[n])}))},i._eventHandler=function(e,t){e==d.ItemBagUpdated&&this.refresh()},o(t,[{key:"exchangeItems",get:function(){return this.nodeContent.getComponentsInChildren(p)}}]),t}(f)).prototype,"nodeContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(b.prototype,"exchangeItem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerExchangeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagItem.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Util.ts"],(function(e){"use strict";var t,r,n,i,a,o,l,c,s,u,p,f,m,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Label,u=e.Button,p=e.Component},function(e){f=e.BagItem},function(e){m=e.smc},function(e){h=e.TableUtil},function(e){b=e.Util}],execute:function(){var g,d,v,y,x,I,w,E,S,C,k;l._RF.push({},"4dacdHvUkhPSbIRhw9pSKWQ","WelfareOpenServerExchangeItem",void 0);var z=c.ccclass,B=c.property;e("WelfareOpenServerExchangeItem",(g=z("WelfareOpenServerExchangeItem"),d=B(s),v=B(f),y=B(f),x=B(u),g((E=t((w=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"lblLimit",E,i(t)),n(t,"itemNeed",S,i(t)),n(t,"itemGet",C,i(t)),n(t,"btnExchange",k,i(t)),t.shopCfg=void 0,t}r(t,e);var l=t.prototype;return l.start=function(){},l.update=function(e){},l.refresh=function(e){this.shopCfg=e;var t=e.alwayslimit-m.store.getBuyTimes(e.id,"alwayTag");this.lblLimit.string="永久限购："+t;var r=Object.entries(e.cost)[0],n=r[0],i=r[1];this.itemNeed.init(n,Number(i));var a=h.getDropItems(e.drop),o=Object.entries(a)[0],l=o[0],c=o[1];this.itemGet.init(parseInt(l),c),b.setRedot(this.btnExchange,t>0&&m.accdata.getItemCount(n)>=Number(i))},l.onClickExchange=function(){var e=a(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.store.reqBuy(parseInt(this.shopCfg.id));case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"lblLimit",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(w.prototype,"itemNeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(w.prototype,"itemGet",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(w.prototype,"btnExchange",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=w))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./Oops.ts","./GameEvent.ts","./WelfareOpenServerGiftItem.ts"],(function(e){"use strict";var t,n,r,i,o,a,s,l,c,f,u,p,h,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,c=e.Prefab,f=e.instantiate,u=e.Component},function(e){p=e.smc},function(e){h=e.oops},function(e){d=e.GameEvent},function(e){v=e.WelfareOpenServerGiftItem}],execute:function(){var m,g,b,y,I,C,_;a._RF.push({},"0a9e3okOoxJwoZN7NQv/0rM","WelfareOpenServerGift",void 0);var G=s.ccclass,O=s.property;e("WelfareOpenServerGift",(m=G("WelfareOpenServerGift"),g=O(l),b=O(c),m((C=t((I=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nodeContent",C,i(t)),r(t,"exchangeItem",_,i(t)),t._table=void 0,t}n(t,e);var a=t.prototype;return a.start=function(){this._table=p.wos.getGiftData();var e=this._table.length;this.nodeContent.removeAllChildren();for(var t=0;t<e;t++){f(this.exchangeItem).parent=this.nodeContent}this.refresh(),h.message.on(d.ItemBagUpdated,this._eventHandler,this)},a.onDestroy=function(){h.message.off(d.ItemBagUpdated,this._eventHandler,this)},a.update=function(e){},a.refresh=function(){var e=this;this.exchangeItems.forEach((function(t,n){t.refresh(e._table[n])}))},a._eventHandler=function(e,t){e==d.ItemBagUpdated&&this.refresh()},o(t,[{key:"exchangeItems",get:function(){return this.nodeContent.getComponentsInChildren(v)}}]),t}(u)).prototype,"nodeContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"exchangeItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=I))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerGiftItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableUtil.ts","./Util.ts","./BagItem.ts"],(function(e){"use strict";var t,r,i,n,a,l,o,s,c,u,p,f,b,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,u=e.Button,p=e.Component},function(e){f=e.smc},function(e){b=e.TableUtil},function(e){m=e.Util},function(e){h=e.BagItem}],execute:function(){var g,v,y,d,I,G,w,x,z,S,B,C,L;o._RF.push({},"c107cptoSZMJba7+6+Mqv2a","WelfareOpenServerGiftItem",void 0);var T=s.ccclass,k=s.property;e("WelfareOpenServerGiftItem",(g=T("WelfareOpenServerGiftItem"),v=k(c),y=k(c),d=k(c),I=k([h]),G=k(u),g((z=t((x=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lblName",z,n(t)),i(t,"lblLimit",S,n(t)),i(t,"lblPrice",B,n(t)),i(t,"itemsGet",C,n(t)),i(t,"btnExchange",L,n(t)),t.shopCfg=void 0,t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.refresh=function(e){var t=this;this.shopCfg=e,this.lblName.string=e.name,this.lblPrice.string="¥"+e.price;var r=e.dailylimit-f.store.getBuyTimes(e.id,"dailyTag");this.lblLimit.string="每日限购："+r;var i=Object.entries(b.getDropItems(e.drop));this.itemsGet.forEach((function(e,r){var n=i[r];if(n){e.node.active=!0;var a=n[0],l=n[1];t.itemsGet[r].init(parseInt(a),l)}else e.node.active=!1})),m.setRedot(this.btnExchange,0==e.price&&r>0)},o.onClickExchange=function(){var e=a(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.store.reqBuy(parseInt(this.shopCfg.id));case 2:if(null!=(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"lblName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(x.prototype,"lblLimit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(x.prototype,"lblPrice",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(x.prototype,"itemsGet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(x.prototype,"btnExchange",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=x))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./Util.ts","./WelfareOpenServerScoreRewardItem.ts","./GameEvent.ts","./TableGameSys.ts"],(function(e){"use strict";var t,r,i,n,o,a,l,s,c,f,u,b,p,g,h,m,d,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,s=e.ProgressBar,c=e.Node,f=e.macro,u=e.color,b=e.Component},function(e){p=e.oops},function(e){g=e.smc},function(e){h=e.Util},function(e){m=e.WelfareOpenServerScoreRewardItem},function(e){d=e.GameEvent},function(e){v=e.TableGameSys,w=e.GameSysKey}],execute:function(){var S,y,T,I,R,_,D,C,z,U,E,L,M,O,k,B,N,P,x;o._RF.push({},"2cb98SUgUNMPZIroB3jCyGq","WelfareOpenServerMain",void 0);var G=a.ccclass,W=a.property;e("WelfareOpenServerMain",(S=G("WelfareOpenServerMain"),y=W(l),T=W(l),I=W(l),R=W(s),_=W([c]),D=W([l]),C=W([c]),z=W([m]),S((L=t((E=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblTimeLeft",L,n(t)),i(t,"lblScore1",M,n(t)),i(t,"lblScore2",O,n(t)),i(t,"bar",k,n(t)),i(t,"pfbUI",B,n(t)),i(t,"lblToggles",N,n(t)),i(t,"spRedToggles",P,n(t)),i(t,"rewardItems",x,n(t)),t._maxScore=0,t}r(t,e);var o=t.prototype;return o.start=function(){this.refresh(),p.message.on(d.ItemBagUpdated,this._eventHandler,this)},o.onDestroy=function(){p.message.off(d.ItemBagUpdated,this._eventHandler,this)},o.refresh=function(){var e=this,t=g.wos.getAwardData();Object.keys(t).forEach((function(r,i){e.rewardItems[i].refresh(t[r],Number(r)),e._maxScore<Number(t[r].cost)&&(e._maxScore=Number(t[r].cost))})),this.refreshTabRed(),this.refreshScore(),this.refreshCountDown()},o.refreshTabRed=function(){this.spRedToggles[0].active=g.wos.exchangeRed,this.spRedToggles[1].active=g.wos.taskRed,this.spRedToggles[2].active=g.wos.giftRed},o.refreshScore=function(){var e=g.accdata.getItemCount(g.wos.scoreItemId)+"";this.lblScore1.string=e,this.lblScore2.string=g.wos.wosInfo.totalPoint+"",this.bar.progress=Math.min(1,g.wos.wosInfo.totalPoint/this._maxScore)},o.refreshCountDown=function(){var e=this,t=v[w.open_server_welfare].close_serverday;if(t>0){var r=new Date(g.accdata.info.openServerTime),i=new Date;i.setDate(r.getDate()+t),i.setHours(0,0,0,0);var n=i.getTime()-Date.now();if(n<=0)this.lblTimeLeft.string="活动已结束";else{var o=Math.ceil(n/1e3);this.lblTimeLeft.schedule((function(){o>0?(e.lblTimeLeft.string=h.fmtSecs(o),o-=1):e.refreshCountDown()}),1,f.REPEAT_FOREVER,.1)}}else this.lblTimeLeft.string="活动已常驻"},o.update=function(e){},o.onClickToggle=function(e,t){this.pfbUI.forEach((function(e,r){e.active=Number(t)==r}))},o.onCheckToggle=function(e,t){this.lblToggles.forEach((function(r,i){parseInt(t)==i&&(r.color=e.isChecked?u(255,223,99):u(195,97,90))}))},o.onClickBack=function(){p.gui.removeByNode(this.node,!0)},o._eventHandler=function(e,t){e==d.ItemBagUpdated&&this.refresh()},t}(b)).prototype,"lblTimeLeft",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(E.prototype,"lblScore1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(E.prototype,"lblScore2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(E.prototype,"bar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(E.prototype,"pfbUI",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(E.prototype,"lblToggles",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(E.prototype,"spRedToggles",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(E.prototype,"rewardItems",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=E))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerMisson.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./GameEvent.ts","./Oops.ts","./WelfareOpenServerMissonItem.ts"],(function(e){"use strict";var t,n,r,s,i,o,a,c,l,u,f,p,h,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Prefab,u=e.instantiate,f=e.Component},function(e){p=e.smc},function(e){h=e.GameEvent},function(e){d=e.oops},function(e){v=e.WelfareOpenServerMissonItem}],execute:function(){var g,m,y,O,S,k,C;o._RF.push({},"f0052u8u/RGCL6ri3W0qw6y","WelfareOpenServerMisson",void 0);var b=a.ccclass,I=a.property;e("WelfareOpenServerMisson",(g=b("WelfareOpenServerMisson"),m=I(c),y=I(l),g((k=t((S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"nodeContent",k,s(t)),r(t,"exchangeItem",C,s(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=Object.values(p.wos.getTaskData()).length;this.nodeContent.removeAllChildren();for(var t=0;t<e;t++){u(this.exchangeItem).parent=this.nodeContent}this.refresh(),d.message.on(h.TaskWOSUpadte,this._eventHandler,this)},o.onDestroy=function(){d.message.off(h.TaskWOSUpadte,this._eventHandler,this)},o.update=function(e){},o.refresh=function(){var e=p.wos.getTaskData(),t=Object.keys(e).map(Number).sort((function(e,t){var n=p.wos.getSingleTaskInfo(e),r=p.task.isFinished(n)?0:1,s=p.wos.getSingleTaskInfo(t),i=p.task.isFinished(s)?0:1;return n.state==s.state?r!=i?r-i:n.id-s.id:n.state-s.state}));this.exchangeItems.forEach((function(e,n){e.init(t[n]).refresh()}))},o._eventHandler=function(e,t){var n=this;e==h.TaskWOSUpadte&&this.scheduleOnce((function(){return n.refresh()}))},i(t,[{key:"exchangeItems",get:function(){return this.nodeContent.getComponentsInChildren(v)}}]),t}(f)).prototype,"nodeContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(S.prototype,"exchangeItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=S))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerMissonItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskDailyItem.ts","./SingletonModuleComp.ts","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./Yongbing.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts"],(function(e){"use strict";var t,n,s,r,i,o,a,c,u,f,p,l,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){s=e.cclegacy,r=e._decorator},function(e){i=e.TaskDailyItem},function(e){o=e.smc},function(e){a=e.oops},function(e){c=e.GameEvent},function(e){u=e.UIID},function(e){f=e.BtnOpState},function(e){p=e.tips},function(e){l=e.httpChannel},function(e){g=e.MsgID}],execute:function(){var v;s._RF.push({},"94ba2xuiUFHqYBOALUbNmU0","WelfareOpenServerMissonItem",void 0);var m=r.ccclass;r.property,e("WelfareOpenServerMissonItem",m("WelfareOpenServerMissonItem")(v=function(e){function s(){return e.apply(this,arguments)||this}t(s,e);var r=s.prototype;return r.onOpClick=function(){switch(this.state){case f.Goto:a.gui.remove(u.WelfareOpenServer,!0),a.message.dispatchEvent(c.Goto,{sysId:Number(this.cfgTT.game_sys),target:this.cfgTT.strKey});break;case f.Recv:this.reqRecv();break;case f.Finished:return a.gui.toast("已领取")}},r.reqRecv=function(){var e={id:this.info.id};l.req(g.WelfareOpenServerTaskAward,e,(function(e){var t=e.data;if(t.ok){o.account.doResChange(t);var n={additem:t.additem};p.reward(n)}else a.gui.toast(t.msg)}))},n(s,[{key:"info",get:function(){return o.wos.getSingleTaskInfo(this.id)}}]),s}(i))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareOpenServerScoreRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BagItem.ts","./TableUtil.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,r,n,o,a,c,l,s,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,l=e.Sprite,s=e.Component},function(e){u=e.BagItem},function(e){p=e.TableUtil},function(e){d=e.smc}],execute:function(){var f,m,g,b,v,h,w,y,I,R,S,C,k;o._RF.push({},"9c654O4ft9JyapnDO6Y3G5s","WelfareOpenServerScoreRewardItem",void 0);var z=a.ccclass,O=a.property;e("WelfareOpenServerScoreRewardItem",(f=z("WelfareOpenServerScoreRewardItem"),m=O(u),g=O(c),b=O(l),v=O(l),h=O(l),f((I=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"icon",I,n(t)),r(t,"scoreNeed",R,n(t)),r(t,"imgMask",S,n(t)),r(t,"imgGet",C,n(t)),r(t,"imgRed",k,n(t)),t}i(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.refresh=function(e,t){var i=d.wos.wosInfo,r=p.getDropItems(e.drop),n=Object.entries(r)[0],o=n[0],a=n[1];this.icon.init(parseInt(o),a),this.scoreNeed.string=e.cost,this.imgMask.node.active=i.received>=t,this.imgGet.node.active=i.received>=t,i.received>=t?(this.icon.setClickCB(null),this.imgRed.node.active=!1):d.wos.wosInfo.totalPoint>=e.cost?(this.icon.setClickCB((function(){d.wos.getPointAward()})),this.imgRed.node.active=!0):(this.icon.setClickCB(null),this.imgRed.node.active=!1)},t}(s)).prototype,"icon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(y.prototype,"scoreNeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(y.prototype,"imgMask",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"imgGet",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(y.prototype,"imgRed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareRecharge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./WelfareRechargeItem.ts"],(function(e){"use strict";var t,r,n,i,o,a,l,s,c,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,s=e.instantiate,c=e.Component},function(e){u=e.smc},function(e){f=e.WelfareRechargeItem}],execute:function(){var h,g,p,d,v,m,C;o._RF.push({},"12e25aPwHtPBLE9XdAIrXX5","WelfareRecharge",void 0);var R=a.ccclass,y=a.property;e("WelfareRecharge",(h=R("WelfareRecharge"),g=y(l),p=y(l),h((m=t((v=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"nodeContent",m,i(t)),n(t,"rewardItem",C,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){this.initList()},o.initList=function(){this.freshList()},o.freshList=function(){this.nodeContent.removeAllChildren();for(var e=this.getcfgData(),t=u.welfare.getWelFareRechargeCfg().length,r=0;r<t;r++){s(this.rewardItem).parent=this.nodeContent;var n=this.nodeContent.children[r].getComponent(f);n.node.active=null!=e[r],e[r]&&n.initItem(e[r]).onRecv(this.onCall.bind(this))}},o.onCall=function(){this.freshList()},o.getcfgData=function(){var e=u.welfare.getWelFareRechargeCfg();e.sort((function(e,t){return e.level-t.level}));for(var t=[],r=!1,n=0;n<e.length;n++)e[n].level<2e3?t.push(e[n]):2e3==e[n].level?(t.push(e[n]),e[n].get>1&&(r=!0)):r&&t.push(e[n]);return t.sort((function(e,t){return e.get-t.get})),t},t}(c)).prototype,"nodeContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(v.prototype,"rewardItem",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/WelfareRechargeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameResPath.ts","./ViewUtil.ts","./Oops.ts","./SingletonModuleComp.ts","./HttpChannelManager.ts","./NetProtocol.ts","./GameEvent.ts","./ItemsGroup.ts","./TipsManager.ts","./GameUIConfig.ts","./TableGameSys.ts","./TableGameConfig.ts"],(function(e){"use strict";var t,n,i,r,o,a,s,l,c,u,p,f,b,g,m,h,d,v,y,C,G,I,R,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Label,u=e.Node,p=e.Button,f=e.Component},function(e){b=e.GameResPath},function(e){g=e.ViewUtil},function(e){m=e.oops},function(e){h=e.smc},function(e){d=e.httpChannel},function(e){v=e.MsgID},function(e){y=e.GameEvent},function(e){C=e.ItemsGroup},function(e){G=e.tips},function(e){I=e.UIID},function(e){R=e.GameSysKey},function(e){_=e.TableGameConfig}],execute:function(){var D,w,k,M,z,F,S,B,L,T,x,A,P,U,W;s._RF.push({},"7d38bBXrctFIaCBv9m+KuQN","WelfareRechargeItem",void 0);var E=l.ccclass,N=l.property;e("WelfareRechargeItem",(D=E("WelfareRechargeItem"),w=N(c),k=N(u),M=N(c),z=N(p),F=N(c),S=N(u),D((T=t((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lblDesp",T,r(t)),i(t,"nodeItemsList",x,r(t)),i(t,"lblCondition",A,r(t)),i(t,"btnGet",P,r(t)),i(t,"lblbtnDesp",U,r(t)),i(t,"spMask",W,r(t)),t._cfg=void 0,t._onRecv=null,t}n(t,e);var s=t.prototype;return s.initItem=function(e){var t;return this._cfg=e,this.lblDesp.getComponent(c).string="累计充值"+e.level+"元",this.nodeItemsList.addComponent(C).init(e.drop),t=1===_.recharge_gift_rest?h.accountData.subinfo.rechargeInfo.dailyAmounts||0:h.accountData.subinfo.rechargeInfo.totalAmounts||0,this.lblCondition.getComponent(c).string=t+"/"+e.level,this.spMask.active=!1,1==e.get?(g.loadButtonFrame(this.btnGet,b.getSpriteFrameCommon("btn_tipsan_hong")),this.lblbtnDesp.getComponent(c).string="前往充值"):0==e.get?(g.loadButtonFrame(this.btnGet,b.getSpriteFrameCommon("btn_tipsan_huang")),this.lblbtnDesp.getComponent(c).string="可领取"):(g.setGray(this.btnGet),this.lblbtnDesp.getComponent(c).string="已领取",this.spMask.active=!0),this},s.onRecv=function(e){this._onRecv=e},s.onClickAward=function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this._cfg.get||!h.system.checkOpened(R.store)){e.next=3;break}return m.gui.open(I.Store),e.abrupt("return");case 3:return e.next=5,d.reqAsync(v.RechargeGift,{});case 5:if(null!=(t=e.sent)&&t.ok){e.next=8;break}return e.abrupt("return");case 8:h.account.doResChange(t),G.reward(t),h.welfare.setRechargeGift(t.rechargeGift),this._onRecv(),m.message.dispatchEvent(y.WelfareUpdateRed);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"lblDesp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(L.prototype,"nodeItemsList",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(L.prototype,"lblCondition",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(L.prototype,"btnGet",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(L.prototype,"lblbtnDesp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(L.prototype,"spMask",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=L))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/WinArena.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./ItemsGroup.ts","./PlayerHead.ts"],(function(e){"use strict";var t,i,n,l,r,a,o,s,f,u,p,h,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,f=e.Label,u=e.Component},function(e){p=e.smc},function(e){h=e.ItemsGroup},function(e){c=e.PlayerHead}],execute:function(){var m,b,d,g,y,I,J,S,v,w,O,A,H,z,C,N,R,D,M,P,W;a._RF.push({},"bef57sJjH9MM662cJhQ+6mJ","WinArena",void 0);var _=o.ccclass,B=o.property;e("WinArena",(m=_("WinArena"),b=B(s),d=B(s),g=B(s),y=B(f),I=B(f),J=B(f),S=B(f),v=B(f),w=B(f),m((H=t((A=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"nodeSelfHead",H,l(t)),n(t,"nodeOtherHead",z,l(t)),n(t,"itemRoot",C,l(t)),n(t,"lblNameSelf",N,l(t)),n(t,"lblJifenSelf",R,l(t)),n(t,"lblAddJifenSelf",D,l(t)),n(t,"lblNameOther",M,l(t)),n(t,"lblJifenOther",P,l(t)),n(t,"lblAddJifenOther",W,l(t)),t.params=null,t}i(t,e);var a=t.prototype;return a.onAdded=function(e){this.params=e},a.start=function(){this.params.fightInfo.additem&&this.initByItems(this.params.fightInfo.additem,this.params.bExpandItems),this.nodeSelfHead.getComponent(c).initView(p.accountData.roleHead),this.params.level&&(this.nodeOtherHead.getComponent(c).initView(this.params.level.enemyInfo.c),this.lblNameSelf.string=p.accountData.name,this.lblNameOther.string=this.level.enemyInfo.n||""),this.params.fightInfo.arenainfo&&(this.nodeOtherHead.getComponent(c).initView(this.level.enemyInfo.c),this.lblJifenSelf.string=this.params.fightInfo.arenainfo.ourpoint,this.lblAddJifenSelf.string="(+"+this.params.fightInfo.arenainfo.ourchangepoint+")",this.lblJifenOther.string=this.params.fightInfo.arenainfo.foepoint,this.lblAddJifenOther.string="("+this.params.fightInfo.arenainfo.foechangepoint+")")},a.initByItems=function(e,t){this.itemRoot.addComponent(h).initItemsRecord(e)},r(t,[{key:"level",get:function(){return p.battle.level}}]),t}(u)).prototype,"nodeSelfHead",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(A.prototype,"nodeOtherHead",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(A.prototype,"itemRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(A.prototype,"lblNameSelf",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(A.prototype,"lblJifenSelf",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(A.prototype,"lblAddJifenSelf",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(A.prototype,"lblNameOther",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(A.prototype,"lblJifenOther",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(A.prototype,"lblAddJifenOther",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/Wrestle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./System.ts","./TableGameSys.ts","./GameEvent.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableWrestleLevel.ts","./TableWrestleCard.ts","./JsonUtil.ts","./Oops.ts","./StorageKey.ts"],(function(e){"use strict";var r,t,n,a,s,i,o,u,l,c,f,d,v,h;return{setters:[function(e){r=e.inheritsLoose,t=e.createClass},function(e){n=e.cclegacy,a=e._decorator},function(e){s=e.GameSys},function(e){i=e.GameSysKey},function(e){o=e.GameEvent},function(e){u=e.smc},function(e){l=e.TableGameConfig},function(e){c=e.TableWrestleLevel},function(e){f=e.TableWrestleCard},function(e){d=e.JsonUtil},function(e){v=e.oops},function(e){h=e.StorageKey}],execute:function(){var g;e({WrestleCardStatus:void 0,WrestleGetType:void 0}),n._RF.push({},"822acX2XxxIIYM9xEopkQh6","Wrestle",void 0);var m,w,p=a.ccclass;a.property;!function(e){e[e.Lock=0]="Lock",e[e.Add=1]="Add",e[e.Change=2]="Change"}(m||(m=e("WrestleCardStatus",{}))),function(e){e[e.Unfinish=0]="Unfinish",e[e.Rev=1]="Rev",e[e.Reved=2]="Reved"}(w||(w=e("WrestleGetType",{})));var y=e("Wrestle",p("Wrestle")(g=function(e){function n(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(r=e.call.apply(e,[this].concat(n))||this).roleOrder=void 0,r.redotWatchGameEvents=[o.WrestleFresh],r}r(n,e);var a=n.prototype;return a.cardID=function(e){var r=this.maxCount(e),t=u.accountData.getItemCount(e)||0,n=t>0?t:1;return 100*e+(n=t<=Number(r)?n:r)},a.setWresleCard=function(e,r){var t=u.accdata.roles,n=u.accdata.getRole(t[r]);n.pkcards||(n.pkcards=[]),n.pkcards=e},a.isOwnCardById=function(e){return(u.accountData.getItemCount(e)||0)<=0},a.isEquipedByCard=function(e){for(var r in u.wrestle.roleOrderList){var t=u.wrestle.getPlayerCard(Number(r));for(var n in t)if(t[n]==e)return!0}return!1},a.getPlayerCard=function(e){var r=u.accdata.roles;return u.accdata.getRole(r[e]).pkcards},a.changeRoleOrder=function(e,r){this.roleOrder=this.roleOrder||{0:0,1:1,2:2};var t=this.roleOrder[e];this.roleOrder[e]=this.roleOrder[r],this.roleOrder[r]=t},a.maxCount=function(e){var r=d.get(f.TableName),t=0;for(var n in r)e==Number(r[n].itemid)&&(t=t<r[n].itemnum?r[n].itemnum:t),Number(r[n].itemid);return t},a.wrestleLevelCfg=function(e){return(new c).init(e)},a.attr=function(e){var r=[];for(var t in e)if(Number(e[t])>0){r.push(t),r.push(e[t]);break}return r},a.getLevelList=function(){var e,r=d.get(c.TableName),t=[],n=-1;for(var a in r)0!=r[a].lv&&(n!=r[a].grade&&(e&&t.push(e),e=[],n=r[a].grade),e.push(r[a]));return t},a.cardNew=function(e){var r=!0,t=v.storage.get(h.WrestleCardNew).split("_"),n=u.accountData.getItemCount(e)||0;if(n>0){var a=this.cardID(e);for(var s in t)if(Math.floor(Number(t[s])/100)==e&&(r=!1,t[s]!=a+""))return!0}return r&&n>0},a.newCard=function(){var e=this.Allcard;for(var r in e)if(this.cardNew(e[r]))return!0;return!1},a.rewardRevStatus=function(e){if(u.wrestle.wrestleInfo.id<Number(e))return w.Unfinish;var r=!1;for(var t in u.wrestle.wrestleInfo.isget)Number(u.wrestle.wrestleInfo.isget[t])==e&&(r=!0);return r?w.Reved:w.Rev},a.red=function(){var e=this.getLevelList();for(var r in e)for(var t in e[r]){var n=e[r][t].nextid>0?e[r][t].nextid-1:u.wrestle.wrestleLevelLength;if(w.Rev==this.rewardRevStatus(n))return!0}return!1},a.calRedot=function(){return this.red()&&this.newCard()},t(n,[{key:"wrestleInfo",get:function(){return u.accountData.subinfo.wrestle},set:function(e){u.accountData.subinfo.wrestle=e}},{key:"roleOrderList",get:function(){return this.roleOrder=this.roleOrder||{0:0,1:1,2:2},this.roleOrder}},{key:"posOrder",get:function(){var e=[];for(var r in this.roleOrderList)e.push(this.roleOrderList[r]);return e}},{key:"Allcard",get:function(){var e=[],r=d.get(f.TableName);for(var t in r){var n=!1;for(var a in e)r[t].itemid==e[a]&&(n=!0);0==n&&e.push(r[t].itemid)}return e}},{key:"wrestleCostItem",get:function(){return Object.entries(l.wrestle_change_cost)[0]}},{key:"curWrestleCfg",get:function(){var e=this.wrestleLevelCfg(this.wrestleInfo.id),r=this.wrestleInfo.fight.daynum;return null!=e&&e.monster[this.wrestleInfo.fight.daynum]||(r=(null==e?void 0:e.monster.length)-1),{info:e,monster:null==e?void 0:e.monster[r][this.wrestleInfo.fight.pkgroup]}}},{key:"wrestleLevelLength",get:function(){var e=d.get(c.TableName),r=0;for(var t in e)r++;return r}}]),n}(s))||g);e("wrestle",new y(i.wrestle));n._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./WrestleCardItem.ts","./NetProtocol.ts","./HttpChannelManager.ts","./TableUtil.ts","./TableWrestleCard.ts","./TableGameAttr.ts","./MercenaryAttr.ts","./GameEvent.ts"],(function(e){"use strict";var t,r,n,i,a,l,o,c,s,d,u,h,C,f,b,p,m,g,v,y,A,I,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,s=e.Node,d=e.Prefab,u=e.Label,h=e.instantiate,C=e.Component},function(e){f=e.oops},function(e){b=e.smc},function(e){p=e.WrestleCardItem},function(e){m=e.MsgID},function(e){g=e.httpChannel},function(e){v=e.TableUtil},function(e){y=e.TableWrestleCard},function(e){A=e.TableGameAttr},function(e){I=e.MercenaryAttr},function(e){w=e.GameEvent}],execute:function(){var x,S,z,W,N,R,k,T,D,M,G,P,_,B,E,F,V,j,L,H,O,U,q,K,J;o._RF.push({},"34e4bsCCBdM/Knmfb7xCDjD","WrestleCard",void 0);var Q=c.ccclass,X=c.property;e("WrestleCard",(x=Q("WrestleCard"),S=X(s),z=X(s),W=X(s),N=X(s),R=X(s),k=X(d),T=X(s),D=X(s),M=X(u),G=X(s),P=X(s),x((E=t((B=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"roleSelected",E,i(t)),n(t,"roleCard",F,i(t)),n(t,"attrContent",V,i(t)),n(t,"nodeAttrItem",j,i(t)),n(t,"cardContent",L,i(t)),n(t,"nodeCardItem",H,i(t)),n(t,"nodeChange",O,i(t)),n(t,"nodeChangeCard",U,i(t)),n(t,"lblChangeAttr",q,i(t)),n(t,"cardSelected",K,i(t)),n(t,"buttonCont",J,i(t)),t.selectedIndex=0,t.cardIndex=0,t.selectedCardId=void 0,t.allCard=void 0,t}r(t,e);var o=t.prototype;return o.start=function(){this.onSelectRole(),this.initCardAttr(),this.initAllCard()},o.initCardAttr=function(){var e=b.wrestle.getPlayerCard(this.selectedIndex);for(var t in this.attrContent.removeAllChildren(),e){h(this.nodeAttrItem).parent=this.attrContent;var r=v.get(y,e[t]),n=v.extractAttrs(r),i=b.wrestle.attr(n);this.attrContent.children[t].getComponent(I).initView(i[1],i[0])}},o.initAllCard=function(){var e=this,t=b.wrestle.Allcard;this.cardContent.removeAllChildren(),Object.keys(t).forEach((function(t){h(e.nodeCardItem).parent=e.cardContent})),this.freshAllCard(t)},o.freshAllCard=function(e){var t=this;return void 0===e&&(e=b.wrestle.Allcard),function(e){e=e;for(var r in e){t.cardContent.children[r].getComponent(p).initView(e[r]).onRecv(t.onCall.bind(t))}}(e)},o.onCall=function(e){for(var t in this.selectedCardId=e,this.nodeChange.active=!0,this.buttonCont.active=!0,this.cardSelected)this.cardSelected[t].active=this.cardIndex==Number(t);this.nodeChangeCard.getComponent(p).initView(e);var r=b.wrestle.cardID(e),n=v.get(y,r),i=v.extractAttrs(n);this.lblChangeAttr.string=this.attr(i)},o.changeCard=function(){var e=a(l().mark((function e(){var t,r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push(this.selectedCardId),r={heroid:b.accdata.roles[this.selectedIndex],cards:t},e.next=5,g.reqAsync(m.WrestleCard,r);case 5:if(null!=(n=e.sent)&&n.ok){e.next=8;break}return e.abrupt("return");case 8:b.wrestle.setWresleCard(n.cards,this.selectedIndex),this.nodeChange.active=!1,this.onSelectRole(),this.freshAllCard(),this.initCardAttr(),f.message.dispatchEvent(w.WrestleFresh);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onClickCard=function(e,t){for(var r in this.cardIndex=Number(t),this.cardSelected)this.cardSelected[r].active=this.cardIndex==Number(r)},o.hideCardView=function(){this.nodeChange.active=!1,this.buttonCont.active=!1},o.onSelectRole=function(){for(var e in this.roleSelected)this.roleSelected[e].active=Number(e)==this.selectedIndex;for(var t in this.roleCard){this.roleCard[t].getComponent(p).freshRoleCard(t,this.selectedIndex)}},o.onClickRole=function(e,t){this.selectedIndex=Number(t),this.onSelectRole(),this.initCardAttr()},o.attr=function(e){var t=b.wrestle.attr(e),r=A[Number(t[0])],n=1e4===parseInt(r.per_unit)?"+"+(t[1]/100).toFixed(1)+"%":"+"+t[1];return A[Number(t[0])].name+"："+n},o.onClickBack=function(){f.gui.removeByNode(this.node,!0)},t}(C)).prototype,"roleSelected",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(B.prototype,"roleCard",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(B.prototype,"attrContent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(B.prototype,"nodeAttrItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(B.prototype,"cardContent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(B.prototype,"nodeCardItem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(B.prototype,"nodeChange",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(B.prototype,"nodeChangeCard",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(B.prototype,"lblChangeAttr",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(B.prototype,"cardSelected",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(B.prototype,"buttonCont",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=B))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleCardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./TableUtil.ts","./ViewUtil.ts","./TableWrestleCard.ts","./TableGameAttr.ts","./TableGameItem.ts","./Oops.ts","./GameResPath.ts","./Wrestle.ts","./TipsManager.ts","./StorageKey.ts","./GameEvent.ts"],(function(t){"use strict";var e,i,r,a,s,n,l,o,c,u,d,p,h,f,b,m,g,v,y,w,C,L,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,l=t.Sprite,o=t.Node,c=t.Label,u=t.color,d=t.Component},function(t){p=t.smc},function(t){h=t.TableUtil},function(t){f=t.ViewUtil},function(t){b=t.TableWrestleCard},function(t){m=t.TableGameAttr},function(t){g=t.TableGameItem},function(t){v=t.oops},function(t){y=t.GameResPath},function(t){w=t.WrestleCardStatus},function(t){C=t.tips},function(t){L=t.StorageKey},function(t){S=t.GameEvent}],execute:function(){var k,D,I,_,z,N,R,W,A,T,G,q,F,U,B,H,E,K,M,P;s._RF.push({},"a7db2nZsmRCs4hOHpUyn2Ho","WrestleCardItem",void 0);var V=n.ccclass,O=n.property,Q=n.boolean;t("WrestleCardItem",(k=V("WrestleCardItem"),D=O(l),I=O(o),_=O(c),z=O(o),N=O(c),R=O(o),W=O(l),A=O(o),k((q=e((G=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,r(e,"spLock",q,a(e)),r(e,"nodeActive",F,a(e)),r(e,"lblDesc",U,a(e)),r(e,"attrStart",B,a(e)),r(e,"lblLv",H,a(e)),r(e,"equiped",E,a(e)),r(e,"spQuality",K,a(e)),r(e,"spRed",M,a(e)),r(e,"isLock",P,a(e)),e.id=void 0,e.cfg=void 0,e.status=w.Change,e._onRecv=null,e}i(e,t);var s=e.prototype;return s.start=function(){v.message.on(S.ItemBagUpdated,this._eventHandler,this)},s.onDestroy=function(){v.message.off(S.ItemBagUpdated,this._eventHandler,this)},s.initView=function(t,e){void 0===e&&(e=!0),this.id=t;var i=p.accountData.getItemCount(t)||0;0==i&&e&&f.setGray(this.node,!0);var r=p.wrestle.cardID(t),a=h.get(b,r),s=h.extractAttrs(a);for(var n in this.lblDesc.string=this.attrName(s),this.cfg=(new g).init(t),f.loadSpriteFrame(this.spQuality,y.getSpriteFrameWrestle("img_dj"+this.cfg.quality)),this.attrStart)Number(n)<this.cfg.quality&&(this.attrStart[n].active=!0);return this.lblLv.string="LV"+i,this.equiped.active=p.wrestle.isEquipedByCard(r)&&0==this.isLock,this.spRed.active=p.wrestle.cardNew(t)&&e,this},s.freshRoleCard=function(t,e){var i=p.wrestle.getPlayerCard(e);this.spLock.node.active=!1,this.nodeActive.active=!1;var r=p.wrestle.curWrestleCfg;this.status=w.Change,this.lblDesc.color=u(255,216,90),i&&i[t]?(this.nodeActive.active=!0,this.initView(Math.floor(i[t]/100),!1)):(this.spLock.node.active=!0,Number(t)<r.info.cardslot?(this.spLock.node.active=!0,this.status=w.Add,f.loadSpriteFrame(this.spLock,y.getSpriteFrameWrestle("img_kongzbl")),this.lblDesc.string="添加卡牌"):(this.status=w.Lock,f.loadSpriteFrame(this.spLock,y.getSpriteFrameWrestle("img_wzzbsuo")),this.lblDesc.string="升段解锁卡槽",this.lblDesc.color=u(163,162,160)))},s.attrName=function(t){var e=p.wrestle.attr(t);return m[Number(e[0])].name},s.onClick=function(){if(this.status==w.Lock)C.alert("当前卡槽位未解锁,请升段以解锁卡槽..");else if(this.status==w.Add&&this.isLock)C.alert("请选择下方已拥有卡牌进行添加..");else if(this.status==w.Change){if(this.isLock)return;p.wrestle.isOwnCardById(this.id)?v.gui.toast("当前卡牌未解锁！"):p.wrestle.isEquipedByCard(p.wrestle.cardID(this.id))&&0==p.wrestle.cardNew(this.id)?v.gui.toast("卡牌无法重复装备！"):(this.setStorageKey(this.id),this._onRecv(Number(this.id)))}},s.onRecv=function(t){this._onRecv=t},s.isEquiped=function(t){return!1},s.setStorageKey=function(t){var e=!0,i=v.storage.get(L.WrestleCardNew).split("_");for(var r in i){var a=Math.floor(Number(i[r])/100);if(Number(t)==a){e=!1;p.accountData.getItemCount(t);var s=p.wrestle.cardID(t);s!=Number(i[r])&&(i[r]=s+"")}}var n="";for(var l in i)""!=i[l]&&(n=n+"_"+i[l]);e&&(n=n+"_"+p.wrestle.cardID(t)),v.storage.set(L.WrestleCardNew,n),this.spRed.active=!1},s._eventHandler=function(t,e){t==S.ItemBagUpdated&&this.setStorageKey(this.id)},e}(d)).prototype,"spLock",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(G.prototype,"nodeActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(G.prototype,"lblDesc",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(G.prototype,"attrStart",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(G.prototype,"lblLv",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(G.prototype,"equiped",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(G.prototype,"spQuality",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(G.prototype,"spRed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(G.prototype,"isLock",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=G))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){"use strict";var t,n,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component},function(e){s=e.oops}],execute:function(){var a;n._RF.push({},"ab1f90VzdNLEpKl4KkIaXYa","WrestleChange",void 0);var c=o.ccclass;o.property,e("WrestleChange",c("WrestleChange")(a=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).params=void 0,t}t(n,e);var o=n.prototype;return o.onAdded=function(e){this.params=e},o.start=function(){},o.onClickBack=function(){s.gui.removeByNode(this.node,!0)},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleDuanweiItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WrestledwRewardItem.ts","./ViewUtil.ts","./GameResPath.ts","./TableWrestlexians.ts"],(function(e){"use strict";var t,i,r,n,a,l,s,o,c,u,p,f,d,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Sprite,o=e.Label,c=e.Node,u=e.Component},function(e){p=e.WrestledwRewardItem},function(e){f=e.ViewUtil},function(e){d=e.GameResPath},function(e){w=e.TableWrestlexians}],execute:function(){var b,h,m,g,D,W,y,R,v;a._RF.push({},"f50b21kBMVE5K8ghEU65Oxh","WrestleDuanweiItem",void 0);var I=l.ccclass,z=l.property;e("WrestleDuanweiItem",(b=I("WrestleDuanweiItem"),h=z(s),m=z(o),g=z(c),b((y=t((W=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(t,"spDW",y,n(t)),r(t,"lblDesc",R,n(t)),r(t,"nodeReward",v,n(t)),t.cfg=new w,t}return i(t,e),t.prototype.initView=function(e){for(var t in this.nodeReward)f.loadSpriteFrame(this.spDW,d.getSpriteFrameWrestleCard(e[t].icon)),this.cfg.init(e[t].grade+1),this.lblDesc.string=this.cfg.name,this.nodeReward[t].getComponent(p).initView(e[t])},t}(u)).prototype,"spDW",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(W.prototype,"lblDesc",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(W.prototype,"nodeReward",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=W))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleDW.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableWrestleLevel.ts","./WrestleDuanweiItem.ts","./SingletonModuleComp.ts","./ViewUtil.ts","./GameResPath.ts","./GameEvent.ts","./Oops.ts"],(function(e){"use strict";var t,r,n,i,l,o,s,a,c,u,p,f,h,g,d,v,w,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,s=e.Node,a=e.Sprite,c=e.ProgressBar,u=e.Label,p=e.instantiate,f=e.Component},function(e){h=e.TableWrestleLevel},function(e){g=e.WrestleDuanweiItem},function(e){d=e.smc},function(e){v=e.ViewUtil},function(e){w=e.GameResPath},function(e){b=e.GameEvent},function(e){m=e.oops}],execute:function(){var y,W,L,S,C,D,I,z,B,F,_,V,x,E,H;l._RF.push({},"f6e14h4H+lEk4pEi3Sgn354","WrestleDW",void 0);var P=o.ccclass,G=o.property;e("WrestleDW",(y=P("WrestleDW"),W=G(s),L=G(s),S=G(a),C=G(s),D=G(c),I=G(u),y((F=t((B=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"nodeContent",F,i(t)),n(t,"nodeItem",_,i(t)),n(t,"spStage",V,i(t)),n(t,"dwStart",x,i(t)),n(t,"progBar",E,i(t)),n(t,"lblBar",H,i(t)),t.cfgLevel=new h,t}r(t,e);var l=t.prototype;return l.start=function(){var e=this,t=d.wrestle.getLevelList();this.nodeContent.removeAllChildren(),Object.keys(t).forEach((function(t){p(e.nodeItem).parent=e.nodeContent})),this.initView(),m.message.on(b.WrestleFresh,this._eventHandler,this)},l.onDestroy=function(){m.message.off(b.WrestleFresh,this._eventHandler,this)},l.initView=function(){var e=d.wrestle.getLevelList();for(var t in e){this.nodeContent.children[t].getComponent(g).initView(e[t])}this.refresh()},l.refresh=function(){for(var e in this.cfgLevel.init(d.wrestle.wrestleInfo.id),v.loadSpriteFrame(this.spStage,w.getSpriteFrameWrestleCard(this.cfgLevel.icon)),this.dwStart)this.dwStart[e].active=Number(e)<this.cfgLevel.lv;this.progBar.progress=d.wrestle.wrestleInfo.exp/this.cfgLevel.needexp,this.lblBar.string=d.wrestle.wrestleInfo.exp+"/"+this.cfgLevel.needexp},l._eventHandler=function(e,t){e==b.WrestleFresh&&this.initView()},t}(f)).prototype,"nodeContent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(B.prototype,"nodeItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(B.prototype,"spStage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(B.prototype,"dwStart",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(B.prototype,"progBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(B.prototype,"lblBar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=B))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/WrestledwRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemsGroup.ts","./TableGameAttr.ts","./TableWrestleLevel.ts","./TableUtil.ts","./SingletonModuleComp.ts","./Wrestle.ts","./Util.ts","./HttpChannelManager.ts","./NetProtocol.ts","./Oops.ts","./GameEvent.ts","./TipsManager.ts"],(function(e){"use strict";var t,r,n,i,a,l,s,o,u,c,f,p,b,d,h,w,m,v,g,y,G,x,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e._decorator,u=e.Label,c=e.Node,f=e.Component},function(e){p=e.ItemsGroup},function(e){b=e.TableGameAttr},function(e){d=e.TableWrestleLevel},function(e){h=e.TableUtil},function(e){w=e.smc},function(e){m=e.WrestleGetType},function(e){v=e.Util},function(e){g=e.httpChannel},function(e){y=e.MsgID},function(e){G=e.oops},function(e){x=e.GameEvent},function(e){R=e.tips}],execute:function(){var L,T,I,W,A,z,N,C,D,S,M,k,F,U,_;s._RF.push({},"d3e1e+q2LxHHJZXnMTQmlfF","WrestledwRewardItem",void 0);var H=o.ccclass,E=o.property;e("WrestledwRewardItem",(L=H("WrestledwRewardItem"),T=E(u),I=E(c),W=E(c),A=E(u),z=E(c),N=E(c),L((S=t((D=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"lblDuanwei",S,i(t)),n(t,"dwStart",M,i(t)),n(t,"Nodeitems",k,i(t)),n(t,"lblAttr",F,i(t)),n(t,"btnGet",U,i(t)),n(t,"lblGet",_,i(t)),t.info=void 0,t}r(t,e);var s=t.prototype;return s.initView=function(e){for(var t in this.info=e,this.lblDuanwei.string=e.name,this.dwStart)this.dwStart[t].active=Number(t)<e.lv;this.Nodeitems.addComponent(p).init(e.award);var r=e.nextid>0?e.nextid-1:w.wrestle.wrestleLevelLength,n=h.get(d,r),i=h.extractAttrs(n);return this.lblAttr.string=this.attr(i,e.xianshi),this.refresh(),this},s.refresh=function(){var e=this.info.nextid>0?this.info.nextid-1:w.wrestle.wrestleLevelLength,t=w.wrestle.rewardRevStatus(e);this.btnGet.active=t==m.Unfinish||t==m.Rev,this.lblGet.active=t==m.Reved,v.setRedot(this.btnGet,t==m.Rev)},s.attr=function(e,t){for(var r in e)if(r==t){var n=b[Number(t)],i=1e4===parseInt(n.per_unit)?"+"+(e[r]/100).toFixed(1)+"%":"+"+e[t];return b[Number(t)].name+"："+i}},s.onClickReward=function(){var e=a(l().mark((function e(){var t,r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.info.nextid>0?this.info.nextid-1:w.wrestle.wrestleLevelLength,r={id:t},e.next=4,g.reqAsync(y.WrestleAward,r);case 4:if(null!=(n=e.sent)&&n.ok){e.next=7;break}return e.abrupt("return");case 7:w.account.doResChange(n),R.reward(n),w.wrestle.wrestleInfo.isget=n.isget,G.message.dispatchEvent(x.WrestleFresh);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"lblDuanwei",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(D.prototype,"dwStart",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(D.prototype,"Nodeitems",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(D.prototype,"lblAttr",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(D.prototype,"btnGet",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(D.prototype,"lblGet",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=D))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./GameEvent.ts","./GameEnum.ts","./GameUIConfig.ts"],(function(e){"use strict";var t,n,i,r,s,o,l,a,c,u,f,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,l=e.Node,a=e.Toggle,c=e.Component},function(e){u=e.oops},function(e){f=e.smc},function(e){p=e.GameEvent},function(e){h=e.EGameRankType},function(e){d=e.UIID}],execute:function(){var b,g,m,v,y,I,W,C,N,k,w;s._RF.push({},"c4b00LiMMNNYIw2tEGi8PBZ","WrestleMain",void 0);var D=o.ccclass,R=o.property;e("WrestleMain",(b=D("WrestleMain"),g=R(l),m=R(l),v=R(a),y=R(l),b((C=t((W=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"pfbZB",C,r(t)),i(t,"pfbDW",N,r(t)),i(t,"tglContent",k,r(t)),i(t,"spRed",w,r(t)),t.selectedIndex=0,t}n(t,e);var s=t.prototype;return s.start=function(){this.refresh(),u.message.on(p.WrestleFresh,this._eventHandler,this)},s.onDestroy=function(){u.message.off(p.WrestleFresh,this._eventHandler,this)},s.refresh=function(){this.spRed.active=f.wrestle.red()},s.onClickToggle=function(e,t){this.selectedIndex=Number(t),this.pfbZB.active=0==Number(t),this.pfbDW.active=1==Number(t)},s.onClickRank=function(e){var t={type:h.WRESTLE};u.gui.open(d.FightRank,t)},s.setPageView=function(){for(var e in this.pfbZB.active=0==Number(this.selectedIndex),this.pfbDW.active=2==Number(this.selectedIndex),this.tglContent)this.tglContent[e].isChecked=this.selectedIndex==Number(e)},s._eventHandler=function(e,t){e==p.WrestleFresh&&this.refresh()},s.onClickBack=function(){1==this.selectedIndex?(this.selectedIndex=0,this.setPageView()):u.gui.removeByNode(this.node,!0)},t}(c)).prototype,"pfbZB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(W.prototype,"pfbDW",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(W.prototype,"tglContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(W.prototype,"spRed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=W))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleZB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameEvent.ts","./GameResPath.ts","./GameUIConfig.ts","./ItemsGroup.ts","./RoleUI.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameItem.ts","./TableGameMonster.ts","./TableWrestleLevel.ts","./TableUtil.ts","./Level.ts","./WrestleZBPlayerItem.ts","./TableGameAttr.ts"],(function(e){"use strict";var t,r,n,i,s,a,l,o,u,c,f,h,p,d,m,b,g,w,v,y,C,x,I,W,F,H,L,k,R,O,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,o=e._decorator,u=e.Sprite,c=e.Node,f=e.Label,h=e.Component},function(e){p=e.oops},function(e){d=e.ViewUtil},function(e){m=e.EFightResults},function(e){b=e.GameEvent},function(e){g=e.GameResPath},function(e){w=e.UIID,v=e.DialogAnimation},function(e){y=e.ItemsGroup},function(e){C=e.RoleUILoader},function(e){x=e.httpChannel},function(e){I=e.MsgID},function(e){W=e.smc},function(e){F=e.TableGameItem},function(e){H=e.TableGameMonster},function(e){L=e.TableWrestleLevel},function(e){k=e.TableUtil},function(e){R=e.LevelWrestle},function(e){O=e.WrestleZBPlayerItem},function(e){G=e.TableGameAttr}],execute:function(){var S,N,z,M,T,B,_,A,E,P,U,D,Z,V,j,q,K,Q,J,X,Y,$,ee,te,re,ne,ie;l._RF.push({},"d7eedE589tKQLSL+a9yrEIG","WrestleZB",void 0);var se=o.ccclass,ae=o.property;e("WrestleZB",(S=se("WrestleZB"),N=ae(u),z=ae(C),M=ae(c),T=ae(f),B=ae(c),_=ae(c),A=ae(u),E=ae(f),P=ae(f),U=ae(c),D=ae(f),Z=ae(f),S((q=t((j=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"spStage",q,i(t)),n(t,"roleLoader",K,i(t)),n(t,"nodeReward",Q,i(t)),n(t,"lblCost",J,i(t)),n(t,"selectOrder",X,i(t)),n(t,"playerContent",Y,i(t)),n(t,"spHead",$,i(t)),n(t,"lblHead",ee,i(t)),n(t,"lblBossAttr",te,i(t)),n(t,"spRed",re,i(t)),n(t,"num",ne,i(t)),n(t,"totalNum",ie,i(t)),t.selectedOld=void 0,t.cfgLevel=new L,t.turns=0,t.isClickFight=!1,t}r(t,e);var l=t.prototype;return l.start=function(){this.refresh(),this.refreshMonster(),this.refreshHead(),p.message.on(b.WrestleFresh,this._eventHandler,this)},l.onDestroy=function(){p.message.off(b.WrestleFresh,this._eventHandler,this)},l.refreshRed=function(){this.spRed.active=W.wrestle.newCard()},l.refresh=function(){var e,t=W.wrestle.curWrestleCfg;this.cfgLevel.init(W.wrestle.wrestleInfo.id),d.loadSpriteFrame(this.spStage,g.getSpriteFrameWrestleCard(this.cfgLevel.icon)),this.nodeReward.addComponent(y).init(t.info.drop);var r=W.wrestle.wrestleCostItem;this.lblCost.string="消耗"+r[1]+(new F).init(Number(r[0])).name;var n=(null==(e=t.monster)?void 0:e.length)||0;this.num.string=n-W.wrestle.wrestleInfo.fight.daynum+"",this.totalNum.string="/"+n},l.refreshMonster=function(){var e=this,t=W.wrestle.curWrestleCfg;Object.entries(t.monster).forEach((function(t,r){var n=k.get(H,Number(t[1]));e.roleLoader[r].initModel(n.model_id)}));var r=t.monster.length,n=k.get(H,t.monster[r-1]),i=k.extractAttrs(n),s=G[Number(n.xianshi1)],a=1e4===parseInt(s.per_unit)?"+"+(i[n.xianshi1]/100).toFixed(1)+"%":"+"+n.xianshi1,l=G[Number(n.xianshi2)],o=1e4===parseInt(l.per_unit)?"+"+(i[n.xianshi1]/100).toFixed(1)+"%":"+"+n.xianshi2;this.lblBossAttr.string="BOSS属性：\n"+s.name+a+"\n"+l.name+o},l.refreshHead=function(){for(var e in W.wrestle.roleOrderList){this.playerContent[e].getComponent(O).initView(Number(e)).onRecv(this.onCallHead.bind(this))}},l.onCallHead=function(e){for(var t in this.selectedOld=e,this.selectOrder.active=!0,this.spHead){var r=Number(W.wrestle.roleOrderList[t])+1;e==Number(t)?d.loadSpriteFrame(this.spHead[t].getComponent(u),g.getSpriteFrameHead("img_tx"+r)):d.loadSpriteFrame(this.spHead[t].getComponent(u),g.getSpriteFrameWrestle("img_huanwei")),this.lblHead[t].string=e==Number(t)?"当前":Number(t)+1+"号位"}},l.onClickOrder=function(){var e=s(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.wrestle.changeRoleOrder(this.selectedOld,r);case 2:this.selectOrder.active=!1,this.refreshHead();case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),l.hideOrderView=function(){this.selectOrder.active=!1},l.changMonster=function(){var e=s(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,x.reqAsync(I.WrestleChange,t);case 3:if(null!=(r=e.sent)&&r.ok){e.next=6;break}return e.abrupt("return");case 6:W.wrestle.wrestleInfo.fight.pkgroup=r.pkgroup,W.account.doResChange(r),this.refreshMonster();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onClickCard=function(){p.gui.open(w.WrestleCard)},l.onClickFight=function(){this.isClickFight=!0,this.isClickFight&&0==this.turns&&this.fight(this.turns)},l.fight=function(){var e=s(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new R(W.wrestle.posOrder),e.next=3,W.battle.createAndPlay(r);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(n=W.battle.fightInfo,this.isClickFight=!1,W.account.doResChange(n),m.WIN!=n.results){e.next=15;break}return W.wrestle.wrestleInfo=n.wrestle,e.next=12,p.gui.openModal(w.Win,n,v);case 12:p.message.dispatchEvent(b.WrestleFresh),e.next=18;break;case 15:if(m.LOST!=n.results){e.next=18;break}return e.next=18,p.gui.openModal(w.Lose,r.ty,v);case 18:W.battle.clear(),p.gui.remove(w.Battle,!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l._eventHandler=function(e,t){e==b.WrestleFresh&&(this.refreshMonster(),this.refresh(),this.refreshHead())},t}(h)).prototype,"spStage",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(j.prototype,"roleLoader",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(j.prototype,"nodeReward",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(j.prototype,"lblCost",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(j.prototype,"selectOrder",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(j.prototype,"playerContent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(j.prototype,"spHead",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(j.prototype,"lblHead",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(j.prototype,"lblBossAttr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(j.prototype,"spRed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(j.prototype,"num",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(j.prototype,"totalNum",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=j))||V));l._RF.pop()}}}));

System.register("chunks:///_virtual/WrestleZBPlayerItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./SingletonModuleComp.ts","./TableUtil.ts","./TableWrestleCard.ts","./TableGameAttr.ts"],(function(e){"use strict";var t,r,l,i,n,s,a,o,c,u,p,b,d,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Label,o=e.Sprite,c=e.Component},function(e){u=e.ViewUtil},function(e){p=e.GameResPath},function(e){b=e.smc},function(e){d=e.TableUtil},function(e){f=e.TableWrestleCard},function(e){h=e.TableGameAttr}],execute:function(){var m,y,g,v,w,A,P,D,I,_,x;n._RF.push({},"d76836GdnxDoaQ+0iZtvC6I","WrestleZBPlayerItem",void 0);var R=s.ccclass,C=s.property;e("WrestleZBPlayerItem",(m=R("WrestleZBPlayerItem"),y=C(a),g=C(o),v=C(a),w=C(a),m((D=t((P=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,l(t,"lblDesc",D,i(t)),l(t,"spHead",I,i(t)),l(t,"lblAttr",_,i(t)),l(t,"lblAttrDesc",x,i(t)),t._onRecv=null,t.selectPlayerIndex=0,t}r(t,e);var n=t.prototype;return n.initView=function(e){this.selectPlayerIndex=b.wrestle.roleOrderList[e],this.lblDesc.string=e+1+"号位出场",this.lblAttr.string="",this.lblAttrDesc.string="",u.loadSpriteFrame(this.spHead,p.getSpriteFrameHead("img_tx"+(b.wrestle.roleOrderList[e]+1)));var t=b.wrestle.getPlayerCard(b.wrestle.roleOrderList[e]),r=[];for(var l in t){var i=d.get(f,t[l]),n=d.extractAttrs(i),s=b.wrestle.attr(n);r.push(s)}for(var a in r){var o=r[a],c=h[Number(o[0])],m=1e4===parseInt(c.per_unit)?"+"+(o[1]/100).toFixed(1)+"%":"+"+o[1];this.lblAttr.string=c.name+":"+m+"\n"}return""==this.lblAttr.string&&(this.lblAttrDesc.string="未装备决斗卡"),this},n.onRecv=function(e){this._onRecv=e},n.onClick=function(){var e,t=b.wrestle.roleOrderList;for(var r in t)this.selectPlayerIndex==t[r]&&(e=r);this._onRecv(e)},t}(c)).prototype,"lblDesc",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(P.prototype,"spHead",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"lblAttr",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"lblAttrDesc",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=P))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/Xunbao.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./StorageKey.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./System.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableXunBaoAward.ts"],(function(t){"use strict";var e,n,o,i,r,a,u,s,c,l,f,g,h,v,d;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){a=t.oops},function(t){u=t.GameEvent},function(t){s=t.StorageKey},function(t){c=t.httpChannel},function(t){l=t.MsgID},function(t){f=t.smc},function(t){g=t.GameSys},function(t){h=t.TableGameConfig},function(t){v=t.GameSysKey},function(t){d=t.TableXunBaoAward}],execute:function(){t("RecvStatus",void 0),r._RF.push({},"31f4cl1n7tHoKNDuq4Lya3/","Xunbao",void 0);var m,b=t("Xunbao",function(t){function r(){var e;return(e=t.call(this,v.xunbao)||this).redotWatchGameEvents=[u.ItemBagUpdated,u.XunbaoOpen,u.XunbaoAward],e}e(r,t);var g=r.prototype;return g.checkOpened=function(t){return null!=this.info},g.onNewSystem=function(t){this.id in t&&(this.info=t[this.id])},g.getBonusLevel=function(){var t,e=f.yongbing.level;return null!=(t=h.xb_addlv[e])?t:0},g.getTotalLevel=function(){return f.accdata.heroLevel+this.getBonusLevel()},g.getStage=function(){for(var t=0,e=this.info.times,n=h.xb_limit_times;(null!=(o=e[t])?o:0)>=n[t];){var o;if(t==n.length-1)break;t++}return t},g.getTotalTimes=function(){return this.info.total},g.getLeftTimes=function(){var t,e=this.getStage(),n=this.info.times;return h.xb_limit_times[e]-(null!=(t=n[e])?t:0)},g.checkLeftTimes=function(t,e){return void 0===e&&(e=!1),!(this.getLeftTimes()<t)||(e&&a.gui.toast("剩余次数不足"),!1)},g.getCost=function(t){var e=this.getStage();return h.xb_costs[e][t]},g.fmtLv=function(){return"<b><color=#00ff30>"+this.getTotalLevel()+"</color><color=#ffcc00>(佣兵境界等级+"+this.getBonusLevel()+")</color></b>"},g.reqOpen=function(){var t=o(i().mark((function t(e){var n,o,r,s,g,h,v,d,m,b;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=this.storage,m={type:1,openNum:e,sellLv:d.quality,fightUp:null==(n=d.tglZhanli)||n,autoSave:!1,ckattr1:null!=(o=d.tglAttr1)&&o,ckattr2:null!=(r=d.tglAttr2)&&r,attr1:null!=(s=d.tglAttrLeft1)?s:0,attr2:null!=(g=d.tglAttrRight1)?g:0,attr3:null!=(h=d.tglAttrLeft2)?h:0,attr4:null!=(v=d.tglAttrRight2)?v:0,autoOpen:!0},t.next=4,c.reqAsync(l.EBoxOpen,m);case 4:if(null!=(b=t.sent)&&b.ok){t.next=7;break}return t.abrupt("return");case 7:return this.info=b.xbox,f.account.doResChange(b),a.message.dispatchEvent(u.XunbaoOpen),t.abrupt("return",b);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),g.getTimesAwardShowCfg=function(t){var e=this,n=Object.values(d),o=n.findIndex((function(t){return!e.isTimesAwardRecvd(t.times)}));return o<0||(o=Math.trunc(o/t))+t>n.length?n.slice(-t):n.slice(o,o+t)},g.isTimesAwardRecvd=function(t){var e;return null==(e=this.info.award)?void 0:e.includes(t)},g.getTimesAwardStatus=function(t){return this.isTimesAwardRecvd(t)?m.Recvd:this.info.total>=t?m.CanRecv:m.Lock},g.calRedot=function(t,e){var n=this;return!!this.info&&(f.bag.checkCost(this.getCost(1))||Object.values(d).some((function(t){return n.getTimesAwardStatus(t.times)===m.CanRecv})))},n(r,[{key:"info",get:function(){return f.accdata.subinfo.xbox},set:function(t){f.accdata.subinfo.xbox=t}},{key:"storage",get:function(){return a.storage.getJson(s.XunbaoSetting,{quality:1,tglZhanli:!0})},set:function(t){a.storage.set(s.XunbaoSetting,t)}}]),r}(g));t("xunbao",new b);!function(t){t[t.Lock=0]="Lock",t[t.CanRecv=1]="CanRecv",t[t.Recvd=2]="Recvd"}(m||(m=t("RecvStatus",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/XunbaoMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./CostItem.ts","./PopUpBase.ts","./TipsManager.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./Util.ts","./XunbaoTimesItem.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,l,u,c,b,p,h,f,m,g,d,y,v,C,B,T,X,w,x,L,k,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.RichText,c=e.Label,b=e.Button,p=e.Node,h=e.Animation,f=e.ProgressBar,m=e.Vec3,g=e.tween,d=e.math,y=e.Sprite},function(e){v=e.oops},function(e){C=e.GameEvent},function(e){B=e.UIID},function(e){T=e.CostItem},function(e){X=e.PopUpBase},function(e){w=e.tips},function(e){x=e.smc},function(e){L=e.GameSysKey},function(e){k=e.delay},function(e){E=e.XunbaoTimesItem}],execute:function(){var I,S,z,U,P,R,F,_,N,M,H,K,G,A,J,O,D,q,j,V,W,Z,Q,Y,$,ee,te,ne,ie,oe,re,ae,se,le,ue;s._RF.push({},"f77faRW10ZFP54LenvcqSjt","XunbaoMain",void 0);var ce=l.ccclass,be=l.property;e("XunbaoMain",(I=ce("XunbaoMain"),S=be(u),z=be(c),U=be(b),P=be(p),R=be(h),F=be(b),_=be(b),N=be(b),M=be(c),H=be(f),K=be(p),G=be(T),A=be(T),J=be(b),O=be(b),D=be(b),I((V=t((j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"richLv",V,o(t)),i(t,"lblTimes",W,o(t)),i(t,"btnRefresh",Z,o(t)),i(t,"nodeShowcase",Q,o(t)),i(t,"animLJF",Y,o(t)),i(t,"btnSetting",$,o(t)),i(t,"btnBag",ee,o(t)),i(t,"btnProb",te,o(t)),i(t,"lblTotalTimes",ne,o(t)),i(t,"progTimes",ie,o(t)),i(t,"nodeTimesItems",oe,o(t)),i(t,"costXB1",re,o(t)),i(t,"costXBN",ae,o(t)),i(t,"btnXB1",se,o(t)),i(t,"btnXBN",le,o(t)),i(t,"btnEBoxUp",ue,o(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){var t=this;e.prototype.onLoad.call(this);var n=new m(0,10,0),i=new m(0,-10,0);this.nodeShowcase.children.forEach((function(e){t.scheduleOnce((function(){g(e).by(2,{position:i}).by(1.5,{position:n}).union().repeatForever().start()}),d.randomRange(0,.5))}))},s.start=function(){e.prototype.start.call(this),this.btnRefresh.node.on(b.EventType.CLICK,this.onRefreshClick,this),this.btnSetting.node.on(b.EventType.CLICK,this.onSettingClick,this),this.btnBag.node.on(b.EventType.CLICK,this.onBagClick,this),this.btnProb.node.on(b.EventType.CLICK,this.onProbClick,this),this.btnXB1.node.on(b.EventType.CLICK,this.onXB1Click,this),this.btnXBN.node.on(b.EventType.CLICK,this.onXBNClick,this),this.btnEBoxUp.node.on(b.EventType.CLICK,this.onEBoxUpClick,this),v.message.on(C.XunbaoAward,this._eventHandler,this),v.message.on(C.XunbaoOp,this._eventHandler,this),v.message.on(C.EBoxLvUp,this._eventHandler,this),this.init()},s.onDestroy=function(){v.message.off(C.XunbaoAward,this._eventHandler,this),v.message.off(C.XunbaoOp,this._eventHandler,this),v.message.off(C.EBoxLvUp,this._eventHandler,this)},s.init=function(){this.refresh()},s.refresh=function(){this.richLv.string=x.xunbao.fmtLv(),this.lblTimes.string="剩余次数："+x.xunbao.getLeftTimes(),this.costXB1.init4(x.xunbao.getCost(1)),this.costXBN.init4(x.xunbao.getCost(10)),this.refreshTimesItem()},s.refreshTimesItem=function(){var e=x.xunbao.getTotalTimes(),t=this.nodeTimesItems.getComponentsInChildren(E),n=x.xunbao.getTimesAwardShowCfg(t.length);this.lblTotalTimes.string=e.toString(),t.forEach((function(e,t){return e.init(n[t])}));var i=n.findIndex((function(t){return t.times>e}));this.progTimes.progress=i<0?1:i/t.length},s.onRefreshClick=function(){},s.onSettingClick=function(){v.gui.open(B.XunbaoSetting)},s.onBagClick=function(){this.onXClick(),v.message.dispatchEvent(C.Goto,L.equip)},s.onProbClick=function(){v.gui.open(B.XunbaoProb)},s.onXB1Click=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tryXunbao(1);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onXBNClick=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tryXunbao(10);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onEBoxUpClick=function(){v.gui.open(B.BoxUpgrade)},s.tryXunbao=function(){var e=r(a().mark((function e(t){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.xunbao.checkLeftTimes(t,!0)){e.next=2;break}return e.abrupt("return");case 2:if(x.bag.checkCost(x.xunbao.getCost(t),!0)){e.next=4;break}return e.abrupt("return");case 4:return this.setBtnEnabled(!1),n=x.xunbao.getLeftTimes()===t,e.next=8,x.xunbao.reqOpen(t);case 8:if((i=e.sent)&&this.isValid){e.next=12;break}return this.setBtnEnabled(!0),e.abrupt("return");case 12:return this.refresh(),this.nodeShowcase.active=!1,this.animLJF.play(),e.next=17,k(Math.ceil(1e3*this.animLJF.defaultClip.duration));case 17:return this.animLJF.stop(),this.animLJF.getComponent(y).spriteFrame=null,this.setBtnEnabled(!0),e.next=22,v.gui.openModal(B.XunbaoResult,i);case 22:this.nodeShowcase.active=!0,n&&x.xunbao.getLeftTimes()>0&&w.confirm("当前次数用完，已自动刷新",null);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.setBtnEnabled=function(e){this.btnXB1.interactable=e,this.btnXBN.interactable=e},s._eventHandler=function(e,t){e===C.XunbaoAward?this.refreshTimesItem():e==C.XunbaoOp?this.tryXunbao(t):e==C.EBoxLvUp&&this.refresh()},t}(X)).prototype,"richLv",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(j.prototype,"lblTimes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(j.prototype,"btnRefresh",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(j.prototype,"nodeShowcase",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(j.prototype,"animLJF",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(j.prototype,"btnSetting",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(j.prototype,"btnBag",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(j.prototype,"btnProb",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(j.prototype,"lblTotalTimes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(j.prototype,"progTimes",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(j.prototype,"nodeTimesItems",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(j.prototype,"costXB1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(j.prototype,"costXBN",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(j.prototype,"btnXB1",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(j.prototype,"btnXBN",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(j.prototype,"btnEBoxUp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=j))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/XunbaoProb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./SingletonModuleComp.ts","./TableGameEBoxLv.ts","./Util.ts"],(function(t){"use strict";var e,n,r,i,o,l,a,s,u,c,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Label,s=t.Node},function(t){u=t.PopUpBase},function(t){c=t.smc},function(t){p=t.TableGameEBoxLv},function(t){b=t.Util}],execute:function(){var f,v,h,y,d,g,L,P,m;o._RF.push({},"257ac4JDYdFNImfD1LDLUNj","XunbaoProb",void 0);var x=l.ccclass,w=l.property;t("XunbaoProb",(f=x("XunbaoProb"),v=w(a),h=w(a),y=w(s),f((L=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"lblCurLv",L,i(e)),r(e,"lblNextLv",P,i(e)),r(e,"nodeProps",m,i(e)),e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this);var e=c.ebox.level,n=(new p).init(e),r=(new p).init(e+1),i=!r;this.lblCurLv.string="当前等级："+e,this.lblNextLv.string=i?"已满级":"下一等级："+(e+1),this.nodeProps.children.forEach((function(t,e){var o=t.getComponentsInChildren(a);o[0].string=b.fmtPercent(n["quality_"+(e+1)]),o[1].string=i?"-":b.fmtPercent(r["quality_"+(e+1)])}))},e}(u)).prototype,"lblCurLv",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(g.prototype,"lblNextLv",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(g.prototype,"nodeProps",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/XunbaoResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./CostItem.ts","./PopUpBase.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,n,o,i,r,s,a,u,c,l,p,f,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,c=t.Button},function(t){l=t.oops},function(t){p=t.GameEvent},function(t){f=t.CostItem},function(t){b=t.PopUpBase},function(t){h=t.smc}],execute:function(){var B,X,v,y,d,m,g,C,w,N,k;a._RF.push({},"65da59v9dlOI42kBV8jOMw+","XunbaoResult",void 0);var R=u.ccclass,z=u.property;t("XunbaoResult",(B=R("XunbaoResult"),X=z(f),v=z(f),y=z(c),d=z(c),B((C=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"costXB1",C,i(e)),o(e,"costXBN",w,i(e)),o(e,"btnXB1",N,i(e)),o(e,"btnXBN",k,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){t.prototype.start.call(this),this.costXB1.init4(h.xunbao.getCost(1)),this.costXBN.init4(h.xunbao.getCost(10)),this.btnXB1.node.on(c.EventType.CLICK,this.onXB1Click,this),this.btnXBN.node.on(c.EventType.CLICK,this.onXBNClick,this)},a.onXB1Click=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.gui.removeByNode(this.node,!0),l.message.dispatchEvent(p.XunbaoOp,1);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onXBNClick=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.gui.removeByNode(this.node,!0),l.message.dispatchEvent(p.XunbaoOp,10);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(b)).prototype,"costXB1",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(g.prototype,"costXBN",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(g.prototype,"btnXB1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(g.prototype,"btnXBN",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/XunbaoSetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EBoxSetting.ts","./MWComboBox.ts","./MWComboBoxEx.ts","./PopUpBase.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var i,o,e,r,n,l,a,u,c,p,s,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Toggle},function(t){u=t.EBoxSetting},function(t){c=t.MWComboBox},function(t){p=t.MWComboBoxEx},function(t){s=t.PopUpBase},function(t){b=t.smc}],execute:function(){var g,f,h,y,m,A,d,x,S,z,w,B,L,v,C,M,X,R,Q;n._RF.push({},"fe3dbt1r0FA/a7HoMYuX206","XunbaoSetting",void 0);var E=l.ccclass,P=l.property;t("XunbaoSetting",(g=E("XunbaoSetting"),f=P(p),h=P(a),y=P(a),m=P(a),A=P(c),d=P(c),x=P(c),S=P(c),g((B=i((w=function(t){function i(){for(var i,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return i=t.call.apply(t,[this].concat(n))||this,e(i,"combQualities",B,r(i)),e(i,"tglZhanli",L,r(i)),e(i,"tglAttr1",v,r(i)),e(i,"tglAttr2",C,r(i)),e(i,"combAttrLeft1",M,r(i)),e(i,"combAttrLeft2",X,r(i)),e(i,"combAttrRight1",R,r(i)),e(i,"combAttrRight2",Q,r(i)),i.storage=null,i}o(i,t);var n=i.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),u.LoadQualities()},n.start=function(){t.prototype.start.call(this),this.init()},n.init=function(){this.storage=b.xunbao.storage,u.prototype.initQualityOptions.call(this),u.prototype.initZhanliOptions.call(this),u.prototype.initAttrOptions.call(this)},n.onXClick=function(){u.prototype.updateAttrStorage.call(this),u.prototype.updateZhanliStorage.call(this),u.prototype.updateQualityStorage.call(this),b.xunbao.storage=this.storage,t.prototype.onXClick.call(this)},i}(s)).prototype,"combQualities",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(w.prototype,"tglZhanli",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(w.prototype,"tglAttr1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(w.prototype,"tglAttr2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(w.prototype,"combAttrLeft1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(w.prototype,"combAttrLeft2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(w.prototype,"combAttrRight1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(w.prototype,"combAttrRight2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=w))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/XunbaoTimesItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableUtil.ts","./Util.ts","./BagItem.ts","./Xunbao.ts"],(function(t){"use strict";var e,n,i,r,a,o,s,c,u,l,p,f,m,h,b,g,d,v,T,y,C,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Label,l=t.Node,p=t.Button,f=t.Component},function(t){m=t.oops},function(t){h=t.GameEvent},function(t){b=t.tips},function(t){g=t.httpChannel},function(t){d=t.MsgID},function(t){v=t.smc},function(t){T=t.TableUtil},function(t){y=t.Util},function(t){C=t.BagItem},function(t){R=t.RecvStatus}],execute:function(){var x,w,I,k,A,X,S,z,B;s._RF.push({},"09b0ceZpKxCAqhGKpix8NJQ","XunbaoTimesItem",void 0);var D=c.ccclass,M=c.property;t("XunbaoTimesItem",(x=D("XunbaoTimesItem"),w=M(C),I=M(u),k=M(l),x((S=e((X=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"item",S,r(e)),i(e,"lblTimes",z,r(e)),i(e,"nodeTagRecvd",B,r(e)),e.cfg=null,e}n(e,t);var s=e.prototype;return s.start=function(){this.node.on(p.EventType.CLICK,this.onClick,this)},s.init=function(t){this.cfg=t;var e=T.getDropItems(t.drop[0]);this.item.init2(e),this.lblTimes.string=t.times.toString(),this.refresh()},s.refresh=function(){var t=v.xunbao.getTimesAwardStatus(this.cfg.times);this.nodeTagRecvd.active=t==R.Recvd,this.item.getComponent(p).interactable=t!==R.CanRecv,y.setRedot(this,t==R.CanRecv)},s.onClick=function(){var t=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.xunbao.getTimesAwardStatus(this.cfg.times)===R.CanRecv){t.next=2;break}return t.abrupt("return");case 2:return e={times:this.cfg.times},t.next=5,g.reqAsync(d.XBAward,e);case 5:if(null!=(n=t.sent)&&n.ok){t.next=8;break}return t.abrupt("return");case 8:v.account.doResChange(n),b.reward(n),v.xunbao.info=n.xbox,(null==this?void 0:this.isValid)&&this.refresh(),m.message.dispatchEvent(h.XunbaoAward);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(f)).prototype,"item",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(X.prototype,"lblTimes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(X.prototype,"nodeTagRecvd",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=X))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/Yishou.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./StorageKey.ts","./HttpChannelManager.ts","./NetProtocol.ts","./UMASDK.ts","./SingletonModuleComp.ts","./System.ts","./TableGameAttr.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableRareMonster.ts","./TableRareMonsterPark.ts","./TableRareMonsterSuit.ts","./TableUtil.ts","./BattleUIYishou.ts"],(function(e){"use strict";var t,r,n,a,i,o,u,s,c,h,l,f,v,m,d,p,g,b,k,y,Y,T,G,N,S,R,U;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,n=e.createClass,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator},function(e){s=e.oops},function(e){c=e.JsonUtil},function(e){h=e.ViewUtil},function(e){l=e.GameEvent},function(e){f=e.UIID},function(e){v=e.StorageKey},function(e){m=e.httpChannel},function(e){d=e.MsgID},function(e){p=e.UMASDK,g=e.UMA_EVENT},function(e){b=e.smc},function(e){k=e.GameSys},function(e){y=e.TableGameAttr},function(e){Y=e.TableGameConfig},function(e){T=e.GameSysKey},function(e){G=e.TableRareMonster},function(e){N=e.TableRareMonsterPark},function(e){S=e.TableRareMonsterSuit},function(e){R=e.TableUtil},function(e){U=e.BattleUIYishou}],execute:function(){var I;o._RF.push({},"5aa03Y65s9GMplO1FOXSowG","Yishou",void 0);var _=u.ccclass,x=(u.property,e("Yishou",_("Yishou")(I=function(e){function o(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).skipGachaAnima=!1,t.redotWatchGameEvents=[l.ItemBagUpdated,l.YishouResonateUpgrade,l.YishouLevelUpdate,l.YishouGacha],t}t(o,e);var u=o.prototype;return u.YishouTable=function(){return c.get(G.TableName)},u.YishouSuitTable=function(){return c.get(S.TableName)},u.YishouParkTable=function(){return c.get(N.TableName)},u.YishouTableOrderByGroup=function(){var e=[],t=this.YishouTable();for(var r in t){var n=t[r].group-1;null!=e[n]||(e[n]=[]),e[n][t[r].lv]=t[r],e[n][t[r].lv].id=Number(r)}return e},u.YishouSkillTableByGroup=function(e){var t=[],r=this.YishouTableOrderByGroup()[e],n=0;for(var a in r){var i=r[a];if(i.skill!=n){var o={lv:0,skill:0};o.lv=i.lv,o.skill=i.skill,t.push(o),n=i.skill}}return t},u.YishouSuitTableByGroup=function(){var e=[],t=this.YishouSuitTable();for(var r in t){var n=t[r].group-1;null!=e[n]||(e[n]=[]),e[n][t[r].level]=t[r],e[n][t[r].level].id=Number(r)}return e},u.gacha=function(){var e=a(i().mark((function e(t){var r,n,a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={id:0,num:0},n={id:0,num:0},e.t0=i().keys(Y.raremst_costitem);case 3:if((e.t1=e.t0()).done){e.next=10;break}return a=e.t1.value,r.id=Number(a),r.num=Y.raremst_costitem[a],e.abrupt("break",10);case 10:e.t2=i().keys(Y.raremst_costmoney);case 11:if((e.t3=e.t2()).done){e.next=18;break}return o=e.t3.value,n.id=Number(o),n.num=Y.raremst_costmoney[o],e.abrupt("break",18);case 18:if(u=b.accountData.getItemCount(r.id),1!=t){e.next=25;break}if(this.gachaRed||!(u<1)){e.next=23;break}return this.showGachaNotEnoughTips(t,u,n),e.abrupt("return");case 23:e.next=28;break;case 25:if(!(u+(this.gachaRed?1:0)<5)){e.next=28;break}return this.showGachaNotEnoughTips(t,u,n),e.abrupt("return");case 28:this._gacha(t);case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.showGachaNotEnoughTips=function(e,t,r){var n=this,a=""!=s.storage.get(v.YishouGachaNotice)?s.storage.get(v.YishouGachaNotice):1,i=function(){n._gacha(e)};0==Number(a)?s.gui.open(f.TipBuy,{costStr:r.num*(e-t)+R.getItemName(r.id),descStr:"购买"+R.getItemName(r.id),key:v.YishouGachaNotice,callback:i,needItem:{id:r.id,num:e-t}}):i()},u._gacha=function(){var e=a(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.RareMonsterLottery,n={times:t},e.next=4,m.reqAsync(r,n);case 4:if(null!=(a=e.sent)&&a.ok){e.next=7;break}return e.abrupt("return");case 7:p.doEvent(g.YISHOU_BUZHUO,n),b.account.doResChange(a),this.YishouInfo=a.raremst,b.fuben.reDayInfo.raremst_daily+=a.times,s.message.dispatchEvent(l.YishouGacha,a);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.checkYishouActive=function(e){for(var t,r,n=this.YishouTable(),a=null==(t=n[e])?void 0:t.group,i=null==(r=n[e])?void 0:r.lv,o=this.YishouTableOrderByGroup()[a-1],u=this.YishouInfo.id,s=i;s<=o.length-1;s++)if(u.includes(o[s].id))return!0;return!1},u.checkResonateCanUpgrade=function(e){var t={canUpgrade:!1,activeNum:0,needNum:0,isMax:!1,needLevel:0};if(!e)return t.canUpgrade=!1,t.isMax=!0,t;for(var r in t.needNum=e.mid.length,e.mid)this.checkYishouActive(e.mid[r])&&t.activeNum++;return t.canUpgrade=t.activeNum>=t.needNum,t.needLevel=this.YishouTable()[e.mid[0]].lv,t},u.getResonateAttrStr=function(e){var t=y,r={};for(var n in t){var a=e[t[n].strKey];a&&0!=a&&(r[n]=r[n]||0,r[n]+=a)}var i=[];for(var o in r){var u=t[o],s=r[o],c=u.name+"+"+(1e4===parseInt(u.per_unit)?(s/100).toFixed(1)+"%":s);i.push(c)}return i.join(" ")},u.checkSuitActive=function(e){for(var t,n=this.YishouSuitTable(),a=r(this.YishouInfo.suit);!(t=a()).done;){var i=n[t.value];if((null==i?void 0:i.group)==e.group&&(null==i?void 0:i.level)>=e.level)return!0}return!1},u.checkSlotEnable=function(e){var t=b.accdata.heroLevel;return Y.raremst_fight_unlock[e]<=t},u.calRedot=function(e,t){return e==l.ItemBagUpdated?this.gachaTotalRed:this.resonateRed||this.gachaTotalRed||this.upgradeRed},u.createYishouUI=function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.createPrefabNodeAsync("game/yishou_ui");case 2:return t=e.sent,e.abrupt("return",t.getComponent(U));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u.onLogin=function(){s.storage.set(v.YishouGachaNotice,0)},n(o,[{key:"SkipGacha",get:function(){return this.skipGachaAnima},set:function(e){this.skipGachaAnima=e}},{key:"YishouInfo",get:function(){return b.accountData.subinfo.raremst},set:function(e){b.accountData.subinfo.raremst=e}},{key:"YishouGachaMaxCount",get:function(){return this.YishouParkTable()[10].maxCount}},{key:"YishouGachaCount",get:function(){return b.fuben.reDayInfo.raremst_daily}},{key:"resonateRed",get:function(){var e=this.YishouSuitTableByGroup();for(var t in e){var r=e[t];for(var n in r){var a=r[n];if(!this.checkSuitActive(a)){var i=0;for(var o in a.mid)this.checkYishouActive(a.mid[o])&&i++;if(i>=a.mid.length)return!0}}}return!1}},{key:"gachaRed",get:function(){return 0==this.YishouGachaCount}},{key:"upgradeRed",get:function(){var e=this.YishouTableOrderByGroup();for(var t in e){var r=e[t];for(var n in r){var a=r[n];if(!this.checkYishouActive(a.id)){for(var i in a.costitem){if(b.accountData.getItemCount(i)>=a.costitem[i])return!0}break}}}return!1}},{key:"gachaTotalRed",get:function(){for(var e in Y.raremst_costitem)return this.gachaRed||b.accountData.getItemCount(Number(e))>=1}}]),o}(k))||I));e("yishou",new x(T.raremonster));o._RF.pop()}}}));

System.register("chunks:///_virtual/YishouDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./RoleLoader.ts","./TableUtil.ts","./TableModelConfig.ts","./SingletonModuleComp.ts","./YishouItem.ts","./NetProtocol.ts","./HttpChannelManager.ts","./GameEvent.ts","./TableGameAttr.ts","./Util.ts","./TableGameSkill.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,l,u,h,c,p,f,b,d,g,m,v,y,k,C,B,L,I,w,x,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Label,h=e.Sprite,c=e.ProgressBar,p=e.Node,f=e.Button,b=e.Component},function(e){d=e.oops},function(e){g=e.UIID},function(e){m=e.RoleLoader},function(e){v=e.TableUtil},function(e){y=e.TableModelConfig},function(e){k=e.smc},function(e){C=e.YishouItem},function(e){B=e.MsgID},function(e){L=e.httpChannel},function(e){I=e.GameEvent},function(e){w=e.TableGameAttr},function(e){x=e.Util},function(e){D=e.TableGameSkill}],execute:function(){var Y,A,N,R,z,T,_,S,U,G,M,P,E,F,O,j,q,H,K,J,Z,Q,V;s._RF.push({},"407e0SAkORPJZd+GR9A1k7C","YishouDetail",void 0);var W=l.ccclass,X=l.property;e("YishouDetail",(Y=W("YishouDetail"),A=X(m),N=X(u),R=X(u),z=X(u),T=X([h]),_=X(c),S=X(p),U=X(h),G=X(f),M=X(f),Y((F=t((E=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"roleLoader",F,n(t)),r(t,"lblName",O,n(t)),r(t,"lblLevel",j,n(t)),r(t,"lblDesc",q,n(t)),r(t,"lblAttrs",H,n(t)),r(t,"expBar",K,n(t)),r(t,"yishouItem",J,n(t)),r(t,"descImg",Z,n(t)),r(t,"upgradeBtn",Q,n(t)),r(t,"deployBtn",V,n(t)),t.params=void 0,t.level=void 0,t.showLevel=void 0,t.id=void 0,t}i(t,e);var s=t.prototype;return s.isDeploy=function(){var e=k.yishou.YishouInfo,t=!1,i=e.fight[e.use];for(var r in i)if(i[r]==this.id){t=!0;break}return t},s.onAdded=function(e){this.params=e},s.onLoad=function(){this.level=0,this.showLevel=1,this.id=0},s.start=function(){this.refresh()},s.refresh=function(){var e=!1,t=this.params[this.showLevel],i=k.yishou.YishouInfo.id;for(var r in this.params)if(i.includes(this.params[r].id)){t=this.params[r],this.showLevel=t.lv,this.level=t.lv,e=!0;break}this.id=t.id;var n=v.get(y,t.resid);this.roleLoader.load(n),this.roleLoader.setScale(n.ui_model_scale*v.BPS),this.lblName.string=t.name,this.lblLevel.string=this.showLevel+"级";var a=v.get(D,t.skill);if(this.lblDesc.string=a.name+" "+a.level+"级\n"+a.dec,this.expBar.progress=((this.showLevel%5==0?5:this.showLevel%5)-1)/4,this.yishouItem.getComponent(C).refresh(this.params,!1),this.upgradeBtn.node.getChildByName("Label").getComponent(u).string=e?"升 级":"激 活",e){var o=this.isDeploy();this.deployBtn.getComponent(h).grayscale=!1,this.deployBtn.node.getChildByName("Label").getComponent(u).string=o?"下 阵":"上 阵",this.deployBtn.interactable=!0}else this.deployBtn.getComponent(h).grayscale=!0,this.deployBtn.node.getChildByName("Label").getComponent(u).string="上 阵",this.deployBtn.interactable=!1;var s=this.params[this.level+1];if(null!=s){var l=!1;for(var c in s.costitem){l=k.accountData.getItemCount(c)>=s.costitem[c];break}x.setRedot(this.upgradeBtn,l)}else x.setRedot(this.upgradeBtn,!1);this.refreshAttr()},s.onClickClose=function(){d.gui.removeByNode(this.node,!0)},s.onInfoClick=function(){d.gui.open(g.YishouSkillInfo,this.params[1].group)},s.onLevelItemClick=function(){this.descImg.node.active=!0},s.onUpgradeClick=function(){var e=a(o().mark((function e(){var t,i,r,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.upgradeBtn.interactable=!1,t=B.RareMonsterLevelUp,i={id:Number(this.id)},e.next=5,L.reqAsync(t,i);case 5:if(r=e.sent,this.upgradeBtn.interactable=!0,null!=r&&r.ok){e.next=9;break}return e.abrupt("return");case 9:for(a in k.account.doResChange(r),k.yishou.YishouInfo=r.raremst,this.refresh(),d.message.dispatchEvent(I.YishouLevelUpdate),n=Object.values(r.hero))Object.prototype.hasOwnProperty.call(n,a)&&(s=n[a],k.accountData.setRoleInfo(s));d.message.dispatchEvent(I.EquipPosUpdated);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onDeployClick=function(){var e=a(o().mark((function e(){var t,i,r,n,a,s,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.isDeploy(),i=k.yishou.YishouInfo.fight[k.yishou.YishouInfo.use].slice(),!t){e.next=13;break}e.t0=o().keys(i);case 4:if((e.t1=e.t0()).done){e.next=11;break}if(r=e.t1.value,i[r]!=this.id){e.next=9;break}return i[r]=0,e.abrupt("break",11);case 9:e.next=4;break;case 11:e.next=26;break;case 13:n=!0,e.t2=o().keys(i);case 15:if((e.t3=e.t2()).done){e.next=23;break}if(a=e.t3.value,0!=i[a]||!k.yishou.checkSlotEnable(Number(a))){e.next=21;break}return i[a]=this.id,n=!1,e.abrupt("break",23);case 21:e.next=15;break;case 23:if(!n){e.next=26;break}return d.gui.toast("上阵异兽已满！"),e.abrupt("return");case 26:return s=B.RareMonsterFight,l={id:i,team:k.yishou.YishouInfo.use},e.next=30,L.reqAsync(s,l);case 30:if(null!=(u=e.sent)&&u.ok){e.next=33;break}return e.abrupt("return");case 33:k.yishou.YishouInfo=u.raremst,this.refresh(),d.message.dispatchEvent(I.YishouDeployChange);case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.refreshAttr=function(){var e={},t=w,i=k.yishou.YishouTable()[this.id];for(var r in t){var n=t[r].strKey;i[n]&&(e[r]=e[r]||0,e[r]+=i[n])}var a=[],o=0;for(var s in e){var l=t[s],h=e[s];if(h>0){var c=l.name+"+"+(1e4===parseInt(l.per_unit)?(h/100).toFixed(1)+"%":h);a[o]=c,o++}}o=0;for(var p=0;p<a.length;p+=2){var f=this.lblAttrs[o];null!=f&&(null!=a[p+1]?f.node.getChildByName("Label_attr").getComponent(u).string=a[p]+"   "+a[p+1]:f.node.getChildByName("Label_attr").getComponent(u).string=a[p],o++)}var b=i.nextid,d=i.skill,g=this.lblAttrs[this.lblAttrs.length-1].node.getChildByName("Label_attr").getComponent(u);if(0!=b){var m={};for(var y in i=k.yishou.YishouTable()[b],t){var C=t[y].strKey;i[C]&&(m[y]=m[y]||0,m[y]+=i[C])}for(var B in a=[],m){var L=m[B]-(e[B]||0);if(L>0){var I=t[B],x=I.name+"+"+(1e4===parseInt(I.per_unit)?(L/100).toFixed(1)+"%":L);a.push(x)}}if(i.skill!=d){var Y=v.get(D,i.skill);a.push(Y.name+Y.level+"级")}g.string="异兽"+i.lv+"级："+a.join(" ")}else g.string="异兽已满级！"},t}(b)).prototype,"roleLoader",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(E.prototype,"lblName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(E.prototype,"lblLevel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(E.prototype,"lblDesc",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(E.prototype,"lblAttrs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(E.prototype,"expBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(E.prototype,"yishouItem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(E.prototype,"descImg",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(E.prototype,"upgradeBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(E.prototype,"deployBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=E))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/YishouEdit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./YishouEditItem.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./HttpChannelManager.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,o,i,r,s,a,u,l,c,h,f,d,p,m,y,I,v,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,c=e.Node,h=e.Button,f=e.instantiate,d=e.Component},function(e){p=e.oops},function(e){m=e.YishouEditItem},function(e){y=e.smc},function(e){I=e.MsgID},function(e){v=e.httpChannel},function(e){g=e.GameEvent}],execute:function(){var C,b,E,Y,k,w,S,x,M;u._RF.push({},"65be6FmMZdAbomcNtXjTop6","YishouEdit",void 0);var O=l.ccclass,z=l.property;e("YishouSwitch",(C=O("YishouEdit"),b=z(c),E=z(c),Y=z(h),C((S=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"nodeContent",S,i(t)),o(t,"editItem",x,i(t)),o(t,"btnConfitm",M,i(t)),t.params=void 0,t.deployInfo=void 0,t}n(t,e);var u=t.prototype;return u.onAdded=function(e){this.params=e},u.getOwnIds=function(){var e=this,t=y.yishou.YishouTable(),n=y.yishou.YishouInfo.id.slice();return n.sort((function(n,o){var i=t[n].lv+100*t[n].quality+(e.deployInfo.includes(n)?1e3:0),r=t[o].lv+100*t[o].quality+(e.deployInfo.includes(o)?1e3:0);return i==r?n-o:r-i})),n},u.start=function(){var e=this,t=y.yishou.YishouInfo;this.deployInfo=t.fight[this.params].slice(),this.nodeContent.removeAllChildren();for(var n=this.getOwnIds(),o=0;o<n.length;o++){var i=f(this.editItem);i.parent=this.nodeContent,i.getComponent(m).refresh(n[o],(function(t){var n=t.Id;if(t.Selected){var o=e.deployInfo.indexOf(n);null!=e.deployInfo[o]&&(e.deployInfo[o]=0,t.setItemSelect(!1))}else{var i=!0;for(var r in e.deployInfo)if(0==e.deployInfo[r]&&y.yishou.checkSlotEnable(Number(r))){e.deployInfo[r]=n,t.setItemSelect(!0),i=!1;break}if(i)return void p.gui.toast("上阵异兽已满！")}}))}this.refresh()},u.refresh=function(){var e=this,t=this.getOwnIds();this.yishouEditItems.forEach((function(n,o){n.setItemSelect(-1!==e.deployInfo.indexOf(t[o]))}))},u.onXClick=function(){p.gui.removeByNode(this.node,!0)},u.onConfirmClick=function(){var e=s(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.RareMonsterFight,n={id:this.deployInfo,team:this.params},e.next=4,v.reqAsync(t,n);case 4:if(null!=(o=e.sent)&&o.ok){e.next=7;break}return e.abrupt("return");case 7:y.yishou.YishouInfo=o.raremst,this.refresh(),p.message.dispatchEvent(g.YishouDeployChange),this.onXClick();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r(t,[{key:"yishouEditItems",get:function(){return this.nodeContent.getComponentsInChildren(m)}}]),t}(d)).prototype,"nodeContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(w.prototype,"editItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(w.prototype,"btnConfitm",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=w))||k));u._RF.pop()}}}));

System.register("chunks:///_virtual/YishouEditItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,l,r,n,a,o,s,c,u,h,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Sprite,c=e.Label,u=e.Component},function(e){h=e.ViewUtil},function(e){d=e.GameResPath},function(e){m=e.smc}],execute:function(){var p,g,y,f,v,b,I,S,F,L,k;a._RF.push({},"0f90bldDO5Es5zn9RQJatp4","YishouEditItem",void 0);var w=o.ccclass,z=o.property;e("YishouEditItem",(p=w("YishouEditItem"),g=z(s),y=z(s),f=z(c),v=z(s),p((S=t((I=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,l(t,"qualiyImg",S,r(t)),l(t,"headImg",F,r(t)),l(t,"lblLv",L,r(t)),l(t,"imgSelect",k,r(t)),t.id=void 0,t.click=void 0,t.selected=void 0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.imgSelect.node.active=!1,this.selected=!1},a.start=function(){},a.refresh=function(e,t){this.id=e,this.click=t;var i=m.yishou.YishouTable()[this.id];null!=i?(h.loadSpriteFrame(this.headImg,d.getSpriteFrameHeadYishou(i.icon)),h.loadSpriteFrame(this.qualiyImg,"gui/yishou/texture/ysdj"+i.quality+"/spriteFrame"),this.lblLv.node.active=!0,this.lblLv.string=i.lv+"级"):(this.headImg.spriteFrame=null,this.lblLv.node.active=!1,h.loadSpriteFrame(this.qualiyImg,"gui/yishou/texture/ysdj0/spriteFrame"))},a.onItemClick=function(){this.click(this)},a.setItemSelect=function(e){void 0===e&&(e=!1),this.imgSelect.node.active=e,this.selected=e},a.setHeadGray=function(e){this.headImg.grayscale=e},n(t,[{key:"Selected",get:function(){return this.selected}},{key:"Id",get:function(){return this.id}}]),t}(u)).prototype,"qualiyImg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(I.prototype,"headImg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(I.prototype,"lblLv",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(I.prototype,"imgSelect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=I))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/YishouGacha.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./Util.ts","./Guide.ts","./MoneyItem.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,h,c,u,l,f,m,p,g,d,y,C,I,b,k,v,G,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,h=t._decorator,c=t.Toggle,u=t.RichText,l=t.Animation,f=t.Button,m=t.Label,p=t.Color,g=t.UITransform,d=t.Component},function(t){y=t.oops},function(t){C=t.GameEvent},function(t){I=t.UIID},function(t){b=t.smc},function(t){k=t.TableGameConfig},function(t){v=t.Util},function(t){G=t.GuideTypes},function(t){_=t.MoneyItem}],execute:function(){var S,Y,w,B,R,N,z,M,O,T,D,L,U,F,H,x,P;r._RF.push({},"5c4758kBDtJJJXiZeLiuu65","YishouGacha",void 0);var E=h.ccclass,J=h.property;t("YishouGacha",(S=E("YishouGacha"),Y=J(_),w=J(_),B=J(c),R=J(u),N=J(l),z=J(f),M=J(f),S((D=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"costItem",D,o(e)),n(e,"moneyItem",L,o(e)),n(e,"skip",U,o(e)),n(e,"rich",F,o(e)),n(e,"anim",H,o(e)),n(e,"gachaOnceBtn",x,o(e)),n(e,"gachaFifthBtn",P,o(e)),e._gachaCostItemInfo={id:0,num:0},e._gachaCostMoneyInfo={id:0,num:0},e}i(e,t);var r=e.prototype;return r.onLoad=function(){for(var t in k.raremst_costitem){this._gachaCostItemInfo.id=Number(t),this._gachaCostItemInfo.num=k.raremst_costitem[t],this.costItem.init(this._gachaCostItemInfo.id);break}for(var e in k.raremst_costmoney){this._gachaCostMoneyInfo.id=Number(e),this._gachaCostMoneyInfo.num=k.raremst_costmoney[e],this.moneyItem.init(this._gachaCostMoneyInfo.id);break}},r.start=function(){y.message.on(C.YishouGacha,this._eventHandler,this),y.message.on(C.YishouSkipStateChange,this._eventHandler,this),this.refresh()},r.onDestroy=function(){y.message.off(C.YishouGacha,this._eventHandler,this),y.message.off(C.YishouSkipStateChange,this._eventHandler,this)},r.update=function(t){},r.onClickClose=function(){y.gui.removeByNode(this.node,!0)},r.onClickRatio=function(){y.gui.open(I.YishouGachaRatio)},r.onClickGacha=function(){var t=a(s().mark((function t(e,i){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Number(null!=i?i:1),b.yishou.gacha(n);case 2:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),r.showGachaResult=function(t){var e=this;this.skip.isChecked?(y.gui.open(I.YishouGachaResult,t),b.guide.try(G.OpenUI_YishouGachaResult)):(this.anim.play(),this.scheduleOnce((function(){e.anim.stop(),y.gui.open(I.YishouGachaResult,t),b.guide.try(G.OpenUI_YishouGachaResult)}),.8)),this.refresh()},r._eventHandler=function(t,e){void 0===e&&(e=null),t==C.YishouGacha?this.showGachaResult(e):t==C.YishouSkipStateChange&&this.refreshSkipState()},r.onSkipClick=function(){},r.onSkipClick2=function(){b.yishou.SkipGacha=this.skip.isChecked,y.message.dispatchEvent(C.YishouSkipStateChange)},r.refresh=function(){var t=b.yishou.YishouGachaMaxCount-b.yishou.YishouInfo.num;this.rich.string="<outline color=black width=3><b>再捕捉"+t+"次，必定出现<color=#ff5e5e>神话</color>级异兽</b></outline>";var e=b.yishou.YishouGachaCount;this.gachaOnceBtn.node.getChildByName("Label").getComponent(m).string=e>0?"捕捉1次":"首次免费",v.setRedot(this.gachaOnceBtn,b.yishou.gachaTotalRed),v.setRedot(this.gachaFifthBtn,b.accountData.getItemCount(this._gachaCostItemInfo.id)>=(b.yishou.gachaRed?4:5)),this.refreshSkipState(),this.refreshItemNum()},r.refreshSkipState=function(){this.skip.isChecked=b.yishou.SkipGacha},r.updateItemNum=function(t,e){var i=t.node.getChildByName("Sprite"),n=t.node.getChildByName("Label_costnum"),o=b.accountData.getItemCount(this._gachaCostItemInfo.id);n.getComponent(m).string=o+"/"+e;var a=new p(o>=e?"#fff4dc":"#ff6f6f");n.getComponent(m).color=a;var s=i.getComponent(g),r=n.getComponent(g);s.anchorX=0,r.anchorX=0,i.setPosition(-(s.width+r.width)/2,i.position.y),n.setPosition(i.position.x+s.width,n.position.y)},r.refreshItemNum=function(){this.updateItemNum(this.gachaOnceBtn,1),this.updateItemNum(this.gachaFifthBtn,5)},e}(d)).prototype,"costItem",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(T.prototype,"moneyItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(T.prototype,"skip",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(T.prototype,"rich",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(T.prototype,"anim",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(T.prototype,"gachaOnceBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(T.prototype,"gachaFifthBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouGachaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./TableGameItem.ts","./ViewUtil.ts","./GameResPath.ts"],(function(e){"use strict";var t,i,a,r,o,n,u,l,s,c,h,p,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,u=e.Sprite,l=e.Label,s=e.Component},function(e){c=e.JsonUtil},function(e){h=e.TableGameItem},function(e){p=e.ViewUtil},function(e){m=e.GameResPath}],execute:function(){var g,b,y,f,d,I,G,v,R,F,w;o._RF.push({},"845d5BZwQBIcZjg/0Xg+PXx","YishouGachaItem",void 0);var B=n.ccclass,z=n.property;e("YishouGachaItem",(g=B("YishouGachaItem"),b=z(u),y=z(u),f=z(u),d=z(l),g((v=t((G=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"gachaBG",v,r(t)),a(t,"qualityImg",R,r(t)),a(t,"headImg",F,r(t)),a(t,"pieceNum",w,r(t)),t.bgRotate=0,t}i(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){this.bgRotate+=110*e,this.gachaBG.node.setRotationFromEuler(0,0,-this.bgRotate%360),this.bgRotate>360&&(this.bgRotate-=360)},o.refresh=function(e){var t=0,i=0;for(var a in e)t=Number(a),i=e[a];var r=c.get(h.TableName)[t];p.loadSpriteFrame(this.gachaBG,"gui/yishou/texture/ysykajg"+r.quality+"/spriteFrame"),p.loadSpriteFrame(this.qualityImg,"gui/yishou/texture/ysdj"+r.quality+"/spriteFrame"),p.loadSpriteFrame(this.headImg,m.getSpriteFrameHeadYishou(r.icon)),this.pieceNum.string=i+""},t}(s)).prototype,"gachaBG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(G.prototype,"qualityImg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(G.prototype,"headImg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(G.prototype,"pieceNum",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=G))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/YishouGachaRatio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,i,o,n,r,a,s,c,u,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.Label,u=t.Component},function(t){l=t.oops},function(t){h=t.smc}],execute:function(){var p,f,g,m,y;r._RF.push({},"73866F4Z7RPSqGeV9vCMrTa","YishouGachaRatio",void 0);var d=a.ccclass,v=a.property;t("YishouGachaRatio",(p=d("YishouGachaRatio"),f=v([s]),p((y=e((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"items",y,n(e)),e}i(e,t);var r=e.prototype;return r.start=function(){for(var t=h.yishou.YishouParkTable(),e=0;e<this.items.length;e++){var i=this.items[e],o=i.getChildByName("whole_ratio").getComponent(c),n=i.getChildByName("piece_ratio").getComponent(c);o.string=t[e+6].weight/100+"%",n.string=t[e+1].weight/100+"%"}},r.update=function(t){},r.onXClick=function(){l.gui.removeByNode(this.node,!0)},e}(u)).prototype,"items",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouGachaResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./YishouGachaItem.ts","./GameEvent.ts","./TableGameConfig.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,c,u,h,l,p,m,f,g,d,C,y,v,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator,u=t.Node,h=t.Toggle,l=t.Button,p=t.Label,m=t.Color,f=t.UITransform,g=t.Component},function(t){d=t.oops},function(t){C=t.smc},function(t){y=t.YishouGachaItem},function(t){v=t.GameEvent},function(t){I=t.TableGameConfig}],execute:function(){var b,k,G,w,B,_,N,S,Y,R,T;r._RF.push({},"3be724pSexOYp/TuSMeukoe","YishouGachaResult",void 0);var z=c.ccclass,F=c.property;t("YishouGachaResult",(b=z("YishouGachaResult"),k=F([u]),G=F(h),w=F(l),B=F(l),b((S=e((N=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"resultItems",S,o(e)),n(e,"skip",Y,o(e)),n(e,"gachaOnceBtn",R,o(e)),n(e,"gachaFifthBtn",T,o(e)),e.params=void 0,e._gachaCostItemInfo={id:0,num:0},e}i(e,t);var r=e.prototype;return r.onLoad=function(){for(var t in I.raremst_costitem){this._gachaCostItemInfo.id=Number(t),this._gachaCostItemInfo.num=I.raremst_costitem[t];break}},r.onAdded=function(t){this.params=t},r.start=function(){this.skip.isChecked=C.yishou.SkipGacha;for(var t=0;t<this.resultItems.length;t++){var e=this.resultItems[t];t+1<=this.params.times?(e.active=!0,e.getComponent(y).refresh(this.params.items[t])):e.active=!1}this.refreshItemNum()},r.update=function(t){},r.onXClick=function(){d.gui.removeByNode(this.node,!0)},r.onClickOnce=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.onXClick(),C.yishou.gacha(1);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onClickFifth=function(){this.onXClick(),C.yishou.gacha(5)},r.onSkipClick2=function(){C.yishou.SkipGacha=this.skip.isChecked,d.message.dispatchEvent(v.YishouSkipStateChange)},r.updateItemNum=function(t,e){var i=t.node.getChildByName("Sprite"),n=t.node.getChildByName("Label_costnum"),o=C.accountData.getItemCount(this._gachaCostItemInfo.id);n.getComponent(p).string=o+"/"+e;var a=new m(o>=e?"#fff4dc":"#ff6f6f");n.getComponent(p).color=a;var s=i.getComponent(f),r=n.getComponent(f);s.anchorX=0,r.anchorX=0,i.setPosition(-(s.width+r.width)/2,i.position.y),n.setPosition(i.position.x+s.width,n.position.y)},r.refreshItemNum=function(){this.updateItemNum(this.gachaOnceBtn,1),this.updateItemNum(this.gachaFifthBtn,5)},e}(g)).prototype,"resultItems",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(N.prototype,"skip",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(N.prototype,"gachaOnceBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(N.prototype,"gachaFifthBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=N))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./ViewUtil.ts","./GameResPath.ts","./SingletonModuleComp.ts","./Util.ts"],(function(e){"use strict";var i,t,n,o,a,l,r,s,u,c,h,f,m,p,g,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,r=e._decorator,s=e.Sprite,u=e.Label,c=e.Component},function(e){h=e.oops},function(e){f=e.UIID},function(e){m=e.ViewUtil},function(e){p=e.GameResPath},function(e){g=e.smc},function(e){v=e.Util}],execute:function(){var d,b,I,y,_,L,D,w,z,F,Y,O,R;l._RF.push({},"d4b40s4tAxDq4MAc5Er9eXa","YishouItem",void 0);var S=r.ccclass,U=r.property;e("YishouItem",(d=S("YishouItem"),b=U(s),I=U(s),y=U(u),_=U(u),L=U(s),d((z=i((w=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,n(i,"qualityImg",z,o(i)),n(i,"headImg",F,o(i)),n(i,"levelLabel",Y,o(i)),n(i,"costLabel",O,o(i)),n(i,"onImg",R,o(i)),i._info=void 0,i._canOpenDetail=!1,i.level=0,i}t(i,e);var l=i.prototype;return l.onLoad=function(){this.level=0,this.levelLabel.node.active=!1,this.onImg.node.active=!1},l.start=function(){},l.refresh=function(e,i){void 0===i&&(i=!1),this._info=e,this._canOpenDetail=i;var t=!1,n=this._info[1],o=g.yishou.YishouInfo,l=o.id;for(var r in this._info)if(l.includes(this._info[r].id)){this.level=this._info[r].lv,t=!0,n=this._info[r];break}if(m.loadSpriteFrame(this.headImg,p.getSpriteFrameHeadYishou(n.icon)),m.loadSpriteFrame(this.qualityImg,"gui/yishou/texture/ysdj"+n.quality+"/spriteFrame"),this.headImg.grayscale=!t,this.levelLabel.node.active=this.level>0,this.levelLabel.string=this.level+"级",t){for(var s,u=n.id,c=!1,h=a(o.fight);!(s=h()).done;){if(s.value.includes(u)){c=!0;break}}this.onImg.node.active=c}else this.onImg.node.active=!1;this.refreshItemNum()},l.refreshItemNum=function(){var e=this._info[this.level+1];if(null!=e){var i=!1;for(var t in e.costitem){var n=g.accountData.getItemCount(t),o=e.costitem[t];this.costLabel.string=n+"/"+o,i=n>=o;break}v.setRedot(this.headImg,i&&this._canOpenDetail)}else v.setRedot(this.headImg,!1),this.costLabel.string="已满级"},l.onItemClick=function(){this._canOpenDetail&&h.gui.open(f.YishouDetail,this._info)},i}(c)).prototype,"qualityImg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(w.prototype,"headImg",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(w.prototype,"levelLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(w.prototype,"costLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(w.prototype,"onImg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=w))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/YishouMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleLoader.ts","./GameEvent.ts","./Oops.ts","./GameUIConfig.ts","./YishouItem.ts","./SingletonModuleComp.ts","./TableUtil.ts","./TableModelConfig.ts","./TableGameAttr.ts","./Util.ts","./TableGameConfig.ts","./ViewUtil.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,u,l,h,c,f,d,p,g,b,m,v,y,C,Y,_,I,B,w,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){s=e.cclegacy,u=e._decorator,l=e.Button,h=e.Label,c=e.Node,f=e.Sprite,d=e.instantiate,p=e.Component},function(e){g=e.RoleLoader},function(e){b=e.GameEvent},function(e){m=e.oops},function(e){v=e.UIID},function(e){y=e.YishouItem},function(e){C=e.smc},function(e){Y=e.TableUtil},function(e){_=e.TableModelConfig},function(e){I=e.TableGameAttr},function(e){B=e.Util},function(e){w=e.TableGameConfig},function(e){A=e.ViewUtil}],execute:function(){var L,k,z,R,G,T,U,D,M,H,S,E,F,x,N,O,j,P,W,V,q,K,X,J,Q,Z,$;s._RF.push({},"c42echzkzhLg4wgfaAxCXLB","YishouMain",void 0);var ee=u.ccclass,te=u.property;e("YishouMain",(L=ee("YishouMain"),k=te([l]),z=te([g]),R=te(l),G=te(l),T=te(h),U=te(c),D=te(l),M=te(l),H=te(c),S=te(h),E=te(c),F=te(c),L((O=t((N=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"addBtns",O,o(t)),n(t,"yishous",j,o(t)),n(t,"switchBtn",P,o(t)),n(t,"editBtn",W,o(t)),n(t,"numLabel",V,o(t)),n(t,"nodeContent",q,o(t)),n(t,"resonateBtn",K,o(t)),n(t,"gachaBtn",X,o(t)),n(t,"yishouItem",J,o(t)),n(t,"lblMainAttr",Q,o(t)),n(t,"nodeContentAttr",Z,o(t)),n(t,"subAttrItem",$,o(t)),t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.numLabel.string="异兽(0/0)",this.addBtns.forEach((function(e,t){A.loadSpriteFrame(e.getComponent(f),"gui/yishou/texture/"+(C.yishou.checkSlotEnable(t)?"btn_yishoujia":"img_yishousuo")+"/spriteFrame")}))},s.start=function(){var e=C.yishou.YishouTableOrderByGroup().length;this.nodeContent.removeAllChildren();for(var t=0;t<e;t++){d(this.yishouItem).parent=this.nodeContent}m.message.on(b.YishouLevelUpdate,this._eventHandler,this),m.message.on(b.YishouDeployChange,this._eventHandler,this),m.message.on(b.YishouGacha,this._eventHandler,this),m.message.on(b.YishouResonateUpgrade,this._eventHandler,this),this.refresh()},s.onDestroy=function(){m.message.off(b.YishouLevelUpdate,this._eventHandler,this),m.message.off(b.YishouDeployChange,this._eventHandler,this),m.message.off(b.YishouGacha,this._eventHandler,this),m.message.off(b.YishouResonateUpgrade,this._eventHandler,this)},s.update=function(e){},s.refresh=function(){this.refreshRed(),this.refreshDeploy(),this.refreshAttr()},s.refreshRed=function(){B.setRedot(this.resonateBtn,C.yishou.resonateRed),B.setRedot(this.gachaBtn,C.yishou.gachaTotalRed)},s.checkYishouWeight=function(e){var t=0,i=!1,n=e[1],o=C.yishou.YishouInfo.id;for(var r in e)if(o.includes(e[r].id)){t=e[r].lv,i=!0,n=e[r];break}var a=!1,s=e[t+1];if(null!=s)for(var u in s.costitem){a=C.accountData.getItemCount(u)>=s.costitem[u];break}return t+100*n.quality+(i?1e3:0)+(a?i?1e4:2e4:0)},s.refreshDeploy=function(){var e=this,t=C.yishou.YishouTableOrderByGroup().slice();t.sort((function(t,i){var n=e.checkYishouWeight(t),o=e.checkYishouWeight(i);return n==o?t[1].id-i[1].id:o-n}));var i=t.length,n=C.yishou.YishouInfo.id.length;this.numLabel.string="异兽("+n+"/"+i+")",this.yishouItems.forEach((function(e,i){e.refresh(t[i],!0)}));for(var o=C.yishou.YishouTable(),r=C.yishou.YishouInfo,a=r.fight[r.use],s=0;s<this.addBtns.length;s++){var u=this.addBtns[s],l=this.yishous[s];if(a[s]>0){u.node.active=!1,l.node.active=!0;var h=Y.get(_,o[a[s]].resid);l.load(h),l.setScale(h.ui_model_scale*Y.BPS)}else u.node.active=!0,l.node.active=!1}},s._eventHandler=function(e,t){e==b.YishouLevelUpdate||e==b.YishouGacha?this.refresh():e==b.YishouDeployChange?this.refreshDeploy():e==b.YishouResonateUpgrade&&this.refreshRed()},s.onClickClose=function(){m.gui.removeByNode(this.node,!0)},s.onClickSwitch=function(){m.gui.open(v.YishouSwitch)},s.onClickEdit=function(e,t){if(C.yishou.checkSlotEnable(Number(t)))m.gui.open(v.YishouEdit,C.yishou.YishouInfo.use);else{var i=w.raremst_fight_unlock[Number(t)];m.gui.toast("主角等级达到Lv·"+i+"才能解锁")}},s.onClickResonate=function(){m.gui.open(v.YishouResonate)},s.onClickGacha=function(){m.gui.open(v.YishouGacha)},s.refreshAttr=function(){this.nodeContentAttr.removeAllChildren();for(var e,t={},i={},n=I,o=C.yishou.YishouInfo.id,a=r(o);!(e=a()).done;){var s=e.value,u=C.yishou.YishouTable()[s];for(var l in n){var c=n[l].strKey,f=u[c];f&&("hp_rate"==c||"atk_rate"==c||"def_rate"==c?(t[l]=t[l]||0,t[l]+=f):(i[l]=i[l]||0,i[l]+=f))}}var p=[];for(var g in t){var b=n[g],m=t[g],v=b.name+"+"+(1e4===parseInt(b.per_unit)?(m/100).toFixed(1)+"%":m);p.push(v)}for(var y in this.lblMainAttr.string=p.join("    "),p=[],i){var Y=n[y],_=i[y],B=Y.name+"+"+(1e4===parseInt(Y.per_unit)?(_/100).toFixed(1)+"%":_);p.push(B)}for(var w=0;w<Math.ceil(p.length/4);w++){var A=d(this.subAttrItem);A.parent=this.nodeContentAttr;for(var L=0;L<4;L++){var k=A.getChildByName("Label_subAttr"+(L+1));null!=p[4*w+L]?(k.active=!0,k.getComponent(h).string=p[4*w+L]):k.active=!1}}},a(t,[{key:"yishouItems",get:function(){return this.nodeContent.getComponentsInChildren(y)}}]),t}(p)).prototype,"addBtns",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(N.prototype,"yishous",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(N.prototype,"switchBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(N.prototype,"editBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(N.prototype,"numLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(N.prototype,"nodeContent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(N.prototype,"resonateBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(N.prototype,"gachaBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(N.prototype,"yishouItem",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(N.prototype,"lblMainAttr",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(N.prototype,"nodeContentAttr",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(N.prototype,"subAttrItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=N))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/YishouPlayerInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleLoader.ts","./SingletonModuleComp.ts","./TableUtil.ts","./TableModelConfig.ts","./Oops.ts","./GameUIConfig.ts"],(function(i){"use strict";var e,o,t,n,r,l,s,a,c,u,h,f,d,p,y;return{setters:[function(i){e=i.applyDecoratedDescriptor,o=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,s=i.Sprite,a=i.RichText,c=i.Component},function(i){u=i.RoleLoader},function(i){h=i.smc},function(i){f=i.TableUtil},function(i){d=i.TableModelConfig},function(i){p=i.oops},function(i){y=i.UIID}],execute:function(){var b,m,v,g,I,T,_,U,C;r._RF.push({},"ebc8bmHTB9AZp7Tygbsp3mH","YishouPlayerInfoItem",void 0);var P=l.ccclass,Y=l.property;i("YishouPlayerInfoItem",(b=P("YishouPlayerInfoItem"),m=Y(s),v=Y(u),g=Y(a),b((_=e((T=function(i){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,t(e,"imgUnvalid",_,n(e)),t(e,"role",U,n(e)),t(e,"rich",C,n(e)),e._yishouId=void 0,e}o(e,i);var r=e.prototype;return r.start=function(){},r.refresh=function(i){if(this._yishouId=i,this._yishouId>0){this.imgUnvalid.node.active=!1,this.role.node.active=!0,this.rich.node.active=!0;var e=h.yishou.YishouTable()[this._yishouId],o=f.get(d,e.resid);this.role.load(o),this.rich.string="<outline color=black width=3><b><color=#ffffff>"+e.name+"</color> <color=#00ff00>LV:"+e.lv+"</color></b></outline>"}else this.imgUnvalid.node.active=!0,this.role.node.active=!1,this.rich.node.active=!1},r.update=function(i){},r.onItemClick=function(){this._yishouId>0&&p.gui.open(y.TipYishouSkillDetail,this._yishouId)},e}(c)).prototype,"imgUnvalid",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(T.prototype,"role",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(T.prototype,"rich",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=T))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouResonate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./YishouResonateItem.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,o,n,i,r,s,a,u,l,c,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,u=e.instantiate,l=e.Component},function(e){c=e.oops},function(e){p=e.YishouResonateItem},function(e){h=e.smc}],execute:function(){var f,d,m,y,v,C,b;r._RF.push({},"bec6fGsfIdI4od6EkqoXOT6","YishouResonate",void 0);var g=s.ccclass,I=s.property;e("YishouResonate",(f=g("YishouResonate"),d=I(a),m=I(a),f((C=t((v=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"nodeContent",C,i(t)),n(t,"resonateItem",b,i(t)),t}o(t,e);var r=t.prototype;return r.start=function(){var e=h.yishou.YishouSuitTableByGroup();for(var t in this.nodeContent.removeAllChildren(),e){var o=u(this.resonateItem);o.parent=this.nodeContent,o.getComponent(p).refresh(e[t])}},r.update=function(e){},r.onClickClose=function(){c.gui.removeByNode(this.node,!0)},t}(l)).prototype,"nodeContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(v.prototype,"resonateItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouResonateInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./YishouResonateInfoItem.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,l,u,c,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,l=e.Node,u=e.instantiate,c=e.Component},function(e){p=e.oops},function(e){f=e.YishouResonateInfoItem}],execute:function(){var h,d,m,I,b,v,y,g,C;r._RF.push({},"4a8f1CDWodCWauNtNph53TK","YishouResonateInfo",void 0);var R=a.ccclass,Y=a.property;e("YishouResonateInfo",(h=R("YishouResonateInfo"),d=Y(s),m=Y(l),I=Y(l),h((y=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"lblTitle",y,i(t)),o(t,"nodeContent",g,i(t)),o(t,"resonateInfoItem",C,i(t)),t.params=void 0,t}n(t,e);var r=t.prototype;return r.onAdded=function(e){this.params=e},r.start=function(){for(var e in this.lblTitle.string=this.params[1].name,this.nodeContent.removeAllChildren(),this.params){var t=u(this.resonateInfoItem);t.parent=this.nodeContent,t.getComponent(f).refresh(this.params[e])}},r.update=function(e){},r.onXClick=function(){p.gui.removeByNode(this.node,!0)},t}(c)).prototype,"lblTitle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(v.prototype,"nodeContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(v.prototype,"resonateInfoItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouResonateInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts"],(function(e){"use strict";var t,o,r,n,i,c,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.RichText,s=e.Component},function(e){u=e.smc}],execute:function(){var l,f,h,p,b;i._RF.push({},"abad5JoFmBJwoeUT6KOZdg0","YishouResonateInfoItem",void 0);var d=c.ccclass,m=c.property;e("YishouResonateInfoItem",(l=d("YishouResonateInfoItem"),f=m(a),l((b=t((p=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,r(t,"richLabel",b,n(t)),t}o(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},i.refresh=function(e){var t=u.yishou.checkSuitActive(e),o=u.yishou.checkResonateCanUpgrade(e),r=u.yishou.getResonateAttrStr(e),n=o.canUpgrade?"#00ff00":"#ff5b5b",i=t?"#00ff00":"#ff5b5b",c="<outline color=black width=3><b>"+e.level+"级 集齐该共鸣异兽<color="+n+">("+o.activeNum+"/"+o.needNum+")</color><br/>加成属性：<color="+i+">"+r+"</color></b><outline>";this.richLabel.string=c},t}(s)).prototype,"richLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=p))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/YishouResonateItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameUIConfig.ts","./YishouEditItem.ts","./SingletonModuleComp.ts","./NetProtocol.ts","./HttpChannelManager.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,c,l,u,f,h,p,g,d,b,m,v,y,R,I,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,u=e.RichText,f=e.Label,h=e.Button,p=e.Color,g=e.Sprite,d=e.Component},function(e){b=e.oops},function(e){m=e.UIID},function(e){v=e.YishouEditItem},function(e){y=e.smc},function(e){R=e.MsgID},function(e){I=e.httpChannel},function(e){U=e.GameEvent}],execute:function(){var C,k,w,A,Y,L,_,E,N,z,x,D,G;s._RF.push({},"0c0839sEMBGpJOU9KTpnnQa","YishouResonateItem",void 0);var M=c.ccclass,S=c.property;e("YishouResonateItem",(C=M("YishouResonateItem"),k=S([l]),w=S(u),A=S(f),Y=S(u),L=S(h),C((N=t((E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"editItems",N,i(t)),o(t,"nameRich",z,i(t)),o(t,"lblAttr",x,i(t)),o(t,"conditionRich",D,i(t)),o(t,"btnUpgrade",G,i(t)),t._groupInfo=void 0,t}n(t,e);var s=t.prototype;return s.start=function(){},s.checkResonateActiveLv=function(e,t){for(var n in e)if(t.includes(e[n].id))return e[n].level;return 0},s.refresh=function(e){this._groupInfo=e;var t=y.yishou.YishouInfo.suit,n=this.checkResonateActiveLv(e,t);for(var o in this.editItems){var i=this.editItems[o],r=e[n>0?n:1];if(null!=r.mid[o]){i.active=!0,i.getComponent(v).refresh(r.mid[o],(function(){}));var a=y.yishou.checkYishouActive(r.mid[o]);i.getComponent(v).setHeadGray(!a)}else i.active=!1}if(n>0){var s=e[n];this.nameRich.string="<outline color=black width=3><b><color=#ffdb00>"+s.name+" "+s.level+"级</color></b></outline>",this.btnUpgrade.node.getChildByName("Label").getComponent(f).string="升级",this.lblAttr.string=y.yishou.getResonateAttrStr(s),this.lblAttr.color=new p("#06ff00");var c=y.yishou.checkResonateCanUpgrade(e[n+1]);if(c.isMax)this.conditionRich.string="<outline color=black width=3><b><color=#ffffff>共鸣已满级</color></b></outline>",this.btnUpgrade.getComponent(g).grayscale=!0,this.btnUpgrade.interactable=!1;else{var l=c.canUpgrade?"06ff00":"ff6060";this.conditionRich.string="<outline color=black width=3><b><color=#ffffff>以上异兽均达到LV."+c.needLevel+"可升级</color><color=#"+l+">（"+c.activeNum+"/"+c.needNum+"）</color></b></outline>",this.btnUpgrade.getComponent(g).grayscale=!c.canUpgrade,this.btnUpgrade.interactable=c.canUpgrade}}else{var u=e[n+1];this.btnUpgrade.node.getChildByName("Label").getComponent(f).string="激活",this.lblAttr.string=y.yishou.getResonateAttrStr(u),this.lblAttr.color=new p("#ffe8bc");var h=y.yishou.checkResonateCanUpgrade(e[n+1]);this.nameRich.string="<outline color=black width=3><b><color=#ffffff>"+u.name+"</color> <color=#ffdb00>（"+h.activeNum+"/"+h.needNum+"）</color></b></outline>",this.conditionRich.string="<outline color=black width=3><b><color=#ff9600>集齐以上异兽后可激活共鸣</color></b></outline>",this.btnUpgrade.getComponent(g).grayscale=!h.canUpgrade,this.btnUpgrade.interactable=h.canUpgrade}},s.update=function(e){},s.onInfoClick=function(){b.gui.open(m.YIshouResonateInfo,this._groupInfo)},s.onUpgradeClick=function(){var e=r(a().mark((function e(){var t,n,o,i,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R.RaremonsterSuit,n={group:this._groupInfo[1].group},e.next=4,I.reqAsync(t,n);case 4:if(null!=(o=e.sent)&&o.ok){e.next=7;break}return e.abrupt("return");case 7:for(r in y.yishou.YishouInfo=o.raremst,this.refresh(this._groupInfo),b.message.dispatchEvent(U.YishouResonateUpgrade),i=Object.values(o.hero))Object.prototype.hasOwnProperty.call(i,r)&&(s=i[r],y.accountData.setRoleInfo(s));b.message.dispatchEvent(U.EquipPosUpdated);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(d)).prototype,"editItems",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(E.prototype,"nameRich",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(E.prototype,"lblAttr",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(E.prototype,"conditionRich",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(E.prototype,"btnUpgrade",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=E))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/YishouSkillInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./YishouSkillItem.ts","./SingletonModuleComp.ts"],(function(t){"use strict";var e,o,n,i,r,l,s,a,u,c,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,a=t.instantiate,u=t.Component},function(t){c=t.oops},function(t){p=t.YishouSkillItem},function(t){h=t.smc}],execute:function(){var d,f,m,v,y,k,I;r._RF.push({},"1d10d0O2vdLIZD8oUwH2jd7","YishouSkillInfo",void 0);var g=l.ccclass,C=l.property;t("YishouSkillInfo",(d=g("YishouSkillInfo"),f=C(s),m=C(s),d((k=e((y=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"nodeContent",k,i(e)),n(e,"skillItem",I,i(e)),e.params=void 0,e}o(e,t);var r=e.prototype;return r.onAdded=function(t){this.params=t},r.start=function(){var t=h.yishou.YishouSkillTableByGroup(this.params-1);this.nodeContent.removeAllChildren();for(var e=0;e<t.length;e++){var o=a(this.skillItem);o.parent=this.nodeContent,o.getComponent(p).refresh(t[e])}},r.update=function(t){},r.onXClick=function(){c.gui.removeByNode(this.node,!0)},e}(u)).prototype,"nodeContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(y.prototype,"skillItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouSkillItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableGameSkill.ts","./TableUtil.ts"],(function(i){"use strict";var l,e,t,n,r,s,o,a,c,u;return{setters:[function(i){l=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,o=i.Label,a=i.Component},function(i){c=i.TableGameSkill},function(i){u=i.TableUtil}],execute:function(){var p,k,f,b,h,m,d,v,y;r._RF.push({},"97029web79HyI9G8wN+1i4+","YishouSkillItem",void 0);var g=s.ccclass,I=s.property;i("YishouSkillItem",(p=g("YishouSkillItem"),k=I(o),f=I(o),b=I(o),p((d=l((m=function(i){function l(){for(var l,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return l=i.call.apply(i,[this].concat(r))||this,t(l,"skillName",d,n(l)),t(l,"skillCondition",v,n(l)),t(l,"skillDesc",y,n(l)),l.skillId=void 0,l}e(l,i);var r=l.prototype;return r.start=function(){},r.refresh=function(i){this.skillId=i.skill;var l=u.get(c,i.skill);this.skillName.string=l.name+l.level+"级",this.skillCondition.string=1==i.lv?"获得异兽时解锁":"异兽达到"+i.lv+"级时解锁",this.skillDesc.string=l.dec},r.update=function(i){},l}(a)).prototype,"skillName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=l(m.prototype,"skillCondition",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=l(m.prototype,"skillDesc",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/YishouSwitch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./SingletonModuleComp.ts","./YishouSwitchItem.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,i,o,s,r,h,c,u,a,l,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,h=e.Node,c=e.instantiate,u=e.Component},function(e){a=e.oops},function(e){l=e.smc},function(e){f=e.YishouSwitchItem},function(e){p=e.GameEvent}],execute:function(){var d,m,g,y,v,C,w;s._RF.push({},"0514eONOOlOaLC1lf/YU6QN","YishouSwitch",void 0);var Y=r.ccclass,I=r.property;e("YishouSwitch",(d=Y("YishouSwitch"),m=I(h),g=I(h),d((C=t((v=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"switchItem",C,o(t)),i(t,"nodeContent",w,o(t)),t}n(t,e);var s=t.prototype;return s.start=function(){a.message.on(p.YishouDeployChange,this._eventHandler,this),this.nodeContent.removeAllChildren();for(var e=0;e<l.yishou.YishouInfo.fight.length;e++){c(this.switchItem).parent=this.nodeContent}this.refreshList()},s.onDestroy=function(){a.message.off(p.YishouDeployChange,this._eventHandler,this)},s.refreshList=function(){this.nodeContent.getComponentsInChildren(f).forEach((function(e,t){e.refresh(t)}))},s.onXClick=function(){a.gui.removeByNode(this.node,!0)},s._eventHandler=function(e,t){e==p.YishouDeployChange&&this.refreshList()},t}(u)).prototype,"switchItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"nodeContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/YishouSwitchItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonModuleComp.ts","./YishouEditItem.ts","./NetProtocol.ts","./Oops.ts","./GameEvent.ts","./HttpChannelManager.ts","./GameUIConfig.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,u,l,c,h,p,f,d,b,m,y,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,l=t.Label,c=t.Node,h=t.Button,p=t.Component},function(t){f=t.smc},function(t){d=t.YishouEditItem},function(t){b=t.MsgID},function(t){m=t.oops},function(t){y=t.GameEvent},function(t){g=t.httpChannel},function(t){v=t.UIID}],execute:function(){var I,x,w,D,S,Y,C,k,z,E,M;a._RF.push({},"98449SX93pP+r5ykkz2qQNp","YishouSwitchItem",void 0);var G=u.ccclass,L=u.property;t("YishouSwitchItem",(I=G("YishouSwitchItem"),x=L(l),w=L([c]),D=L(h),S=L(l),I((k=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"lblIndex",k,o(e)),i(e,"editItems",z,o(e)),i(e,"btnDeploy",E,o(e)),i(e,"lblState",M,o(e)),e.index=void 0,e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.lblIndex.string="",this.btnDeploy.node.active=!1,this.lblState.node.active=!1},a.start=function(){},a.refresh=function(t){var e=this;this.index=t,this.lblIndex.string=t+1+"";for(var n=f.yishou.YishouInfo,i=n.fight[t],o=0;o<i.length;o++){this.editItems[o].getComponent(d).refresh(i[o],(function(){m.gui.open(v.YishouEdit,e.index)}))}this.btnDeploy.node.active=t!=n.use,this.lblState.node.active=t==n.use},a.onDeployClick=function(){var t=r(s().mark((function t(){var e,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=b.RareMonsterChange,n={team:this.index},t.next=4,g.reqAsync(e,n);case 4:if(null!=(i=t.sent)&&i.ok){t.next=7;break}return t.abrupt("return");case 7:f.yishou.YishouInfo.use=this.index,m.message.dispatchEvent(y.YishouDeployChange);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(p)).prototype,"lblIndex",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(C.prototype,"editItems",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(C.prototype,"btnDeploy",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(C.prototype,"lblState",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=C))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Yongbing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts","./GameEnum.ts","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./TableRoleUpgrade.ts"],(function(t){"use strict";var e,n,a,o,i,r,s,u,c,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){o=t.JsonUtil},function(t){i=t.ETaskState},function(t){r=t.GameEvent},function(t){s=t.smc},function(t){u=t.GameSys},function(t){c=t.GameSysKey},function(t){f=t.TableRoleUpgrade}],execute:function(){var g,d,l;t({AttrType:void 0,BtnOpState:void 0,EYB_TaskState:void 0}),a._RF.push({},"b402efMI/tMH4d/49LAmEI1","Yongbing",void 0),function(t){t[t.HP=0]="HP",t[t.ATK=1]="ATK",t[t.DEF=2]="DEF",t[t.ATKSPEED=3]="ATKSPEED"}(g||(g=t("AttrType",{}))),function(t){t[t.NOT_RECEIVE=0]="NOT_RECEIVE",t[t.RECEIVED=1]="RECEIVED"}(d||(d=t("EYB_TaskState",{}))),function(t){t[t.Goto=0]="Goto",t[t.Recv=1]="Recv",t[t.Finished=2]="Finished"}(l||(l=t("BtnOpState",{})));var v=t("Yongbing",function(t){function a(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).redotWatchGameEvents=[r.TaskUpgradeUpdated],e}e(a,t);var u=a.prototype;return u.getYBInfoByLevel=function(t){void 0===t&&(t=s.yongbing.level);var e=o.get(f.TableName);return e[t]?e[t]:e[this.MaxLevel]},u.getTaskById=function(t){var e=this.getUpgradeInfo();for(var n in e)if(e[n].id==t)return e[n]},u.getUpgradeInfo=function(){return s.accountData.subinfo.taskUpgrade},u.setUpgradeInfo=function(t){s.accountData.subinfo.taskUpgrade=t},u.RewardRed=function(){var t=this.getYBInfoByLevel().task;for(var e in t){var n=this.getTaskById(t[e]);if(!n)return!1;if(n.state==i.NOT_RECEIVE&&s.task.isFinished(n))return!0}return!1},u.TaskRed=function(){var t=this.getYBInfoByLevel().task,e=0;for(var n in t){l.Goto;var a=this.getTaskById(t[n]);if(!a)return!1;a.state==i.RECEIVED&&(l.Finished,e++)}return 3==e},u.calRedot=function(){return this.RewardRed()||this.TaskRed()},n(a,[{key:"level",get:function(){return s.accountData.subinfo.upgrade||1},set:function(t){s.accountData.subinfo.upgrade=t}},{key:"MaxLevel",get:function(){return o.get(f.TableName).length}}]),a}(u));t("yongbing",new v(c.upgrade));a._RF.pop()}}}));

System.register("chunks:///_virtual/YongbingAttr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Yongbing.ts"],(function(e){"use strict";var t,l,i,r,a,n,u,o,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,u=e.Label,o=e.Component},function(e){s=e.AttrType}],execute:function(){var b,c,p,g,h,f,d,y,m,N,k;a._RF.push({},"6dd64D7qWVJlqkgHmryccxI","YongbingAttr",void 0);var x=n.ccclass,A=n.property;e("YongbingAttr",(b=x("YongbingAttr"),c=A(u),p=A(u),g=A(u),h=A(u),b((y=t((d=function(e){function t(){for(var t,l=arguments.length,a=new Array(l),n=0;n<l;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lblCurName",y,r(t)),i(t,"lblCurValue",m,r(t)),i(t,"lblNextName",N,r(t)),i(t,"lblNextValue",k,r(t)),t}l(t,e);var a=t.prototype;return a.initView=function(e,t,l){switch(l){case s.HP:this.updateLabel("生 命：",e.hp,"生 命：",t.hp);break;case s.ATK:this.updateLabel("攻 击：",e.atk,"攻 击：",t.atk);break;case s.DEF:this.updateLabel("防 御：",e.def,"防 御：",t.def);break;case s.ATKSPEED:this.updateLabel("敏 捷：",e.atkspeed,"敏 捷：",t.atkspeed)}},a.updateLabel=function(e,t,l,i){this.lblCurName.string=e,this.lblCurValue.string=t,this.lblNextName.string=l,this.lblNextValue.string=i},t}(o)).prototype,"lblCurName",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(d.prototype,"lblCurValue",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(d.prototype,"lblNextName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(d.prototype,"lblNextValue",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=d))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/YongbingMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./Level.ts","./YongbingAttr.ts","./YongbingTask.ts","./YongbingTitleItem.ts"],(function(e){"use strict";var n,t,i,r,o,a,l,s,u,g,c,p,f,d,b,v,h,m,y,k,w,L,C,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,g=e.Label,c=e.Component},function(e){p=e.oops},function(e){f=e.EFightResults},function(e){d=e.GameEvent},function(e){b=e.UIID,v=e.DialogAnimation},function(e){h=e.tips},function(e){m=e.httpChannel},function(e){y=e.MsgID},function(e){k=e.smc},function(e){w=e.LevelYongbingUpgrade},function(e){L=e.YongbingAttr},function(e){C=e.YongbingTask},function(e){T=e.YongbingTitleItem}],execute:function(){var Y,x,I,U,B,_,A,N,M,R,z,D,H,E,G,O,F;l._RF.push({},"78dd1i8XFJHRam4/pToTTWo","YongbingMain",void 0);var P=s.ccclass,V=s.property;e("YongbingMain",(Y=P("YongbingMain"),x=V(u),I=V(u),U=V(g),B=V(g),_=V(u),A=V(u),N=V(u),Y((z=n((R=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"nodeCurLevel",z,r(n)),i(n,"nodeNextLevel",D,r(n)),i(n,"lblCurLevel",H,r(n)),i(n,"lblNextLevel",E,r(n)),i(n,"nodeAttr",G,r(n)),i(n,"nodeTask",O,r(n)),i(n,"sp_red",F,r(n)),n}t(n,e);var l=n.prototype;return l.start=function(){this.fresh(),p.message.on(d.TaskUpgradeUpdated,this._eventHandler,this),p.message.on(d.YongbingOp,this._eventHandler,this)},l.onDestroy=function(){p.message.off(d.TaskUpgradeUpdated,this._eventHandler,this),p.message.off(d.YongbingOp,this._eventHandler,this)},l.fresh=function(){this.nodeCurLevel.getComponent(T).initView(k.yongbing.level),this.nodeNextLevel.getComponent(T).initView(k.yongbing.level+1);var e=k.yongbing.getYBInfoByLevel();this.lblCurLevel.string=e.maxLevel+"级";var n=k.yongbing.getYBInfoByLevel(k.yongbing.level+1);this.lblNextLevel.string=n.maxLevel+"级",this.nodeAttr.forEach((function(t,i){t.getComponent(L).initView(e,n,i)})),this.nodeTask.forEach((function(n,t){n.getComponent(C).initView(t,e.task[t])})),this.sp_red.active=k.yongbing.TaskRed()},l._eventHandler=function(e,n){var t=this;e==d.TaskUpgradeUpdated?this.scheduleOnce((function(){return t.fresh()})):e==d.YongbingOp&&this.onClickReward(null,n)},l.onClickReward=function(){var e=o(a().mark((function e(n,t){var i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=k.yongbing.getYBInfoByLevel(),r={id:Number(i.task[t])},e.next=4,m.reqAsync(y.TaskGradeAward,r);case 4:if(null!=(o=e.sent)&&o.ok){e.next=7;break}return e.abrupt("return");case 7:k.yongbing.setUpgradeInfo(o.newTask.newTaskUpgrade),k.account.doResChange(o),h.reward(o),this.fresh();case 11:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),l.onClickBattle=function(){var e=o(a().mark((function e(){var n,t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.yongbing.getYBInfoByLevel(),t=new w(n.glid),e.next=4,k.battle.createAndPlay(t);case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return k.account.doResChange(k.battle.fightInfo),i=k.battle.fightInfo,e.next=10,p.gui.openModal(b.ADSettlement,{damage:i.msg},v);case 10:k.battle.clear(),p.gui.remove(b.Battle,!0),f.WIN==i.results&&(k.yongbing.level=i.grade,p.message.dispatchEvent(d.TaskUpgradeUpdated));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.onClickClose=function(){p.gui.removeByNode(this.node,!0)},n}(c)).prototype,"nodeCurLevel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(R.prototype,"nodeNextLevel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(R.prototype,"lblCurLevel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(R.prototype,"lblNextLevel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(R.prototype,"nodeAttr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(R.prototype,"nodeTask",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(R.prototype,"sp_red",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=R))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/YongbingTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./ItemsGroup.ts","./SingletonModuleComp.ts","./TableTask.ts","./TableTaskTarget.ts","./TableTaskTargetType.ts","./Yongbing.ts"],(function(t){"use strict";var e,i,n,s,a,r,o,l,c,u,p,g,f,h,b,d,T,m,y,w,k,v,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.Label,l=t.ProgressBar,c=t.Node,u=t.Sprite,p=t.SpriteFrame,g=t.Component},function(t){f=t.oops},function(t){h=t.ViewUtil},function(t){b=t.ETaskState},function(t){d=t.GameEvent},function(t){T=t.UIID},function(t){m=t.ItemsGroup},function(t){y=t.smc},function(t){w=t.TableTask},function(t){k=t.TableTaskTarget},function(t){v=t.TableTaskTargetType},function(t){G=t.BtnOpState}],execute:function(){var z,R,Y,C,S,E,I,B,D,F,P,_,x,H,L,U,V,M,N,O,j,A,K;a._RF.push({},"e4f88zoSflCRbY69p8L2hNW","YongbingTask",void 0);var W=r.ccclass,q=r.property;t("YongbingTask",(z=W("YongbingTask"),R=q(o),Y=q(o),C=q(l),S=q(o),E=q(m),I=q(c),B=q(u),D=q(c),F=q(p),P=q(p),z((H=e((x=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"lblStatus",H,s(e)),n(e,"lblDesc",L,s(e)),n(e,"progBar",U,s(e)),n(e,"lblProg",V,s(e)),n(e,"nodeReward",M,s(e)),n(e,"spRed",N,s(e)),n(e,"spHead",O,s(e)),n(e,"nodeCheck",j,s(e)),n(e,"spfYellow",A,s(e)),n(e,"spfGreen",K,s(e)),e.cfg=new w,e.cfgT=new k,e.cfgTT=null,e.idx=null,e.id=null,e.info=null,e.state=G.Goto,e}i(e,t);var a=e.prototype;return a.initView=function(t,e){this.idx=t,this.id=e,this.cfg.init(e),this.cfgT.init(this.cfg.target[0]),this.cfgTT=v[this.cfgT.type],this.lblDesc.string=this.cfgT.name,this.nodeReward.init(this.cfg.drop),this.fresh()},a.fresh=function(){if(this.info=y.yongbing.getTaskById(this.id),this.info){var t=y.task.calProgress(this.info,this.cfgT),e=t[0],i=t[1];this.info.state==b.RECEIVED?this.state=G.Finished:this.state=e>=i?G.Recv:G.Goto,this.lblStatus.string=this.state==G.Finished?"已领取":this.state==G.Goto?"进行中":"已完成",this.progBar.progress=Math.min(1,e/i),this.lblProg.string=e+"/"+i,this.spRed.active=G.Recv==this.state,this.spHead.spriteFrame=this.state==G.Goto?this.spfYellow:this.spfGreen,this.nodeCheck.active=this.state==G.Finished,h.setGray(this.node,this.state==G.Finished),h.setGray(this.nodeCheck,!1)}},a.onClickGo=function(){this.state==G.Goto?(f.gui.remove(T.YongBing,!0),f.message.dispatchEvent(d.Goto,{sysId:Number(this.cfgTT.game_sys),target:this.cfgTT.strKey})):this.state==G.Recv&&f.message.dispatchEvent(d.YongbingOp,this.idx)},e}(g)).prototype,"lblStatus",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(x.prototype,"lblDesc",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(x.prototype,"progBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(x.prototype,"lblProg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(x.prototype,"nodeReward",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(x.prototype,"spRed",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(x.prototype,"spHead",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(x.prototype,"nodeCheck",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(x.prototype,"spfYellow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(x.prototype,"spfGreen",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=x))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/YongbingTitleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GameResPath.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var i,t,n,l,r,o,a,s,c,u,g,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Sprite,s=e.Label,c=e.Component},function(e){u=e.ViewUtil},function(e){g=e.GameResPath},function(e){p=e.smc}],execute:function(){var b,v,f,m,y,h,w,d,L;r._RF.push({},"06c6fqwGntFwZfzXrosOuPC","YongbingTitleItem",void 0);var z=o.ccclass,B=o.property;e("YongbingTitleItem",(b=z("YongbingTitleItem"),v=B(a),f=B(s),m=B(s),b((w=i((h=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"spBG",w,l(i)),n(i,"lblLevel",d,l(i)),n(i,"lblName",L,l(i)),i.level=void 0,i}t(i,e);var r=i.prototype;return r.start=function(){this.initView(this.level)},r.initView=function(e){void 0===e&&(e=p.yongbing.level),e>p.yongbing.MaxLevel&&(e=p.yongbing.MaxLevel),this.level=e;var i=p.yongbing.getYBInfoByLevel(e),t=i.spRes;u.loadSpriteFrame(this.spBG,g.getSpriteFrameYongbing(t)),this.lblLevel.string=e+"",this.lblName.string=i.name},i}(c)).prototype,"spBG",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(h.prototype,"lblLevel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(h.prototype,"lblName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Yueka.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./SingletonModuleComp.ts","./System.ts","./TableGameSys.ts","./TableStatus.ts","./TableUtil.ts"],(function(e){"use strict";var a,t,u,n,r,o,c,i,f;return{setters:[function(e){a=e.inheritsLoose,t=e.createClass},function(e){u=e.cclegacy},function(e){n=e.GameEvent},function(e){r=e.smc},function(e){o=e.GameSys},function(e){c=e.GameSysKey},function(e){i=e.StatusKey},function(e){f=e.TableUtil}],execute:function(){var d,s;e("YuekaStoreID",void 0),u._RF.push({},"fa60b7baztFkqysO4H1vS47","Yueka",void 0),function(e){e[e.Yueka=0]="Yueka",e[e.zsLevel=1]="zsLevel",e[e.xtLevel=2]="xtLevel",e[e.lifeTime=3]="lifeTime"}(s||(s=e("YuekaStoreID",{})));e("YuekaShopID",((d={})[s.Yueka]={id:1},d[s.zsLevel]={id:2},d[s.xtLevel]={id:3},d[s.lifeTime]={id:48},d));var v=e("Yueka",function(e){function u(){for(var a,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return(a=e.call.apply(e,[this].concat(u))||this).redotWatchGameEvents=[n.YuekaUpdateRed,n.StoreBuyItem,n.HeroLevelUp],a}a(u,e);var o=u.prototype;return o.FundLevel=function(e,a){r.accountData.subinfo.rechargeShop={monsthCard_daily:r.accountData.subinfo.rechargeShop.monsthCard_daily||!1,fundLevel_Lv:e||0,fundLevel_HLv:a||0,fundEbox_Lv:r.accountData.subinfo.rechargeShop.fundEbox_Lv||0,fundEbox_HLv:r.accountData.subinfo.rechargeShop.fundEbox_HLv||0,foreverCard_daily:r.accountData.subinfo.rechargeShop.foreverCard_daily||!1}},o.setFoundEbox=function(e,a){r.accountData.subinfo.rechargeShop={monsthCard_daily:r.accountData.subinfo.rechargeShop.monsthCard_daily||!1,fundLevel_Lv:r.accountData.subinfo.rechargeShop.fundLevel_Lv||0,fundLevel_HLv:r.accountData.subinfo.rechargeShop.fundLevel_HLv||0,fundEbox_Lv:e||0,fundEbox_HLv:a||0,foreverCard_daily:r.accountData.subinfo.rechargeShop.foreverCard_daily||!1}},o.calRedot=function(){return this.yuekaWelfareRed||this.yuekaZSRed||this.yuekaXTRed||this.yuekaLifeTimeRed},t(u,[{key:"yuekaDaily",get:function(){return r.accountData.subinfo.rechargeShop.monsthCard_daily},set:function(e){r.accountData.subinfo.rechargeShop={monsthCard_daily:e||!1,fundLevel_Lv:r.accountData.subinfo.rechargeShop.fundLevel_Lv||0,fundLevel_HLv:r.accountData.subinfo.rechargeShop.fundLevel_HLv||0,fundEbox_Lv:r.accountData.subinfo.rechargeShop.fundEbox_Lv||0,fundEbox_HLv:r.accountData.subinfo.rechargeShop.fundEbox_HLv||0,foreverCard_daily:r.accountData.subinfo.rechargeShop.foreverCard_daily||!1}}},{key:"yukaLifeTime",get:function(){return r.accountData.subinfo.rechargeShop.foreverCard_daily},set:function(e){r.accountData.subinfo.rechargeShop.foreverCard_daily=e||!1}},{key:"yuekaWelfareRed",get:function(){return!(!r.store.checkStatus(i.month_card)||r.yueka.yuekaDaily)}},{key:"yuekaLifeTimeRed",get:function(){return!(!r.store.checkStatus(i.forever_card)||r.yueka.yukaLifeTime)}},{key:"yuekaZSRed",get:function(){var e=f.getFoundLevelAward(),a=r.store.checkStatus(i.fund_level),t=r.accountData.getRechargeShop(),u=r.accountData.heroLevel;for(var n in e)if(a){var o=t.fundLevel_HLv||0;if(u>=Number(n)&&o<Number(n))return!0}else{var d=t.fundLevel_Lv||0;if(u>=Number(n)&&d<Number(n))return!0}return r.system.get(c.recharge_level_fund_daily).calRedot()}},{key:"yuekaXTRed",get:function(){var e=f.getFoundEboxAward(),a=r.store.checkStatus(i.fund_ebox),t=r.accountData.getRechargeShop(),u=r.ebox.info.lv;for(var n in e)if(a){var o=t.fundEbox_HLv||0;if(u>=Number(n)&&o<Number(n))return!0}else{var d=t.fundEbox_Lv||0;if(u>=Number(n)&&d<Number(n))return!0}return r.system.get(c.recharge_ebox_fund_daily).calRedot()}}]),u}(o));e("yueka",new v(c.yueka));u._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameResPath.ts","./UMASDK.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,u,c,l,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Sprite,u=t.Node,c=t.Component},function(t){l=t.oops},function(t){p=t.ViewUtil},function(t){f=t.GameResPath},function(t){d=t.UMASDK}],execute:function(){var h,m,g,D,I,y,v;r._RF.push({},"487ebwvgI9NBKxYABhCAlDM","YuekaItem",void 0);var b=o.ccclass,k=o.property;t("YuekaItem",(h=b("YuekaItem"),m=k(s),g=k(u),h((y=e((I=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"spBg",y,a(e)),n(e,"spRedDot",v,a(e)),e.data=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.initItemView=function(t,e){this.data=t,p.loadSpriteFrame(this.spBg,f.getSpriteFrameYueka(t.resName)),this.spRedDot.active=e},r.clickItem=function(){d.onOpenUI(this.data.uiID),l.gui.open(this.data.uiID)},e}(c)).prototype,"spBg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(I.prototype,"spRedDot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=I))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaLifeTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./ViewUtil.ts","./GameEvent.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TableGameSys.ts","./TablePrivilegeConfig.ts","./TablePrivilegeType.ts","./TableStatus.ts","./TableUtil.ts","./Yueka.ts","./YuekaLifeTimeItem.ts"],(function(e){"use strict";var t,i,n,r,a,o,s,u,l,c,p,f,d,g,b,h,m,y,v,k,T,w,C,I,B,D,L,R,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,l=e.Node,c=e.Label,p=e.Component},function(e){f=e.oops},function(e){d=e.JsonUtil},function(e){g=e.ViewUtil},function(e){b=e.GameEvent},function(e){h=e.ItemsGroup},function(e){m=e.tips},function(e){y=e.httpChannel},function(e){v=e.MsgID},function(e){k=e.smc},function(e){T=e.GameSysKey},function(e){w=e.TablePrivilegeConfig},function(e){C=e.PrivilegeTypeKey},function(e){I=e.StatusKey,B=e.TableStatus},function(e){D=e.TableUtil},function(e){L=e.YuekaShopID,R=e.YuekaStoreID},function(e){S=e.YuekaLifeTimeItem}],execute:function(){var Y,N,_,P,x,G,U,V,z,A,E;s._RF.push({},"3eb6a4A699Ohpn2i1sArp8/","YuekaLifeTime",void 0);var M=u.ccclass,F=u.property;e("YuekaLifeTime",(Y=M("YuekaLifeTime"),N=F(l),_=F(l),P=F(c),x=F(l),Y((V=t((U=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"NodeDespList",V,r(t)),n(t,"btnBuy",z,r(t)),n(t,"lblBuy",A,r(t)),n(t,"nodeReward",E,r(t)),t.shopID=L[R.lifeTime].id,t.statusId=I.forever_card,t}i(t,e);var s=t.prototype;return s.start=function(){var e=this;this.NodeDespList.removeAllChildren();var t=this.getCfgData();Object.entries(t).forEach((function(t){g.loadPrefabNode("gui/yueka/yueka_lifeTimeItem",(function(i){i.parent=e.NodeDespList,i.getComponent(S).initItemView(t)}))})),this.updateView()},s.updateView=function(){var e=this.getReward();if(console.log("updateView",e),this.nodeReward.addComponent(h).init(e),this.btnBuy.active=!1,k.store.checkStatus(this.statusId))k.yueka.yukaLifeTime?this.lblBuy.string="已领取":(this.btnBuy.active=!0,this.lblBuy.string="领 取");else{this.btnBuy.active=!0;var t=D.getGoodsByID(L[R.lifeTime].id);this.lblBuy.getComponent(c).string="￥"+t.price}},s.getReward=function(){var e=d.get(w.TableName),t=[];for(var i in e)e[i].type==C.add_item&&e[i].systemid==T.recharge_forever_card&&(t[t.length]={i:e[i].param,n:e[i].val});return t},s.getCfgData=function(){var e=B[I.forever_card].privilege,t=D.getPrivlegeTable(),i=[];for(var n in e)t[e[n]]&&(i[n]=t[e[n]]);return i},s.onClickBuy=function(){var e=a(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.store.checkStatus(this.statusId)){e.next=14;break}return e.next=3,y.reqAsync(v.ForeverCardAward,{});case 3:if(null!=(t=e.sent)&&t.ok){e.next=6;break}return e.abrupt("return");case 6:f.gui.toast(t.msg),k.account.doResChange(t),m.reward(t),k.yueka.yukaLifeTime=!0,this.updateView(),f.message.dispatchEvent(b.YuekaUpdateRed),e.next=22;break;case 14:return e.next=16,k.store.reqBuy(Number(this.shopID));case 16:if(e.sent){e.next=19;break}return e.abrupt("return");case 19:this.updateView(),f.message.dispatchEvent(b.YuekaUpdateRed);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickClose=function(){f.gui.removeByNode(this.node,!0)},t}(p)).prototype,"NodeDespList",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(U.prototype,"btnBuy",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(U.prototype,"lblBuy",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(U.prototype,"nodeReward",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=U))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaLifeTimeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,a,o,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Label,l=e.Component}],execute:function(){var u,s,p,f,m;a._RF.push({},"bc0e6JnQKxEqLj4SeRT5ZAJ","YuekaLifeTimeItem",void 0);var b=o.ccclass,y=o.property;e("YuekaLifeTimeItem",(u=b("YuekaLifeTimeItem"),s=y(c),u((m=t((f=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"lblDesp",m,n(t)),t}i(t,e);var a=t.prototype;return a.start=function(){},a.initItemView=function(e){var t=e[1].dec;this.lblDesp.string=Number(e[0])+1+"."+t},a.update=function(e){},t}(l)).prototype,"lblDesp",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./GameUIConfig.ts","./SingletonModuleComp.ts","./YuekaItem.ts"],(function(e){"use strict";var t,i,n,a,r,u,o,s,c,k,f,l,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,o=e.Node,s=e.Component},function(e){c=e.oops},function(e){k=e.ViewUtil},function(e){f=e.GameEvent},function(e){l=e.UIID},function(e){d=e.smc},function(e){m=e.YuekaItem}],execute:function(){var h,p,y,g,Y;r._RF.push({},"e5270aSnFdMUoIBty2Q9pNh","YuekaMain",void 0);var I=u.ccclass,v=u.property;e("YuekaMain",(h=I("YuekaMain"),p=v(o),h((Y=t((g=function(e){function t(){for(var t,i,r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];return i=e.call.apply(e,[this].concat(u))||this,n(i,"nodeListYueka",Y,a(i)),i.UIYueka=((t={})[0]={resName:"img_ykrk",uiID:l.YuekaWelfare},t[1]={resName:"img_jsczjjrk",uiID:l.YuekaZS},t[2]={resName:"img_zzczjjrk",uiID:l.YuekaXuanTie},t[3]={resName:"img_zskr",uiID:l.YuekaLifeTime},t),i}i(t,e);var r=t.prototype;return r.start=function(){var e=this,t=function(t){k.loadPrefabNode("gui/yueka/yueka_item",(function(i){i.parent=e.nodeListYueka,i.getComponent(m).initItemView(e.UIYueka[t],e.getRedDotData(e.nodeListYueka.children.length-1))}))};for(var i in this.UIYueka)t(i);c.message.on(f.YuekaUpdateRed,this._eventHandler,this),c.message.on(f.StoreBuyItem,this._eventHandler,this)},r.onDestroy=function(){c.message.off(f.YuekaUpdateRed,this._eventHandler,this),c.message.off(f.StoreBuyItem,this._eventHandler,this)},r.refresh=function(){for(var e in this.UIYueka){var t=this.nodeListYueka.children[e];if(t)t.getComponent(m).initItemView(this.UIYueka[e],this.getRedDotData(Number(e)))}},r.getRedDotData=function(e){switch(e){case 0:return d.yueka.yuekaWelfareRed;case 1:return d.yueka.yuekaZSRed;case 2:return d.yueka.yuekaXTRed;case 3:return d.yueka.yuekaLifeTimeRed}},r._eventHandler=function(e,t){e!=f.YuekaUpdateRed&&e!=f.StoreBuyItem||this.refresh()},r.onClickClose=function(){c.gui.removeByNode(this.node,!0)},t}(s)).prototype,"nodeListYueka",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaWelfare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./ViewUtil.ts","./GameEvent.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts","./TablePrivilegeConfig.ts","./TablePrivilegeType.ts","./TableStatus.ts","./TableUtil.ts","./Yueka.ts","./YuekaWelfareItem.ts","./TableGameSys.ts"],(function(e){"use strict";var t,n,a,i,r,o,s,u,l,c,p,f,d,h,y,g,b,m,v,k,w,C,D,B,I,T,Y,R,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,l=e.Node,c=e.Label,p=e.Component},function(e){f=e.oops},function(e){d=e.JsonUtil},function(e){h=e.ViewUtil},function(e){y=e.GameEvent},function(e){g=e.ItemsGroup},function(e){b=e.tips},function(e){m=e.httpChannel},function(e){v=e.MsgID},function(e){k=e.smc},function(e){w=e.TablePrivilegeConfig},function(e){C=e.PrivilegeTypeKey},function(e){D=e.StatusKey,B=e.TableStatus},function(e){I=e.TableUtil},function(e){T=e.YuekaShopID,Y=e.YuekaStoreID},function(e){R=e.YuekaWelfareItem},function(e){S=e.GameSysKey}],execute:function(){var N,_,x,P,G,U,V,z,L,M,W;s._RF.push({},"87fd4s+B1VC9ZqyHutlxzgi","YuekaWelfare",void 0);var E=u.ccclass,A=u.property;e("YuekaWelfare",(N=E("YuekaWelfare"),_=A(l),x=A(l),P=A(c),G=A(l),N((z=t((V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"NodeDespList",z,i(t)),a(t,"btnBuy",L,i(t)),a(t,"lblBuy",M,i(t)),a(t,"nodeReward",W,i(t)),t.shopID=1,t.statusId=D.month_card,t}n(t,e);var s=t.prototype;return s.start=function(){var e=this;this.NodeDespList.removeAllChildren();var t=this.getCfgData();Object.entries(t).forEach((function(t){h.loadPrefabNode("gui/yueka/yueka_welfareItem",(function(n){n.parent=e.NodeDespList,n.getComponent(R).initItemView(t)}))})),this.updateView()},s.updateView=function(){var e=this.getReward();if(this.nodeReward.addComponent(g).init(e),this.btnBuy.active=!1,k.store.checkStatus(this.statusId))k.yueka.yuekaDaily?this.lblBuy.string="已领取":(this.btnBuy.active=!0,this.lblBuy.string="领 取");else{this.btnBuy.active=!0;var t=I.getGoodsByID(T[Y.Yueka].id);this.lblBuy.getComponent(c).string="￥"+t.price}},s.getReward=function(){var e=d.get(w.TableName),t=[];for(var n in e)e[n].type==C.add_item&&e[n].systemid==S.recharge_month_card&&(t[t.length]={i:e[n].param,n:e[n].val});return t},s.getCfgData=function(){var e=B[D.month_card].privilege,t=I.getPrivlegeTable(),n=[];for(var a in e)t[e[a]]&&(n[a]=t[e[a]]);return n},s.onClickBuy=function(){var e=r(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.store.checkStatus(this.statusId)){e.next=14;break}return e.next=3,m.reqAsync(v.MonthCardAward,{});case 3:if(null!=(t=e.sent)&&t.ok){e.next=6;break}return e.abrupt("return");case 6:f.gui.toast(t.msg),k.account.doResChange(t),b.reward(t),k.yueka.yuekaDaily=!0,this.updateView(),f.message.dispatchEvent(y.YuekaUpdateRed),e.next=22;break;case 14:return e.next=16,k.store.reqBuy(Number(this.shopID));case 16:if(e.sent){e.next=19;break}return e.abrupt("return");case 19:this.updateView(),f.message.dispatchEvent(y.YuekaUpdateRed);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickClose=function(){f.gui.removeByNode(this.node,!0)},t}(p)).prototype,"NodeDespList",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(V.prototype,"btnBuy",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(V.prototype,"lblBuy",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(V.prototype,"nodeReward",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=V))||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaWelfareItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,a,l,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,c=e.Component}],execute:function(){var u,s,p,f,b;a._RF.push({},"fc67ewDG3hGaYYlRGkTLQjb","YuekaWelfareItem",void 0);var h=l.ccclass,m=l.property;e("YuekaWelfareItem",(u=h("YuekaWelfareItem"),s=m(o),u((b=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lblDesp",b,n(t)),t}r(t,e);var a=t.prototype;return a.start=function(){},a.initItemView=function(e){var t=e[1].dec;this.lblDesp.string=Number(e[0])+1+"."+t},a.update=function(e){},t}(c)).prototype,"lblDesp",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaXTLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./DailyWelfare.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableStatus.ts","./TableUtil.ts","./Yueka.ts","./YuekaXTLevelItem.ts"],(function(e){"use strict";var t,n,i,a,r,o,u,l,s,c,f,p,d,b,h,y,v,g,m,k,w,D,L,Y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,s=e.Node,c=e.Label,f=e.Component},function(e){p=e.oops},function(e){d=e.ViewUtil},function(e){b=e.GameEvent},function(e){h=e.DailyWelfareService,y=e.DailyWelfare},function(e){v=e.smc},function(e){g=e.TableGameConfig},function(e){m=e.GameSysKey},function(e){k=e.StatusKey},function(e){w=e.TableUtil},function(e){D=e.YuekaShopID,L=e.YuekaStoreID},function(e){Y=e.YuekaXTLevelItem}],execute:function(){var T,_,B,I,C,S,x,X,G,R,z,V,W;u._RF.push({},"9bcd9Zdf1xOWrjJtCH6UJ5H","YuekaXTLevel",void 0);var H=l.ccclass,U=l.property,E=new h(m.recharge_ebox_fund_daily,29);e("YuekaXTLevel",(T=H("YuekaXTLevel"),_=U(s),B=U(c),I=U(s),C=U(s),S=U(y),T((G=t((X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nodeListYueka",G,a(t)),i(t,"lblRewardDesp",R,a(t)),i(t,"btnBuy",z,a(t)),i(t,"lblBuy",V,a(t)),i(t,"dailyWelfare",W,a(t)),t.shopID=3,t.statusId=k.fund_ebox,t.Data=void 0,t}n(t,e);var u=t.prototype;return u.start=function(){this.dailyWelfare.init(E),p.message.on(b.YuekaXTLv,this._eventHandler,this),this.updateView()},u.onDestroy=function(){p.message.off(b.YuekaXTLv,this._eventHandler,this)},u.updateView=function(){var e=this;this.lblRewardDesp.string="解锁后可获得"+g.yueka_fundEbox_reward+"陨铁",this.Data=w.getFoundEboxAward();var t=v.store.checkStatus(this.statusId);this.nodeListYueka.removeAllChildren();var n=v.accountData.getRechargeShop(),i=function(i){d.loadPrefabNode("gui/yueka/yueka_xtlevelItem",(function(a){a.parent=e.nodeListYueka,a.getComponent(Y).initItemView(e.Data[i],i,t,n,e.nodeListYueka.children.length)}))};for(var a in this.Data)i(a);if(v.store.checkStatus(this.statusId))this.btnBuy.active=!1,this.lblBuy.getComponent(c).string="已购买";else{this.btnBuy.active=!0;var r=w.getGoodsByID(D[L.xtLevel].id);this.lblBuy.getComponent(c).string="￥"+r.price}},u.onClickBuy=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.store.reqBuy(Number(this.shopID));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:this.updateView(),p.message.dispatchEvent(b.YuekaUpdateRed);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u._eventHandler=function(e,t){e==b.YuekaXTLv&&this.updateView()},u.onClickClose=function(){p.gui.removeByNode(this.node,!0)},t}(f)).prototype,"nodeListYueka",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(X.prototype,"lblRewardDesp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(X.prototype,"btnBuy",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(X.prototype,"lblBuy",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(X.prototype,"dailyWelfare",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=X))||x));u._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaXTLevelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,n,r,o,l,a,s,u,c,b,p,v,m,g,d,f,h,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Node,c=e.Label,b=e.color,p=e.Component},function(e){v=e.oops},function(e){m=e.GameEvent},function(e){g=e.ItemsGroup},function(e){d=e.tips},function(e){f=e.httpChannel},function(e){h=e.MsgID},function(e){L=e.smc}],execute:function(){var y,G,k,x,I,N,w,C,E,_,z,M,S,T,P,Y,H,R,X,A,D;a._RF.push({},"e9e4by3bMRJybPQmJiefxkY","YuekaXTLevelItem",void 0);var F=s.ccclass,B=s.property;e("YuekaXTLevelItem",(y=F("YuekaXTLevelItem"),G=B(u),k=B(u),x=B(c),I=B(u),N=B(u),w=B(u),C=B(u),E=B(u),_=B(u),y((S=t((M=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"nodeNormalItem",S,r(t)),n(t,"normalSign",T,r(t)),n(t,"lblLevel",P,r(t)),n(t,"spLoad",Y,r(t)),n(t,"nodePrivilegeItem",H,r(t)),n(t,"privilegeSign",R,r(t)),n(t,"privilegeMask",X,r(t)),n(t,"btnGet",A,r(t)),n(t,"lblGet",D,r(t)),t.level=void 0,t.status=void 0,t}i(t,e);var a=t.prototype;return a.start=function(){},a.initItemView=function(e,t,i,n,r){this.level=t,this.status=i,this.initItem(e),this.lblLevel.getComponent(c).string="等级"+t,n&&(this.normalSign.active=n.fundEbox_Lv>=Number(t),this.privilegeSign.active=!1,this.privilegeMask.active=!1,this.spLoad.active=!1,n.fundEbox_Lv>=Number(t)&&1!=Number(r)&&(this.spLoad.active=!0),0==i?this.privilegeMask.active=!0:n.fundEbox_HLv>=Number(t)&&(this.privilegeSign.active=!0,this.privilegeMask.active=!0));var o=L.ebox.info.lv;this.btnGet.active=!1,this.lblGet.active=!1,Number(o)<Number(this.level)?(this.lblGet.active=!0,this.lblGet.getComponent(c).string="不可领",this.lblGet.getComponent(c).color=b(176,176,176)):n.fundEbox_HLv>=Number(t)&&n.fundEbox_Lv>=Number(t)?(this.lblGet.active=!0,this.lblGet.getComponent(c).string="已领取",this.lblGet.getComponent(c).color=b(255,108,99)):Number(o)>=Number(this.level)&&(this.btnGet.active=!0,n.fundEbox_HLv<n.fundEbox_Lv?this.btnGet.getChildByName("Label").getComponent(c).string="继续领取":this.btnGet.getChildByName("Label").getComponent(c).string="领取")},a.initItem=function(e){this.nodeNormalItem.addComponent(g).init(e.drop),this.nodePrivilegeItem.addComponent(g).init(e.drop2)},a.clickAward=function(){var e=o(l().mark((function e(){var t,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,f.reqAsync(h.FundEboxGetAward,t);case 3:if(null!=(i=e.sent)&&i.ok){e.next=6;break}return e.abrupt("return");case 6:v.gui.toast(i.msg),L.account.doResChange(i),d.reward(i),L.yueka.setFoundEbox(i.fundEbox_Lv,i.fundEbox_HLv),v.message.dispatchEvent(m.YuekaXTLv),v.message.dispatchEvent(m.YuekaUpdateRed);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"nodeNormalItem",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(M.prototype,"normalSign",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(M.prototype,"lblLevel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(M.prototype,"spLoad",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(M.prototype,"nodePrivilegeItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(M.prototype,"privilegeSign",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(M.prototype,"privilegeMask",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(M.prototype,"btnGet",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(M.prototype,"lblGet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaZsLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameEvent.ts","./DailyWelfare.ts","./SingletonModuleComp.ts","./TableGameConfig.ts","./TableGameSys.ts","./TableStatus.ts","./TableUtil.ts","./Yueka.ts","./YuekaZsLevelItem.ts"],(function(e){"use strict";var t,n,i,a,r,l,s,o,u,c,f,p,d,v,y,h,b,g,m,k,L,w,D,Y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e._decorator,u=e.Node,c=e.Label,f=e.Component},function(e){p=e.oops},function(e){d=e.ViewUtil},function(e){v=e.GameEvent},function(e){y=e.DailyWelfareService,h=e.DailyWelfare},function(e){b=e.smc},function(e){g=e.TableGameConfig},function(e){m=e.GameSysKey},function(e){k=e.StatusKey},function(e){L=e.TableUtil},function(e){w=e.YuekaShopID,D=e.YuekaStoreID},function(e){Y=e.YuekaZsLevelItem}],execute:function(){var _,B,I,S,C,z,G,R,T,V,Z,W,E;s._RF.push({},"03808Ke4Z9Eb5GRSEMyPAyt","YuekaZsLevel",void 0);var U=o.ccclass,x=o.property,A=new y(m.recharge_level_fund_daily,28);e("YuekaZsLevel",(_=U("YuekaZsLevel"),B=x(u),I=x(c),S=x(u),C=x(u),z=x(h),_((T=t((R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nodeListYueka",T,a(t)),i(t,"lblRewardDesp",V,a(t)),i(t,"btnBuy",Z,a(t)),i(t,"lblBuy",W,a(t)),i(t,"dailyWelfare",E,a(t)),t.shopID=2,t.statusId=k.fund_level,t.Data=void 0,t}n(t,e);var s=t.prototype;return s.start=function(){this.dailyWelfare.init(A),p.message.on(v.YuekaLevelLv,this._eventHandler,this),this.updateView()},s.onDestroy=function(){p.message.off(v.YuekaLevelLv,this._eventHandler,this)},s.updateView=function(){var e=this;this.lblRewardDesp.string="解锁后可获得"+g.yueka_fundLevel_reward+"钻石",this.Data=L.getFoundLevelAward();var t=b.store.checkStatus(this.statusId);this.nodeListYueka.removeAllChildren();var n=b.accountData.getRechargeShop(),i=function(i){d.loadPrefabNode("gui/yueka/yueka_zslevelItem",(function(a){a.parent=e.nodeListYueka,a.getComponent(Y).initItemView(e.Data[i],i,t,n,e.nodeListYueka.children.length)}))};for(var a in this.Data)i(a);if(b.store.checkStatus(this.statusId))this.btnBuy.active=!1,this.lblBuy.getComponent(c).string="已购买";else{this.btnBuy.active=!0;var r=L.getGoodsByID(w[D.zsLevel].id);this.lblBuy.getComponent(c).string="￥"+r.price}},s.onClickBuy=function(){var e=r(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.store.reqBuy(Number(this.shopID));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:this.updateView(),p.message.dispatchEvent(v.YuekaUpdateRed);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._eventHandler=function(e,t){e==v.YuekaLevelLv&&this.updateView()},s.onClickClose=function(){p.gui.removeByNode(this.node,!0)},t}(f)).prototype,"nodeListYueka",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(R.prototype,"lblRewardDesp",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(R.prototype,"btnBuy",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(R.prototype,"lblBuy",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(R.prototype,"dailyWelfare",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=R))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/YuekaZsLevelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./ItemsGroup.ts","./TipsManager.ts","./HttpChannelManager.ts","./NetProtocol.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var t,i,n,l,r,a,o,s,u,v,c,p,m,b,g,d,h,L,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,u=e.Node,v=e.Label,c=e.color,p=e.Component},function(e){m=e.oops},function(e){b=e.GameEvent},function(e){g=e.ItemsGroup},function(e){d=e.tips},function(e){h=e.httpChannel},function(e){L=e.MsgID},function(e){f=e.smc}],execute:function(){var y,G,C,N,I,k,w,_,z,M,S,H,Y,P,B,D,R,x,A,E,F;o._RF.push({},"8f612Lz7WVCbYp1CQmIhmd0","YuekaZsLevelItem",void 0);var Z=s.ccclass,T=s.property;e("YuekaZsLevelItem",(y=Z("YuekaZsLevelItem"),G=T(u),C=T(u),N=T(v),I=T(u),k=T(u),w=T(u),_=T(u),z=T(u),M=T(u),y((Y=t((H=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"nodeNormalItem",Y,l(t)),n(t,"normalSign",P,l(t)),n(t,"lblLevel",B,l(t)),n(t,"spLoad",D,l(t)),n(t,"nodePrivilegeItem",R,l(t)),n(t,"privilegeSign",x,l(t)),n(t,"privilegeMask",A,l(t)),n(t,"btnGet",E,l(t)),n(t,"lblGet",F,l(t)),t.level=void 0,t.status=void 0,t}i(t,e);var o=t.prototype;return o.initItemView=function(e,t,i,n,l){this.level=t,this.status=i,this.initItem(e),this.lblLevel.getComponent(v).string="等级"+t,n&&(this.normalSign.active=n.fundLevel_Lv>=Number(t),this.privilegeSign.active=!1,this.privilegeMask.active=!1,this.spLoad.active=!1,n.fundLevel_Lv>=Number(t)&&1!=Number(l)&&(this.spLoad.active=!0),0==i?this.privilegeMask.active=!0:n.fundLevel_HLv>=Number(t)&&(this.privilegeSign.active=!0,this.privilegeMask.active=!0));var r=f.accountData.heroLevel;this.btnGet.active=!1,this.lblGet.active=!1,Number(r)<Number(this.level)?(this.lblGet.active=!0,this.lblGet.getComponent(v).string="不可领",this.lblGet.getComponent(v).color=c(176,176,176)):n.fundLevel_HLv>=Number(t)&&n.fundLevel_Lv>=Number(t)?(this.lblGet.active=!0,this.lblGet.getComponent(v).string="已领取",this.lblGet.getComponent(v).color=c(255,108,99)):Number(r)>=Number(this.level)?(this.btnGet.active=!0,this.btnGet.getChildByName("Label").getComponent(v).string="领取",0==i&&n.fundLevel_HLv<n.fundLevel_Lv&&n.fundLevel_Lv>=this.level?this.btnGet.getChildByName("Label").getComponent(v).string="继续领取":this.btnGet.getChildByName("Label").getComponent(v).string="领取"):n.fundLevel_HLv<n.fundLevel_Lv&&(this.btnGet.getChildByName("Label").getComponent(v).string="继续领取")},o.initItem=function(e){this.nodeNormalItem.addComponent(g).init(e.drop),this.nodePrivilegeItem.addComponent(g).init(e.drop2)},o.clickAward=function(){var e=r(a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,h.reqAsync(L.FundLevelGetAward,t);case 3:if(null!=(i=e.sent)&&i.ok){e.next=6;break}return e.abrupt("return");case 6:m.gui.toast(i.msg),f.account.doResChange(i),d.reward(i),f.yueka.FundLevel(i.fundLevel_Lv,i.fundLevel_HLv),m.message.dispatchEvent(b.YuekaLevelLv),m.message.dispatchEvent(b.YuekaUpdateRed);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"nodeNormalItem",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(H.prototype,"normalSign",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(H.prototype,"lblLevel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"spLoad",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(H.prototype,"nodePrivilegeItem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(H.prototype,"privilegeSign",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(H.prototype,"privilegeMask",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(H.prototype,"btnGet",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(H.prototype,"lblGet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=H))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZhanliWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./LabelChange.ts"],(function(e){"use strict";var t,i,n,l,a,r,o,s,p,c,u,h,b,f,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,o=e.Font,s=e.SpriteFrame,p=e.Label,c=e.Sprite,u=e.tween,h=e.Vec3,b=e.UIOpacity,f=e.Component},function(e){g=e.oops},function(e){d=e.LabelChange}],execute:function(){var m,y,w,C,L,W,v,z,Z,F,M,k,O,E,I,R,S;a._RF.push({},"56e4d/MAq5JXpl0sFFzMEWV","ZhanliWidget",void 0);var _=r.ccclass,A=r.property;e("ZhanliWidget",(m=_("ZhanliWidget"),y=A(o),w=A(o),C=A(s),L=A(s),W=A(d),v=A(p),z=A(c),m((M=t((F=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"fntWin",M,l(t)),n(t,"fntLose",k,l(t)),n(t,"spfWin",O,l(t)),n(t,"spfLose",E,l(t)),n(t,"lblZhanli",I,l(t)),n(t,"lblChange",R,l(t)),n(t,"spMark",S,l(t)),t.params=null,t}i(t,e);var a=t.prototype;return a.onAdded=function(e){this.params=e},a.onLoad=function(){this.node.setSiblingIndex(0)},a.start=function(){var e=this;this.lblZhanli.num=this.params.old;var t=this.params.new-this.params.old;t>0?(this.lblChange.font=this.fntWin,this.spMark.spriteFrame=this.spfWin,this.lblChange.string="+"+t):(this.lblChange.font=this.fntLose,this.spMark.spriteFrame=this.spfLose,this.lblChange.string=""+t),u(this.node).set({scale:h.ZERO}).to(.5,{scale:h.ONE},{easing:"backOut"}).call((function(){u(e.lblChange.node).by(.5,{position:new h(-150,0,0)}).start(),u(e.lblChange.getComponent(b)).to(.5,{opacity:0}).start()})).delay(.4).call((function(){e.lblZhanli.changeTo(1,e.params.new)})).delay(2).to(.2,{scale:h.ZERO},{easing:"cubicIn"}).call((function(){g.gui.removeByNode(e.node,!0)})).start()},t}(f)).prototype,"fntWin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(F.prototype,"fntLose",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(F.prototype,"spfWin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(F.prototype,"spfLose",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(F.prototype,"lblZhanli",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(F.prototype,"lblChange",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(F.prototype,"spMark",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=F))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZhiyinTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameResCache.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var i,t,n,a,l,r,o,u,c,s,p,_,b,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Node,u=e.isValid,c=e.Button,s=e.Component},function(e){p=e.oops},function(e){_=e.GameEvent},function(e){b=e.GameResCache},function(e){f=e.smc}],execute:function(){var h,g,m,y,d,v,w,z,x,C,G,Z,q,H,R,S,T,D,E,M,P,k,A,L,O,j,B,F,I,V,K,N,U,J,Q,W,X;l._RF.push({},"7fcd5EUDSRAh4z+b/1Roxb9","ZhiyinTarget",void 0);var Y=r.ccclass,$=r.property;e("ZhiyinTarget",(h=Y("ZhiyinTarget"),g=$(o),m=$(o),y=$(o),d=$(o),v=$(o),w=$(o),z=$(o),x=$(o),C=$(o),G=$(o),Z=$(o),q=$(o),H=$(o),R=$(o),S=$(o),T=$(o),D=$(o),h((P=i((M=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,n(i,"finish_game_leves",P,a(i)),n(i,"ebox_count",k,a(i)),n(i,"total_ebox_count",A,a(i)),n(i,"sbox_count",L,a(i)),n(i,"total_sbox_count",O,a(i)),n(i,"equip_posup",j,a(i)),n(i,"finish_elite_leves",B,a(i)),n(i,"time_award_count",F,a(i)),n(i,"time_award_qcount",I,a(i)),n(i,"hero_lvup_count",V,a(i)),n(i,"fight_game_leves",K,a(i)),n(i,"reached_ebox_lv",N,a(i)),n(i,"fight_arena",U,a(i)),n(i,"medal_uplevel",J,a(i)),n(i,"ps_act_count",Q,a(i)),n(i,"fight_elite_leves",W,a(i)),n(i,"sell_equip_num",X,a(i)),i.efxCache={},i}t(i,e);var l=i.prototype;return l.onAdded=function(e){"string"==typeof e&&this.checkZhiyin(e)},l.start=function(){p.message.on(_.GotoMain,this._eventHandler,this),p.message.on(_.GuideStart,this._eventHandler,this)},l.onDestroy=function(){p.message.off(_.GotoMain,this._eventHandler,this),p.message.off(_.GuideStart,this._eventHandler,this)},l._eventHandler=function(e,i){if(e==_.GotoMain){var t=i;this.checkZhiyin(t.target)}else e==_.GuideStart&&Object.values(this.efxCache).forEach((function(e){return u(e)&&(e.active=!1)}))},l.checkZhiyin=function(e){var i=this;p.log.logView("检查指引："+this.node.name+","+e),e&&this.scheduleOnce((function(){i[e]instanceof o&&i.addZhiyin(e,i[e])}),.2)},l.addZhiyin=function(e,i){var t=this;if(!f.guide.running&&i){var n=this.efxCache[e];n&&u(n)?n.active=!0:((n=b.instance.createZhiyin()).name="_zhiyin",n.parent=i.getParent(),n.setPosition(i.getPosition()),this.efxCache[e]=n,i.once(c.EventType.CLICK,(function(i){var n;null==(n=t.efxCache[e])||n.destroy(),delete t.efxCache[e]}),this))}},i}(s)).prototype,"finish_game_leves",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(M.prototype,"ebox_count",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(M.prototype,"total_ebox_count",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(M.prototype,"sbox_count",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(M.prototype,"total_sbox_count",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(M.prototype,"equip_posup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(M.prototype,"finish_elite_leves",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(M.prototype,"time_award_count",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(M.prototype,"time_award_qcount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(M.prototype,"hero_lvup_count",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(M.prototype,"fight_game_leves",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(M.prototype,"reached_ebox_lv",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(M.prototype,"fight_arena",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(M.prototype,"medal_uplevel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(M.prototype,"ps_act_count",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(M.prototype,"fight_elite_leves",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(M.prototype,"sell_equip_num",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZKChannelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./StorageKey.ts","./PlatformSDK.ts","./SingletonModuleComp.ts"],(function(e){"use strict";var r,t,n,i,o,u,s;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){i=e.oops},function(e){o=e.StorageKey},function(e){u=e.PlatformSDK},function(e){s=e.smc}],execute:function(){var c;e({EBServerStatus:void 0,EBServerWorkload:void 0,ZKMsgId:void 0}),n._RF.push({},"77ebaZymiRC36nlte8wEbQ1","ZKChannelManager",void 0),function(e){e.AuthSDK="channel/SDKLoginAuth",e.AuthServer="channel/ServerLoginAuth",e.GetOrder="channel/GetOrder",e.GetNotice="games-mgr/getNotice",e.GetUseCode="operations/usecode"}(c||(c=e("ZKMsgId",{})));var a,v,d="http://192.168.200.129:668/backend1/",l="http://hy.1dao99.com:900/docs/WY_CS_1/yonghuxieyi.html",h="http://hy.1dao99.com:900/docs/WY_CS_1/yinsixieyi.html",f="http://hy.1dao99.com:900/docs/HY_CS_1/16jia.html",p=e("zkChannel",new(function(){function e(){this.url=d,this.authInfo=void 0,this.curServerId=void 0,this.chatUri=null}var n=e.prototype;return n.setUrl=function(e){this.url=e},n.getUrl=function(e){return this.url+e},n.getServers=function(){var e;return(null==(e=this.authInfo)?void 0:e.server)||[]},n.getServer=function(e){var r,t;return null==(r=this.authInfo)||null==(t=r.server)?void 0:t.find((function(r){return r.serverId===e}))},n.getZones=function(){var e;return(null==(e=this.authInfo)?void 0:e.zones)||[]},n.getUserPolicyUrl=function(){var e;return(null==(e=this.authInfo)?void 0:e.user_policy_url)||l},n.getPrivacyPolicyUrl=function(){var e;return(null==(e=this.authInfo)?void 0:e.privacy_policy_url)||h},n.getCurServerId=function(){return this.curServerId||1},n.getCurServerName=function(){var e,r,t,n=this;return(null==(e=this.authInfo)||null==(r=e.server)||null==(t=r.find((function(e){return e.serverId===n.curServerId})))?void 0:t.name)||""},n.get16AgeUrl=function(){return f},n.setChatUri=function(e){this.chatUri=e},n.getChatUri=function(){return this.chatUri},n.reqAsyc=function(e,r){var t=this;return new Promise((function(n,o){i.log.logNet(e,"ZKREQ.ID"),i.log.logNet(r,"ZKREQ.DATA");i.http.post(t.getUrl(e),{"Content-Type":"application/json"},r,(function(e){i.log.logNet(e,"ZKRESP.DATA"),n(e)}),(function(e){console.error(e),n(null)}))}))},n.reqAuthSDK=function(){var e=r(t().mark((function e(r,n,i){var o,s,a,v,d,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={sku:u.cfg.app_sku,channelAppId:u.cfg.app_id,channelUserId:r,channelToken:n,deviceOs:null!=(o=u.cfg.device_os)?o:"",deviceVender:null!=(s=u.cfg.device_vender)?s:"",deviceId:null!=(a=u.cfg.device_id)?a:"",deviceType:null!=(v=u.cfg.device_type)?v:""},e.next=3,p.reqAsyc(c.AuthSDK,d);case 3:return null!=(l=e.sent)&&l.success&&(this.authInfo=l.data),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)})));return function(r,t,n){return e.apply(this,arguments)}}(),n.reqAuthServer=function(){var e=r(t().mark((function e(r){var n,o,s,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.getServer(r)){e.next=4;break}return i.gui.toast("服务器不存在"),e.abrupt("return");case 4:return this.setStoredServer(o),this.curServerId=r,s={sku:u.cfg.app_sku,serverLoginToken:this.authInfo.serverLoginToken,serverId:r,channelAppId:u.cfg.app_id},e.next=9,p.reqAsyc(c.AuthServer,s);case 9:return a=e.sent,this.setChatUri(null==a||null==(n=a.data)?void 0:n.chatIP),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),n.reqCreateOrder=function(){var e=r(t().mark((function e(r,n){var i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=null),i={sku:u.cfg.app_sku,serverId:this.curServerId,channelAppId:u.cfg.app_id,userId:u.loginData.uid,roleId:s.accdata.id,roleName:s.accdata.name,shopId:r.id,price:r.price},n&&(i.info=n),e.next=5,p.reqAsyc(c.GetOrder,i);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}(),n.reqGetNotice=function(){var e=r(t().mark((function e(){var r,n,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={sku:(null==(r=u.cfg)?void 0:r.app_sku)||"HY_CS_1",channelAppId:(null==(n=u.cfg)?void 0:n.app_id)||2},e.next=3,p.reqAsyc(c.GetNotice,i);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.reqUseGiftCode=function(){var e=r(t().mark((function e(r){var n,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={roleid:Number(s.accountData.id),sku:null==(n=u.cfg)?void 0:n.app_sku,code:r,serverid:this.getCurServerId()},e.next=3,p.reqAsyc(c.GetUseCode,i);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),n.getServerName=function(e){return e.name||this.authInfo.serverNF+e.serverId},n.getNewestServer=function(){return[].concat(this.getServers()).sort((function(e,r){return r.serverId-e.serverId})).find((function(e){return e.status===a.Open}))},n.getStoredServer=function(){return i.storage.getJson(o.Server,null,!0)},n.setStoredServer=function(e){e.name||(e.name=this.getServerName(e)),i.storage.set(o.Server,e,!0)},n.getPreferServerId=function(){var e;if(0==this.getServers().length)return 0;var r=this.getStoredServer();return r&&this.getServer(r.serverId)||(r=this.getMaxRoleLevelServer())?r.serverId:(null==(e=r=this.getNewestServer())?void 0:e.serverId)||0},n.getPlayedServers=function(){var e,r,t=this,n=Object.keys(null!=(e=null==(r=this.authInfo)?void 0:r.roles)?e:{}).map(Number);return n.some((function(e){return e==t.curServerId}))||n.push(this.curServerId),this.getServers().filter((function(e){return n.some((function(r){return r==e.serverId}))}))},n.getServerRoleInfo=function(e){var r;return e==this.curServerId?{lv:s.accdata.heroLevel,name:s.accdata.name}:null==(r=this.authInfo)?void 0:r.roles[e]},n.getMaxRoleLevelServer=function(){var e,r,t=Object.entries(null!=(e=null==(r=this.authInfo)?void 0:r.roles)?e:{}).reduce((function(e,r){return r[1].lv>e.lv&&(e.id=Number(r[0]),e.lv=r[1].lv),e}),{id:0,lv:0}).id;return t&&this.getServer(t)},e}()));e("ZoneEntity",(function(){this.id=void 0,this.name=void 0})),e("SDKLoginAuthEntity",(function(){this.serverLoginToken=void 0,this.serverNF=void 0,this.server=void 0,this.user_policy_url=void 0,this.privacy_policy_url=void 0,this.zones=void 0,this.roles=void 0})),e("ServerEntity",(function(){this.id=void 0,this.gameId=void 0,this.zoneId=void 0,this.serverId=void 0,this.name=void 0,this.channels=void 0,this.gameUrl=void 0,this.status=void 0,this.workload=void 0,this.isNew=void 0,this.openTime=void 0,this.mergeTime=void 0}));!function(e){e.Open="Open",e.WaitOpen="WaitOpen",e.Maintain="Maintain",e.Close="Close"}(a||(a=e("EBServerStatus",{}))),function(e){e.Smooth="Smooth",e.Busy="Busy",e.Packed="Packed"}(v||(v=e("EBServerWorkload",{})));e("ServerLoginAuthEntity",(function(){this.gameLoginToken=void 0,this.gameUrl=void 0,this.chatIP=void 0})),e("OrderEntity",(function(){this.orderId=void 0})),e("OrderInfoEntity",(function(){this.diyShopIndex=void 0})),e("FindRoles",(function(){this.name=void 0,this.lv=void 0}));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
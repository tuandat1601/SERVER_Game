import{useUser as O}from"./hook-bdb73ec7.js";import{R as Q,P as W}from"./refresh-5041d416.js";import{u as s}from"./hooks-20c90638.js";import{M as X}from"./more-filled-c44d3178.js";import{D as Y}from"./delete-6d738bc7.js";import{d as Z}from"./edit-pen-37b5ced2.js";import{d as ee}from"./search-cc37b371.js";import{d as oe}from"./add-circle-line-a03ff6bd.js";import{d as le,k as R,r,b as ne,o as c,c as u,g,e as o,j as l,f as e,F as V,y as w,i as $,h as i,w as te,B as ae,D as re,_ as ie}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-7eec6b2c.js";import"./index-8426971e.js";import"./hooks-142968e5.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const se={class:"main"},ce={class:"float-right w-[100%]"},me={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},de={class:"flex-auto"},pe={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},ue=le({name:"NoticeList",__name:"index",setup(fe){const h=R(),C=R(),{form:m,loading:k,columns:N,dataList:B,pagination:P,buttonClass:_e,selectedNum:b,gameDataList:z,channelDataList:I,onSearch:f,resetForm:L,onbatchDel:A,onChannelSearch:U,onAddGame:y,handleRole:ge,handleUpdate:F,handleDelete:M,handleSizeChange:T,onSelectionCancel:j,handleCurrentChange:E,handleSelectionChange:G}=O(C);return(he,t)=>{const v=r("el-option"),x=r("el-select"),_=r("el-form-item"),a=r("el-button"),q=r("el-form"),S=r("el-popconfirm"),H=r("el-dropdown"),J=r("pure-table"),K=ne("motion-fade");return c(),u("div",se,[g("div",ce,[o(q,{ref_key:"formRef",ref:h,inline:!0,model:e(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:l(()=>[o(_,{label:"选择游戏：",prop:"roles"},{default:l(()=>[o(x,{modelValue:e(m).sku,"onUpdate:modelValue":t[0]||(t[0]=n=>e(m).sku=n),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:l(()=>[(c(!0),u(V,null,w(e(z),(n,d)=>(c(),$(v,{key:d,label:n.name,value:n.sku,onClick:e(U)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(_,{label:"选择渠道：",prop:"roles"},{default:l(()=>[o(x,{modelValue:e(m).channelAppId,"onUpdate:modelValue":t[1]||(t[1]=n=>e(m).channelAppId=n),placeholder:"请选择渠道：",class:"w-full",clearable:""},{default:l(()=>[(c(!0),u(V,null,w(e(I),(n,d)=>(c(),$(v,{key:d,label:n.appName,value:n.channelAppId,onClick:e(f)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(_,null,{default:l(()=>[o(a,{type:"primary",icon:e(s)(e(ee)),loading:e(k),onClick:e(f)},{default:l(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(s)(e(Q)),onClick:t[2]||(t[2]=n=>e(L)(h.value))},{default:l(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(W),{title:"通告管理",columns:e(N),onRefresh:e(f)},{buttons:l(()=>[o(a,{type:"primary",icon:e(s)(e(oe)),onClick:t[3]||(t[3]=n=>e(y)("新增"))},{default:l(()=>[i(" 新增通告 ")]),_:1},8,["icon"])]),default:l(({size:n,dynamicColumns:d})=>[e(b)>0?te((c(),u("div",me,[g("div",de,[g("span",pe," 已选 "+ae(e(b))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e(j)},{default:l(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(S,{title:"是否确认删除?",onConfirm:e(A)},{reference:l(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:l(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[K]]):re("",!0),o(J,{"row-key":"id",ref_key:"tableRef",ref:C,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(k),size:n,data:e(B),columns:d,pagination:e(P),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(G),onPageSizeChange:e(T),onPageCurrentChange:e(E)},{operation:l(({row:p})=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(s)(e(Z)),onClick:D=>e(y)("编辑",p)},{default:l(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(S,{title:`是否确认删除通告名为【${p.name}】的这条数据`,onConfirm:D=>e(M)(p)},{reference:l(()=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(s)(e(Y))},{default:l(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(H,null,{default:l(()=>[o(a,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:n,icon:e(s)(e(X)),onClick:D=>e(F)(p)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Ie=ie(ue,[["__scopeId","data-v-7a12feea"]]);export{Ie as default};

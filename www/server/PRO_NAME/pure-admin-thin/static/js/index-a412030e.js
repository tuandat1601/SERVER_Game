import{useUser as J}from"./hook-85d58cbf.js";import{R as K,P as O}from"./refresh-5041d416.js";import{u as s}from"./hooks-20c90638.js";import{M as Q}from"./more-filled-c44d3178.js";import{D as W}from"./delete-6d738bc7.js";import{d as x}from"./edit-pen-37b5ced2.js";import{d as X}from"./search-cc37b371.js";import{d as Y}from"./add-circle-line-a03ff6bd.js";import{d as Z,k as w,r,b as ee,o as V,c as S,g as f,e as o,j as n,f as e,h as i,w as oe,B as ne,D as le,P as te,_ as ae}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-c078f65a.js";import"./index-8426971e.js";import"./rule-435d4b2a.js";import"./hooks-142968e5.js";import"./index_auto.vue_vue_type_script_setup_true_lang-8b099e02.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const re={class:"main"},ie={class:"float-right w-[100%]"},se={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},de={class:"flex-auto"},me={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},pe=Z({name:"User",__name:"index",setup(ce){const g=w(),C=w(),{form:d,loading:h,columns:R,dataList:$,pagination:D,buttonClass:U,selectedNum:y,onSearch:b,resetForm:P,onbatchDel:z,onAddGame:u,onAutoSvrGame:A,handleRole:ue,handleUpdate:_e,handleDelete:B,handleSizeChange:I,onSelectionCancel:N,handleCurrentChange:G,handleSelectionChange:M}=J(C);return(k,t)=>{const _=r("el-input"),p=r("el-form-item"),a=r("el-button"),T=r("el-form"),v=r("el-popconfirm"),j=r("el-dropdown-item"),E=r("el-dropdown-menu"),F=r("el-dropdown"),L=r("pure-table"),q=ee("motion-fade");return V(),S("div",re,[f("div",ie,[o(T,{ref_key:"formRef",ref:g,inline:!0,model:e(d),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:n(()=>[o(p,{label:"游戏id：",prop:"id"},{default:n(()=>[o(_,{modelValue:e(d).id,"onUpdate:modelValue":t[0]||(t[0]=l=>e(d).id=l),placeholder:"请输入游戏id",clearable:"",class:"!w-[160px]"},null,8,["modelValue"])]),_:1}),o(p,{label:"游戏名称：",prop:"name"},{default:n(()=>[o(_,{modelValue:e(d).name,"onUpdate:modelValue":t[1]||(t[1]=l=>e(d).name=l),placeholder:"请输入游戏名称",clearable:"",class:"!w-[160px]"},null,8,["modelValue"])]),_:1}),o(p,{label:"游戏渠道：",prop:"channelAppId"},{default:n(()=>[o(_,{modelValue:e(d).channelAppId,"onUpdate:modelValue":t[2]||(t[2]=l=>e(d).channelAppId=l),placeholder:"请输入游戏渠道：",clearable:"",class:"!w-[160px]"},null,8,["modelValue"])]),_:1}),o(p,null,{default:n(()=>[o(a,{type:"primary",icon:e(s)(e(X)),loading:e(h),onClick:e(b)},{default:n(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(s)(e(K)),onClick:t[3]||(t[3]=l=>e(P)(g.value))},{default:n(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(O),{title:"游戏管理",columns:e(R),onRefresh:e(b)},{buttons:n(()=>[o(a,{type:"primary",icon:e(s)(e(Y)),onClick:t[4]||(t[4]=l=>e(u)("新增"))},{default:n(()=>[i(" 新增游戏 ")]),_:1},8,["icon"])]),default:n(({size:l,dynamicColumns:H})=>[e(y)>0?oe((V(),S("div",se,[f("div",de,[f("span",me," 已选 "+ne(e(y))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e(N)},{default:n(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(v,{title:"是否确认删除?",onConfirm:e(z)},{reference:n(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:n(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[q]]):le("",!0),o(L,{"row-key":"id",ref_key:"tableRef",ref:C,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(h),size:l,data:e($),columns:H,pagination:e(D),paginationSmall:l==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(M),onPageSizeChange:e(I),onPageCurrentChange:e(G)},{operation:n(({row:m})=>[o(a,{class:"reset-margin",link:"",type:"primary",size:l,icon:e(s)(e(x)),onClick:c=>e(u)("编辑",m)},{default:n(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(a,{class:"reset-margin",link:"",type:"primary",size:l,icon:e(s)(e(x)),onClick:c=>e(A)("编辑",m)},{default:n(()=>[i(" 设置自动开服 ")]),_:2},1032,["size","icon","onClick"]),o(v,{title:`是否确认删除游戏名为【${m.name}】的这条数据`,onConfirm:c=>e(B)(m)},{reference:n(()=>[o(a,{class:"reset-margin",link:"",type:"primary",size:l,icon:e(s)(e(W))},{default:n(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(F,null,{dropdown:n(()=>[o(E,null,{default:n(()=>[o(j,null,{default:n(()=>[o(a,{class:te(e(U)),link:"",type:"primary",size:l,icon:e(s)(k.Upload),onClick:c=>k.handleUpload(m)},{default:n(()=>[i(" 新增游戏 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024)]),_:2},1024)]),default:n(()=>[o(a,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:l,icon:e(s)(e(Q)),onClick:t[5]||(t[5]=c=>e(u)("新增"))},null,8,["size","icon"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Ae=ae(pe,[["__scopeId","data-v-fe7abc60"]]);export{Ae as default};

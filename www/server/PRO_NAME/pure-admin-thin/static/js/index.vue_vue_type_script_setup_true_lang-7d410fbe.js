var q=Object.defineProperty;var B=(i,s,d)=>s in i?q(i,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[s]=d;var V=(i,s,d)=>(B(i,typeof s!="symbol"?s+"":s,d),d);import{R as n}from"./index-8426971e.js";import{Y as H,aZ as Z,d as Y,k as g,r as p,o as b,i as w,j as a,e,f as o,h as k,c as U,F as D,y as N,D as $}from"./index-bd88d923.js";import{u as K}from"./hooks-7977e933.js";import{u as C}from"./hooks-20c90638.js";import{d as M}from"./add-circle-line-a03ff6bd.js";const O=H({title:[{required:!0,message:"邮件标题为必填项",trigger:"blur"}],content:[{required:!0,message:"邮件内容为必填项",trigger:"blur"}],owner:[{required:!1,message:"邮件发送对象为需填项",trigger:"blur"}],phone:[{validator:(i,s,d)=>{s===""||Z(s)?d():d(new Error("请输入正确的手机号码格式"))},trigger:"blur"}]});class j{constructor(){V(this,"i");V(this,"n");V(this,"q");V(this,"einfo")}}const P={width:24,height:24,body:'<path fill="currentColor" d="M7 6V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5Zm6.414 8l1.768-1.768l-1.414-1.414L12 12.586l-1.768-1.768l-1.414 1.414L10.586 14l-1.768 1.768l1.414 1.414L12 15.414l1.768 1.768l1.414-1.414L13.414 14ZM9 4v2h6V4H9Z"/>'},z=P,ee=Y({__name:"index",props:{formInline:{default:()=>({key:"",serverId:0,title:"",content:"",items:[],sender:"",owner:"",gameId:0,itemID:0,itemNum:0,isAll:0,isTotal:0})}},setup(i,{expose:s}){const d=i,c=g();K();const l=g(d.formInline),v=g(),R=[{value:0,label:"个人邮件"},{value:1,label:"全服邮件"}],S=[{value:0,label:"游戏单服邮件"},{value:1,label:"游戏所有服邮件"}];function E(){return c.value}function F(){l.value.items=[],v.value=""}function A(){const f=new j;f.i=l.value.itemID,f.n=l.value.itemNum,v.value?v.value=v.value+String(l.value.itemID)+","+String(l.value.itemNum)+";":v.value=String(l.value.itemID)+","+String(l.value.itemNum)+";";const t=[];t.push(f),l.value.items&&l.value.items.length>0?l.value.items.push(f):l.value.items=t}return s({getRef:E}),(f,t)=>{const m=p("el-input"),r=p("el-form-item"),x=p("el-button"),I=p("el-option"),y=p("el-select"),L=p("el-row"),T=p("el-form");return b(),w(T,{ref_key:"ruleFormRef",ref:c,model:l.value,rules:o(O),"label-width":"82px"},{default:a(()=>[e(L,{gutter:30},{default:a(()=>[e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"游戏ID",prop:"gameId"},{default:a(()=>[e(m,{modelValue:l.value.gameId,"onUpdate:modelValue":t[0]||(t[0]=u=>l.value.gameId=u),disabled:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"服务器ID",prop:"serverid"},{default:a(()=>[e(m,{modelValue:l.value.serverId,"onUpdate:modelValue":t[1]||(t[1]=u=>l.value.serverId=u),disabled:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"标题",prop:"title"},{default:a(()=>[e(m,{modelValue:l.value.title,"onUpdate:modelValue":t[2]||(t[2]=u=>l.value.title=u),clearable:"",placeholder:"请输入邮件标题"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:28,xs:24,sm:24},{default:a(()=>[e(r,{label:"内容",prop:"content"},{default:a(()=>[e(m,{modelValue:l.value.content,"onUpdate:modelValue":t[3]||(t[3]=u=>l.value.content=u),clearable:"",placeholder:"请输入邮件内容",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:24,xs:24,sm:24},{default:a(()=>[e(r,{label:"展示附件",prop:"items"},{default:a(()=>[e(m,{modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=u=>v.value=u),disabled:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"附件物品",prop:"items"},{default:a(()=>[e(m,{modelValue:l.value.itemID,"onUpdate:modelValue":t[5]||(t[5]=u=>l.value.itemID=u),clearable:"",placeholder:"请输入邮件附件物品"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"附件数量",prop:"items"},{default:a(()=>[e(m,{modelValue:l.value.itemNum,"onUpdate:modelValue":t[6]||(t[6]=u=>l.value.itemNum=u),clearable:"",placeholder:"请输入邮件附件数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,null,{default:a(()=>[e(x,{type:"primary",icon:o(C)(o(z)),onClick:t[7]||(t[7]=u=>F())},{default:a(()=>[k(" 重置附件 ")]),_:1},8,["icon"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,null,{default:a(()=>[e(x,{type:"primary",icon:o(C)(o(M)),onClick:t[8]||(t[8]=u=>A())},{default:a(()=>[k(" 增加附件 ")]),_:1},8,["icon"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"发件人",prop:"sender"},{default:a(()=>[e(m,{modelValue:l.value.sender,"onUpdate:modelValue":t[9]||(t[9]=u=>l.value.sender=u),clearable:"",placeholder:"请输入邮件发件人"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"收件人",prop:"owner"},{default:a(()=>[e(m,{modelValue:l.value.owner,"onUpdate:modelValue":t[10]||(t[10]=u=>l.value.owner=u),clearable:"",placeholder:"请输入邮件收件人"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"验证KEY",prop:"key"},{default:a(()=>[e(m,{modelValue:l.value.key,"onUpdate:modelValue":t[11]||(t[11]=u=>l.value.key=u),clearable:"",placeholder:"请输入验证KEY"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(n),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"全服邮件"},{default:a(()=>[e(y,{modelValue:l.value.isAll,"onUpdate:modelValue":t[12]||(t[12]=u=>l.value.isAll=u),placeholder:"请选择是否全服邮件",class:"w-full",clearable:""},{default:a(()=>[(b(),U(D,null,N(R,(u,_)=>e(I,{key:_,label:u.label,value:u.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l.value.isAll>0?(b(),w(o(n),{key:0,value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"全局服邮件",eble:"false"},{default:a(()=>[e(y,{modelValue:l.value.isTotal,"onUpdate:modelValue":t[13]||(t[13]=u=>l.value.isTotal=u),"controls-position":"right",placeholder:"请选择是否全局全服邮件",class:"w-full",clearable:""},{default:a(()=>[(b(),U(D,null,N(S,(u,_)=>e(I,{key:_,label:u.label,value:u.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1},8,["model","rules"])}}});export{ee as _};

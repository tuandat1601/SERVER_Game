import{useUser as W}from"./hook-584e1e58.js";import{R as X,P as Y}from"./refresh-5041d416.js";import{u as i}from"./hooks-20c90638.js";import{d as Z}from"./admin-line-92b9acda.js";import{P as ee}from"./lock-password-line-a641d5aa.js";import{M as oe}from"./more-filled-c44d3178.js";import{D as ne}from"./delete-6d738bc7.js";import{d as te}from"./edit-pen-37b5ced2.js";import{d as le}from"./search-cc37b371.js";import{d as ae}from"./add-circle-line-a03ff6bd.js";import{d as re,k as $,r as a,b as ie,o as m,c as C,g as h,e as n,j as o,f as e,F as se,y as ce,i as de,h as r,w as me,B as pe,D as _e,P as k,_ as fe}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-b5c3e017.js";import"./index-8426971e.js";import"./hooks-f0d9bd8c.js";import"./operations-67cacc8a.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const ue={class:"main"},ge={class:"float-right w-[100%]"},Ce={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},he={class:"flex-auto"},ke={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},ye=re({name:"User",__name:"index",setup(ve){const y=$(),v=$(),{form:p,loading:b,columns:D,dataList:P,gameDataList:V,pagination:z,buttonClass:_,selectedNum:x,onSearch:w,resetForm:B,exportExcel:N,onbatchDel:U,onAddGame:I,handleRole:E,handleUpdate:F,handleDelete:L,handleSizeChange:M,onSelectionCancel:T,handleCurrentChange:j,handleSelectionChange:A}=W(v);return(f,d)=>{const G=a("el-option"),q=a("el-select"),R=a("el-form-item"),l=a("el-button"),H=a("el-form"),S=a("el-popconfirm"),u=a("el-dropdown-item"),J=a("el-dropdown-menu"),K=a("el-dropdown"),O=a("pure-table"),Q=ie("motion-fade");return m(),C("div",ue,[h("div",ge,[n(H,{ref_key:"formRef",ref:y,inline:!0,model:e(p),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:o(()=>[n(R,{label:"选择游戏：",prop:"roles"},{default:o(()=>[n(q,{modelValue:e(p).gameId,"onUpdate:modelValue":d[0]||(d[0]=t=>e(p).gameId=t),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:o(()=>[(m(!0),C(se,null,ce(e(V),(t,g)=>(m(),de(G,{key:g,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(R,null,{default:o(()=>[n(l,{type:"primary",icon:e(i)(e(le)),loading:e(b),onClick:e(w)},{default:o(()=>[r(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),n(l,{icon:e(i)(e(X)),onClick:d[1]||(d[1]=t=>e(B)(y.value))},{default:o(()=>[r(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),n(e(Y),{title:"实时数据管理",columns:e(D),onRefresh:e(w)},{buttons:o(()=>[n(l,{type:"primary",icon:e(i)(e(ae)),onClick:e(N)},{default:o(()=>[r(" 导出Excel表 ")]),_:1},8,["icon","onClick"])]),default:o(({size:t,dynamicColumns:g})=>[e(x)>0?me((m(),C("div",Ce,[h("div",he,[h("span",ke," 已选 "+pe(e(x))+" 项 ",1),n(l,{type:"primary",text:"",onClick:e(T)},{default:o(()=>[r(" 取消选择 ")]),_:1},8,["onClick"])]),n(S,{title:"是否确认删除?",onConfirm:e(U)},{reference:o(()=>[n(l,{type:"danger",text:"",class:"mr-1"},{default:o(()=>[r(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[Q]]):_e("",!0),n(O,{"row-key":"id",ref_key:"tableRef",ref:v,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(b),size:t,data:e(P),columns:g,pagination:e(z),paginationSmall:t==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(A),onPageSizeChange:e(M),onPageCurrentChange:e(j)},{operation:o(({row:s})=>[n(l,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(i)(e(te)),onClick:c=>e(I)("编辑",s)},{default:o(()=>[r(" 修改 ")]),_:2},1032,["size","icon","onClick"]),n(S,{title:`是否确认删除激活码名为【${s.codeName}】的这条数据`,onConfirm:c=>e(L)(s)},{reference:o(()=>[n(l,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(i)(e(ne))},{default:o(()=>[r(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),n(K,null,{dropdown:o(()=>[n(J,null,{default:o(()=>[n(u,null,{default:o(()=>[n(l,{class:k(e(_)),link:"",type:"primary",size:t,icon:e(i)(f.Upload),onClick:c=>f.handleUpload(s)},{default:o(()=>[r(" 上传头像 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),n(u,null,{default:o(()=>[n(l,{class:k(e(_)),link:"",type:"primary",size:t,icon:e(i)(e(ee)),onClick:c=>f.handleReset(s)},{default:o(()=>[r(" 重置密码 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),n(u,null,{default:o(()=>[n(l,{class:k(e(_)),link:"",type:"primary",size:t,icon:e(i)(e(Z)),onClick:c=>e(E)(s)},{default:o(()=>[r(" 分配角色 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024)]),_:2},1024)]),default:o(()=>[n(l,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:t,icon:e(i)(e(oe)),onClick:c=>e(F)(s)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Ae=fe(ye,[["__scopeId","data-v-79f1e5d2"]]);export{Ae as default};

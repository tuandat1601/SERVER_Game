import{R as r}from"./index-8426971e.js";import{Y as S,aZ as q,d as D,k as w,r as d,o as p,i as N,j as a,e,f as o,c as f,F as b,y as V,g as z,B as k,D as E,z as L}from"./index-bd88d923.js";import{u as P}from"./hooks-4c4a002a.js";const j=S({nickname:[{required:!0,message:"用户昵称为必填项",trigger:"blur"}],username:[{required:!0,message:"用户名称为必填项",trigger:"blur"}],password:[{required:!0,message:"用户密码为必填项",trigger:"blur"}],phone:[{validator:(x,i,m)=>{i===""||q(i)?m():m(new Error("请输入正确的手机号码格式"))},trigger:"blur"}]}),A={key:0},J=D({__name:"index",props:{formInline:{default:()=>({title:"新增",nickname:"",username:"",password:"",roles:[],auths:[],status:0})}},setup(x,{expose:i}){const m=x,y=[{value:["admin","gameAdmin"],label:"超级管理员"},{value:["operations"],label:"运维"},{value:["service"],label:"客服"},{value:["common"],label:"普通角色"}],U=[{value:["btn_add"],label:"增加"},{value:["btn_edit"],label:"修改"},{value:["btn_delete"],label:"删除"}],h=[{value:0,label:"男"},{value:1,label:"女"}],g=w(),{switchStyle:B}=P(),u=w(m.formInline);function R(){return g.value}return i({getRef:R}),(H,t)=>{const v=d("el-input"),s=d("el-form-item"),c=d("el-option"),_=d("el-select"),C=d("el-cascader"),F=d("el-switch"),I=d("el-row"),O=d("el-form");return p(),N(O,{ref_key:"ruleFormRef",ref:g,model:u.value,rules:o(j),"label-width":"82px"},{default:a(()=>[e(I,{gutter:30},{default:a(()=>[e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"用户账号",prop:"username"},{default:a(()=>[e(v,{modelValue:u.value.username,"onUpdate:modelValue":t[0]||(t[0]=l=>u.value.username=l),clearable:"",placeholder:"请输入用户名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"用户昵称",prop:"nickname"},{default:a(()=>[e(v,{modelValue:u.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=l=>u.value.nickname=l),clearable:"",placeholder:"请输入用户昵称"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"用户密码",prop:"password"},{default:a(()=>[e(v,{modelValue:u.value.password,"onUpdate:modelValue":t[2]||(t[2]=l=>u.value.password=l),clearable:"",placeholder:"请输入用户密码"},null,8,["modelValue"])]),_:1})]),_:1}),e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"用户角色",prop:"roles"},{default:a(()=>[e(_,{modelValue:u.value.roles,"onUpdate:modelValue":t[3]||(t[3]=l=>u.value.roles=l),placeholder:"请选择用户角色",class:"w-full",clearable:""},{default:a(()=>[(p(),f(b,null,V(y,(l,n)=>e(c,{key:n,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"用户权限"},{default:a(()=>[e(_,{modelValue:u.value.auths,"onUpdate:modelValue":t[4]||(t[4]=l=>u.value.auths=l),placeholder:"请选择用户权限",class:"w-full",clearable:""},{default:a(()=>[(p(),f(b,null,V(U,(l,n)=>e(c,{key:n,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"用户性别"},{default:a(()=>[e(_,{modelValue:u.value.sex,"onUpdate:modelValue":t[5]||(t[5]=l=>u.value.sex=l),placeholder:"请选择用户性别",class:"w-full",clearable:""},{default:a(()=>[(p(),f(b,null,V(h,(l,n)=>e(c,{key:n,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"归属渠道"},{default:a(()=>[e(C,{class:"w-full",modelValue:u.value.parentId,"onUpdate:modelValue":t[6]||(t[6]=l=>u.value.parentId=l),options:u.value.higherDeptOptions,props:{value:"id",label:"name",emitPath:!1,checkStrictly:!0},clearable:"",filterable:"",placeholder:"请选择归属渠道"},{default:a(({node:l,data:n})=>[z("span",null,k(n.name),1),l.isLeaf?E("",!0):(p(),f("span",A," ("+k(n.children.length)+") ",1))]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),e(o(r),{value:12,xs:24,sm:24},{default:a(()=>[e(s,{label:"用户状态"},{default:a(()=>[e(F,{modelValue:u.value.status,"onUpdate:modelValue":t[7]||(t[7]=l=>u.value.status=l),"inline-prompt":"","active-value":1,"inactive-value":0,"active-text":"启用","inactive-text":"停用",style:L(o(B))},null,8,["modelValue","style"])]),_:1})]),_:1}),e(o(r),null,{default:a(()=>[e(s,{label:"备注"},{default:a(()=>[e(v,{modelValue:u.value.remark,"onUpdate:modelValue":t[8]||(t[8]=l=>u.value.remark=l),placeholder:"请输入备注信息",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{J as _};

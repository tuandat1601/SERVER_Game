import{useUser as q}from"./hook-b0cfefc7.js";import{R as H,P as J}from"./refresh-5041d416.js";import{u as s}from"./hooks-20c90638.js";import{M as K}from"./more-filled-c44d3178.js";import{D as O}from"./delete-6d738bc7.js";import{d as Q}from"./search-cc37b371.js";import{d as W}from"./add-circle-line-a03ff6bd.js";import{d as X,k,r as a,b as Y,o as c,c as _,g as f,e as o,j as t,f as e,F as Z,y as ee,i as oe,h as i,w as te,B as ne,D as ae,_ as le}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-ff054f51.js";import"./index-8426971e.js";import"./hooks-142968e5.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const re={class:"main"},ie={class:"float-right w-[100%]"},se={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},ce={class:"flex-auto"},me={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},de=X({name:"gameChannelList",__name:"index",setup(pe){const u=k(),g=k(),{form:m,loading:h,columns:x,dataList:S,pagination:R,buttonClass:_e,selectedNum:C,gameDataList:w,onSearch:b,resetForm:D,onbatchDel:P,onChannelSearch:I,onAddGame:V,handleRole:fe,handleUpdate:B,handleDelete:$,handleSizeChange:z,onSelectionCancel:N,handleCurrentChange:L,handleSelectionChange:F}=q(g);return(ue,r)=>{const U=a("el-option"),M=a("el-select"),y=a("el-form-item"),l=a("el-button"),T=a("el-form"),v=a("el-popconfirm"),j=a("el-dropdown"),A=a("pure-table"),E=Y("motion-fade");return c(),_("div",re,[f("div",ie,[o(T,{ref_key:"formRef",ref:u,inline:!0,model:e(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(y,{label:"选择游戏：",prop:"roles"},{default:t(()=>[o(M,{modelValue:e(m).gameId,"onUpdate:modelValue":r[0]||(r[0]=n=>e(m).gameId=n),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:t(()=>[(c(!0),_(Z,null,ee(e(w),(n,d)=>(c(),oe(U,{key:d,label:n.name,value:n.id,onClick:e(I)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(y,null,{default:t(()=>[o(l,{type:"primary",icon:e(s)(e(Q)),loading:e(h),onClick:e(b)},{default:t(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(l,{icon:e(s)(e(H)),onClick:r[1]||(r[1]=n=>e(D)(u.value))},{default:t(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(J),{title:"聊天节点IP管理",columns:e(x),onRefresh:e(b)},{buttons:t(()=>[o(l,{type:"primary",icon:e(s)(e(W)),onClick:r[2]||(r[2]=n=>e(V)("新增"))},{default:t(()=>[i(" 新增游戏聊天节点IP ")]),_:1},8,["icon"])]),default:t(({size:n,dynamicColumns:d})=>[e(C)>0?te((c(),_("div",se,[f("div",ce,[f("span",me," 已选 "+ne(e(C))+" 项 ",1),o(l,{type:"primary",text:"",onClick:e(N)},{default:t(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(v,{title:"是否确认删除?",onConfirm:e(P)},{reference:t(()=>[o(l,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[E]]):ae("",!0),o(A,{"row-key":"id",ref_key:"tableRef",ref:g,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(h),size:n,data:e(S),columns:d,pagination:e(R),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(F),onPageSizeChange:e(z),onPageCurrentChange:e(L)},{operation:t(({row:p})=>[o(v,{title:`是否确认删除聊天节点为【${p.chatIPs}】的这条数据`,onConfirm:G=>e($)(p)},{reference:t(()=>[o(l,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(s)(e(O))},{default:t(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(j,null,{default:t(()=>[o(l,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:n,icon:e(s)(e(K)),onClick:G=>e(B)(p)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Be=le(de,[["__scopeId","data-v-5b0e31cf"]]);export{Be as default};

import{useUser as te}from"./hook-6488b700.js";import{R as ie,P as re}from"./refresh-5041d416.js";import{u as d}from"./hooks-20c90638.js";import{d as se}from"./admin-line-92b9acda.js";import{P as de}from"./lock-password-line-a641d5aa.js";import{M as pe}from"./more-filled-c44d3178.js";import{D as ce}from"./delete-6d738bc7.js";import{d as me}from"./edit-pen-37b5ced2.js";import{d as ue}from"./search-cc37b371.js";import{d as _e}from"./add-circle-line-a03ff6bd.js";import{d as fe,k as N,r as t,b as ge,o as u,c as g,g as V,e as l,j as o,f as e,F as B,y as I,i as L,h as i,K as be,w as Ce,B as ke,D as ve,P as x,_ as he}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-17b6e1e0.js";import"./index-8426971e.js";import"./hooks-6a2b754a.js";import"./operations-67cacc8a.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const ye={class:"main"},Ve={class:"float-right w-[100%]"},xe={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},we={class:"flex-auto"},Re={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},Se=fe({name:"activateCodeListUse",__name:"index",setup(ze){const w=N(),R=N(),{form:r,hideVal:b,loading:S,columns:A,dataList:E,gameDataList:F,activeDataList:T,pagination:G,buttonClass:C,selectedNum:z,onSearch:U,onGencode:Ue,resetForm:M,exportExcel:j,onbatchDel:K,onAddGame:O,handleRole:q,handleUpdate:H,handleDelete:J,onActiveTypeSearch:$,handleSizeChange:Q,onSelectionCancel:W,handleCurrentChange:X,handleSelectionChange:Y}=te(R);return(k,n)=>{const m=t("el-option"),v=t("el-select"),p=t("el-form-item"),s=t("el-button"),Z=t("el-form"),h=t("el-radio-button"),ee=t("el-radio-group"),D=t("el-input"),P=t("el-popconfirm"),y=t("el-dropdown-item"),le=t("el-dropdown-menu"),oe=t("el-dropdown"),ae=t("pure-table"),ne=ge("motion-fade");return u(),g("div",ye,[V("div",Ve,[l(Z,{ref_key:"formRef",ref:w,inline:!0,model:e(r),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:o(()=>[l(p,{label:"选择游戏：",prop:"gameId"},{default:o(()=>[l(v,{modelValue:e(r).gameId,"onUpdate:modelValue":n[0]||(n[0]=a=>e(r).gameId=a),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:o(()=>[(u(!0),g(B,null,I(e(F),(a,_)=>(u(),L(m,{key:_,label:a.name,value:a.id,onClick:e($)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(p,{label:"选择激活码类型：",prop:"roles"},{default:o(()=>[l(v,{modelValue:e(r).id,"onUpdate:modelValue":n[1]||(n[1]=a=>e(r).id=a),placeholder:"请选择游戏：",class:"w-full",clearable:"",onClick:e($)},{default:o(()=>[(u(!0),g(B,null,I(e(T),(a,_)=>(u(),L(m,{key:_,label:a.codeName,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onClick"])]),_:1}),l(p,null,{default:o(()=>[l(s,{icon:e(d)(e(ie)),onClick:n[2]||(n[2]=a=>e(M)(w.value))},{default:o(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1}),l(p,{label:"筛选：",prop:"status"},{default:o(()=>[l(v,{modelValue:e(r).isuse,"onUpdate:modelValue":n[3]||(n[3]=a=>e(r).isuse=a),placeholder:"请选择",clearable:"",class:"!w-[160px]"},{default:o(()=>[l(m,{label:"未使用",value:"0"}),l(m,{label:"已使用",value:"1"}),l(m,{label:"所有",value:"2"}),l(m,{label:"通码",value:"3"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),l(ee,{modelValue:e(b),"onUpdate:modelValue":n[4]||(n[4]=a=>be(b)?b.value=a:null),size:"small"},{default:o(()=>[l(h,{label:"nohide"},{default:o(()=>[i("不隐藏")]),_:1}),l(h,{label:"hideNoOrder"},{default:o(()=>[i("不隐藏序号")]),_:1}),l(h,{label:"hideAll"},{default:o(()=>[i("隐藏全部")]),_:1})]),_:1},8,["modelValue"]),l(e(re),{title:"激活码管理",columns:e(A),onRefresh:e(U)},{buttons:o(()=>[l(p,{label:"前往",prop:"page"},{default:o(()=>[l(D,{modelValue:e(r).page,"onUpdate:modelValue":n[5]||(n[5]=a=>e(r).page=a),placeholder:"激活码当前页",clearable:"",class:"!w-[160px]"},null,8,["modelValue"])]),_:1}),l(p,{label:"  页 ",prop:"page"}),l(p,{label:"",prop:"pagesize"},{default:o(()=>[l(D,{modelValue:e(r).pagesize,"onUpdate:modelValue":n[6]||(n[6]=a=>e(r).pagesize=a),placeholder:"每页数量",clearable:"",class:"!w-[160px]"},null,8,["modelValue"])]),_:1}),l(p,{label:"   条 ",prop:"pagesize"}),l(s,{type:"primary",icon:e(d)(e(ue)),loading:e(S),onClick:e(U)},{default:o(()=>[i(" 查询激活码 ")]),_:1},8,["icon","loading","onClick"]),l(s,{type:"primary",icon:e(d)(e(_e)),onClick:e(j)},{default:o(()=>[i(" 导出Excel表 ")]),_:1},8,["icon","onClick"])]),default:o(({size:a,dynamicColumns:_})=>[e(z)>0?Ce((u(),g("div",xe,[V("div",we,[V("span",Re," 已选 "+ke(e(z))+" 项 ",1),l(s,{type:"primary",text:"",onClick:e(W)},{default:o(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),l(P,{title:"是否确认删除?",onConfirm:e(K)},{reference:o(()=>[l(s,{type:"danger",text:"",class:"mr-1"},{default:o(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[ne]]):ve("",!0),l(ae,{"row-key":"id",ref_key:"tableRef",ref:R,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(S),size:a,data:e(E),columns:_,pagination:e(G),paginationSmall:a==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(Y),onPageSizeChange:e(Q),onPageCurrentChange:e(X)},{operation:o(({row:c})=>[l(s,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(d)(e(me)),onClick:f=>e(O)("编辑",c)},{default:o(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),l(P,{title:`是否确认删除激活码名为【${c.codeName}】的这条数据`,onConfirm:f=>e(J)(c)},{reference:o(()=>[l(s,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(d)(e(ce))},{default:o(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),l(oe,null,{dropdown:o(()=>[l(le,null,{default:o(()=>[l(y,null,{default:o(()=>[l(s,{class:x(e(C)),link:"",type:"primary",size:a,icon:e(d)(k.Upload),onClick:f=>k.handleUpload(c)},{default:o(()=>[i(" 上传头像 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),l(y,null,{default:o(()=>[l(s,{class:x(e(C)),link:"",type:"primary",size:a,icon:e(d)(e(de)),onClick:f=>k.handleReset(c)},{default:o(()=>[i(" 重置密码 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),l(y,null,{default:o(()=>[l(s,{class:x(e(C)),link:"",type:"primary",size:a,icon:e(d)(e(se)),onClick:f=>e(q)(c)},{default:o(()=>[i(" 分配角色 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024)]),_:2},1024)]),default:o(()=>[l(s,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:a,icon:e(d)(e(pe)),onClick:f=>e(H)(c)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const We=he(Se,[["__scopeId","data-v-63e2bd6a"]]);export{We as default};

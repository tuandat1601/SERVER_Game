import{useUser as Q}from"./hook-80a7fdf1.js";import{R as W,P as X}from"./refresh-5041d416.js";import{u as s}from"./hooks-20c90638.js";import{M as Y}from"./more-filled-c44d3178.js";import{D as Z}from"./delete-6d738bc7.js";import{d as ee}from"./edit-pen-37b5ced2.js";import{d as oe}from"./search-cc37b371.js";import{d as w}from"./add-circle-line-a03ff6bd.js";import{d as ne,k as S,r as a,b as te,o as d,c as u,g,e as n,j as o,f as e,F as le,y as ae,i as re,h as r,w as ie,B as se,D as ce,P as de,_ as me}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-8f047ed3.js";import"./index-8426971e.js";import"./hooks-142968e5.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const pe={class:"main"},_e={class:"float-right w-[100%]"},fe={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},ue={class:"flex-auto"},ge={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},Ce=ne({name:"User",__name:"index",setup(ye){const C=S(),y=S(),{form:m,loading:h,columns:D,dataList:R,gameDataList:$,pagination:P,buttonClass:V,selectedNum:k,onSearch:b,resetForm:z,onbatchDel:B,onAddGame:p,exportExcel:I,handleRole:he,handleUpdate:N,handleDelete:U,handleSizeChange:E,onSelectionCancel:F,handleCurrentChange:L,handleSelectionChange:M}=Q(y);return(T,i)=>{const j=a("el-option"),A=a("el-select"),v=a("el-form-item"),l=a("el-button"),G=a("el-form"),x=a("el-popconfirm"),q=a("el-dropdown-item"),H=a("el-dropdown-menu"),J=a("el-dropdown"),K=a("pure-table"),O=te("motion-fade");return d(),u("div",pe,[g("div",_e,[n(G,{ref_key:"formRef",ref:C,inline:!0,model:e(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:o(()=>[n(v,{label:"选择游戏：",prop:"gameId"},{default:o(()=>[n(A,{modelValue:e(m).gameId,"onUpdate:modelValue":i[0]||(i[0]=t=>e(m).gameId=t),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:o(()=>[(d(!0),u(le,null,ae(e($),(t,_)=>(d(),re(j,{key:_,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(v,null,{default:o(()=>[n(l,{type:"primary",icon:e(s)(e(oe)),loading:e(h),onClick:e(b)},{default:o(()=>[r(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),n(l,{icon:e(s)(e(W)),onClick:i[1]||(i[1]=t=>e(z)(C.value))},{default:o(()=>[r(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),n(e(X),{title:"战区管理",columns:e(D),onRefresh:e(b)},{buttons:o(()=>[n(l,{type:"primary",icon:e(s)(e(w)),onClick:i[2]||(i[2]=t=>e(p)("新增"))},{default:o(()=>[r(" 新增战区 ")]),_:1},8,["icon"]),n(l,{type:"primary",icon:e(s)(e(w)),onClick:e(I)},{default:o(()=>[r(" 导出Excel表 ")]),_:1},8,["icon","onClick"])]),default:o(({size:t,dynamicColumns:_})=>[e(k)>0?ie((d(),u("div",fe,[g("div",ue,[g("span",ge," 已选 "+se(e(k))+" 项 ",1),n(l,{type:"primary",text:"",onClick:e(F)},{default:o(()=>[r(" 取消选择 ")]),_:1},8,["onClick"])]),n(x,{title:"是否确认删除?",onConfirm:e(B)},{reference:o(()=>[n(l,{type:"danger",text:"",class:"mr-1"},{default:o(()=>[r(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[O]]):ce("",!0),n(K,{"row-key":"id",ref_key:"tableRef",ref:y,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(h),size:t,data:e(R),columns:_,pagination:e(P),paginationSmall:t==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(M),onPageSizeChange:e(E),onPageCurrentChange:e(L)},{operation:o(({row:c})=>[n(l,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(s)(e(ee)),onClick:f=>e(p)("编辑",c)},{default:o(()=>[r(" 修改 ")]),_:2},1032,["size","icon","onClick"]),n(x,{title:`是否确认删除战区ID为【${c.id}】的这条数据`,onConfirm:f=>e(U)(c)},{reference:o(()=>[n(l,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(s)(e(Z))},{default:o(()=>[r(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),n(J,null,{dropdown:o(()=>[n(H,null,{default:o(()=>[n(q,null,{default:o(()=>[n(l,{class:de(e(V)),link:"",type:"primary",size:t,icon:e(s)(T.Upload),onClick:i[3]||(i[3]=f=>e(p)("新增"))},{default:o(()=>[r(" 新增战区 ")]),_:2},1032,["class","size","icon"])]),_:2},1024)]),_:2},1024)]),default:o(()=>[n(l,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:t,icon:e(s)(e(Y)),onClick:f=>e(N)(c)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Fe=me(Ce,[["__scopeId","data-v-7585d2eb"]]);export{Fe as default};

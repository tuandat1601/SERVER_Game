import{useUser as oe}from"./hook-2de066f9.js";import{R as le,P as ne}from"./refresh-5041d416.js";import{u as r}from"./hooks-20c90638.js";import{d as ae}from"./admin-line-92b9acda.js";import{P as te}from"./lock-password-line-a641d5aa.js";import{M as ie}from"./more-filled-c44d3178.js";import{D as re}from"./delete-6d738bc7.js";import{d as se}from"./edit-pen-37b5ced2.js";import{d as ce}from"./search-cc37b371.js";import{d as de}from"./add-circle-line-a03ff6bd.js";import{d as me,k as P,r as t,b as pe,o as d,c as u,g as h,e as l,j as o,f as e,F as N,y as U,i as z,h as i,w as _e,B as ue,D as fe,P as y,_ as ge}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-171bde94.js";import"./index-8426971e.js";import"./hooks-6a2b754a.js";import"./operations-67cacc8a.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const Ce={class:"main"},ke={class:"float-right w-[100%]"},he={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},ye={class:"flex-auto"},ve={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},be=me({name:"User",__name:"index",setup(xe){const v=P(),b=P(),{form:m,loading:x,columns:B,dataList:I,gameDataList:L,activeDataList:E,pagination:F,buttonClass:f,selectedNum:w,onSearch:S,onGencode:we,resetForm:T,exportExcel:A,onbatchDel:G,onAddGame:M,handleRole:j,handleUpdate:q,handleDelete:H,onActiveTypeSearch:R,handleSizeChange:J,onSelectionCancel:K,handleCurrentChange:O,handleSelectionChange:Q}=oe(b);return(g,c)=>{const $=t("el-option"),D=t("el-select"),C=t("el-form-item"),a=t("el-button"),W=t("el-form"),V=t("el-popconfirm"),k=t("el-dropdown-item"),X=t("el-dropdown-menu"),Y=t("el-dropdown"),Z=t("pure-table"),ee=pe("motion-fade");return d(),u("div",Ce,[h("div",ke,[l(W,{ref_key:"formRef",ref:v,inline:!0,model:e(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:o(()=>[l(C,{label:"选择游戏：",prop:"gameId"},{default:o(()=>[l(D,{modelValue:e(m).gameId,"onUpdate:modelValue":c[0]||(c[0]=n=>e(m).gameId=n),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:o(()=>[(d(!0),u(N,null,U(e(L),(n,p)=>(d(),z($,{key:p,label:n.name,value:n.id,onClick:e(R)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(C,{label:"选择激活码类型：",prop:"roles"},{default:o(()=>[l(D,{modelValue:e(m).id,"onUpdate:modelValue":c[1]||(c[1]=n=>e(m).id=n),placeholder:"请选择游戏：",class:"w-full",clearable:"",onClick:e(R)},{default:o(()=>[(d(!0),u(N,null,U(e(E),(n,p)=>(d(),z($,{key:p,label:n.codeName,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onClick"])]),_:1}),l(C,null,{default:o(()=>[l(a,{type:"primary",icon:e(r)(e(ce)),loading:e(x),onClick:e(S)},{default:o(()=>[i(" 查询激活码 ")]),_:1},8,["icon","loading","onClick"]),l(a,{icon:e(r)(e(le)),onClick:c[2]||(c[2]=n=>e(T)(v.value))},{default:o(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),l(e(ne),{title:"激活码管理",columns:e(B),onRefresh:e(S)},{buttons:o(()=>[l(a,{type:"primary",icon:e(r)(e(de)),onClick:e(A)},{default:o(()=>[i(" 导出Excel表 ")]),_:1},8,["icon","onClick"])]),default:o(({size:n,dynamicColumns:p})=>[e(w)>0?_e((d(),u("div",he,[h("div",ye,[h("span",ve," 已选 "+ue(e(w))+" 项 ",1),l(a,{type:"primary",text:"",onClick:e(K)},{default:o(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),l(V,{title:"是否确认删除?",onConfirm:e(G)},{reference:o(()=>[l(a,{type:"danger",text:"",class:"mr-1"},{default:o(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[ee]]):fe("",!0),l(Z,{"row-key":"id",ref_key:"tableRef",ref:b,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(x),size:n,data:e(I),columns:p,pagination:e(F),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(Q),onPageSizeChange:e(J),onPageCurrentChange:e(O)},{operation:o(({row:s})=>[l(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(r)(e(se)),onClick:_=>e(M)("编辑",s)},{default:o(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),l(V,{title:`是否确认删除激活码名为【${s.codeName}】的这条数据`,onConfirm:_=>e(H)(s)},{reference:o(()=>[l(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(r)(e(re))},{default:o(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),l(Y,null,{dropdown:o(()=>[l(X,null,{default:o(()=>[l(k,null,{default:o(()=>[l(a,{class:y(e(f)),link:"",type:"primary",size:n,icon:e(r)(g.Upload),onClick:_=>g.handleUpload(s)},{default:o(()=>[i(" 上传头像 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),l(k,null,{default:o(()=>[l(a,{class:y(e(f)),link:"",type:"primary",size:n,icon:e(r)(e(te)),onClick:_=>g.handleReset(s)},{default:o(()=>[i(" 重置密码 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),l(k,null,{default:o(()=>[l(a,{class:y(e(f)),link:"",type:"primary",size:n,icon:e(r)(e(ae)),onClick:_=>e(j)(s)},{default:o(()=>[i(" 分配角色 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024)]),_:2},1024)]),default:o(()=>[l(a,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:n,icon:e(r)(e(ie)),onClick:_=>e(q)(s)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const He=ge(be,[["__scopeId","data-v-65f85536"]]);export{He as default};

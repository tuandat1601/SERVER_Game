import{Y as s,k as n,v as M,O as G,N as L,m as $,aU as o,aQ as z,ae as H,at as d,aR as O}from"./index-bd88d923.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-298c1397.js";import{l as P,m as Q,n as q,a as B}from"./game-c13a10d3.js";import{z as J}from"./index.esm-cdf23848.js";import"./index-8426971e.js";import"./hooks-142968e5.js";function ae(l){const y=s({id:1,name:"",secretkey:"",sku:"",serverNF:"",gameUrl:"",user_policy_url:"",privacy_policy_url:"",channelAppId:0,channelType:"",appName:0,appId:"",appKey:"",serverKey:"",noticeName:"",noticeRank:0,noticeDec:"",whitelist:[],blacklist:[],createdAt:"2023-09-19",updatedAt:"2023-09-19"}),m=n(),u=n([]),c=n(!0),p=n(0),h=s({total:0,pageSize:10,currentPage:1,background:!0}),f=s({newPwd:""}),v=n();n([]);const b=[{type:"expand",slot:"expand"},{label:"序号",prop:"id",minWidth:130},{label:"游戏名",prop:"name",minWidth:130},{label:"验证密钥",prop:"secretkey",minWidth:130},{label:"服务器模版",prop:"server模版",minWidth:130},{label:"标识",prop:"sku",minWidth:130},{label:"游戏节点URL",prop:"gameUrl",minWidth:130},{label:"创建时间",prop:"createdAt",minWidth:130,formatter:({createdAt:a})=>o(a).format("YYYY-MM-DD HH:mm:ss")},{label:"更新时间",prop:"updatedAt",minWidth:130,formatter:({updatedAt:a})=>o(a).format("YYYY-MM-DD HH:mm:ss")}],g=[{type:"expand",slot:"expand"},{label:"渠道Id",prop:"channelAppId",minWidth:130},{label:"渠道类型",prop:"channelType",minWidth:130},{label:"渠道应用",prop:"appName",minWidth:130},{label:"渠道appId",prop:"appId",minWidth:130},{label:"渠道appKey",prop:"appKey",minWidth:130},{label:"验证密钥",prop:"serverKey",minWidth:130},{label:"用户协议URL",prop:"user_policy_url",minWidth:130},{label:"隐私协议URL",prop:"privacy_policy_url",minWidth:130}],W=[{label:"通知序号",prop:"rank",minWidth:130},{label:"通知名称",prop:"name",minWidth:130},{label:"通知备注",prop:"dec",minWidth:130}],_=M(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]);function k(a){}function I(a="新增",e){z({title:`${a}游戏`,props:{formInline:{title:a,id:(e==null?void 0:e.id)??0,name:(e==null?void 0:e.name)??"",secretkey:(e==null?void 0:e.secretkey)??"",sku:(e==null?void 0:e.sku)??"",serverNF:(e==null?void 0:e.serverNF)??"",gameUrl:(e==null?void 0:e.gameUrl)??"",user_policy_url:(e==null?void 0:e.channels[0].user_policy_url)??"",privacy_policy_url:(e==null?void 0:e.channels[0].privacy_policy_url)??"",channelAppId:(e==null?void 0:e.channels[0].channelAppId)??0,channelType:(e==null?void 0:e.channels[0].channelType)??"",appName:(e==null?void 0:e.channels[0].appName)??0,appId:(e==null?void 0:e.channels[0].appId)??"",appKey:(e==null?void 0:e.channels[0].appKey)??"",serverKey:(e==null?void 0:e.channels[0].serverKey)??"",noticeName:(e==null?void 0:e.channels[0].notice[0].name)??"",noticeRank:(e==null?void 0:e.channels[0].notice[0].rank)??"",noticeDec:(e==null?void 0:e.channels[0].notice[0].dec)??""}},width:"46%",draggable:!0,fullscreenIcon:!0,closeOnClickModal:!1,contentRenderer:()=>H(j,{ref:m}),beforeSure:(K,{options:Y})=>{const T=m.value.getRef(),i=Y.props.formInline;function r(){d(`您${a}了游戏名称为${i.name}的这条数据`,{type:"success"}),K(),t()}T.validate(F=>{F&&(a==="新增"?(P(i),r()):(Q(i),r()))})}})}function R(a){d(`您删除了游戏为${a.name}的这条数据`,{type:"success"}),q(a.id),t()}function N(a){}function S(a){}function x(a){p.value=a.length,l.value.setAdaptive()}function A(){p.value=0,l.value.getTableRef().clearSelection()}function C(){const a=l.value.getTableRef().getSelectionRows();d(`已删除游戏为 ${O(a,"id")} 的数据`,{type:"success"}),l.value.getTableRef().clearSelection()}async function t(){c.value=!0;const{data:a}=await B();u.value=a,h.total=a.total?a.total:0,setTimeout(()=>{c.value=!1},500)}const D=a=>{a&&(a.resetFields(),t())};G(f,({newPwd:a})=>v.value=L(a)?-1:J(a).score);async function U(a){}return $(()=>{t()}),{form:y,loading:c,columns:b,childColumns:g,smallChildColumns:W,dataList:u,pagination:h,buttonClass:_,selectedNum:p,onSearch:t,onAddGame:I,onbatchDel:C,handleRole:U,resetForm:D,handleUpdate:k,handleDelete:R,handleSizeChange:N,onSelectionCancel:A,handleCurrentChange:S,handleSelectionChange:x}}export{ae as useUser};

import{useUser as te}from"./hook-db333e2d.js";import{R as re,P as ie}from"./refresh-5041d416.js";import{u as i}from"./hooks-20c90638.js";import{d as se}from"./admin-line-92b9acda.js";import{P as ce}from"./lock-password-line-a641d5aa.js";import{M as de}from"./more-filled-c44d3178.js";import{D as me}from"./delete-6d738bc7.js";import{d as U}from"./edit-pen-37b5ced2.js";import{d as pe}from"./search-cc37b371.js";import{d as ue}from"./add-circle-line-a03ff6bd.js";import{d as fe,k as z,r as s,b as _e,o as m,c as k,g as h,e as l,j as o,f as e,F as B,y as I,i as N,h as r,w as Ce,B as ge,D as ke,P as x,_ as ve}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-ad53ca99.js";import"./index-8426971e.js";import"./hooks-f0d9bd8c.js";import"./operations-67cacc8a.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const ye={class:"main"},be={class:"float-right w-[100%]"},he={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},xe={class:"flex-auto"},$e={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},we=fe({name:"User",__name:"index",setup(Se){const $=z(),w=z(),{form:d,loading:S,columns:L,dataList:E,gameDataList:F,sverDataList:T,pagination:G,buttonClass:v,selectedNum:V,onSearch:_,resetForm:M,exportExcel:j,onbatchDel:A,onAddGame:R,handleRole:J,handleUpdate:q,handleDelete:H,onSelectionGame:K,handleSizeChange:O,onSelectionCancel:Q,handleCurrentChange:W,handleSelectionChange:X}=te(w);function Y(){_()}function Z(p){K(p)}function D(){_()}return(p,a)=>{const C=s("el-option"),y=s("el-select"),g=s("el-form-item"),t=s("el-button"),ee=s("el-form"),P=s("el-popconfirm"),b=s("el-dropdown-item"),le=s("el-dropdown-menu"),oe=s("el-dropdown"),ne=s("pure-table"),ae=_e("motion-fade");return m(),k("div",ye,[h("div",be,[l(ee,{ref_key:"formRef",ref:$,inline:!0,model:e(d),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:o(()=>[l(g,{label:"选择游戏：",prop:"roles"},{default:o(()=>[l(y,{modelValue:e(d).gameId,"onUpdate:modelValue":a[0]||(a[0]=n=>e(d).gameId=n),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:o(()=>[(m(!0),k(B,null,I(e(F),(n,u)=>(m(),N(C,{key:u,label:n.name,value:n.id,onClick:c=>Z(n.id)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(g,{label:"选择游戏服：",prop:"serverid"},{default:o(()=>[l(y,{modelValue:e(d).serverid,"onUpdate:modelValue":a[2]||(a[2]=n=>e(d).serverid=n),placeholder:"请选择游戏服：",class:"w-full",clearable:""},{default:o(()=>[(m(!0),k(B,null,I(e(T),(n,u)=>(m(),N(C,{key:u,label:n.label,value:n.serverId,onClick:a[1]||(a[1]=c=>Y())},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(g,{label:"选择分析类型：",prop:"type"},{default:o(()=>[l(y,{modelValue:e(d).type,"onUpdate:modelValue":a[3]||(a[3]=n=>e(d).type=n),placeholder:"选择分析类型：",class:"w-full",clearable:""},{default:o(()=>[l(C,{label:"关卡分布",value:"1",onClick:D}),l(C,{label:"等级分布",value:"0",onClick:D})]),_:1},8,["modelValue"])]),_:1}),l(g,null,{default:o(()=>[l(t,{type:"primary",icon:e(i)(e(U)),onClick:a[4]||(a[4]=n=>e(R)("编辑"))},{default:o(()=>[r(" 编辑区间 ")]),_:1},8,["icon"]),l(t,{type:"primary",icon:e(i)(e(pe)),loading:e(S),onClick:e(_)},{default:o(()=>[r(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),l(t,{icon:e(i)(e(re)),onClick:a[5]||(a[5]=n=>e(M)($.value))},{default:o(()=>[r(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),l(e(ie),{title:"游戏数据分析",columns:e(L),onRefresh:e(_)},{buttons:o(()=>[l(t,{type:"primary",icon:e(i)(e(ue)),onClick:e(j)},{default:o(()=>[r(" 导出Excel表 ")]),_:1},8,["icon","onClick"])]),default:o(({size:n,dynamicColumns:u})=>[e(V)>0?Ce((m(),k("div",he,[h("div",xe,[h("span",$e," 已选 "+ge(e(V))+" 项 ",1),l(t,{type:"primary",text:"",onClick:e(Q)},{default:o(()=>[r(" 取消选择 ")]),_:1},8,["onClick"])]),l(P,{title:"是否确认删除?",onConfirm:e(A)},{reference:o(()=>[l(t,{type:"danger",text:"",class:"mr-1"},{default:o(()=>[r(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[ae]]):ke("",!0),l(ne,{"row-key":"id",ref_key:"tableRef",ref:w,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(S),size:n,data:e(E),columns:u,pagination:e(G),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(X),onPageSizeChange:e(O),onPageCurrentChange:e(W)},{operation:o(({row:c})=>[l(t,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(i)(e(U)),onClick:f=>e(R)("编辑",c)},{default:o(()=>[r(" 修改 ")]),_:2},1032,["size","icon","onClick"]),l(P,{title:`是否确认删除激活码名为【${c.codeName}】的这条数据`,onConfirm:f=>e(H)(c)},{reference:o(()=>[l(t,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(i)(e(me))},{default:o(()=>[r(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),l(oe,null,{dropdown:o(()=>[l(le,null,{default:o(()=>[l(b,null,{default:o(()=>[l(t,{class:x(e(v)),link:"",type:"primary",size:n,icon:e(i)(p.Upload),onClick:f=>p.handleUpload(c)},{default:o(()=>[r(" 上传头像 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),l(b,null,{default:o(()=>[l(t,{class:x(e(v)),link:"",type:"primary",size:n,icon:e(i)(e(ce)),onClick:f=>p.handleReset(c)},{default:o(()=>[r(" 重置密码 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),l(b,null,{default:o(()=>[l(t,{class:x(e(v)),link:"",type:"primary",size:n,icon:e(i)(e(se)),onClick:f=>e(J)(c)},{default:o(()=>[r(" 分配角色 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024)]),_:2},1024)]),default:o(()=>[l(t,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:n,icon:e(i)(e(de)),onClick:f=>e(q)(c)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Ke=ve(we,[["__scopeId","data-v-891a0fb3"]]);export{Ke as default};

import{useUser as J}from"./hook-9acf9f29.js";import{R as K,P as M}from"./refresh-5041d416.js";import{u}from"./hooks-20c90638.js";import{d as O}from"./edit-pen-37b5ced2.js";import{d as Q}from"./add-circle-line-a03ff6bd.js";import{d as W,k as y,r as n,b as X,o as s,c as p,g as _,e as o,j as t,f as e,F as x,y as k,i as S,h as c,w as Y,B as Z,D as ee,_ as le}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-7d410fbe.js";import"./index-8426971e.js";import"./hooks-7977e933.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const oe={class:"main"},te={class:"float-right w-[100%]"},ae={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},ne={class:"flex-auto"},re={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},se=W({name:"NoticeList",__name:"index",setup(ie){const f=y(),g=y(),{form:r,loading:b,columns:V,dataList:w,pagination:I,buttonClass:de,selectedNum:h,gameDataList:R,sverDataList:D,channelDataList:ce,onSearch:B,resetForm:L,onbatchDel:N,queryEmail:P,onSendEmail:z,exportExcel:me,handleRole:pe,handleUpdate:ue,handleDelete:_e,onSelectionGame:U,handleSizeChange:E,onSelectionCancel:$,handleCurrentChange:F,handleSelectionChange:T}=J(g);return(fe,a)=>{const v=n("el-option"),C=n("el-select"),m=n("el-form-item"),j=n("el-input"),i=n("el-button"),q=n("el-form"),G=n("el-popconfirm"),A=n("pure-table"),H=X("motion-fade");return s(),p("div",oe,[_("div",te,[o(q,{ref_key:"formRef",ref:f,inline:!0,model:e(r),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(m,{label:"选择游戏：",prop:"gameId"},{default:t(()=>[o(C,{modelValue:e(r).gameId,"onUpdate:modelValue":a[0]||(a[0]=l=>e(r).gameId=l),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:t(()=>[(s(!0),p(x,null,k(e(R),(l,d)=>(s(),S(v,{key:d,label:l.name,value:l.id,onClick:ge=>e(U)(l.id)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(m,{label:"选择游戏服：",prop:"serverId"},{default:t(()=>[o(C,{modelValue:e(r).serverId,"onUpdate:modelValue":a[1]||(a[1]=l=>e(r).serverId=l),placeholder:"请选择游戏服：",class:"w-full",clearable:""},{default:t(()=>[(s(!0),p(x,null,k(e(D),(l,d)=>(s(),S(v,{key:d,label:l.serverId,value:l.serverId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(m,{label:"角色：",prop:"roles"},{default:t(()=>[o(j,{modelValue:e(r).roles,"onUpdate:modelValue":a[2]||(a[2]=l=>e(r).roles=l),placeholder:"请输入角色",clearable:"",class:"!w-[160px]"},null,8,["modelValue"])]),_:1}),o(m,null,{default:t(()=>[o(i,{type:"primary",icon:e(u)(e(O)),loading:e(b),onClick:a[3]||(a[3]=l=>e(z)("发送"))},{default:t(()=>[c(" 发送邮件 ")]),_:1},8,["icon","loading"]),o(i,{icon:e(u)(e(K)),onClick:a[4]||(a[4]=l=>e(L)(f.value))},{default:t(()=>[c(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(M),{title:"邮件管理",columns:e(V),onRefresh:e(B)},{buttons:t(()=>[o(i,{type:"primary",icon:e(u)(e(Q)),onClick:e(P)},{default:t(()=>[c(" 查询邮件 ")]),_:1},8,["icon","onClick"])]),default:t(({size:l,dynamicColumns:d})=>[e(h)>0?Y((s(),p("div",ae,[_("div",ne,[_("span",re," 已选 "+Z(e(h))+" 项 ",1),o(i,{type:"primary",text:"",onClick:e($)},{default:t(()=>[c(" 取消选择 ")]),_:1},8,["onClick"])]),o(G,{title:"是否确认删除?",onConfirm:e(N)},{reference:t(()=>[o(i,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[c(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[H]]):ee("",!0),o(A,{"row-key":"id",ref_key:"tableRef",ref:g,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(b),size:l,data:e(w),columns:d,pagination:e(I),paginationSmall:l==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(T),onPageSizeChange:e(E),onPageCurrentChange:e(F)},null,8,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Le=le(se,[["__scopeId","data-v-11cbb048"]]);export{Le as default};

import{useUser as K}from"./hook-19417543.js";import{R as O,P as Q}from"./refresh-5041d416.js";import{u as r}from"./hooks-20c90638.js";import{M as W}from"./more-filled-c44d3178.js";import{D as X}from"./delete-6d738bc7.js";import{d as S}from"./edit-pen-37b5ced2.js";import{d as Y}from"./search-cc37b371.js";import{d as R}from"./add-circle-line-a03ff6bd.js";import{d as Z,k as D,r as i,b as ee,o as m,c as u,g,e as o,j as t,f as e,F as oe,y as te,i as ne,h as l,w as ae,B as le,D as re,_ as ie}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-7160f302.js";import"./index-8426971e.js";import"./rule-a57bb2c0.js";import"./hooks-6a2b754a.js";import"./index_single.vue_vue_type_script_setup_true_lang-0cec5d8a.js";import"./index_common.vue_vue_type_script_setup_true_lang-7d992b54.js";import"./operations-67cacc8a.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const se={class:"main"},ce={class:"float-right w-[100%]"},me={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},de={class:"flex-auto"},pe={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},_e=Z({name:"User",__name:"index",setup(fe){const C=D(),h=D(),{form:d,loading:k,columns:$,dataList:w,gameDataList:V,pagination:B,buttonClass:ue,selectedNum:y,onSearch:p,resetForm:N,exportExcel:P,onbatchDel:z,onAddGame:v,onGencode:I,handleRole:ge,handleUpdate:U,handleDelete:E,handleSizeChange:F,onSelectionCancel:L,handleCurrentChange:G,handleSelectionChange:M}=K(h);return(Ce,s)=>{const T=i("el-option"),j=i("el-select"),b=i("el-form-item"),a=i("el-button"),A=i("el-form"),x=i("el-popconfirm"),q=i("el-dropdown"),H=i("pure-table"),J=ee("motion-fade");return m(),u("div",se,[g("div",ce,[o(A,{ref_key:"formRef",ref:C,inline:!0,model:e(d),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(b,{label:"选择游戏：",prop:"roles"},{default:t(()=>[o(j,{modelValue:e(d).gameId,"onUpdate:modelValue":s[0]||(s[0]=n=>e(d).gameId=n),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:t(()=>[(m(!0),u(oe,null,te(e(V),(n,_)=>(m(),ne(T,{key:_,label:n.name,value:n.id,onClick:e(p)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(b,null,{default:t(()=>[o(a,{type:"primary",icon:e(r)(e(Y)),loading:e(k),onClick:e(p)},{default:t(()=>[l(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(r)(e(O)),onClick:s[1]||(s[1]=n=>e(N)(C.value))},{default:t(()=>[l(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(Q),{title:"激活码管理",columns:e($),onRefresh:e(p)},{buttons:t(()=>[o(a,{type:"primary",icon:e(r)(e(R)),onClick:s[2]||(s[2]=n=>e(v)("新增"))},{default:t(()=>[l(" 新增激活码类型 ")]),_:1},8,["icon"]),o(a,{type:"primary",icon:e(r)(e(R)),onClick:e(P)},{default:t(()=>[l(" 导出Excel表 ")]),_:1},8,["icon","onClick"])]),default:t(({size:n,dynamicColumns:_})=>[e(y)>0?ae((m(),u("div",me,[g("div",de,[g("span",pe," 已选 "+le(e(y))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e(L)},{default:t(()=>[l(" 取消选择 ")]),_:1},8,["onClick"])]),o(x,{title:"是否确认删除?",onConfirm:e(z)},{reference:t(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[l(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[J]]):re("",!0),o(H,{"row-key":"id",ref_key:"tableRef",ref:h,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(k),size:n,data:e(w),columns:_,pagination:e(B),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(M),onPageSizeChange:e(F),onPageCurrentChange:e(G)},{operation:t(({row:c})=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(r)(e(S)),onClick:f=>e(I)(c)},{default:t(()=>[l(" 生成激活码 ")]),_:2},1032,["size","icon","onClick"]),o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(r)(e(S)),onClick:f=>e(v)("编辑",c)},{default:t(()=>[l(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(x,{title:`是否确认删除激活码名为【${c.codeName}】的这条数据`,onConfirm:f=>e(E)(c)},{reference:t(()=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(r)(e(X))},{default:t(()=>[l(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(q,null,{default:t(()=>[o(a,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:n,icon:e(r)(e(W)),onClick:f=>e(U)(c)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Ge=ie(_e,[["__scopeId","data-v-8da102d1"]]);export{Ge as default};

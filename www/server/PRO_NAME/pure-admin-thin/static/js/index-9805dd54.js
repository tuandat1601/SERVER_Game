import{useUser as q}from"./hook-df3a96b3.js";import{R as H,P as J}from"./refresh-5041d416.js";import{u as s}from"./hooks-20c90638.js";import{M as K}from"./more-filled-c44d3178.js";import{D as O}from"./delete-6d738bc7.js";import{d as Q}from"./edit-pen-37b5ced2.js";import{d as W}from"./search-cc37b371.js";import{d as X}from"./add-circle-line-a03ff6bd.js";import{d as Y,k as S,r as l,b as Z,o as m,c as _,g as f,e as o,j as t,f as e,F as ee,y as oe,i as te,h as r,w as ne,B as ae,D as le,_ as re}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-40018d38.js";import"./index-8426971e.js";import"./hooks-142968e5.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const ie={class:"main"},se={class:"float-right w-[100%]"},ce={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},me={class:"flex-auto"},de={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},pe=Y({name:"gameChannelList",__name:"index",setup(_e){const u=S(),g=S(),{form:d,loading:C,columns:R,dataList:D,pagination:w,buttonClass:fe,selectedNum:h,gameDataList:$,onSearch:y,resetForm:V,onbatchDel:B,onChannelSearch:P,onAddGame:k,handleRole:ue,handleUpdate:z,handleDelete:N,handleSizeChange:I,onSelectionCancel:L,handleCurrentChange:F,handleSelectionChange:U}=q(g);return(ge,i)=>{const M=l("el-option"),T=l("el-select"),v=l("el-form-item"),a=l("el-button"),j=l("el-form"),b=l("el-popconfirm"),A=l("el-dropdown"),E=l("pure-table"),G=Z("motion-fade");return m(),_("div",ie,[f("div",se,[o(j,{ref_key:"formRef",ref:u,inline:!0,model:e(d),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(v,{label:"选择游戏：",prop:"roles"},{default:t(()=>[o(T,{modelValue:e(d).gameId,"onUpdate:modelValue":i[0]||(i[0]=n=>e(d).gameId=n),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:t(()=>[(m(!0),_(ee,null,oe(e($),(n,p)=>(m(),te(M,{key:p,label:n.name,value:n.id,onClick:e(P)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(v,null,{default:t(()=>[o(a,{type:"primary",icon:e(s)(e(W)),loading:e(C),onClick:e(y)},{default:t(()=>[r(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(s)(e(H)),onClick:i[1]||(i[1]=n=>e(V)(u.value))},{default:t(()=>[r(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(J),{title:"游戏渠道管理",columns:e(R),onRefresh:e(y)},{buttons:t(()=>[o(a,{type:"primary",icon:e(s)(e(X)),onClick:i[2]||(i[2]=n=>e(k)("新增"))},{default:t(()=>[r(" 新增渠道 ")]),_:1},8,["icon"])]),default:t(({size:n,dynamicColumns:p})=>[e(h)>0?ne((m(),_("div",ce,[f("div",me,[f("span",de," 已选 "+ae(e(h))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e(L)},{default:t(()=>[r(" 取消选择 ")]),_:1},8,["onClick"])]),o(b,{title:"是否确认删除?",onConfirm:e(B)},{reference:t(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[r(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[G]]):le("",!0),o(E,{"row-key":"id",ref_key:"tableRef",ref:g,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(C),size:n,data:e(D),columns:p,pagination:e(w),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(U),onPageSizeChange:e(I),onPageCurrentChange:e(F)},{operation:t(({row:c})=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(s)(e(Q)),onClick:x=>e(k)("编辑",c)},{default:t(()=>[r(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(b,{title:`是否确认删除通告名为【${c.name}】的这条数据`,onConfirm:x=>e(N)(c)},{reference:t(()=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(s)(e(O))},{default:t(()=>[r(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(A,null,{default:t(()=>[o(a,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:n,icon:e(s)(e(K)),onClick:x=>e(z)(c)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Ne=re(pe,[["__scopeId","data-v-207e1a9d"]]);export{Ne as default};

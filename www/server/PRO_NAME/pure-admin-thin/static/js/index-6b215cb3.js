import{useUser as W}from"./hook-0a96928a.js";import{R as X,P as Y}from"./refresh-5041d416.js";import{u as s}from"./hooks-20c90638.js";import{M as Z}from"./more-filled-c44d3178.js";import{D as ee}from"./delete-6d738bc7.js";import{d as oe}from"./edit-pen-37b5ced2.js";import{d as le}from"./search-cc37b371.js";import{d as R}from"./add-circle-line-a03ff6bd.js";import{d as te,k as V,r,b as ne,o as c,c as u,g,e as o,j as l,f as e,F as w,y as $,i as I,h as i,w as ae,B as re,D as ie,_ as se}from"./index-bd88d923.js";import"./index.vue_vue_type_script_setup_true_lang-c99aaf27.js";import"./index-8426971e.js";import"./hooks-6a2b754a.js";import"./operations-67cacc8a.js";import"./game-c13a10d3.js";import"./index.esm-cdf23848.js";import"./xlsx-f5126985.js";import"./epTheme-4e4796bf.js";import"./sortable.esm-e674cde8.js";const ce={class:"main"},de={class:"float-right w-[100%]"},me={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},pe={class:"flex-auto"},ue={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},_e=te({name:"User",__name:"index",setup(fe){const C=V(),v=V(),{form:d,loading:h,columns:B,dataList:P,gameDataList:z,sverDataList:N,pagination:U,buttonClass:ge,selectedNum:k,onSearch:_,resetForm:L,exportExcel:E,onbatchDel:F,onAddGame:y,handleRole:Ce,handleUpdate:G,handleDelete:M,handleSizeChange:T,onSelectionCancel:j,onSelectionGame:A,handleCurrentChange:q,handleSelectionChange:H}=W(v);return(ve,a)=>{const b=r("el-option"),x=r("el-select"),f=r("el-form-item"),n=r("el-button"),J=r("el-form"),S=r("el-popconfirm"),K=r("el-dropdown"),O=r("pure-table"),Q=ne("motion-fade");return c(),u("div",ce,[g("div",de,[o(J,{ref_key:"formRef",ref:C,inline:!0,model:e(d),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:l(()=>[o(f,{label:"选择游戏：",prop:"gameId"},{default:l(()=>[o(x,{modelValue:e(d).gameId,"onUpdate:modelValue":a[0]||(a[0]=t=>e(d).gameId=t),placeholder:"请选择游戏：",class:"w-full",clearable:""},{default:l(()=>[(c(!0),u(w,null,$(e(z),(t,m)=>(c(),I(b,{key:m,label:t.name,value:t.id,onClick:p=>e(A)(t.id)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(f,{label:"选择游戏服：",prop:"serverId"},{default:l(()=>[o(x,{modelValue:e(d).serverid,"onUpdate:modelValue":a[1]||(a[1]=t=>e(d).serverid=t),placeholder:"请选择游戏服：",class:"w-full",clearable:""},{default:l(()=>[(c(!0),u(w,null,$(e(N),(t,m)=>(c(),I(b,{key:m,label:t.serverId,value:t.serverId,onClick:e(_)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(f,null,{default:l(()=>[o(n,{type:"primary",icon:e(s)(e(le)),loading:e(h),onClick:e(_)},{default:l(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(n,{icon:e(s)(e(X)),onClick:a[2]||(a[2]=t=>e(L)(C.value))},{default:l(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(Y),{title:"激活码邮件管理",columns:e(B),onRefresh:e(_)},{buttons:l(()=>[o(n,{type:"primary",icon:e(s)(e(R)),onClick:a[3]||(a[3]=t=>e(y)("新增"))},{default:l(()=>[i(" 新增激活码邮件 ")]),_:1},8,["icon"]),o(n,{type:"primary",icon:e(s)(e(R)),onClick:e(E)},{default:l(()=>[i(" 导出Excel表 ")]),_:1},8,["icon","onClick"])]),default:l(({size:t,dynamicColumns:m})=>[e(k)>0?ae((c(),u("div",me,[g("div",pe,[g("span",ue," 已选 "+re(e(k))+" 项 ",1),o(n,{type:"primary",text:"",onClick:e(j)},{default:l(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(S,{title:"是否确认删除?",onConfirm:e(F)},{reference:l(()=>[o(n,{type:"danger",text:"",class:"mr-1"},{default:l(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[Q]]):ie("",!0),o(O,{"row-key":"id",ref_key:"tableRef",ref:v,adaptive:"","align-whole":"center","table-layout":"auto",loading:e(h),size:t,data:e(P),columns:m,pagination:e(U),paginationSmall:t==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(H),onPageSizeChange:e(T),onPageCurrentChange:e(q)},{operation:l(({row:p})=>[o(n,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(s)(e(oe)),onClick:D=>e(y)("编辑",p)},{default:l(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(S,{title:`是否确认删除激活码id为【${p.id}】的这条数据`,onConfirm:D=>e(M)(p)},{reference:l(()=>[o(n,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(s)(e(ee))},{default:l(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(K,null,{default:l(()=>[o(n,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:t,icon:e(s)(e(Z)),onClick:D=>e(G)(p)},null,8,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}});const Ee=se(_e,[["__scopeId","data-v-97cae5a6"]]);export{Ee as default};
